(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var $m={exports:{}},Xl={};var CT;function uC(){if(CT)return Xl;CT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Xl.Fragment=e,Xl.jsx=i,Xl.jsxs=i,Xl}var NT;function hC(){return NT||(NT=1,$m.exports=uC()),$m.exports}var d=hC(),Zm={exports:{}},Ie={};var jT;function dC(){if(jT)return Ie;jT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=S&&z[S]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function O(z,ie,L){this.props=z,this.context=ie,this.refs=k,this.updater=L||I}O.prototype.isReactComponent={},O.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function G(){}G.prototype=O.prototype;function F(z,ie,L){this.props=z,this.context=ie,this.refs=k,this.updater=L||I}var de=F.prototype=new G;de.constructor=F,U(de,O.prototype),de.isPureReactComponent=!0;var ee=Array.isArray;function ne(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(z,ie,L){var le=L.ref;return{$$typeof:t,type:z,key:ie,ref:le!==void 0?le:null,props:L}}function M(z,ie){return N(z.type,ie,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function B(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(L){return ie[L]})}var V=/\/+/g;function Pe(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ie.toString(36)}function ge(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ne,ne):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,ie,L,le,ue){var fe=typeof z;(fe==="undefined"||fe==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(fe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case t:case e:Re=!0;break;case v:return Re=z._init,Z(Re(z._payload),ie,L,le,ue)}}if(Re)return ue=ue(z),Re=le===""?"."+Pe(z,0):le,ee(ue)?(L="",Re!=null&&(L=Re.replace(V,"$&/")+"/"),Z(ue,ie,L,"",function(jt){return jt})):ue!=null&&(D(ue)&&(ue=M(ue,L+(ue.key==null||z&&z.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+Re)),ie.push(ue)),1;Re=0;var De=le===""?".":le+":";if(ee(z))for(var Le=0;Le<z.length;Le++)le=z[Le],fe=De+Pe(le,Le),Re+=Z(le,ie,L,fe,ue);else if(Le=w(z),typeof Le=="function")for(z=Le.call(z),Le=0;!(le=z.next()).done;)le=le.value,fe=De+Pe(le,Le++),Re+=Z(le,ie,L,fe,ue);else if(fe==="object"){if(typeof z.then=="function")return Z(ge(z),ie,L,le,ue);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Re}function he(z,ie,L){if(z==null)return z;var le=[],ue=0;return Z(z,le,"","",function(fe){return ie.call(L,fe,ue++)}),le}function ye(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(L){(z._status===0||z._status===-1)&&(z._status=1,z._result=L)},function(L){(z._status===0||z._status===-1)&&(z._status=2,z._result=L)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var be=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ce={map:he,forEach:function(z,ie,L){he(z,function(){ie.apply(this,arguments)},L)},count:function(z){var ie=0;return he(z,function(){ie++}),ie},toArray:function(z){return he(z,function(ie){return ie})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ie.Activity=T,Ie.Children=Ce,Ie.Component=O,Ie.Fragment=i,Ie.Profiler=o,Ie.PureComponent=F,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Ie.cache=function(z){return function(){return z.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(z,ie,L){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=U({},z.props),ue=z.key;if(ie!=null)for(fe in ie.key!==void 0&&(ue=""+ie.key),ie)!A.call(ie,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ie.ref===void 0||(le[fe]=ie[fe]);var fe=arguments.length-2;if(fe===1)le.children=L;else if(1<fe){for(var Re=Array(fe),De=0;De<fe;De++)Re[De]=arguments[De+2];le.children=Re}return N(z.type,ue,le)},Ie.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},Ie.createElement=function(z,ie,L){var le,ue={},fe=null;if(ie!=null)for(le in ie.key!==void 0&&(fe=""+ie.key),ie)A.call(ie,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=ie[le]);var Re=arguments.length-2;if(Re===1)ue.children=L;else if(1<Re){for(var De=Array(Re),Le=0;Le<Re;Le++)De[Le]=arguments[Le+2];ue.children=De}if(z&&z.defaultProps)for(le in Re=z.defaultProps,Re)ue[le]===void 0&&(ue[le]=Re[le]);return N(z,fe,ue)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(z){return{$$typeof:m,render:z}},Ie.isValidElement=D,Ie.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ye}},Ie.memo=function(z,ie){return{$$typeof:y,type:z,compare:ie===void 0?null:ie}},Ie.startTransition=function(z){var ie=C.T,L={};C.T=L;try{var le=z(),ue=C.S;ue!==null&&ue(L,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ne,be)}catch(fe){be(fe)}finally{ie!==null&&L.types!==null&&(ie.types=L.types),C.T=ie}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(z){return C.H.use(z)},Ie.useActionState=function(z,ie,L){return C.H.useActionState(z,ie,L)},Ie.useCallback=function(z,ie){return C.H.useCallback(z,ie)},Ie.useContext=function(z){return C.H.useContext(z)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(z,ie){return C.H.useDeferredValue(z,ie)},Ie.useEffect=function(z,ie){return C.H.useEffect(z,ie)},Ie.useEffectEvent=function(z){return C.H.useEffectEvent(z)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(z,ie,L){return C.H.useImperativeHandle(z,ie,L)},Ie.useInsertionEffect=function(z,ie){return C.H.useInsertionEffect(z,ie)},Ie.useLayoutEffect=function(z,ie){return C.H.useLayoutEffect(z,ie)},Ie.useMemo=function(z,ie){return C.H.useMemo(z,ie)},Ie.useOptimistic=function(z,ie){return C.H.useOptimistic(z,ie)},Ie.useReducer=function(z,ie,L){return C.H.useReducer(z,ie,L)},Ie.useRef=function(z){return C.H.useRef(z)},Ie.useState=function(z){return C.H.useState(z)},Ie.useSyncExternalStore=function(z,ie,L){return C.H.useSyncExternalStore(z,ie,L)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.0",Ie}var DT;function Cg(){return DT||(DT=1,Zm.exports=dC()),Zm.exports}var j=Cg(),Wm={exports:{}},$l={},Jm={exports:{}},ep={};var VT;function fC(){return VT||(VT=1,(function(t){function e(Z,he){var ye=Z.length;Z.push(he);e:for(;0<ye;){var be=ye-1>>>1,Ce=Z[be];if(0<o(Ce,he))Z[be]=he,Z[ye]=Ce,ye=be;else break e}}function i(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var he=Z[0],ye=Z.pop();if(ye!==he){Z[0]=ye;e:for(var be=0,Ce=Z.length,z=Ce>>>1;be<z;){var ie=2*(be+1)-1,L=Z[ie],le=ie+1,ue=Z[le];if(0>o(L,ye))le<Ce&&0>o(ue,L)?(Z[be]=ue,Z[le]=ye,be=le):(Z[be]=L,Z[ie]=ye,be=ie);else if(le<Ce&&0>o(ue,ye))Z[be]=ue,Z[le]=ye,be=le;else break e}}return he}function o(Z,he){var ye=Z.sortIndex-he.sortIndex;return ye!==0?ye:Z.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var g=[],y=[],v=1,T=null,S=3,w=!1,I=!1,U=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function de(Z){for(var he=i(y);he!==null;){if(he.callback===null)r(y);else if(he.startTime<=Z)r(y),he.sortIndex=he.expirationTime,e(g,he);else break;he=i(y)}}function ee(Z){if(U=!1,de(Z),!I)if(i(g)!==null)I=!0,ne||(ne=!0,B());else{var he=i(y);he!==null&&ge(ee,he.startTime-Z)}}var ne=!1,C=-1,A=5,N=-1;function M(){return k?!0:!(t.unstable_now()-N<A)}function D(){if(k=!1,ne){var Z=t.unstable_now();N=Z;var he=!0;try{e:{I=!1,U&&(U=!1,G(C),C=-1),w=!0;var ye=S;try{t:{for(de(Z),T=i(g);T!==null&&!(T.expirationTime>Z&&M());){var be=T.callback;if(typeof be=="function"){T.callback=null,S=T.priorityLevel;var Ce=be(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof Ce=="function"){T.callback=Ce,de(Z),he=!0;break t}T===i(g)&&r(g),de(Z)}else r(g);T=i(g)}if(T!==null)he=!0;else{var z=i(y);z!==null&&ge(ee,z.startTime-Z),he=!1}}break e}finally{T=null,S=ye,w=!1}he=void 0}}finally{he?B():ne=!1}}}var B;if(typeof F=="function")B=function(){F(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Pe=V.port2;V.port1.onmessage=D,B=function(){Pe.postMessage(null)}}else B=function(){O(D,0)};function ge(Z,he){C=O(function(){Z(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ye=S;S=he;try{return Z()}finally{S=ye}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ye=S;S=Z;try{return he()}finally{S=ye}},t.unstable_scheduleCallback=function(Z,he,ye){var be=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?be+ye:be):ye=be,Z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ye+Ce,Z={id:v++,callback:he,priorityLevel:Z,startTime:ye,expirationTime:Ce,sortIndex:-1},ye>be?(Z.sortIndex=ye,e(y,Z),i(g)===null&&Z===i(y)&&(U?(G(C),C=-1):U=!0,ge(ee,ye-be))):(Z.sortIndex=Ce,e(g,Z),I||w||(I=!0,ne||(ne=!0,B()))),Z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Z){var he=S;return function(){var ye=S;S=he;try{return Z.apply(this,arguments)}finally{S=ye}}}})(ep)),ep}var IT;function mC(){return IT||(IT=1,Jm.exports=fC()),Jm.exports}var tp={exports:{}},hn={};var MT;function pC(){if(MT)return hn;MT=1;var t=Cg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,v)},hn.flushSync=function(g){var y=u.T,v=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=y,r.p=v,r.d.f()}},hn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},hn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},hn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:w}):v==="script"&&r.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},hn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin);r.d.L(g,v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},hn.requestFormReset=function(g){r.d.r(g)},hn.unstable_batchedUpdates=function(g,y){return g(y)},hn.useFormState=function(g,y,v){return u.H.useFormState(g,y,v)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var PT;function gC(){if(PT)return tp.exports;PT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tp.exports=pC(),tp.exports}var kT;function yC(){if(kT)return $l;kT=1;var t=mC(),e=Cg(),i=gC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(c(n)!==n)throw Error(r(188))}function y(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return g(f),n;if(p===l)return g(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=p;break}if(b===l){E=!0,l=f,a=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===a){E=!0,a=p,l=f;break}if(b===l){E=!0,l=p,a=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),F=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var V=Symbol.for("react.client.reference");function Pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===V?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case ee:return"Suspense";case ne:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case F:return n.displayName||"Context";case G:return(n._context.displayName||"Context")+".Consumer";case de:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:Pe(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return Pe(n(s))}catch{}}return null}var ge=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},be=[],Ce=-1;function z(n){return{current:n}}function ie(n){0>Ce||(n.current=be[Ce],be[Ce]=null,Ce--)}function L(n,s){Ce++,be[Ce]=n.current,n.current=s}var le=z(null),ue=z(null),fe=z(null),Re=z(null);function De(n,s){switch(L(fe,s),L(ue,n),L(le,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Z_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Z_(s),n=W_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(le),L(le,n)}function Le(){ie(le),ie(ue),ie(fe)}function jt(n){n.memoizedState!==null&&L(Re,n);var s=le.current,a=W_(s,n.type);s!==a&&(L(ue,n),L(le,a))}function Yt(n){ue.current===n&&(ie(le),ie(ue)),Re.current===n&&(ie(Re),Gl._currentValue=ye)}var un,gn;function yn(n){if(un===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);un=s&&s[1]||"",gn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+n+gn}var wi=!1;function Ri(n,s){if(!n||wi)return"";wi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var $=J}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(J){$=J}n.call(oe.prototype)}}else{try{throw Error()}catch(J){$=J}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var P=E.split(`
`),Q=b.split(`
`);for(f=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(l===P.length||f===Q.length)for(l=P.length-1,f=Q.length-1;1<=l&&0<=f&&P[l]!==Q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(P[l]!==Q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||P[l]!==Q[f]){var te=`
`+P[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=f);break}}}finally{wi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?yn(a):""}function kr(n,s){switch(n.tag){case 26:case 27:case 5:return yn(n.type);case 16:return yn("Lazy");case 13:return n.child!==s&&s!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return Ri(n.type,!1);case 11:return Ri(n.type.render,!1);case 1:return Ri(n.type,!0);case 31:return yn("Activity");default:return""}}function Or(n){try{var s="",a=null;do s+=kr(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,Ci=t.unstable_cancelCallback,X=t.unstable_shouldYield,ae=t.unstable_requestPaint,pe=t.unstable_now,_e=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,Na=t.unstable_UserBlockingPriority,us=t.unstable_NormalPriority,Ni=t.unstable_LowPriority,ja=t.unstable_IdlePriority,Lr=t.log,qn=t.unstable_setDisableYieldValue,ci=null,Jt=null;function Fn(n){if(typeof Lr=="function"&&qn(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ci,n)}catch{}}var At=Math.clz32?Math.clz32:Yc,Kc=Math.log,Da=Math.LN2;function Yc(n){return n>>>=0,n===0?32:31-(Kc(n)/Da|0)|0}var ji=256,Ur=262144,Vt=4194304;function Di(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=Di(l):(E&=b,E!==0?f=Di(E):a||(a=b&~n,a!==0&&(f=Di(a))))):(b=l&~p,b!==0?f=Di(b):E!==0?f=Di(E):a||(a=l&~n,a!==0&&(f=Di(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function ui(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Jd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var n=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),n}function Ii(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function zr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ef(n,s,a,l,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,P=n.expirationTimes,Q=n.hiddenUpdates;for(a=E&~a;0<a;){var te=31-At(a),oe=1<<te;b[te]=0,P[te]=-1;var $=Q[te];if($!==null)for(Q[te]=null,te=0;te<$.length;te++){var J=$[te];J!==null&&(J.lane&=-536870913)}a&=~oe}l!==0&&Br(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Br(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-At(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function $o(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-At(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Zo(n,s){var a=s&-s;return a=(a&42)!==0?1:qr(a),(a&(n.suspendedLanes|s))!==0?0:a}function qr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function hs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xc(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:ET(n.type))}function hi(n,s){var a=he.p;try{return he.p=n,s()}finally{he.p=a}}var di=Math.random().toString(36).slice(2),It="__reactFiber$"+di,Qt="__reactProps$"+di,Mi="__reactContainer$"+di,Va="__reactEvents$"+di,tf="__reactListeners$"+di,$c="__reactHandles$"+di,Zc="__reactResources$"+di,Pi="__reactMarker$"+di;function Ia(n){delete n[It],delete n[Qt],delete n[Va],delete n[tf],delete n[$c]}function ki(n){var s=n[It];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Mi]||a[It]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=rT(n);n!==null;){if(a=n[It])return a;n=rT(n)}return s}n=a,a=n.parentNode}return null}function Hn(n){if(n=n[It]||n[Mi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Vn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Oi(n){var s=n[Zc];return s||(s=n[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(n){n[Pi]=!0}var Wo=new Set,Jo={};function Li(n,s){Ui(n,s),Ui(n+"Capture",s)}function Ui(n,s){for(Jo[n]=s,n=0;n<s.length;n++)Wo.add(s[n])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function Wc(n){return _t.call(nl,n)?!0:_t.call(tl,n)?!1:el.test(n)?nl[n]=!0:(tl[n]=!0,!1)}function Ma(n,s,a){if(Wc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function In(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Pt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function Xt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function il(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function et(n){if(!n._valueTracker){var s=Bs(n)?"checked":"value";n._valueTracker=il(n,s,""+n[s])}}function Fr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Bs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function zi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hr=/[\n"\\]/g;function xn(n){return n.replace(Hr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Pa(n,s,a,l,f,p,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Xt(s)):n.value!==""+Xt(s)&&(n.value=""+Xt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?sl(n,E,Xt(s)):a!=null?sl(n,E,Xt(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Xt(b):n.removeAttribute("name")}function Jc(n,s,a,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){et(n);return}a=a!=null?""+Xt(a):"",s=s!=null?""+Xt(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),et(n)}function sl(n,s,a){s==="number"&&zi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qs(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Xt(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function eu(n,s,a){if(s!=null&&(s=""+Xt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Xt(a):""}function Fs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ge(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Xt(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),et(n)}function Sn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||tu.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function al(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&rl(n,f,l)}else for(var p in s)s.hasOwnProperty(p)&&rl(n,p,s[p])}function ka(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(n){return Hs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function fi(){}var ol=null;function Gn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gs=null,Bi=null;function Gr(n){var s=Hn(n);if(s&&(n=s.stateNode)){var a=n[Qt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Pa(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Qt]||null;if(!f)throw Error(r(90));Pa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Fr(l)}break e;case"textarea":eu(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&qs(n,!!a.multiple,s,!1)}}}var La=!1;function Ks(n,s,a){if(La)return n(s,a);La=!0;try{var l=n(s);return l}finally{if(La=!1,(Gs!==null||Bi!==null)&&(Xu(),Gs&&(s=Gs,n=Bi,Bi=Gs=null,Gr(s),n)))for(s=0;s<n.length;s++)Gr(n[s])}}function mi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(Kn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Kr=!1}var qi=null,ll=null,Yr=null;function cl(){if(Yr)return Yr;var n,s=ll,a=s.length,l,f="value"in qi?qi.value:qi.textContent,p=f.length;for(n=0;n<a&&s[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===f[p-l];l++);return Yr=f.slice(n,1<l?1-l:void 0)}function Qr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ds(){return!0}function pi(){return!1}function en(n){function s(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ds:pi,this.isPropagationStopped=pi,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=en(fs),Ys=T({},fs,{view:0,detail:0}),ul=en(Ys),Qs,Ua,Hi,za=T({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hi&&(Hi&&n.type==="mousemove"?(Qs=n.screenX-Hi.screenX,Ua=n.screenY-Hi.screenY):Ua=Qs=0,Hi=n),Qs)},movementY:function(n){return"movementY"in n?n.movementY:Ua}}),hl=en(za),Xr=T({},za,{dataTransfer:0}),iu=en(Xr),su=T({},Ys,{relatedTarget:0}),$r=en(su),dl=T({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=en(dl),Ba=T({},fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),au=en(Ba),ou=T({},fs,{data:0}),Gi=en(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=uu[n])?!!s[n]:!1}function Xs(){return hu}var vn=T({},Ys,{key:function(n){if(n.key){var s=lu[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Qr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(n){return n.type==="keypress"?Qr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),du=en(vn),fu=T({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=en(fu),h=T({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),_=en(h),x=T({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=en(x),K=T({},za,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=en(K),me=T({},fs,{newState:0,oldState:0}),ke=en(me),wt=[9,13,27,32],Ze=Kn&&"CompositionEvent"in window,mt=null;Kn&&"documentMode"in document&&(mt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!mt,Ki=Kn&&(!Ze||mt&&8<mt&&11>=mt),gi=" ",yi=!1;function Zr(n,s){switch(n){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fa=!1;function Mw(n,s){switch(n){case"compositionend":return qa(s);case"keypress":return s.which!==32?null:(yi=!0,gi);case"textInput":return n=s.data,n===gi&&yi?null:n;default:return null}}function Pw(n,s){if(Fa)return n==="compositionend"||!Ze&&Zr(n,s)?(n=cl(),Yr=ll=qi=null,Fa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lv(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kw[n.type]:s==="textarea"}function cv(n,s,a,l){Gs?Bi?Bi.push(l):Bi=[l]:Gs=l,s=nh(s,"onChange"),0<s.length&&(a=new Fi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var fl=null,ml=null;function Ow(n){G_(n,0)}function mu(n){var s=Vn(n);if(Fr(s))return n}function uv(n,s){if(n==="change")return s}var hv=!1;if(Kn){var nf;if(Kn){var sf="oninput"in document;if(!sf){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),sf=typeof dv.oninput=="function"}nf=sf}else nf=!1;hv=nf&&(!document.documentMode||9<document.documentMode)}function fv(){fl&&(fl.detachEvent("onpropertychange",mv),ml=fl=null)}function mv(n){if(n.propertyName==="value"&&mu(ml)){var s=[];cv(s,ml,n,Gn(n)),Ks(Ow,s)}}function Lw(n,s,a){n==="focusin"?(fv(),fl=s,ml=a,fl.attachEvent("onpropertychange",mv)):n==="focusout"&&fv()}function Uw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mu(ml)}function zw(n,s){if(n==="click")return mu(s)}function Bw(n,s){if(n==="input"||n==="change")return mu(s)}function qw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mn=typeof Object.is=="function"?Object.is:qw;function pl(n,s){if(Mn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(s,f)||!Mn(n[f],s[f]))return!1}return!0}function pv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gv(n,s){var a=pv(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pv(a)}}function yv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?yv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=zi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=zi(n.document)}return s}function rf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Fw=Kn&&"documentMode"in document&&11>=document.documentMode,Ha=null,af=null,gl=null,of=!1;function _v(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||Ha==null||Ha!==zi(l)||(l=Ha,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=nh(af,"onSelect"),0<l.length&&(s=new Fi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ha)))}function Wr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ga={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},lf={},Tv={};Kn&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Jr(n){if(lf[n])return lf[n];if(!Ga[n])return n;var s=Ga[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Tv)return lf[n]=s[a];return n}var Ev=Jr("animationend"),xv=Jr("animationiteration"),Sv=Jr("animationstart"),Hw=Jr("transitionrun"),Gw=Jr("transitionstart"),Kw=Jr("transitioncancel"),bv=Jr("transitionend"),Av=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function vi(n,s){Av.set(n,s),Li(s,[n])}var pu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Qn=[],Ka=0,uf=0;function gu(){for(var n=Ka,s=uf=Ka=0;s<n;){var a=Qn[s];Qn[s++]=null;var l=Qn[s];Qn[s++]=null;var f=Qn[s];Qn[s++]=null;var p=Qn[s];if(Qn[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&wv(a,f,p)}}function yu(n,s,a,l){Qn[Ka++]=n,Qn[Ka++]=s,Qn[Ka++]=a,Qn[Ka++]=l,uf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function hf(n,s,a,l){return yu(n,s,a,l),vu(n)}function ea(n,s){return yu(n,null,null,s),vu(n)}function wv(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-At(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function vu(n){if(50<Ll)throw Ll=0,Tm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ya={};function Yw(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(n,s,a,l){return new Yw(n,s,a,l)}function df(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ps(n,s){var a=n.alternate;return a===null?(a=Pn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Rv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function _u(n,s,a,l,f,p){var E=0;if(l=n,typeof n=="function")df(n)&&(E=1);else if(typeof n=="string")E=WR(n,a,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Pn(31,a,s,f),n.elementType=N,n.lanes=p,n;case U:return ta(a.children,f,p,s);case k:E=8,f|=24;break;case O:return n=Pn(12,a,s,f|2),n.elementType=O,n.lanes=p,n;case ee:return n=Pn(13,a,s,f),n.elementType=ee,n.lanes=p,n;case ne:return n=Pn(19,a,s,f),n.elementType=ne,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:E=10;break e;case G:E=9;break e;case de:E=11;break e;case C:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Pn(E,a,s,f),s.elementType=n,s.type=l,s.lanes=p,s}function ta(n,s,a,l){return n=Pn(7,n,l,s),n.lanes=a,n}function ff(n,s,a){return n=Pn(6,n,null,s),n.lanes=a,n}function Cv(n){var s=Pn(18,null,null,0);return s.stateNode=n,s}function mf(n,s,a){return s=Pn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Nv=new WeakMap;function Xn(n,s){if(typeof n=="object"&&n!==null){var a=Nv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Or(s)},Nv.set(n,s),s)}return{value:n,source:s,stack:Or(s)}}var Qa=[],Xa=0,Tu=null,yl=0,$n=[],Zn=0,$s=null,Yi=1,Qi="";function gs(n,s){Qa[Xa++]=yl,Qa[Xa++]=Tu,Tu=n,yl=s}function jv(n,s,a){$n[Zn++]=Yi,$n[Zn++]=Qi,$n[Zn++]=$s,$s=n;var l=Yi;n=Qi;var f=32-At(l)-1;l&=~(1<<f),a+=1;var p=32-At(s)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Yi=1<<32-At(s)+f|a<<f|l,Qi=p+n}else Yi=1<<p|a<<f|l,Qi=n}function pf(n){n.return!==null&&(gs(n,1),jv(n,1,0))}function gf(n){for(;n===Tu;)Tu=Qa[--Xa],Qa[Xa]=null,yl=Qa[--Xa],Qa[Xa]=null;for(;n===$s;)$s=$n[--Zn],$n[Zn]=null,Qi=$n[--Zn],$n[Zn]=null,Yi=$n[--Zn],$n[Zn]=null}function Dv(n,s){$n[Zn++]=Yi,$n[Zn++]=Qi,$n[Zn++]=$s,Yi=s.id,Qi=s.overflow,$s=n}var tn=null,ut=null,Ke=!1,Zs=null,Wn=!1,yf=Error(r(519));function Ws(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Xn(s,n)),yf}function Vv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[It]=n,s[Qt]=l,a){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(a=0;a<zl.length;a++)Be(zl[a],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Jc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),Fs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||X_(s.textContent,a)?(l.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),l.onScroll!=null&&Be("scroll",s),l.onScrollEnd!=null&&Be("scrollend",s),l.onClick!=null&&(s.onclick=fi),s=!0):s=!1,s||Ws(n,!0)}function Iv(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function $a(n){if(n!==tn)return!1;if(!Ke)return Iv(n),Ke=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Pm(n.type,n.memoizedProps)),a=!a),a&&ut&&Ws(n),Iv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=sT(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=sT(n)}else s===27?(s=ut,dr(n.type)?(n=zm,zm=null,ut=n):ut=s):ut=tn?ei(n.stateNode.nextSibling):null;return!0}function na(){ut=tn=null,Ke=!1}function vf(){var n=Zs;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),Zs=null),n}function vl(n){Zs===null?Zs=[n]:Zs.push(n)}var _f=z(null),ia=null,ys=null;function Js(n,s,a){L(_f,s._currentValue),s._currentValue=a}function vs(n){n._currentValue=_f.current,ie(_f)}function Tf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Ef(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var P=0;P<s.length;P++)if(b.context===s[P]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),Tf(p.return,a,n),l||(E=null);break e}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Tf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Za(n,s,a,l){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;Mn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Re.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}f=f.return}n!==null&&Ef(s,n,a,l),s.flags|=262144}function Eu(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sa(n){ia=n,ys=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return Mv(ia,n)}function xu(n,s){return ia===null&&sa(n),Mv(n,s)}function Mv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ys===null){if(n===null)throw Error(r(308));ys=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ys=ys.next=s;return a}var Qw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Xw=t.unstable_scheduleCallback,$w=t.unstable_NormalPriority,kt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new Qw,data:new Map,refCount:0}}function _l(n){n.refCount--,n.refCount===0&&Xw($w,function(){n.controller.abort()})}var Tl=null,Sf=0,Wa=0,Ja=null;function Zw(n,s){if(Tl===null){var a=Tl=[];Sf=0,Wa=wm(),Ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,s.then(Pv,Pv),s}function Pv(){if(--Sf===0&&Tl!==null){Ja!==null&&(Ja.status="fulfilled");var n=Tl;Tl=null,Wa=0,Ja=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Ww(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var kv=Z.S;Z.S=function(n,s){__=pe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Zw(n,s),kv!==null&&kv(n,s)};var ra=z(null);function bf(){var n=ra.current;return n!==null?n:lt.pooledCache}function Su(n,s){s===null?L(ra,ra.current):L(ra,s.pool)}function Ov(){var n=bf();return n===null?null:{parent:kt._currentValue,pool:n}}var eo=Error(r(460)),Af=Error(r(474)),bu=Error(r(542)),Au={then:function(){}};function Lv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Uv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(fi,fi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Bv(n),n;default:if(typeof s.status=="string")s.then(fi,fi);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Bv(n),n}throw oa=s,eo}}function aa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,eo):a}}var oa=null;function zv(){if(oa===null)throw Error(r(459));var n=oa;return oa=null,n}function Bv(n){if(n===eo||n===bu)throw Error(r(483))}var to=null,El=0;function wu(n){var s=El;return El+=1,to===null&&(to=[]),Uv(to,n,s)}function xl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ru(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function qv(n){function s(H,q){if(n){var Y=H.deletions;Y===null?(H.deletions=[q],H.flags|=16):Y.push(q)}}function a(H,q){if(!n)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function l(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function f(H,q){return H=ps(H,q),H.index=0,H.sibling=null,H}function p(H,q,Y){return H.index=Y,n?(Y=H.alternate,Y!==null?(Y=Y.index,Y<q?(H.flags|=67108866,q):Y):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function b(H,q,Y,se){return q===null||q.tag!==6?(q=ff(Y,H.mode,se),q.return=H,q):(q=f(q,Y),q.return=H,q)}function P(H,q,Y,se){var Ae=Y.type;return Ae===U?te(H,q,Y.props.children,se,Y.key):q!==null&&(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&aa(Ae)===q.type)?(q=f(q,Y.props),xl(q,Y),q.return=H,q):(q=_u(Y.type,Y.key,Y.props,null,H.mode,se),xl(q,Y),q.return=H,q)}function Q(H,q,Y,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=mf(Y,H.mode,se),q.return=H,q):(q=f(q,Y.children||[]),q.return=H,q)}function te(H,q,Y,se,Ae){return q===null||q.tag!==7?(q=ta(Y,H.mode,se,Ae),q.return=H,q):(q=f(q,Y),q.return=H,q)}function oe(H,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ff(""+q,H.mode,Y),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return Y=_u(q.type,q.key,q.props,null,H.mode,Y),xl(Y,q),Y.return=H,Y;case I:return q=mf(q,H.mode,Y),q.return=H,q;case A:return q=aa(q),oe(H,q,Y)}if(ge(q)||B(q))return q=ta(q,H.mode,Y,null),q.return=H,q;if(typeof q.then=="function")return oe(H,wu(q),Y);if(q.$$typeof===F)return oe(H,xu(H,q),Y);Ru(H,q)}return null}function $(H,q,Y,se){var Ae=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:b(H,q,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===Ae?P(H,q,Y,se):null;case I:return Y.key===Ae?Q(H,q,Y,se):null;case A:return Y=aa(Y),$(H,q,Y,se)}if(ge(Y)||B(Y))return Ae!==null?null:te(H,q,Y,se,null);if(typeof Y.then=="function")return $(H,q,wu(Y),se);if(Y.$$typeof===F)return $(H,q,xu(H,Y),se);Ru(H,Y)}return null}function J(H,q,Y,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(Y)||null,b(q,H,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return H=H.get(se.key===null?Y:se.key)||null,P(q,H,se,Ae);case I:return H=H.get(se.key===null?Y:se.key)||null,Q(q,H,se,Ae);case A:return se=aa(se),J(H,q,Y,se,Ae)}if(ge(se)||B(se))return H=H.get(Y)||null,te(q,H,se,Ae,null);if(typeof se.then=="function")return J(H,q,Y,wu(se),Ae);if(se.$$typeof===F)return J(H,q,Y,xu(q,se),Ae);Ru(q,se)}return null}function xe(H,q,Y,se){for(var Ae=null,Xe=null,Se=q,Ue=q=0,Fe=null;Se!==null&&Ue<Y.length;Ue++){Se.index>Ue?(Fe=Se,Se=null):Fe=Se.sibling;var $e=$(H,Se,Y[Ue],se);if($e===null){Se===null&&(Se=Fe);break}n&&Se&&$e.alternate===null&&s(H,Se),q=p($e,q,Ue),Xe===null?Ae=$e:Xe.sibling=$e,Xe=$e,Se=Fe}if(Ue===Y.length)return a(H,Se),Ke&&gs(H,Ue),Ae;if(Se===null){for(;Ue<Y.length;Ue++)Se=oe(H,Y[Ue],se),Se!==null&&(q=p(Se,q,Ue),Xe===null?Ae=Se:Xe.sibling=Se,Xe=Se);return Ke&&gs(H,Ue),Ae}for(Se=l(Se);Ue<Y.length;Ue++)Fe=J(Se,H,Ue,Y[Ue],se),Fe!==null&&(n&&Fe.alternate!==null&&Se.delete(Fe.key===null?Ue:Fe.key),q=p(Fe,q,Ue),Xe===null?Ae=Fe:Xe.sibling=Fe,Xe=Fe);return n&&Se.forEach(function(yr){return s(H,yr)}),Ke&&gs(H,Ue),Ae}function Ne(H,q,Y,se){if(Y==null)throw Error(r(151));for(var Ae=null,Xe=null,Se=q,Ue=q=0,Fe=null,$e=Y.next();Se!==null&&!$e.done;Ue++,$e=Y.next()){Se.index>Ue?(Fe=Se,Se=null):Fe=Se.sibling;var yr=$(H,Se,$e.value,se);if(yr===null){Se===null&&(Se=Fe);break}n&&Se&&yr.alternate===null&&s(H,Se),q=p(yr,q,Ue),Xe===null?Ae=yr:Xe.sibling=yr,Xe=yr,Se=Fe}if($e.done)return a(H,Se),Ke&&gs(H,Ue),Ae;if(Se===null){for(;!$e.done;Ue++,$e=Y.next())$e=oe(H,$e.value,se),$e!==null&&(q=p($e,q,Ue),Xe===null?Ae=$e:Xe.sibling=$e,Xe=$e);return Ke&&gs(H,Ue),Ae}for(Se=l(Se);!$e.done;Ue++,$e=Y.next())$e=J(Se,H,Ue,$e.value,se),$e!==null&&(n&&$e.alternate!==null&&Se.delete($e.key===null?Ue:$e.key),q=p($e,q,Ue),Xe===null?Ae=$e:Xe.sibling=$e,Xe=$e);return n&&Se.forEach(function(cC){return s(H,cC)}),Ke&&gs(H,Ue),Ae}function at(H,q,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===U&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var Ae=Y.key;q!==null;){if(q.key===Ae){if(Ae=Y.type,Ae===U){if(q.tag===7){a(H,q.sibling),se=f(q,Y.props.children),se.return=H,H=se;break e}}else if(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&aa(Ae)===q.type){a(H,q.sibling),se=f(q,Y.props),xl(se,Y),se.return=H,H=se;break e}a(H,q);break}else s(H,q);q=q.sibling}Y.type===U?(se=ta(Y.props.children,H.mode,se,Y.key),se.return=H,H=se):(se=_u(Y.type,Y.key,Y.props,null,H.mode,se),xl(se,Y),se.return=H,H=se)}return E(H);case I:e:{for(Ae=Y.key;q!==null;){if(q.key===Ae)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){a(H,q.sibling),se=f(q,Y.children||[]),se.return=H,H=se;break e}else{a(H,q);break}else s(H,q);q=q.sibling}se=mf(Y,H.mode,se),se.return=H,H=se}return E(H);case A:return Y=aa(Y),at(H,q,Y,se)}if(ge(Y))return xe(H,q,Y,se);if(B(Y)){if(Ae=B(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),Ne(H,q,Y,se)}if(typeof Y.then=="function")return at(H,q,wu(Y),se);if(Y.$$typeof===F)return at(H,q,xu(H,Y),se);Ru(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(a(H,q.sibling),se=f(q,Y),se.return=H,H=se):(a(H,q),se=ff(Y,H.mode,se),se.return=H,H=se),E(H)):a(H,q)}return function(H,q,Y,se){try{El=0;var Ae=at(H,q,Y,se);return to=null,Ae}catch(Se){if(Se===eo||Se===bu)throw Se;var Xe=Pn(29,Se,null,H.mode);return Xe.lanes=se,Xe.return=H,Xe}finally{}}}var la=qv(!0),Fv=qv(!1),er=!1;function wf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function tr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function nr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=vu(n),wv(n,null,a),s}return yu(n,l,s,a),vu(n)}function Sl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,$o(n,a)}}function Cf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Nf=!1;function bl(){if(Nf){var n=Ja;if(n!==null)throw n}}function Al(n,s,a,l){Nf=!1;var f=n.updateQueue;er=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var P=b,Q=P.next;P.next=null,E===null?p=Q:E.next=Q,E=P;var te=n.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==E&&(b===null?te.firstBaseUpdate=Q:b.next=Q,te.lastBaseUpdate=P))}if(p!==null){var oe=f.baseState;E=0,te=Q=P=null,b=p;do{var $=b.lane&-536870913,J=$!==b.lane;if(J?(qe&$)===$:(l&$)===$){$!==0&&$===Wa&&(Nf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=n,Ne=b;$=s;var at=a;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){oe=xe.call(at,oe,$);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,$=typeof xe=="function"?xe.call(at,oe,$):xe,$==null)break e;oe=T({},oe,$);break e;case 2:er=!0}}$=b.callback,$!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[$]:J.push($))}else J={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(Q=te=J,P=oe):te=te.next=J,E|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);te===null&&(P=oe),f.baseState=P,f.firstBaseUpdate=Q,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),or|=E,n.lanes=E,n.memoizedState=oe}}function Hv(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Gv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Hv(a[n],s)}var no=z(null),Cu=z(0);function Kv(n,s){n=Rs,L(Cu,n),L(no,s),Rs=n|s.baseLanes}function jf(){L(Cu,Rs),L(no,no.current)}function Df(){Rs=Cu.current,ie(no),ie(Cu)}var kn=z(null),Jn=null;function ir(n){var s=n.alternate;L(Rt,Rt.current&1),L(kn,n),Jn===null&&(s===null||no.current!==null||s.memoizedState!==null)&&(Jn=n)}function Vf(n){L(Rt,Rt.current),L(kn,n),Jn===null&&(Jn=n)}function Yv(n){n.tag===22?(L(Rt,Rt.current),L(kn,n),Jn===null&&(Jn=n)):sr()}function sr(){L(Rt,Rt.current),L(kn,kn.current)}function On(n){ie(kn),Jn===n&&(Jn=null),ie(Rt)}var Rt=z(0);function Nu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lm(a)||Um(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _s=0,Oe=null,st=null,Ot=null,ju=!1,io=!1,ca=!1,Du=0,wl=0,so=null,Jw=0;function Tt(){throw Error(r(321))}function If(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Mn(n[a],s[a]))return!1;return!0}function Mf(n,s,a,l,f,p){return _s=p,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=n===null||n.memoizedState===null?j0:Xf,ca=!1,p=a(l,f),ca=!1,io&&(p=Xv(s,a,l,f)),Qv(n),p}function Qv(n){Z.H=Nl;var s=st!==null&&st.next!==null;if(_s=0,Ot=st=Oe=null,ju=!1,wl=0,so=null,s)throw Error(r(300));n===null||Lt||(n=n.dependencies,n!==null&&Eu(n)&&(Lt=!0))}function Xv(n,s,a,l){Oe=n;var f=0;do{if(io&&(so=null),wl=0,io=!1,25<=f)throw Error(r(301));if(f+=1,Ot=st=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=D0,p=s(a,l)}while(io);return p}function eR(){var n=Z.H,s=n.useState()[0];return s=typeof s.then=="function"?Rl(s):s,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Oe.flags|=1024),s}function Pf(){var n=Du!==0;return Du=0,n}function kf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Of(n){if(ju){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ju=!1}_s=0,Ot=st=Oe=null,io=!1,wl=Du=0,so=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Oe.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Ct(){if(st===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var s=Ot===null?Oe.memoizedState:Ot.next;if(s!==null)Ot=s,st=n;else{if(n===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ot===null?Oe.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(n){var s=wl;return wl+=1,so===null&&(so=[]),n=Uv(so,n,s),s=Oe,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?j0:Xf),n}function Iu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Rl(n);if(n.$$typeof===F)return nn(n)}throw Error(r(438,String(n)))}function Lf(n){var s=null,a=Oe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vu(),Oe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=M;return s.index++,a}function Ts(n,s){return typeof s=="function"?s(n):s}function Mu(n){var s=Ct();return Uf(s,st,n)}function Uf(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var b=E=null,P=null,Q=s,te=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(qe&oe)===oe:(_s&oe)===oe){var $=Q.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===Wa&&(te=!0);else if((_s&$)===$){Q=Q.next,$===Wa&&(te=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(b=P=oe,E=p):P=P.next=oe,Oe.lanes|=$,or|=$;oe=Q.action,ca&&a(p,oe),p=Q.hasEagerState?Q.eagerState:a(p,oe)}else $={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(b=P=$,E=p):P=P.next=$,Oe.lanes|=oe,or|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(P===null?E=p:P.next=b,!Mn(p,n.memoizedState)&&(Lt=!0,te&&(a=Ja,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=P,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function zf(n){var s=Ct(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Mn(p,s.memoizedState)||(Lt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function $v(n,s,a){var l=Oe,f=Ct(),p=Ke;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Mn((st||f).memoizedState,a);if(E&&(f.memoizedState=a,Lt=!0),f=f.queue,Ff(Jv.bind(null,l,f,n),[n]),f.getSnapshot!==s||E||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},Wv.bind(null,l,f,a,s),null),lt===null)throw Error(r(349));p||(_s&127)!==0||Zv(l,s,a)}return a}function Zv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Oe.updateQueue,s===null?(s=Vu(),Oe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Wv(n,s,a,l){s.value=a,s.getSnapshot=l,e0(s)&&t0(n)}function Jv(n,s,a){return a(function(){e0(s)&&t0(n)})}function e0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Mn(n,a)}catch{return!0}}function t0(n){var s=ea(n,2);s!==null&&Cn(s,n,2)}function Bf(n){var s=_n();if(typeof n=="function"){var a=n;if(n=a(),ca){Fn(!0);try{a()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:n},s}function n0(n,s,a,l){return n.baseState=a,Uf(n,st,typeof l=="function"?l:Ts)}function tR(n,s,a,l,f){if(Ou(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Z.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,i0(s,p)):(p.next=a.next,s.pending=a.next=p)}}function i0(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var p=Z.T,E={};Z.T=E;try{var b=a(f,l),P=Z.S;P!==null&&P(E,b),s0(n,s,b)}catch(Q){qf(n,s,Q)}finally{p!==null&&E.types!==null&&(p.types=E.types),Z.T=p}}else try{p=a(f,l),s0(n,s,p)}catch(Q){qf(n,s,Q)}}function s0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){r0(n,s,l)},function(l){return qf(n,s,l)}):r0(n,s,a)}function r0(n,s,a){s.status="fulfilled",s.value=a,a0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,i0(n,a)))}function qf(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,a0(s),s=s.next;while(s!==l)}n.action=null}function a0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function o0(n,s){return s}function l0(n,s){if(Ke){var a=lt.formState;if(a!==null){e:{var l=Oe;if(Ke){if(ut){t:{for(var f=ut,p=Wn;f.nodeType!==8;){if(!p){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ut=ei(f.nextSibling),l=f.data==="F!";break e}}Ws(l)}l=!1}l&&(s=a[0])}}return a=_n(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:s},a.queue=l,a=R0.bind(null,Oe,l),l.dispatch=a,l=Bf(!1),p=Qf.bind(null,Oe,!1,l.queue),l=_n(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=tR.bind(null,Oe,f,p,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function c0(n){var s=Ct();return u0(s,st,n)}function u0(n,s,a){if(s=Uf(n,s,o0)[0],n=Mu(Ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Rl(s)}catch(E){throw E===eo?bu:E}else l=s;s=Ct();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Oe.flags|=2048,ro(9,{destroy:void 0},nR.bind(null,f,a),null)),[l,p,n]}function nR(n,s){n.action=s}function h0(n){var s=Ct(),a=st;if(a!==null)return u0(s,a,n);Ct(),s=s.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function ro(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Vu(),Oe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function d0(){return Ct().memoizedState}function Pu(n,s,a,l){var f=_n();Oe.flags|=n,f.memoizedState=ro(1|s,{destroy:void 0},a,l===void 0?null:l)}function ku(n,s,a,l){var f=Ct();l=l===void 0?null:l;var p=f.memoizedState.inst;st!==null&&l!==null&&If(l,st.memoizedState.deps)?f.memoizedState=ro(s,p,a,l):(Oe.flags|=n,f.memoizedState=ro(1|s,p,a,l))}function f0(n,s){Pu(8390656,8,n,s)}function Ff(n,s){ku(2048,8,n,s)}function iR(n){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=Vu(),Oe.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function m0(n){var s=Ct().memoizedState;return iR({ref:s,nextImpl:n}),function(){if((We&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function p0(n,s){return ku(4,2,n,s)}function g0(n,s){return ku(4,4,n,s)}function y0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function v0(n,s,a){a=a!=null?a.concat([n]):null,ku(4,4,y0.bind(null,s,n),a)}function Hf(){}function _0(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&If(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function T0(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&If(s,l[1]))return l[0];if(l=n(),ca){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,s],l}function Gf(n,s,a){return a===void 0||(_s&1073741824)!==0&&(qe&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=E_(),Oe.lanes|=n,or|=n,a)}function E0(n,s,a,l){return Mn(a,s)?a:no.current!==null?(n=Gf(n,a,l),Mn(n,s)||(Lt=!0),n):(_s&42)===0||(_s&1073741824)!==0&&(qe&261930)===0?(Lt=!0,n.memoizedState=a):(n=E_(),Oe.lanes|=n,or|=n,s)}function x0(n,s,a,l,f){var p=he.p;he.p=p!==0&&8>p?p:8;var E=Z.T,b={};Z.T=b,Qf(n,!1,s,a);try{var P=f(),Q=Z.S;if(Q!==null&&Q(b,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var te=Ww(P,l);Cl(n,s,te,zn(n))}else Cl(n,s,l,zn(n))}catch(oe){Cl(n,s,{then:function(){},status:"rejected",reason:oe},zn())}finally{he.p=p,E!==null&&b.types!==null&&(E.types=b.types),Z.T=E}}function sR(){}function Kf(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=S0(n).queue;x0(n,f,s,ye,a===null?sR:function(){return b0(n),a(l)})}function S0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function b0(n){var s=S0(n);s.next===null&&(s=n.alternate.memoizedState),Cl(n,s.next.queue,{},zn())}function Yf(){return nn(Gl)}function A0(){return Ct().memoizedState}function w0(){return Ct().memoizedState}function rR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=zn();n=tr(a);var l=nr(s,n,a);l!==null&&(Cn(l,s,a),Sl(l,s,a)),s={cache:xf()},n.payload=s;return}s=s.return}}function aR(n,s,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(n)?C0(s,a):(a=hf(n,s,a,l),a!==null&&(Cn(a,n,l),N0(a,s,l)))}function R0(n,s,a){var l=zn();Cl(n,s,a,l)}function Cl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(n))C0(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,b=p(E,a);if(f.hasEagerState=!0,f.eagerState=b,Mn(b,E))return yu(n,s,f,0),lt===null&&gu(),!1}catch{}finally{}if(a=hf(n,s,f,l),a!==null)return Cn(a,n,l),N0(a,s,l),!0}return!1}function Qf(n,s,a,l){if(l={lane:2,revertLane:wm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(n)){if(s)throw Error(r(479))}else s=hf(n,a,l,2),s!==null&&Cn(s,n,2)}function Ou(n){var s=n.alternate;return n===Oe||s!==null&&s===Oe}function C0(n,s){io=ju=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function N0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,$o(n,a)}}var Nl={readContext:nn,use:Iu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Nl.useEffectEvent=Tt;var j0={readContext:nn,use:Iu,useCallback:function(n,s){return _n().memoizedState=[n,s===void 0?null:s],n},useContext:nn,useEffect:f0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Pu(4194308,4,y0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Pu(4194308,4,n,s)},useInsertionEffect:function(n,s){Pu(4,2,n,s)},useMemo:function(n,s){var a=_n();s=s===void 0?null:s;var l=n();if(ca){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=_n();if(a!==void 0){var f=a(s);if(ca){Fn(!0);try{a(s)}finally{Fn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=aR.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var s=_n();return n={current:n},s.memoizedState=n},useState:function(n){n=Bf(n);var s=n.queue,a=R0.bind(null,Oe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(n,s){var a=_n();return Gf(a,n,s)},useTransition:function(){var n=Bf(!1);return n=x0.bind(null,Oe,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Oe,f=_n();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),lt===null)throw Error(r(349));(qe&127)!==0||Zv(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,f0(Jv.bind(null,l,p,n),[n]),l.flags|=2048,ro(9,{destroy:void 0},Wv.bind(null,l,p,a,s),null),a},useId:function(){var n=_n(),s=lt.identifierPrefix;if(Ke){var a=Qi,l=Yi;a=(l&~(1<<32-At(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Du++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Jw++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Yf,useFormState:l0,useActionState:l0,useOptimistic:function(n){var s=_n();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Qf.bind(null,Oe,!0,a),a.dispatch=s,[n,s]},useMemoCache:Lf,useCacheRefresh:function(){return _n().memoizedState=rR.bind(null,Oe)},useEffectEvent:function(n){var s=_n(),a={impl:n};return s.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:nn,use:Iu,useCallback:_0,useContext:nn,useEffect:Ff,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:T0,useReducer:Mu,useRef:d0,useState:function(){return Mu(Ts)},useDebugValue:Hf,useDeferredValue:function(n,s){var a=Ct();return E0(a,st.memoizedState,n,s)},useTransition:function(){var n=Mu(Ts)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:Rl(n),s]},useSyncExternalStore:$v,useId:A0,useHostTransitionStatus:Yf,useFormState:c0,useActionState:c0,useOptimistic:function(n,s){var a=Ct();return n0(a,st,n,s)},useMemoCache:Lf,useCacheRefresh:w0};Xf.useEffectEvent=m0;var D0={readContext:nn,use:Iu,useCallback:_0,useContext:nn,useEffect:Ff,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:T0,useReducer:zf,useRef:d0,useState:function(){return zf(Ts)},useDebugValue:Hf,useDeferredValue:function(n,s){var a=Ct();return st===null?Gf(a,n,s):E0(a,st.memoizedState,n,s)},useTransition:function(){var n=zf(Ts)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:Rl(n),s]},useSyncExternalStore:$v,useId:A0,useHostTransitionStatus:Yf,useFormState:h0,useActionState:h0,useOptimistic:function(n,s){var a=Ct();return st!==null?n0(a,st,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:w0};D0.useEffectEvent=m0;function $f(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Zf={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=zn(),f=tr(l);f.payload=s,a!=null&&(f.callback=a),s=nr(n,f,l),s!==null&&(Cn(s,n,l),Sl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=zn(),f=tr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=nr(n,f,l),s!==null&&(Cn(s,n,l),Sl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=zn(),l=tr(a);l.tag=2,s!=null&&(l.callback=s),s=nr(n,l,a),s!==null&&(Cn(s,n,a),Sl(s,n,a))}};function V0(n,s,a,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):s.prototype&&s.prototype.isPureReactComponent?!pl(a,l)||!pl(f,p):!0}function I0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Zf.enqueueReplaceState(s,s.state,null)}function ua(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function M0(n){pu(n)}function P0(n){console.error(n)}function k0(n){pu(n)}function Lu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function O0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wf(n,s,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(n,s)},a}function L0(n){return n=tr(n),n.tag=3,n}function U0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){O0(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){O0(s,a,l),typeof f!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function oR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Za(s,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?$u():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Au?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Sm(n,l,f)),!1;case 22:return a.flags|=65536,l===Au?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Sm(n,l,f)),!1}throw Error(r(435,a.tag))}return Sm(n,l,f),$u(),!1}if(Ke)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==yf&&(n=Error(r(422),{cause:l}),vl(Xn(n,a)))):(l!==yf&&(s=Error(r(423),{cause:l}),vl(Xn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Xn(l,a),f=Wf(n.stateNode,l,f),Cf(n,f),Et!==4&&(Et=2)),!1;var p=Error(r(520),{cause:l});if(p=Xn(p,a),Ol===null?Ol=[p]:Ol.push(p),Et!==4&&(Et=2),s===null)return!0;l=Xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Wf(a.stateNode,l,n),Cf(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lr===null||!lr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=L0(f),U0(f,n,a,l),Cf(a,f),!1}a=a.return}while(a!==null);return!1}var Jf=Error(r(461)),Lt=!1;function sn(n,s,a,l){s.child=n===null?Fv(s,null,a,l):la(s,n.child,a,l)}function z0(n,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return sa(s),l=Mf(n,s,a,E,p,f),b=Pf(),n!==null&&!Lt?(kf(n,s,f),Es(n,s,f)):(Ke&&b&&pf(s),s.flags|=1,sn(n,s,l,f),s.child)}function B0(n,s,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!df(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,q0(n,s,p,l,f)):(n=_u(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!om(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(E,l)&&n.ref===s.ref)return Es(n,s,f)}return s.flags|=1,n=ps(p,l),n.ref=s.ref,n.return=s,s.child=n}function q0(n,s,a,l,f){if(n!==null){var p=n.memoizedProps;if(pl(p,l)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=l=p,om(n,f))(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,Es(n,s,f)}return em(n,s,a,l,f)}function F0(n,s,a,l){var f=l.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,s.child=null;return H0(n,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Su(s,p!==null?p.cachePool:null),p!==null?Kv(s,p):jf(),Yv(s);else return l=s.lanes=536870912,H0(n,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Su(s,p.cachePool),Kv(s,p),sr(),s.memoizedState=null):(n!==null&&Su(s,null),jf(),sr());return sn(n,s,f,a),s.child}function jl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function H0(n,s,a,l,f){var p=bf();return p=p===null?null:{parent:kt._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&Su(s,null),jf(),Yv(s),n!==null&&Za(n,s,l,!0),s.childLanes=f,null}function Uu(n,s){return s=Bu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function G0(n,s,a){return la(s,n.child,null,a),n=Uu(s,s.pendingProps),n.flags|=2,On(s),s.memoizedState=null,n}function lR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ke){if(l.mode==="hidden")return n=Uu(s,l),s.lanes=536870912,jl(null,n);if(Vf(s),(n=ut)?(n=iT(n,Wn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:$s!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=Cv(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw Ws(s);return s.lanes=536870912,null}return Uu(s,l)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(Vf(s),f)if(s.flags&256)s.flags&=-257,s=G0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||Za(n,s,a,!1),f=(a&n.childLanes)!==0,Lt||f){if(l=lt,l!==null&&(E=Zo(l,a),E!==0&&E!==p.retryLane))throw p.retryLane=E,ea(n,E),Cn(l,n,E),Jf;$u(),s=G0(n,s,a)}else n=p.treeContext,ut=ei(E.nextSibling),tn=s,Ke=!0,Zs=null,Wn=!1,n!==null&&Dv(s,n),s=Uu(s,l),s.flags|=4096;return s}return n=ps(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function zu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function em(n,s,a,l,f){return sa(s),a=Mf(n,s,a,l,void 0,f),l=Pf(),n!==null&&!Lt?(kf(n,s,f),Es(n,s,f)):(Ke&&l&&pf(s),s.flags|=1,sn(n,s,a,f),s.child)}function K0(n,s,a,l,f,p){return sa(s),s.updateQueue=null,a=Xv(s,l,a,f),Qv(n),l=Pf(),n!==null&&!Lt?(kf(n,s,p),Es(n,s,p)):(Ke&&l&&pf(s),s.flags|=1,sn(n,s,a,p),s.child)}function Y0(n,s,a,l,f){if(sa(s),s.stateNode===null){var p=Ya,E=a.contextType;typeof E=="object"&&E!==null&&(p=nn(E)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Zf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},wf(s),E=a.contextType,p.context=typeof E=="object"&&E!==null?nn(E):Ya,p.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&($f(s,a,E,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Zf.enqueueReplaceState(p,p.state,null),Al(s,l,p,f),bl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var b=s.memoizedProps,P=ua(a,b);p.props=P;var Q=p.context,te=a.contextType;E=Ya,typeof te=="object"&&te!==null&&(E=nn(te));var oe=a.getDerivedStateFromProps;te=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||Q!==E)&&I0(s,p,l,E),er=!1;var $=s.memoizedState;p.state=$,Al(s,l,p,f),bl(),Q=s.memoizedState,b||$!==Q||er?(typeof oe=="function"&&($f(s,a,oe,l),Q=s.memoizedState),(P=er||V0(s,a,P,l,$,Q,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Q),p.props=l,p.state=Q,p.context=E,l=P):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,Rf(n,s),E=s.memoizedProps,te=ua(a,E),p.props=te,oe=s.pendingProps,$=p.context,Q=a.contextType,P=Ya,typeof Q=="object"&&Q!==null&&(P=nn(Q)),b=a.getDerivedStateFromProps,(Q=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==oe||$!==P)&&I0(s,p,l,P),er=!1,$=s.memoizedState,p.state=$,Al(s,l,p,f),bl();var J=s.memoizedState;E!==oe||$!==J||er||n!==null&&n.dependencies!==null&&Eu(n.dependencies)?(typeof b=="function"&&($f(s,a,b,l),J=s.memoizedState),(te=er||V0(s,a,te,l,$,J,P)||n!==null&&n.dependencies!==null&&Eu(n.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,J,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,J,P)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=J),p.props=l,p.state=J,p.context=P,l=te):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,zu(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=la(s,n.child,null,f),s.child=la(s,null,a,f)):sn(n,s,a,f),s.memoizedState=p.state,n=s.child):n=Es(n,s,f),n}function Q0(n,s,a,l){return na(),s.flags|=256,sn(n,s,a,l),s.child}var tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(n){return{baseLanes:n,cachePool:Ov()}}function im(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Un),n}function X0(n,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(f?ir(s):sr(),(n=ut)?(n=iT(n,Wn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:$s!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=Cv(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw Ws(s);return Um(n)?s.lanes=32:s.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(sr(),f=s.mode,b=Bu({mode:"hidden",children:b},f),l=ta(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,l=s.child,l.memoizedState=nm(a),l.childLanes=im(n,E,a),s.memoizedState=tm,jl(null,l)):(ir(s),sm(s,b))}var P=n.memoizedState;if(P!==null&&(b=P.dehydrated,b!==null)){if(p)s.flags&256?(ir(s),s.flags&=-257,s=rm(n,s,a)):s.memoizedState!==null?(sr(),s.child=n.child,s.flags|=128,s=null):(sr(),b=l.fallback,f=s.mode,l=Bu({mode:"visible",children:l.children},f),b=ta(b,f,a,null),b.flags|=2,l.return=s,b.return=s,l.sibling=b,s.child=l,la(s,n.child,null,a),l=s.child,l.memoizedState=nm(a),l.childLanes=im(n,E,a),s.memoizedState=tm,s=jl(null,l));else if(ir(s),Um(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Q=E.dgst;E=Q,l=Error(r(419)),l.stack="",l.digest=E,vl({value:l,source:null,stack:null}),s=rm(n,s,a)}else if(Lt||Za(n,s,a,!1),E=(a&n.childLanes)!==0,Lt||E){if(E=lt,E!==null&&(l=Zo(E,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,ea(n,l),Cn(E,n,l),Jf;Lm(b)||$u(),s=rm(n,s,a)}else Lm(b)?(s.flags|=192,s.child=n.child,s=null):(n=P.treeContext,ut=ei(b.nextSibling),tn=s,Ke=!0,Zs=null,Wn=!1,n!==null&&Dv(s,n),s=sm(s,l.children),s.flags|=4096);return s}return f?(sr(),b=l.fallback,f=s.mode,P=n.child,Q=P.sibling,l=ps(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,Q!==null?b=ps(Q,b):(b=ta(b,f,a,null),b.flags|=2),b.return=s,l.return=s,l.sibling=b,s.child=l,jl(null,l),l=s.child,b=n.child.memoizedState,b===null?b=nm(a):(f=b.cachePool,f!==null?(P=kt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=Ov(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=im(n,E,a),s.memoizedState=tm,jl(n.child,l)):(ir(s),a=n.child,n=a.sibling,a=ps(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function sm(n,s){return s=Bu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Bu(n,s){return n=Pn(22,n,null,s),n.lanes=0,n}function rm(n,s,a){return la(s,n.child,null,a),n=sm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Tf(n.return,s,a)}function am(n,s,a,l,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=p)}function Z0(n,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var E=Rt.current,b=(E&2)!==0;if(b?(E=E&1|2,s.flags|=128):E&=1,L(Rt,E),sn(n,s,l,a),l=Ke?yl:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$0(n,a,s);else if(n.tag===19)$0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Nu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),am(s,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Nu(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}am(s,!0,a,null,p,l);break;case"together":am(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Es(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),or|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Za(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ps(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ps(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function om(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Eu(n)))}function cR(n,s,a){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Js(s,kt,n.memoizedState.cache),na();break;case 27:case 5:jt(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Js(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ir(s),s.flags|=128,null):(a&s.child.childLanes)!==0?X0(n,s,a):(ir(s),n=Es(n,s,a),n!==null?n.sibling:null);ir(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Za(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Z0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),L(Rt,Rt.current),l)break;return null;case 22:return s.lanes=0,F0(n,s,a,s.pendingProps);case 24:Js(s,kt,n.memoizedState.cache)}return Es(n,s,a)}function W0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Lt=!0;else{if(!om(n,a)&&(s.flags&128)===0)return Lt=!1,cR(n,s,a);Lt=(n.flags&131072)!==0}else Lt=!1,Ke&&(s.flags&1048576)!==0&&jv(s,yl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=aa(s.elementType),s.type=n,typeof n=="function")df(n)?(l=ua(n,l),s.tag=1,s=Y0(null,s,n,l,a)):(s.tag=0,s=em(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===de){s.tag=11,s=z0(null,s,n,l,a);break e}else if(f===C){s.tag=14,s=B0(null,s,n,l,a);break e}}throw s=Pe(n)||n,Error(r(306,s,""))}}return s;case 0:return em(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ua(l,s.pendingProps),Y0(n,s,l,f,a);case 3:e:{if(De(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,Rf(n,s),Al(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Js(s,kt,l),l!==p.cache&&Ef(s,[kt],a,!0),bl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Q0(n,s,l,a);break e}else if(l!==f){f=Xn(Error(r(424)),s),vl(f),s=Q0(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=ei(n.firstChild),tn=s,Ke=!0,Zs=null,Wn=!0,a=Fv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(na(),l===f){s=Es(n,s,a);break e}sn(n,s,l,a)}s=s.child}return s;case 26:return zu(n,s),n===null?(a=cT(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ke||(a=s.type,n=s.pendingProps,l=ih(fe.current).createElement(a),l[It]=s,l[Qt]=n,rn(l,a,n),Mt(l),s.stateNode=l):s.memoizedState=cT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return jt(s),n===null&&Ke&&(l=s.stateNode=aT(s.type,s.pendingProps,fe.current),tn=s,Wn=!0,f=ut,dr(s.type)?(zm=f,ut=ei(l.firstChild)):ut=f),sn(n,s,s.pendingProps.children,a),zu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((f=l=ut)&&(l=UR(l,s.type,s.pendingProps,Wn),l!==null?(s.stateNode=l,tn=s,ut=ei(l.firstChild),Wn=!1,f=!0):f=!1),f||Ws(s)),jt(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,Pm(f,p)?l=null:E!==null&&Pm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Mf(n,s,eR,null,null,a),Gl._currentValue=f),zu(n,s),sn(n,s,l,a),s.child;case 6:return n===null&&Ke&&((n=a=ut)&&(a=zR(a,s.pendingProps,Wn),a!==null?(s.stateNode=a,tn=s,ut=null,n=!0):n=!1),n||Ws(s)),null;case 13:return X0(n,s,a);case 4:return De(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=la(s,null,l,a):sn(n,s,l,a),s.child;case 11:return z0(n,s,s.type,s.pendingProps,a);case 7:return sn(n,s,s.pendingProps,a),s.child;case 8:return sn(n,s,s.pendingProps.children,a),s.child;case 12:return sn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Js(s,s.type,l.value),sn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,sa(s),f=nn(f),l=l(f),s.flags|=1,sn(n,s,l,a),s.child;case 14:return B0(n,s,s.type,s.pendingProps,a);case 15:return q0(n,s,s.type,s.pendingProps,a);case 19:return Z0(n,s,a);case 31:return lR(n,s,a);case 22:return F0(n,s,a,s.pendingProps);case 24:return sa(s),l=nn(kt),n===null?(f=bf(),f===null&&(f=lt,p=xf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},wf(s),Js(s,kt,f)):((n.lanes&a)!==0&&(Rf(n,s),Al(s,null,null,a),bl()),f=n.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Js(s,kt,l)):(l=p.cache,Js(s,kt,l),l!==f.cache&&Ef(s,[kt],a,!0))),sn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xs(n){n.flags|=4}function lm(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(A_())n.flags|=8192;else throw oa=Au,Af}else n.flags&=-16777217}function J0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!mT(s))if(A_())n.flags|=8192;else throw oa=Au,Af}function qu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Qc():536870912,n.lanes|=s,co|=s)}function Dl(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function uR(n,s,a){var l=s.pendingProps;switch(gf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),vs(kt),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&($a(s)?xs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vf())),ht(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(xs(s),p!==null?(ht(s),J0(s,p)):(ht(s),lm(s,f,null,l,a))):p?p!==n.memoizedState?(xs(s),ht(s),J0(s,p)):(ht(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&xs(s),ht(s),lm(s,f,n,l,a)),null;case 27:if(Yt(s),a=fe.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&xs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ht(s),null}n=le.current,$a(s)?Vv(s):(n=aT(f,l,a),s.stateNode=n,xs(s))}return ht(s),null;case 5:if(Yt(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&xs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ht(s),null}if(p=le.current,$a(s))Vv(s);else{var E=ih(fe.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}p[It]=s,p[Qt]=l;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=p;e:switch(rn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xs(s)}}return ht(s),lm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&xs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=fe.current,$a(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[It]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X_(n.nodeValue,a)),n||Ws(s,!0)}else n=ih(n).createTextNode(l),n[It]=s,s.stateNode=n}return ht(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=$a(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[It]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),n=!1}else a=vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(On(s),s):(On(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ht(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=$a(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[It]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),f=!1}else f=vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(On(s),s):(On(s),null)}return On(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),qu(s,s.updateQueue),ht(s),null);case 4:return Le(),n===null&&jm(s.stateNode.containerInfo),ht(s),null;case 10:return vs(s.type),ht(s),null;case 19:if(ie(Rt),l=s.memoizedState,l===null)return ht(s),null;if(f=(s.flags&128)!==0,p=l.rendering,p===null)if(f)Dl(l,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Nu(n),p!==null){for(s.flags|=128,Dl(l,!1),n=p.updateQueue,s.updateQueue=n,qu(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Rv(a,n),a=a.sibling;return L(Rt,Rt.current&1|2),Ke&&gs(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&pe()>Yu&&(s.flags|=128,f=!0,Dl(l,!1),s.lanes=4194304)}else{if(!f)if(n=Nu(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,qu(s,n),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ke)return ht(s),null}else 2*pe()-l.renderingStartTime>Yu&&a!==536870912&&(s.flags|=128,f=!0,Dl(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(n=l.last,n!==null?n.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=pe(),n.sibling=null,a=Rt.current,L(Rt,f?a&1|2:a&1),Ke&&gs(s,l.treeForkCount),n):(ht(s),null);case 22:case 23:return On(s),Df(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),a=s.updateQueue,a!==null&&qu(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ie(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),vs(kt),ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function hR(n,s){switch(gf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return vs(kt),Le(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Yt(s),null;case 31:if(s.memoizedState!==null){if(On(s),s.alternate===null)throw Error(r(340));na()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(On(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));na()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ie(Rt),null;case 4:return Le(),null;case 10:return vs(s.type),null;case 22:case 23:return On(s),Df(),n!==null&&ie(ra),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return vs(kt),null;case 25:return null;default:return null}}function e_(n,s){switch(gf(s),s.tag){case 3:vs(kt),Le();break;case 26:case 27:case 5:Yt(s);break;case 4:Le();break;case 31:s.memoizedState!==null&&On(s);break;case 13:On(s);break;case 19:ie(Rt);break;case 10:vs(s.type);break;case 22:case 23:On(s),Df(),n!==null&&ie(ra);break;case 24:vs(kt)}}function Vl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){nt(s,s.return,b)}}function rr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var P=a,Q=b;try{Q()}catch(te){nt(f,P,te)}}}l=l.next}while(l!==p)}}catch(te){nt(s,s.return,te)}}function t_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Gv(s,a)}catch(l){nt(n,n.return,l)}}}function n_(n,s,a){a.props=ua(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,s,l)}}function Il(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){nt(n,s,f)}}function Xi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){nt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,s,f)}else a.current=null}function i_(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function cm(n,s,a){try{var l=n.stateNode;IR(l,n.type,a,s),l[Qt]=s}catch(f){nt(n,n.return,f)}}function s_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&dr(n.type)||n.tag===4}function um(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||s_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&dr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hm(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=fi));else if(l!==4&&(l===27&&dr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(hm(n,s,a),n=n.sibling;n!==null;)hm(n,s,a),n=n.sibling}function Fu(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&dr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Fu(n,s,a),n=n.sibling;n!==null;)Fu(n,s,a),n=n.sibling}function r_(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,l,a),s[It]=n,s[Qt]=a}catch(p){nt(n,n.return,p)}}var Ss=!1,Ut=!1,dm=!1,a_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function dR(n,s){if(n=n.containerInfo,Im=uh,n=vv(n),rf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,b=-1,P=-1,Q=0,te=0,oe=n,$=null;t:for(;;){for(var J;oe!==a||f!==0&&oe.nodeType!==3||(b=E+f),oe!==p||l!==0&&oe.nodeType!==3||(P=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),(J=oe.firstChild)!==null;)$=oe,oe=J;for(;;){if(oe===n)break t;if($===a&&++Q===f&&(b=E),$===p&&++te===l&&(P=E),(J=oe.nextSibling)!==null)break;oe=$,$=oe.parentNode}oe=J}a=b===-1||P===-1?null:{start:b,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mm={focusedElem:n,selectionRange:a},uh=!1,$t=s;$t!==null;)if(s=$t,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,$t=n;else for(;$t!==null;){switch(s=$t,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var xe=ua(a.type,f);n=l.getSnapshotBeforeUpdate(xe,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){nt(a,a.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Om(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Om(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,$t=n;break}$t=s.return}}function o_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:As(n,a),l&4&&Vl(5,a);break;case 1:if(As(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){nt(a,a.return,E)}else{var f=ua(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(a,a.return,E)}}l&64&&t_(a),l&512&&Il(a,a.return);break;case 3:if(As(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Gv(n,s)}catch(E){nt(a,a.return,E)}}break;case 27:s===null&&l&4&&r_(a);case 26:case 5:As(n,a),s===null&&l&4&&i_(a),l&512&&Il(a,a.return);break;case 12:As(n,a);break;case 31:As(n,a),l&4&&u_(n,a);break;case 13:As(n,a),l&4&&h_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=ER.bind(null,a),BR(n,a))));break;case 22:if(l=a.memoizedState!==null||Ss,!l){s=s!==null&&s.memoizedState!==null||Ut,f=Ss;var p=Ut;Ss=l,(Ut=s)&&!p?ws(n,a,(a.subtreeFlags&8772)!==0):As(n,a),Ss=f,Ut=p}break;case 30:break;default:As(n,a)}}function l_(n){var s=n.alternate;s!==null&&(n.alternate=null,l_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ia(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,bn=!1;function bs(n,s,a){for(a=a.child;a!==null;)c_(n,s,a),a=a.sibling}function c_(n,s,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ci,a)}catch{}switch(a.tag){case 26:Ut||Xi(a,s),bs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Xi(a,s);var l=pt,f=bn;dr(a.type)&&(pt=a.stateNode,bn=!1),bs(n,s,a),ql(a.stateNode),pt=l,bn=f;break;case 5:Ut||Xi(a,s);case 6:if(l=pt,f=bn,pt=null,bs(n,s,a),pt=l,bn=f,pt!==null)if(bn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(p){nt(a,s,p)}else try{pt.removeChild(a.stateNode)}catch(p){nt(a,s,p)}break;case 18:pt!==null&&(bn?(n=pt,tT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),vo(n)):tT(pt,a.stateNode));break;case 4:l=pt,f=bn,pt=a.stateNode.containerInfo,bn=!0,bs(n,s,a),pt=l,bn=f;break;case 0:case 11:case 14:case 15:rr(2,a,s),Ut||rr(4,a,s),bs(n,s,a);break;case 1:Ut||(Xi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&n_(a,s,l)),bs(n,s,a);break;case 21:bs(n,s,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,bs(n,s,a),Ut=l;break;default:bs(n,s,a)}}function u_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{vo(n)}catch(a){nt(s,s.return,a)}}}function h_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{vo(n)}catch(a){nt(s,s.return,a)}}function fR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new a_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new a_),s;default:throw Error(r(435,n.tag))}}function Hu(n,s){var a=fR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=xR.bind(null,n,l);l.then(f,f)}})}function An(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(dr(b.type)){pt=b.stateNode,bn=!1;break e}break;case 5:pt=b.stateNode,bn=!1;break e;case 3:case 4:pt=b.stateNode.containerInfo,bn=!0;break e}b=b.return}if(pt===null)throw Error(r(160));c_(p,E,f),pt=null,bn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)d_(s,n),s=s.sibling}var _i=null;function d_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(s,n),wn(n),l&4&&(rr(3,n,n.return),Vl(3,n),rr(5,n,n.return));break;case 1:An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),l&64&&Ss&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_i;if(An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Pi]||p[It]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),rn(p,l,a),p[It]=n,Mt(p),l=p;break e;case"link":var E=dT("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}p=f.createElement(l),rn(p,l,a),f.head.appendChild(p);break;case"meta":if(E=dT("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}p=f.createElement(l),rn(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[It]=n,Mt(p),l=p}n.stateNode=l}else fT(f,n.type,n.stateNode);else n.stateNode=hT(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?fT(f,n.type,n.stateNode):hT(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&cm(n,n.memoizedProps,a.memoizedProps)}break;case 27:An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),a!==null&&l&4&&cm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),n.flags&32){f=n.stateNode;try{Sn(f,"")}catch(xe){nt(n,n.return,xe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,cm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(dm=!0);break;case 6:if(An(s,n),wn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(xe){nt(n,n.return,xe)}}break;case 3:if(ah=null,f=_i,_i=sh(s.containerInfo),An(s,n),_i=f,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{vo(s.containerInfo)}catch(xe){nt(n,n.return,xe)}dm&&(dm=!1,f_(n));break;case 4:l=_i,_i=sh(n.stateNode.containerInfo),An(s,n),wn(n),_i=l;break;case 12:An(s,n),wn(n);break;case 31:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hu(n,l)));break;case 13:An(s,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ku=pe()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hu(n,l)));break;case 22:f=n.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,Q=Ss,te=Ut;if(Ss=Q||f,Ut=te||P,An(s,n),Ut=te,Ss=Q,wn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||P||Ss||Ut||ha(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){P=a=s;try{if(p=P.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=P.stateNode;var oe=P.memoizedProps.style,$=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(xe){nt(P,P.return,xe)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(xe){nt(P,P.return,xe)}}}else if(s.tag===18){if(a===null){P=s;try{var J=P.stateNode;f?nT(J,!0):nT(P.stateNode,!1)}catch(xe){nt(P,P.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hu(n,a))));break;case 19:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hu(n,l)));break;case 30:break;case 21:break;default:An(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(s_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=um(n);Fu(n,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(Sn(E,""),a.flags&=-33);var b=um(n);Fu(n,b,E);break;case 3:case 4:var P=a.stateNode.containerInfo,Q=um(n);hm(n,Q,P);break;default:throw Error(r(161))}}catch(te){nt(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function f_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;f_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function As(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o_(n,s.alternate,s),s=s.sibling}function ha(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:rr(4,s,s.return),ha(s);break;case 1:Xi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&n_(s,s.return,a),ha(s);break;case 27:ql(s.stateNode);case 26:case 5:Xi(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}n=n.sibling}}function ws(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:ws(f,p,a),Vl(4,p);break;case 1:if(ws(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){nt(l,l.return,Q)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)Hv(P[f],b)}catch(Q){nt(l,l.return,Q)}}a&&E&64&&t_(p),Il(p,p.return);break;case 27:r_(p);case 26:case 5:ws(f,p,a),a&&l===null&&E&4&&i_(p),Il(p,p.return);break;case 12:ws(f,p,a);break;case 31:ws(f,p,a),a&&E&4&&u_(f,p);break;case 13:ws(f,p,a),a&&E&4&&h_(f,p);break;case 22:p.memoizedState===null&&ws(f,p,a),Il(p,p.return);break;case 30:break;default:ws(f,p,a)}s=s.sibling}}function fm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&_l(a))}function mm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&_l(n))}function Ti(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m_(n,s,a,l),s=s.sibling}function m_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(n,s,a,l),f&2048&&Vl(9,s);break;case 1:Ti(n,s,a,l);break;case 3:Ti(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&_l(n)));break;case 12:if(f&2048){Ti(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){nt(s,s.return,P)}}else Ti(n,s,a,l);break;case 31:Ti(n,s,a,l);break;case 13:Ti(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?Ti(n,s,a,l):Ml(n,s):p._visibility&2?Ti(n,s,a,l):(p._visibility|=2,ao(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&fm(E,s);break;case 24:Ti(n,s,a,l),f&2048&&mm(s.alternate,s);break;default:Ti(n,s,a,l)}}function ao(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,E=s,b=a,P=l,Q=E.flags;switch(E.tag){case 0:case 11:case 15:ao(p,E,b,P,f),Vl(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?ao(p,E,b,P,f):Ml(p,E):(te._visibility|=2,ao(p,E,b,P,f)),f&&Q&2048&&fm(E.alternate,E);break;case 24:ao(p,E,b,P,f),f&&Q&2048&&mm(E.alternate,E);break;default:ao(p,E,b,P,f)}s=s.sibling}}function Ml(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ml(a,l),f&2048&&fm(l.alternate,l);break;case 24:Ml(a,l),f&2048&&mm(l.alternate,l);break;default:Ml(a,l)}s=s.sibling}}var Pl=8192;function oo(n,s,a){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)p_(n,s,a),n=n.sibling}function p_(n,s,a){switch(n.tag){case 26:oo(n,s,a),n.flags&Pl&&n.memoizedState!==null&&JR(a,_i,n.memoizedState,n.memoizedProps);break;case 5:oo(n,s,a);break;case 3:case 4:var l=_i;_i=sh(n.stateNode.containerInfo),oo(n,s,a),_i=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,oo(n,s,a),Pl=l):oo(n,s,a));break;default:oo(n,s,a)}}function g_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function kl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,v_(l,n)}g_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)y_(n),n=n.sibling}function y_(n){switch(n.tag){case 0:case 11:case 15:kl(n),n.flags&2048&&rr(9,n,n.return);break;case 3:kl(n);break;case 12:kl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Gu(n)):kl(n);break;default:kl(n)}}function Gu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,v_(l,n)}g_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:rr(8,s,s.return),Gu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Gu(s));break;default:Gu(s)}n=n.sibling}}function v_(n,s){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:rr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=n;$t!==null;){l=$t;var f=l.sibling,p=l.return;if(l_(l),l===a){$t=null;break e}if(f!==null){f.return=p,$t=f;break e}$t=p}}}var mR={getCacheForType:function(n){var s=nn(kt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return nn(kt).controller.signal}},pR=typeof WeakMap=="function"?WeakMap:Map,We=0,lt=null,ze=null,qe=0,tt=0,Ln=null,ar=!1,lo=!1,pm=!1,Rs=0,Et=0,or=0,da=0,gm=0,Un=0,co=0,Ol=null,Rn=null,ym=!1,Ku=0,__=0,Yu=1/0,Qu=null,lr=null,Ht=0,cr=null,uo=null,Cs=0,vm=0,_m=null,T_=null,Ll=0,Tm=null;function zn(){return(We&2)!==0&&qe!==0?qe&-qe:Z.T!==null?wm():Xc()}function E_(){if(Un===0)if((qe&536870912)===0||Ke){var n=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),Un=n}else Un=536870912;return n=kn.current,n!==null&&(n.flags|=32),Un}function Cn(n,s,a){(n===lt&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(ho(n,0),ur(n,qe,Un,!1)),zr(n,a),((We&2)===0||n!==lt)&&(n===lt&&((We&2)===0&&(da|=a),Et===4&&ur(n,qe,Un,!1)),$i(n))}function x_(n,s,a){if((We&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ui(n,s),f=l?vR(n,s):xm(n,s,!0),p=l;do{if(f===0){lo&&!l&&ur(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!gR(a)){f=xm(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;f=Ol;var P=b.current.memoizedState.isDehydrated;if(P&&(ho(b,E).flags|=256),E=xm(b,E,!1),E!==2){if(pm&&!P){b.errorRecoveryDisabledLanes|=p,da|=p,f=4;break e}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){ho(n,0),ur(n,s,0,!0);break}e:{switch(l=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ur(l,s,Un,!ar);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Ku+300-pe(),10<f)){if(ur(l,s,Un,!ar),Vi(l,0,!0)!==0)break e;Cs=s,l.timeoutHandle=J_(S_.bind(null,l,a,Rn,Qu,ym,s,Un,da,co,ar,p,"Throttled",-0,0),f);break e}S_(l,a,Rn,Qu,ym,s,Un,da,co,ar,p,null,-0,0)}}break}while(!0);$i(n)}function S_(n,s,a,l,f,p,E,b,P,Q,te,oe,$,J){if(n.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},p_(s,p,oe);var xe=(p&62914560)===p?Ku-pe():(p&4194048)===p?__-pe():0;if(xe=eC(oe,xe),xe!==null){Cs=p,n.cancelPendingCommit=xe(D_.bind(null,n,s,p,a,l,f,E,b,P,te,oe,null,$,J)),ur(n,p,E,!Q);return}}D_(n,s,p,a,l,f,E,b,P)}function gR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ur(n,s,a,l){s&=~gm,s&=~da,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var p=31-At(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&Br(n,a,s)}function Xu(){return(We&6)===0?(Ul(0),!1):!0}function Em(){if(ze!==null){if(tt===0)var n=ze.return;else n=ze,ys=ia=null,Of(n),to=null,El=0,n=ze;for(;n!==null;)e_(n.alternate,n),n=n.return;ze=null}}function ho(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,kR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Cs=0,Em(),lt=n,ze=a=ps(n.current,null),qe=s,tt=0,Ln=null,ar=!1,lo=ui(n,s),pm=!1,co=Un=gm=da=or=Et=0,Rn=Ol=null,ym=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-At(l),p=1<<f;s|=n[f],l&=~p}return Rs=s,gu(),a}function b_(n,s){Oe=null,Z.H=Nl,s===eo||s===bu?(s=zv(),tt=3):s===Af?(s=zv(),tt=4):tt=s===Jf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,ze===null&&(Et=1,Lu(n,Xn(s,n.current)))}function A_(){var n=kn.current;return n===null?!0:(qe&4194048)===qe?Jn===null:(qe&62914560)===qe||(qe&536870912)!==0?n===Jn:!1}function w_(){var n=Z.H;return Z.H=Nl,n===null?Nl:n}function R_(){var n=Z.A;return Z.A=mR,n}function $u(){Et=4,ar||(qe&4194048)!==qe&&kn.current!==null||(lo=!0),(or&134217727)===0&&(da&134217727)===0||lt===null||ur(lt,qe,Un,!1)}function xm(n,s,a){var l=We;We|=2;var f=w_(),p=R_();(lt!==n||qe!==s)&&(Qu=null,ho(n,s)),s=!1;var E=Et;e:do try{if(tt!==0&&ze!==null){var b=ze,P=Ln;switch(tt){case 8:Em(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var Q=tt;if(tt=0,Ln=null,fo(n,b,P,Q),a&&lo){E=0;break e}break;default:Q=tt,tt=0,Ln=null,fo(n,b,P,Q)}}yR(),E=Et;break}catch(te){b_(n,te)}while(!0);return s&&n.shellSuspendCounter++,ys=ia=null,We=l,Z.H=f,Z.A=p,ze===null&&(lt=null,qe=0,gu()),E}function yR(){for(;ze!==null;)C_(ze)}function vR(n,s){var a=We;We|=2;var l=w_(),f=R_();lt!==n||qe!==s?(Qu=null,Yu=pe()+500,ho(n,s)):lo=ui(n,s);e:do try{if(tt!==0&&ze!==null){s=ze;var p=Ln;t:switch(tt){case 1:tt=0,Ln=null,fo(n,s,p,1);break;case 2:case 9:if(Lv(p)){tt=0,Ln=null,N_(s);break}s=function(){tt!==2&&tt!==9||lt!==n||(tt=7),$i(n)},p.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Lv(p)?(tt=0,Ln=null,N_(s)):(tt=0,Ln=null,fo(n,s,p,7));break;case 5:var E=null;switch(ze.tag){case 26:E=ze.memoizedState;case 5:case 27:var b=ze;if(E?mT(E):b.stateNode.complete){tt=0,Ln=null;var P=b.sibling;if(P!==null)ze=P;else{var Q=b.return;Q!==null?(ze=Q,Zu(Q)):ze=null}break t}}tt=0,Ln=null,fo(n,s,p,5);break;case 6:tt=0,Ln=null,fo(n,s,p,6);break;case 8:Em(),Et=6;break e;default:throw Error(r(462))}}_R();break}catch(te){b_(n,te)}while(!0);return ys=ia=null,Z.H=l,Z.A=f,We=a,ze!==null?0:(lt=null,qe=0,gu(),Et)}function _R(){for(;ze!==null&&!X();)C_(ze)}function C_(n){var s=W0(n.alternate,n,Rs);n.memoizedProps=n.pendingProps,s===null?Zu(n):ze=s}function N_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=K0(a,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=K0(a,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:Of(s);default:e_(a,s),s=ze=Rv(s,Rs),s=W0(a,s,Rs)}n.memoizedProps=n.pendingProps,s===null?Zu(n):ze=s}function fo(n,s,a,l){ys=ia=null,Of(s),to=null,El=0;var f=s.return;try{if(oR(n,f,s,a,qe)){Et=1,Lu(n,Xn(a,n.current)),ze=null;return}}catch(p){if(f!==null)throw ze=f,p;Et=1,Lu(n,Xn(a,n.current)),ze=null;return}s.flags&32768?(Ke||l===1?n=!0:lo||(qe&536870912)!==0?n=!1:(ar=n=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),j_(s,n)):Zu(s)}function Zu(n){var s=n;do{if((s.flags&32768)!==0){j_(s,ar);return}n=s.return;var a=uR(s.alternate,s,Rs);if(a!==null){ze=a;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=n}while(s!==null);Et===0&&(Et=5)}function j_(n,s){do{var a=hR(n.alternate,n);if(a!==null){a.flags&=32767,ze=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){ze=n;return}ze=n=a}while(n!==null);Et=6,ze=null}function D_(n,s,a,l,f,p,E,b,P){n.cancelPendingCommit=null;do Wu();while(Ht!==0);if((We&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=uf,ef(n,a,p,E,b,P),n===lt&&(ze=lt=null,qe=0),uo=s,cr=n,Cs=a,vm=p,_m=f,T_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,SR(us,function(){return k_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=he.p,he.p=2,E=We,We|=4;try{dR(n,s,a)}finally{We=E,he.p=f,Z.T=l}}Ht=1,V_(),I_(),M_()}}function V_(){if(Ht===1){Ht=0;var n=cr,s=uo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=he.p;he.p=2;var f=We;We|=4;try{d_(s,n);var p=Mm,E=vv(n.containerInfo),b=p.focusedElem,P=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&yv(b.ownerDocument.documentElement,b)){if(P!==null&&rf(b)){var Q=P.start,te=P.end;if(te===void 0&&(te=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(te,b.value.length);else{var oe=b.ownerDocument||document,$=oe&&oe.defaultView||window;if($.getSelection){var J=$.getSelection(),xe=b.textContent.length,Ne=Math.min(P.start,xe),at=P.end===void 0?Ne:Math.min(P.end,xe);!J.extend&&Ne>at&&(E=at,at=Ne,Ne=E);var H=gv(b,Ne),q=gv(b,at);if(H&&q&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var Y=oe.createRange();Y.setStart(H.node,H.offset),J.removeAllRanges(),Ne>at?(J.addRange(Y),J.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),J.addRange(Y))}}}}for(oe=[],J=b;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<oe.length;b++){var se=oe[b];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}uh=!!Im,Mm=Im=null}finally{We=f,he.p=l,Z.T=a}}n.current=s,Ht=2}}function I_(){if(Ht===2){Ht=0;var n=cr,s=uo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=he.p;he.p=2;var f=We;We|=4;try{o_(n,s.alternate,s)}finally{We=f,he.p=l,Z.T=a}}Ht=3}}function M_(){if(Ht===4||Ht===3){Ht=0,ae();var n=cr,s=uo,a=Cs,l=T_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,uo=cr=null,P_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(lr=null),hs(a),s=s.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ci,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Z.T,f=he.p,he.p=2,Z.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{Z.T=s,he.p=f}}(Cs&3)!==0&&Wu(),$i(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Tm?Ll++:(Ll=0,Tm=n):Ll=0,Ul(0)}}function P_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,_l(s)))}function Wu(){return V_(),I_(),M_(),k_()}function k_(){if(Ht!==5)return!1;var n=cr,s=vm;vm=0;var a=hs(Cs),l=Z.T,f=he.p;try{he.p=32>a?32:a,Z.T=null,a=_m,_m=null;var p=cr,E=Cs;if(Ht=0,uo=cr=null,Cs=0,(We&6)!==0)throw Error(r(331));var b=We;if(We|=4,y_(p.current),m_(p,p.current,E,a),We=b,Ul(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ci,p)}catch{}return!0}finally{he.p=f,Z.T=l,P_(n,s)}}function O_(n,s,a){s=Xn(a,s),s=Wf(n.stateNode,s,2),n=nr(n,s,2),n!==null&&(zr(n,2),$i(n))}function nt(n,s,a){if(n.tag===3)O_(n,n,a);else for(;s!==null;){if(s.tag===3){O_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(lr===null||!lr.has(l))){n=Xn(a,n),a=L0(2),l=nr(s,a,2),l!==null&&(U0(a,l,s,n),zr(l,2),$i(l));break}}s=s.return}}function Sm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new pR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(pm=!0,f.add(a),n=TR.bind(null,n,s,a),s.then(n,n))}function TR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,lt===n&&(qe&a)===a&&(Et===4||Et===3&&(qe&62914560)===qe&&300>pe()-Ku?(We&2)===0&&ho(n,0):gm|=a,co===qe&&(co=0)),$i(n)}function L_(n,s){s===0&&(s=Qc()),n=ea(n,s),n!==null&&(zr(n,s),$i(n))}function ER(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),L_(n,a)}function xR(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),L_(n,a)}function SR(n,s){return bt(n,s)}var Ju=null,mo=null,bm=!1,eh=!1,Am=!1,hr=0;function $i(n){n!==mo&&n.next===null&&(mo===null?Ju=mo=n:mo=mo.next=n),eh=!0,bm||(bm=!0,AR())}function Ul(n,s){if(!Am&&eh){Am=!0;do for(var a=!1,l=Ju;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-At(42|n)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,q_(l,p))}else p=qe,p=Vi(l,l===lt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ui(l,p)||(a=!0,q_(l,p));l=l.next}while(a);Am=!1}}function bR(){U_()}function U_(){eh=bm=!1;var n=0;hr!==0&&PR()&&(n=hr);for(var s=pe(),a=null,l=Ju;l!==null;){var f=l.next,p=z_(l,s);p===0?(l.next=null,a===null?Ju=f:a.next=f,f===null&&(mo=a)):(a=l,(n!==0||(p&3)!==0)&&(eh=!0)),l=f}Ht!==0&&Ht!==5||Ul(n),hr!==0&&(hr=0)}function z_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-At(p),b=1<<E,P=f[E];P===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Jd(b,s)):P<=s&&(n.expiredLanes|=b),p&=~b}if(s=lt,a=qe,a=Vi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ui(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Ci(l),hs(a)){case 2:case 8:a=Na;break;case 32:a=us;break;case 268435456:a=ja;break;default:a=us}return l=B_.bind(null,n),a=bt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Ci(l),n.callbackPriority=2,n.callbackNode=null,2}function B_(n,s){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Wu()&&n.callbackNode!==a)return null;var l=qe;return l=Vi(n,n===lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(x_(n,l,s),z_(n,pe()),n.callbackNode!=null&&n.callbackNode===a?B_.bind(null,n):null)}function q_(n,s){if(Wu())return null;x_(n,s,!0)}function AR(){OR(function(){(We&6)!==0?bt(Dt,bR):U_()})}function wm(){if(hr===0){var n=Wa;n===0&&(n=ji,ji<<=1,(ji&261888)===0&&(ji=256)),hr=n}return hr}function F_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Oa(""+n)}function H_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function wR(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=F_((f[Qt]||null).action),E=l.submitter;E&&(s=(s=E[Qt]||null)?F_(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var b=new Fi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hr!==0){var P=E?H_(f,E):new FormData(f);Kf(a,{pending:!0,data:P,method:f.method,action:p},null,P)}}else typeof p=="function"&&(b.preventDefault(),P=E?H_(f,E):new FormData(f),Kf(a,{pending:!0,data:P,method:f.method,action:p},p,P))},currentTarget:f}]})}}for(var Rm=0;Rm<cf.length;Rm++){var Cm=cf[Rm],RR=Cm.toLowerCase(),CR=Cm[0].toUpperCase()+Cm.slice(1);vi(RR,"on"+CR)}vi(Ev,"onAnimationEnd"),vi(xv,"onAnimationIteration"),vi(Sv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Hw,"onTransitionRun"),vi(Gw,"onTransitionStart"),vi(Kw,"onTransitionCancel"),vi(bv,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function G_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var E=l.length-1;0<=E;E--){var b=l[E],P=b.instance,Q=b.currentTarget;if(b=b.listener,P!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=Q;try{p(f)}catch(te){pu(te)}f.currentTarget=null,p=P}else for(E=0;E<l.length;E++){if(b=l[E],P=b.instance,Q=b.currentTarget,b=b.listener,P!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=Q;try{p(f)}catch(te){pu(te)}f.currentTarget=null,p=P}}}}function Be(n,s){var a=s[Va];a===void 0&&(a=s[Va]=new Set);var l=n+"__bubble";a.has(l)||(K_(s,n,2,!1),a.add(l))}function Nm(n,s,a){var l=0;s&&(l|=4),K_(a,n,l,s)}var th="_reactListening"+Math.random().toString(36).slice(2);function jm(n){if(!n[th]){n[th]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(NR.has(a)||Nm(a,!1,n),Nm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[th]||(s[th]=!0,Nm("selectionchange",!1,s))}}function K_(n,s,a,l){switch(ET(s)){case 2:var f=iC;break;case 8:f=sC;break;default:f=Gm}a=f.bind(null,s,a,n),f=void 0,!Kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Dm(n,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=ki(b),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){l=p=E;continue e}b=b.parentNode}}l=l.return}Ks(function(){var Q=p,te=Gn(a),oe=[];e:{var $=Av.get(n);if($!==void 0){var J=Fi,xe=n;switch(n){case"keypress":if(Qr(a)===0)break e;case"keydown":case"keyup":J=du;break;case"focusin":xe="focus",J=$r;break;case"focusout":xe="blur",J=$r;break;case"beforeblur":case"afterblur":J=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case Ev:case xv:case Sv:J=ru;break;case bv:J=R;break;case"scroll":case"scrollend":J=ul;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ms;break;case"toggle":case"beforetoggle":J=ke}var Ne=(s&4)!==0,at=!Ne&&(n==="scroll"||n==="scrollend"),H=Ne?$!==null?$+"Capture":null:$;Ne=[];for(var q=Q,Y;q!==null;){var se=q;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||H===null||(se=mi(q,H),se!=null&&Ne.push(Bl(q,se,Y))),at)break;q=q.return}0<Ne.length&&($=new J($,xe,null,a,te),oe.push({event:$,listeners:Ne}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",$&&a!==ol&&(xe=a.relatedTarget||a.fromElement)&&(ki(xe)||xe[Mi]))break e;if((J||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,J?(xe=a.relatedTarget||a.toElement,J=Q,xe=xe?ki(xe):null,xe!==null&&(at=c(xe),Ne=xe.tag,xe!==at||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(J=null,xe=Q),J!==xe)){if(Ne=hl,se="onMouseLeave",H="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=ms,se="onPointerLeave",H="onPointerEnter",q="pointer"),at=J==null?$:Vn(J),Y=xe==null?$:Vn(xe),$=new Ne(se,q+"leave",J,a,te),$.target=at,$.relatedTarget=Y,se=null,ki(te)===Q&&(Ne=new Ne(H,q+"enter",xe,a,te),Ne.target=Y,Ne.relatedTarget=at,se=Ne),at=se,J&&xe)t:{for(Ne=jR,H=J,q=xe,Y=0,se=H;se;se=Ne(se))Y++;se=0;for(var Ae=q;Ae;Ae=Ne(Ae))se++;for(;0<Y-se;)H=Ne(H),Y--;for(;0<se-Y;)q=Ne(q),se--;for(;Y--;){if(H===q||q!==null&&H===q.alternate){Ne=H;break t}H=Ne(H),q=Ne(q)}Ne=null}else Ne=null;J!==null&&Y_(oe,$,J,Ne,!1),xe!==null&&at!==null&&Y_(oe,at,xe,Ne,!0)}}e:{if($=Q?Vn(Q):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var Xe=uv;else if(lv($))if(hv)Xe=Bw;else{Xe=Uw;var Se=Lw}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&ka(Q.elementType)&&(Xe=uv):Xe=zw;if(Xe&&(Xe=Xe(n,Q))){cv(oe,Xe,a,te);break e}Se&&Se(n,$,Q),n==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&sl($,"number",$.value)}switch(Se=Q?Vn(Q):window,n){case"focusin":(lv(Se)||Se.contentEditable==="true")&&(Ha=Se,af=Q,gl=null);break;case"focusout":gl=af=Ha=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,_v(oe,a,te);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":_v(oe,a,te)}var Ue;if(Ze)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Fa?Zr(n,a)&&(Fe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ki&&a.locale!=="ko"&&(Fa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Fa&&(Ue=cl()):(qi=te,ll="value"in qi?qi.value:qi.textContent,Fa=!0)),Se=nh(Q,Fe),0<Se.length&&(Fe=new Gi(Fe,n,null,a,te),oe.push({event:Fe,listeners:Se}),Ue?Fe.data=Ue:(Ue=qa(a),Ue!==null&&(Fe.data=Ue)))),(Ue=Yn?Mw(n,a):Pw(n,a))&&(Fe=nh(Q,"onBeforeInput"),0<Fe.length&&(Se=new Gi("onBeforeInput","beforeinput",null,a,te),oe.push({event:Se,listeners:Fe}),Se.data=Ue)),wR(oe,n,Q,a,te)}G_(oe,s)})}function Bl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function nh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=mi(n,a),f!=null&&l.unshift(Bl(n,f,p)),f=mi(n,s),f!=null&&l.push(Bl(n,f,p))),n.tag===3)return l;n=n.return}return[]}function jR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Y_(n,s,a,l,f){for(var p=s._reactName,E=[];a!==null&&a!==l;){var b=a,P=b.alternate,Q=b.stateNode;if(b=b.tag,P!==null&&P===l)break;b!==5&&b!==26&&b!==27||Q===null||(P=Q,f?(Q=mi(a,p),Q!=null&&E.unshift(Bl(a,Q,P))):f||(Q=mi(a,p),Q!=null&&E.push(Bl(a,Q,P)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var DR=/\r\n?/g,VR=/\u0000|\uFFFD/g;function Q_(n){return(typeof n=="string"?n:""+n).replace(DR,`
`).replace(VR,"")}function X_(n,s){return s=Q_(s),Q_(n)===s}function rt(n,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Sn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Sn(n,""+l);break;case"className":In(n,"class",l);break;case"tabIndex":In(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(n,a,l);break;case"style":al(n,l,p);break;case"data":if(s!=="object"){In(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Oa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&rt(n,s,"name",f.name,f,null),rt(n,s,"formEncType",f.formEncType,f,null),rt(n,s,"formMethod",f.formMethod,f,null),rt(n,s,"formTarget",f.formTarget,f,null)):(rt(n,s,"encType",f.encType,f,null),rt(n,s,"method",f.method,f,null),rt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Oa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=fi);break;case"onScroll":l!=null&&Be("scroll",n);break;case"onScrollEnd":l!=null&&Be("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Oa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Be("beforetoggle",n),Be("toggle",n),Ma(n,"popover",l);break;case"xlinkActuate":Pt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nu.get(a)||a,Ma(n,a,l))}}function Vm(n,s,a,l,f,p){switch(a){case"style":al(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Sn(n,l):(typeof l=="number"||typeof l=="bigint")&&Sn(n,""+l);break;case"onScroll":l!=null&&Be("scroll",n);break;case"onScrollEnd":l!=null&&Be("scrollend",n);break;case"onClick":l!=null&&(n.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=n[Qt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ma(n,a,l)}}}function rn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",n),Be("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,p,E,a,null)}}f&&rt(n,s,"srcSet",a.srcSet,a,null),l&&rt(n,s,"src",a.src,a,null);return;case"input":Be("invalid",n);var b=p=E=f=null,P=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":f=te;break;case"type":E=te;break;case"checked":P=te;break;case"defaultChecked":Q=te;break;case"value":p=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:rt(n,s,l,te,a,null)}}Jc(n,p,b,P,Q,E,f,!1);return;case"select":Be("invalid",n),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:rt(n,s,f,b,a,null)}s=p,a=E,n.multiple=!!l,s!=null?qs(n,!!l,s,!1):a!=null&&qs(n,!!l,a,!0);return;case"textarea":Be("invalid",n),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:rt(n,s,E,b,a,null)}Fs(n,l,f,p);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(n,s,P,l,a,null)}return;case"dialog":Be("beforetoggle",n),Be("toggle",n),Be("cancel",n),Be("close",n);break;case"iframe":case"object":Be("load",n);break;case"video":case"audio":for(l=0;l<zl.length;l++)Be(zl[l],n);break;case"image":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"embed":case"source":case"link":Be("error",n),Be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,Q,l,a,null)}return;default:if(ka(s)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Vm(n,s,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&rt(n,s,b,l,a,null))}function IR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,P=null,Q=null,te=null;for(J in a){var oe=a[J];if(a.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=oe;default:l.hasOwnProperty(J)||rt(n,s,J,null,l,oe)}}for(var $ in l){var J=l[$];if(oe=a[$],l.hasOwnProperty($)&&(J!=null||oe!=null))switch($){case"type":p=J;break;case"name":f=J;break;case"checked":Q=J;break;case"defaultChecked":te=J;break;case"value":E=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==oe&&rt(n,s,$,J,l,oe)}}Pa(n,E,b,P,Q,te,p,f);return;case"select":J=E=b=$=null;for(p in a)if(P=a[p],a.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":J=P;default:l.hasOwnProperty(p)||rt(n,s,p,null,l,P)}for(f in l)if(p=l[f],P=a[f],l.hasOwnProperty(f)&&(p!=null||P!=null))switch(f){case"value":$=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==P&&rt(n,s,f,p,l,P)}s=b,a=E,l=J,$!=null?qs(n,!!a,$,!1):!!l!=!!a&&(s!=null?qs(n,!!a,s,!0):qs(n,!!a,a?[]:"",!1));return;case"textarea":J=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(n,s,b,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":$=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&rt(n,s,E,f,l,p)}eu(n,$,J);return;case"option":for(var xe in a)if($=a[xe],a.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":n.selected=!1;break;default:rt(n,s,xe,null,l,$)}for(P in l)if($=l[P],J=a[P],l.hasOwnProperty(P)&&$!==J&&($!=null||J!=null))switch(P){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(n,s,P,$,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)$=a[Ne],a.hasOwnProperty(Ne)&&$!=null&&!l.hasOwnProperty(Ne)&&rt(n,s,Ne,null,l,$);for(Q in l)if($=l[Q],J=a[Q],l.hasOwnProperty(Q)&&$!==J&&($!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:rt(n,s,Q,$,l,J)}return;default:if(ka(s)){for(var at in a)$=a[at],a.hasOwnProperty(at)&&$!==void 0&&!l.hasOwnProperty(at)&&Vm(n,s,at,void 0,l,$);for(te in l)$=l[te],J=a[te],!l.hasOwnProperty(te)||$===J||$===void 0&&J===void 0||Vm(n,s,te,$,l,J);return}}for(var H in a)$=a[H],a.hasOwnProperty(H)&&$!=null&&!l.hasOwnProperty(H)&&rt(n,s,H,null,l,$);for(oe in l)$=l[oe],J=a[oe],!l.hasOwnProperty(oe)||$===J||$==null&&J==null||rt(n,s,oe,$,l,J)}function $_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,E=f.initiatorType,b=f.duration;if(p&&b&&$_(E)){for(E=0,b=f.responseEnd,l+=1;l<a.length;l++){var P=a[l],Q=P.startTime;if(Q>b)break;var te=P.transferSize,oe=P.initiatorType;te&&$_(oe)&&(P=P.responseEnd,E+=te*(P<b?1:(b-Q)/(P-Q)))}if(--l,s+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Im=null,Mm=null;function ih(n){return n.nodeType===9?n:n.ownerDocument}function Z_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Pm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var km=null;function PR(){var n=window.event;return n&&n.type==="popstate"?n===km?!1:(km=n,!0):(km=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,eT=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof eT<"u"?function(n){return eT.resolve(null).then(n).catch(LR)}:J_;function LR(n){setTimeout(function(){throw n})}function dr(n){return n==="head"}function tT(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),vo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ql(a);for(var p=a.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Pi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}else a==="body"&&ql(n.ownerDocument.body);a=f}while(a);vo(s)}function nT(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Om(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function UR(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Pi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ei(n.nextSibling),n===null)break}return null}function zR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ei(n.nextSibling),n===null))return null;return n}function iT(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ei(n.nextSibling),n===null))return null;return n}function Lm(n){return n.data==="$?"||n.data==="$~"}function Um(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function BR(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ei(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var zm=null;function sT(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return ei(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function rT(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function aT(n,s,a){switch(s=ih(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ql(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ia(n)}var ti=new Map,oT=new Set;function sh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ns=he.d;he.d={f:qR,r:FR,D:HR,C:GR,L:KR,m:YR,X:XR,S:QR,M:$R};function qR(){var n=Ns.f(),s=Xu();return n||s}function FR(n){var s=Hn(n);s!==null&&s.tag===5&&s.type==="form"?b0(s):Ns.r(n)}var po=typeof document>"u"?null:document;function lT(n,s,a){var l=po;if(l&&typeof s=="string"&&s){var f=xn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),oT.has(f)||(oT.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),rn(s,"link",n),Mt(s),l.head.appendChild(s)))}}function HR(n){Ns.D(n),lT("dns-prefetch",n,null)}function GR(n,s){Ns.C(n,s),lT("preconnect",n,s)}function KR(n,s,a){Ns.L(n,s,a);var l=po;if(l&&n&&s){var f='link[rel="preload"][as="'+xn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xn(a.imageSizes)+'"]')):f+='[href="'+xn(n)+'"]';var p=f;switch(s){case"style":p=go(n);break;case"script":p=yo(n)}ti.has(p)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),ti.set(p,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Fl(p))||s==="script"&&l.querySelector(Hl(p))||(s=l.createElement("link"),rn(s,"link",n),Mt(s),l.head.appendChild(s)))}}function YR(n,s){Ns.m(n,s);var a=po;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=yo(n)}if(!ti.has(p)&&(n=T({rel:"modulepreload",href:n},s),ti.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(p)))return}l=a.createElement("link"),rn(l,"link",n),Mt(l),a.head.appendChild(l)}}}function QR(n,s,a){Ns.S(n,s,a);var l=po;if(l&&n){var f=Oi(l).hoistableStyles,p=go(n);s=s||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Fl(p)))b.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=ti.get(p))&&Bm(n,a);var P=E=l.createElement("link");Mt(P),rn(P,"link",n),P._p=new Promise(function(Q,te){P.onload=Q,P.onerror=te}),P.addEventListener("load",function(){b.loading|=1}),P.addEventListener("error",function(){b.loading|=2}),b.loading|=4,rh(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function XR(n,s){Ns.X(n,s);var a=po;if(a&&n){var l=Oi(a).hoistableScripts,f=yo(n),p=l.get(f);p||(p=a.querySelector(Hl(f)),p||(n=T({src:n,async:!0},s),(s=ti.get(f))&&qm(n,s),p=a.createElement("script"),Mt(p),rn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function $R(n,s){Ns.M(n,s);var a=po;if(a&&n){var l=Oi(a).hoistableScripts,f=yo(n),p=l.get(f);p||(p=a.querySelector(Hl(f)),p||(n=T({src:n,async:!0,type:"module"},s),(s=ti.get(f))&&qm(n,s),p=a.createElement("script"),Mt(p),rn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function cT(n,s,a,l){var f=(f=fe.current)?sh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=go(a.href),a=Oi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=go(a.href);var p=Oi(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(Fl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),ti.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(n,a),p||ZR(f,n,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yo(a),a=Oi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function go(n){return'href="'+xn(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function uT(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function ZR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rn(s,"link",a),Mt(s),n.head.appendChild(s))}function yo(n){return'[src="'+xn(n)+'"]'}function Hl(n){return"script[async]"+n}function hT(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+xn(a.href)+'"]');if(l)return s.instance=l,Mt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Mt(l),rn(l,"style",f),rh(l,a.precedence,n),s.instance=l;case"stylesheet":f=go(a.href);var p=n.querySelector(Fl(f));if(p)return s.state.loading|=4,s.instance=p,Mt(p),p;l=uT(a),(f=ti.get(f))&&Bm(l,f),p=(n.ownerDocument||n).createElement("link"),Mt(p);var E=p;return E._p=new Promise(function(b,P){E.onload=b,E.onerror=P}),rn(p,"link",l),s.state.loading|=4,rh(p,a.precedence,n),s.instance=p;case"script":return p=yo(a.src),(f=n.querySelector(Hl(p)))?(s.instance=f,Mt(f),f):(l=a,(f=ti.get(p))&&(l=T({},a),qm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Mt(f),rn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,rh(l,a.precedence,n));return s.instance}function rh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===s)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Bm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function qm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ah=null;function dT(n,s,a){if(ah===null){var l=new Map,f=ah=new Map;f.set(a,l)}else f=ah,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Pi]||p[It]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function fT(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function WR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function JR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=go(l.href),p=s.querySelector(Fl(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=oh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,Mt(p);return}p=s.ownerDocument||s,l=uT(l),(f=ti.get(f))&&Bm(l,f),p=p.createElement("link"),Mt(p);var E=p;E._p=new Promise(function(b,P){E.onload=b,E.onerror=P}),rn(p,"link",l),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=oh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Fm=0;function eC(n,s){return n.stylesheets&&n.count===0&&ch(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&ch(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&Fm===0&&(Fm=62500*MR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ch(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Fm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var lh=null;function ch(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,lh=new Map,s.forEach(tC,n),lh=null,oh.call(n))}function tC(n,s){if(!(s.state.loading&4)){var a=lh.get(n);if(a)var l=a.get(null);else{a=new Map,lh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=oh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Gl={$$typeof:F,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function nC(n,s,a,l,f,p,E,b,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function pT(n,s,a,l,f,p,E,b,P,Q,te,oe){return n=new nC(n,s,a,E,P,Q,te,oe,b),s=1,p===!0&&(s|=24),p=Pn(3,null,null,s),n.current=p,p.stateNode=n,s=xf(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},wf(p),n}function gT(n){return n?(n=Ya,n):Ya}function yT(n,s,a,l,f,p){f=gT(f),l.context===null?l.context=f:l.pendingContext=f,l=tr(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=nr(n,l,s),a!==null&&(Cn(a,n,s),Sl(a,n,s))}function vT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Hm(n,s){vT(n,s),(n=n.alternate)&&vT(n,s)}function _T(n){if(n.tag===13||n.tag===31){var s=ea(n,67108864);s!==null&&Cn(s,n,67108864),Hm(n,67108864)}}function TT(n){if(n.tag===13||n.tag===31){var s=zn();s=qr(s);var a=ea(n,s);a!==null&&Cn(a,n,s),Hm(n,s)}}var uh=!0;function iC(n,s,a,l){var f=Z.T;Z.T=null;var p=he.p;try{he.p=2,Gm(n,s,a,l)}finally{he.p=p,Z.T=f}}function sC(n,s,a,l){var f=Z.T;Z.T=null;var p=he.p;try{he.p=8,Gm(n,s,a,l)}finally{he.p=p,Z.T=f}}function Gm(n,s,a,l){if(uh){var f=Km(l);if(f===null)Dm(n,s,l,hh,a),xT(n,l);else if(aC(f,n,s,a,l))l.stopPropagation();else if(xT(n,l),s&4&&-1<rC.indexOf(n)){for(;f!==null;){var p=Hn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Di(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var P=1<<31-At(E);b.entanglements[1]|=P,E&=~P}$i(p),(We&6)===0&&(Yu=pe()+500,Ul(0))}}break;case 31:case 13:b=ea(p,2),b!==null&&Cn(b,p,2),Xu(),Hm(p,2)}if(p=Km(l),p===null&&Dm(n,s,l,hh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Dm(n,s,l,null,a)}}function Km(n){return n=Gn(n),Ym(n)}var hh=null;function Ym(n){if(hh=null,n=ki(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return hh=n,null}function ET(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case Dt:return 2;case Na:return 8;case us:case Ni:return 32;case ja:return 268435456;default:return 32}default:return 32}}var Qm=!1,fr=null,mr=null,pr=null,Kl=new Map,Yl=new Map,gr=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xT(n,s){switch(n){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(s.pointerId)}}function Ql(n,s,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Hn(s),s!==null&&_T(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function aC(n,s,a,l,f){switch(s){case"focusin":return fr=Ql(fr,n,s,a,l,f),!0;case"dragenter":return mr=Ql(mr,n,s,a,l,f),!0;case"mouseover":return pr=Ql(pr,n,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Kl.set(p,Ql(Kl.get(p)||null,n,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Yl.set(p,Ql(Yl.get(p)||null,n,s,a,l,f)),!0}return!1}function ST(n){var s=ki(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,hi(n.priority,function(){TT(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,hi(n.priority,function(){TT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Km(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return s=Hn(a),s!==null&&_T(s),n.blockedOn=a,!1;s.shift()}return!0}function bT(n,s,a){dh(n)&&a.delete(s)}function oC(){Qm=!1,fr!==null&&dh(fr)&&(fr=null),mr!==null&&dh(mr)&&(mr=null),pr!==null&&dh(pr)&&(pr=null),Kl.forEach(bT),Yl.forEach(bT)}function fh(n,s){n.blockedOn===s&&(n.blockedOn=null,Qm||(Qm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oC)))}var mh=null;function AT(n){mh!==n&&(mh=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mh===n&&(mh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Ym(l||a)===null)continue;break}var p=Hn(a);p!==null&&(n.splice(s,3),s-=3,Kf(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function vo(n){function s(P){return fh(P,n)}fr!==null&&fh(fr,n),mr!==null&&fh(mr,n),pr!==null&&fh(pr,n),Kl.forEach(s),Yl.forEach(s);for(var a=0;a<gr.length;a++){var l=gr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<gr.length&&(a=gr[0],a.blockedOn===null);)ST(a),a.blockedOn===null&&gr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[Qt]||null;if(typeof p=="function")E||AT(a);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Qt]||null)b=E.formAction;else if(Ym(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),AT(a)}}}function wT(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Xm(n){this._internalRoot=n}ph.prototype.render=Xm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=zn();yT(a,l,n,s,null,null)},ph.prototype.unmount=Xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;yT(n.current,2,null,n,null,null),Xu(),s[Mi]=null}};function ph(n){this._internalRoot=n}ph.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<gr.length&&s!==0&&s<gr[a].priority;a++);gr.splice(a,0,n),a===0&&ST(n)}};var RT=e.version;if(RT!=="19.2.0")throw Error(r(527,RT,"19.2.0"));he.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=y(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var lC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{ci=gh.inject(lC),Jt=gh}catch{}}return $l.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=M0,p=P0,E=k0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=pT(n,1,!1,null,null,a,l,null,f,p,E,wT),n[Mi]=s.current,jm(n),new Xm(s)},$l.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",p=M0,E=P0,b=k0,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),s=pT(n,1,!0,s,a??null,l,f,P,p,E,b,wT),s.context=gT(null),a=s.current,l=zn(),l=qr(l),f=tr(l),f.callback=null,nr(a,f,l),a=l,s.current.lanes=a,zr(s,a),$i(s),n[Mi]=s.current,jm(n),new ph(s)},$l.version="19.2.0",$l}var OT;function vC(){if(OT)return Wm.exports;OT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wm.exports=yC(),Wm.exports}var _C=vC();var LT="popstate";function TC(t={}){function e(r,o){let{pathname:c,search:u,hash:m}=r.location;return Dp("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:mc(o)}return xC(e,i,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substring(2,10)}function UT(t,e){return{usr:t.state,key:t.key,idx:e}}function Dp(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:i,key:e&&e.key||r||EC()}}function mc({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Uo(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xC(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,m="POP",g=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function T(){m="POP";let k=v(),O=k==null?null:k-y;y=k,g&&g({action:m,location:U.location,delta:O})}function S(k,O){m="PUSH";let G=Dp(U.location,k,O);y=v()+1;let F=UT(G,y),de=U.createHref(G);try{u.pushState(F,"",de)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(de)}c&&g&&g({action:m,location:U.location,delta:1})}function w(k,O){m="REPLACE";let G=Dp(U.location,k,O);y=v();let F=UT(G,y),de=U.createHref(G);u.replaceState(F,"",de),c&&g&&g({action:m,location:U.location,delta:0})}function I(k){return SC(k)}let U={get action(){return m},get location(){return t(o,u)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(LT,T),g=k,()=>{o.removeEventListener(LT,T),g=null}},createHref(k){return e(o,k)},createURL:I,encodeLocation(k){let O=I(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:w,go(k){return u.go(k)}};return U}function SC(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),yt(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:mc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function DS(t,e,i="/"){return bC(t,e,i,!1)}function bC(t,e,i,r){let o=typeof e=="string"?Uo(e):e,c=Is(o.pathname||"/",i);if(c==null)return null;let u=VS(t);AC(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let y=kC(c);m=MC(u[g],y,r)}return m}function VS(t,e=[],i=[],r="",o=!1){let c=(u,m,g=o,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&g)return;yt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=js([r,v.relativePath]),S=i.concat(v);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VS(u.children,e,S,T,g)),!(u.path==null&&!u.index)&&e.push({path:T,score:VC(T,u.index),routesMeta:S})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let g of IS(u.path))c(u,m,!0,g)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=IS(r.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...u),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function AC(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:IC(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var wC=/^:[\w-]+$/,RC=3,CC=2,NC=1,jC=10,DC=-2,zT=t=>t==="*";function VC(t,e){let i=t.split("/"),r=i.length;return i.some(zT)&&(r+=DC),e&&(r+=CC),i.filter(o=>!zT(o)).reduce((o,c)=>o+(wC.test(c)?RC:c===""?NC:jC),r)}function IC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function MC(t,e,i=!1){let{routesMeta:r}=t,o={},c="/",u=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",T=Hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),S=g.route;if(!T&&y&&i&&!r[r.length-1].route.index&&(T=Hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:js([c,T.pathname]),pathnameBase:BC(js([c,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(c=js([c,T.pathnameBase]))}return u}function Hh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=PC(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:T},S)=>{if(v==="*"){let I=m[S]||"";u=c.slice(0,c.length-I.length).replace(/(.)\/+$/,"$1")}const w=m[S];return T&&!w?y[v]=void 0:y[v]=(w||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:t}}function PC(t,e=!1,i=!0){bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function kC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var OC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LC=t=>OC.test(t);function UC(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?Uo(t):t,c;if(i)if(LC(i))c=i;else{if(i.includes("//")){let u=i;i=i.replace(/\/\/+/g,"/"),bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${i}`)}i.startsWith("/")?c=BT(i.substring(1),"/"):c=BT(i,e)}else c=e;return{pathname:c,search:qC(r),hash:FC(o)}}function BT(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function np(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zC(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function MS(t){let e=zC(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function PS(t,e,i,r=!1){let o;typeof t=="string"?o=Uo(t):(o={...t},yt(!o.pathname||!o.pathname.includes("?"),np("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),np("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),np("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=i;else{let T=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=UC(o,m),y=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var js=t=>t.join("/").replace(/\/\/+/g,"/"),BC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kS=["POST","PUT","PATCH","DELETE"];new Set(kS);var GC=["GET",...kS];new Set(GC);var zo=j.createContext(null);zo.displayName="DataRouter";var xd=j.createContext(null);xd.displayName="DataRouterState";j.createContext(!1);var OS=j.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var KC=j.createContext(new Map);KC.displayName="Fetchers";var YC=j.createContext(null);YC.displayName="Await";var ls=j.createContext(null);ls.displayName="Navigation";var Vc=j.createContext(null);Vc.displayName="Location";var Us=j.createContext({outlet:null,matches:[],isDataRoute:!1});Us.displayName="Route";var Ng=j.createContext(null);Ng.displayName="RouteError";function QC(t,{relative:e}={}){yt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=j.useContext(ls),{hash:o,pathname:c,search:u}=Mc(t,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:js([i,c])),r.createHref({pathname:m,search:u,hash:o})}function Ic(){return j.useContext(Vc)!=null}function cs(){return yt(Ic(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Vc).location}var LS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function US(t){j.useContext(ls).static||j.useLayoutEffect(t)}function jg(){let{isDataRoute:t}=j.useContext(Us);return t?oN():XC()}function XC(){yt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(zo),{basename:e,navigator:i}=j.useContext(ls),{matches:r}=j.useContext(Us),{pathname:o}=cs(),c=JSON.stringify(MS(r)),u=j.useRef(!1);return US(()=>{u.current=!0}),j.useCallback((g,y={})=>{if(bi(u.current,LS),!u.current)return;if(typeof g=="number"){i.go(g);return}let v=PS(g,JSON.parse(c),o,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:js([e,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[e,i,c,o,t])}j.createContext(null);function Mc(t,{relative:e}={}){let{matches:i}=j.useContext(Us),{pathname:r}=cs(),o=JSON.stringify(MS(i));return j.useMemo(()=>PS(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function $C(t,e){return zS(t,e)}function zS(t,e,i,r,o){yt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(ls),{matches:u}=j.useContext(Us),m=u[u.length-1],g=m?m.params:{},y=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let G=T&&T.path||"";BS(y,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=cs(),w;if(e){let G=typeof e=="string"?Uo(e):e;yt(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),w=G}else w=S;let I=w.pathname||"/",U=I;if(v!=="/"){let G=v.replace(/^\//,"").split("/");U="/"+I.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=DS(t,{pathname:U});bi(T||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=tN(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:js([v,c.encodeLocation?c.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:js([v,c.encodeLocation?c.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),u,i,r,o);return e&&O?j.createElement(Vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function ZC(){let t=aN(),e=HC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),i?j.createElement("pre",{style:o},i):null,u)}var WC=j.createElement(ZC,null),JC=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(Us.Provider,{value:this.props.routeContext},j.createElement(Ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eN({routeContext:t,match:e,children:i}){let r=j.useContext(zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Us.Provider,{value:t},i)}function tN(t,e=[],i=null,r=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let c=t,u=i?.errors;if(u!=null){let v=c.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,g=-1;if(i)for(let v=0;v<c.length;v++){let T=c[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=v),T.route.id){let{loaderData:S,errors:w}=i,I=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!w||w[T.route.id]===void 0);if(T.route.lazy||I){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=i&&r?(v,T)=>{r(v,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:T})}:void 0;return c.reduceRight((v,T,S)=>{let w,I=!1,U=null,k=null;i&&(w=u&&T.route.id?u[T.route.id]:void 0,U=T.route.errorElement||WC,m&&(g<0&&S===0?(BS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):g===S&&(I=!0,k=T.route.hydrateFallbackElement||null)));let O=e.concat(c.slice(0,S+1)),G=()=>{let F;return w?F=U:I?F=k:T.route.Component?F=j.createElement(T.route.Component,null):T.route.element?F=T.route.element:F=v,j.createElement(eN,{match:T,routeContext:{outlet:v,matches:O,isDataRoute:i!=null},children:F})};return i&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?j.createElement(JC,{location:i.location,revalidation:i.revalidation,component:U,error:w,children:G(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:y}):G()},null)}function Dg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nN(t){let e=j.useContext(zo);return yt(e,Dg(t)),e}function iN(t){let e=j.useContext(xd);return yt(e,Dg(t)),e}function sN(t){let e=j.useContext(Us);return yt(e,Dg(t)),e}function Vg(t){let e=sN(t),i=e.matches[e.matches.length-1];return yt(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function rN(){return Vg("useRouteId")}function aN(){let t=j.useContext(Ng),e=iN("useRouteError"),i=Vg("useRouteError");return t!==void 0?t:e.errors?.[i]}function oN(){let{router:t}=nN("useNavigate"),e=Vg("useNavigate"),i=j.useRef(!1);return US(()=>{i.current=!0}),j.useCallback(async(o,c={})=>{bi(i.current,LS),i.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var qT={};function BS(t,e,i){!e&&!qT[t]&&(qT[t]=!0,bi(!1,i))}j.memo(lN);function lN({routes:t,future:e,state:i,unstable_onError:r}){return zS(t,void 0,i,r,e)}function ni(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cN({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){yt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof i=="string"&&(i=Uo(i));let{pathname:g="/",search:y="",hash:v="",state:T=null,key:S="default"}=i,w=j.useMemo(()=>{let I=Is(g,u);return I==null?null:{location:{pathname:I,search:y,hash:v,state:T,key:S},navigationType:r}},[u,g,y,v,T,S,r]);return bi(w!=null,`<Router basename="${u}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(ls.Provider,{value:m},j.createElement(Vc.Provider,{children:e,value:w}))}function uN({children:t,location:e}){return $C(Vp(t),e)}function Vp(t,e=[]){let i=[];return j.Children.forEach(t,(r,o)=>{if(!j.isValidElement(r))return;let c=[...e,o];if(r.type===j.Fragment){i.push.apply(i,Vp(r.props.children,c));return}yt(r.type===ni,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Vp(r.props.children,c)),i.push(u)}),i}var Vh="get",Ih="application/x-www-form-urlencoded";function Sd(t){return t!=null&&typeof t.tagName=="string"}function hN(t){return Sd(t)&&t.tagName.toLowerCase()==="button"}function dN(t){return Sd(t)&&t.tagName.toLowerCase()==="form"}function fN(t){return Sd(t)&&t.tagName.toLowerCase()==="input"}function mN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pN(t,e){return t.button===0&&(!e||e==="_self")&&!mN(t)}var yh=null;function gN(){if(yh===null)try{new FormData(document.createElement("form"),0),yh=!1}catch{yh=!0}return yh}var yN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(t){return t!=null&&!yN.has(t)?(bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):t}function vN(t,e){let i,r,o,c,u;if(dN(t)){let m=t.getAttribute("action");r=m?Is(m,e):null,i=t.getAttribute("method")||Vh,o=ip(t.getAttribute("enctype"))||Ih,c=new FormData(t)}else if(hN(t)||fN(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(r=g?Is(g,e):null,i=t.getAttribute("formmethod")||m.getAttribute("method")||Vh,o=ip(t.getAttribute("formenctype"))||ip(m.getAttribute("enctype"))||Ih,c=new FormData(m,t),!gN()){let{name:y,type:v,value:T}=t;if(v==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,T)}}else{if(Sd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Vh,r=null,o=Ih,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _N(t,e,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&Is(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function TN(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xN(t,e,i){let r=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await TN(c,i);return u.links?u.links():[]}return[]}));return wN(r.flat(1).filter(EN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function FT(t,e,i,r,o,c){let u=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>u(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let v=r.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function SN(t,e,{includeHydrateFallback:i}={}){return bN(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function bN(t){return[...new Set(t)]}function AN(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function wN(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let c=JSON.stringify(AN(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function qS(){let t=j.useContext(zo);return Ig(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RN(){let t=j.useContext(xd);return Ig(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mg=j.createContext(void 0);Mg.displayName="FrameworkContext";function FS(){let t=j.useContext(Mg);return Ig(t,"You must render this element inside a <HydratedRouter> element"),t}function CN(t,e){let i=j.useContext(Mg),[r,o]=j.useState(!1),[c,u]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,S=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let U=O=>{O.forEach(G=>{u(G.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[t]),j.useEffect(()=>{if(r){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[r]);let w=()=>{o(!0)},I=()=>{o(!1),u(!1)};return i?t!=="intent"?[c,S,{}]:[c,S,{onFocus:Zl(m,w),onBlur:Zl(g,I),onMouseEnter:Zl(y,w),onMouseLeave:Zl(v,I),onTouchStart:Zl(T,w)}]:[!1,S,{}]}function Zl(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function NN({page:t,...e}){let{router:i}=qS(),r=j.useMemo(()=>DS(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?j.createElement(DN,{page:t,matches:r,...e}):null}function jN(t){let{manifest:e,routeModules:i}=FS(),[r,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return xN(t,e,i).then(u=>{c||o(u)}),()=>{c=!0}},[t,e,i]),r}function DN({page:t,matches:e,...i}){let r=cs(),{manifest:o,routeModules:c}=FS(),{basename:u}=qS(),{loaderData:m,matches:g}=RN(),y=j.useMemo(()=>FT(t,e,g,o,r,"data"),[t,e,g,o,r]),v=j.useMemo(()=>FT(t,e,g,o,r,"assets"),[t,e,g,o,r]),T=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,U=!1;if(e.forEach(O=>{let G=o.routes[O.route.id];!G||!G.hasLoader||(!y.some(F=>F.route.id===O.route.id)&&O.route.id in m&&c[O.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:I.add(O.route.id))}),I.size===0)return[];let k=_N(t,u,"data");return U&&I.size>0&&k.searchParams.set("_routes",e.filter(O=>I.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[u,m,r,o,y,e,t,c]),S=j.useMemo(()=>SN(v,o),[v,o]),w=jN(v);return j.createElement(j.Fragment,null,T.map(I=>j.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...i})),S.map(I=>j.createElement("link",{key:I,rel:"modulepreload",href:I,...i})),w.map(({key:I,link:U})=>j.createElement("link",{key:I,nonce:i.nonce,...U})))}function VN(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var HS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HS&&(window.__reactRouterVersion="7.9.6")}catch{}function IN({basename:t,children:e,window:i}){let r=j.useRef();r.current==null&&(r.current=TC({window:i,v5Compat:!0}));let o=r.current,[c,u]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>u(g))},[u]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(cN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o})}var GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=j.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:m,target:g,to:y,preventScrollReset:v,viewTransition:T,...S},w){let{basename:I}=j.useContext(ls),U=typeof y=="string"&&GS.test(y),k,O=!1;if(typeof y=="string"&&U&&(k=y,HS))try{let N=new URL(window.location.href),M=y.startsWith("//")?new URL(N.protocol+y):new URL(y),D=Is(M.pathname,I);M.origin===N.origin&&D!=null?y=D+M.search+M.hash:O=!0}catch{bi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=QC(y,{relative:o}),[F,de,ee]=CN(r,S),ne=ON(y,{replace:u,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:T});function C(N){e&&e(N),N.defaultPrevented||ne(N)}let A=j.createElement("a",{...S,...ee,href:k||G,onClick:O||c?e:C,ref:VN(w,de),target:g,"data-discover":!U&&i==="render"?"true":void 0});return F&&!U?j.createElement(j.Fragment,null,A,j.createElement(NN,{page:G})):A});dt.displayName="Link";var MN=j.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:m,children:g,...y},v){let T=Mc(u,{relative:y.relative}),S=cs(),w=j.useContext(xd),{navigator:I,basename:U}=j.useContext(ls),k=w!=null&&qN(T)&&m===!0,O=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,G=S.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(G=G.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&U&&(F=Is(F,U)||F);const de=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ee=G===O||!o&&G.startsWith(O)&&G.charAt(de)==="/",ne=F!=null&&(F===O||!o&&F.startsWith(O)&&F.charAt(O.length)==="/"),C={isActive:ee,isPending:ne,isTransitioning:k},A=ee?e:void 0,N;typeof r=="function"?N=r(C):N=[r,ee?"active":null,ne?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(C):c;return j.createElement(dt,{...y,"aria-current":A,className:N,ref:v,style:M,to:u,viewTransition:m},typeof g=="function"?g(C):g)});MN.displayName="NavLink";var PN=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:u=Vh,action:m,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:T,...S},w)=>{let I=zN(),U=BN(m,{relative:y}),k=u.toLowerCase()==="get"?"get":"post",O=typeof m=="string"&&GS.test(m),G=F=>{if(g&&g(F),F.defaultPrevented)return;F.preventDefault();let de=F.nativeEvent.submitter,ee=de?.getAttribute("formmethod")||u;I(de||F.currentTarget,{fetcherKey:e,method:ee,navigate:i,replace:o,state:c,relative:y,preventScrollReset:v,viewTransition:T})};return j.createElement("form",{ref:w,method:k,action:U,onSubmit:r?g:G,...S,"data-discover":!O&&t==="render"?"true":void 0})});PN.displayName="Form";function kN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(t){let e=j.useContext(zo);return yt(e,kN(t)),e}function ON(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=jg(),g=cs(),y=Mc(t,{relative:c});return j.useCallback(v=>{if(pN(v,e)){v.preventDefault();let T=i!==void 0?i:mc(g)===mc(y);m(t,{replace:T,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[g,m,y,i,r,e,t,o,c,u])}var LN=0,UN=()=>`__${String(++LN)}__`;function zN(){let{router:t}=KS("useSubmit"),{basename:e}=j.useContext(ls),i=rN();return j.useCallback(async(r,o={})=>{let{action:c,method:u,encType:m,formData:g,body:y}=vN(r,e);if(o.navigate===!1){let v=o.fetcherKey||UN();await t.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,i])}function BN(t,{relative:e}={}){let{basename:i}=j.useContext(ls),r=j.useContext(Us);yt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Mc(t||".",{relative:e})},u=cs();if(t==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();c.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:js([i,c.pathname])),mc(c)}function qN(t,{relative:e}={}){let i=j.useContext(OS);yt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KS("useViewTransitionState"),o=Mc(t,{relative:e});if(!i.isTransitioning)return!1;let c=Is(i.currentLocation.pathname,r)||i.currentLocation.pathname,u=Is(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Hh(o.pathname,u)!=null||Hh(o.pathname,c)!=null}const YS=j.createContext(void 0);function Pc(){const t=j.useContext(YS);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function FN({children:t}){const[e,i]=j.useState(()=>{try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch{return[]}});j.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=y=>{const v=y.selectedIngredients?.reduce((T,S)=>T+(S.extraPrice||0),0)||0;return y.price+v};function o(y){i(v=>{const T=y.id+(y.selectedIngredients?.map(I=>I.name).sort().join("-")||""),S=v.find(I=>I.id===T),w=r(y);return S?v.map(I=>I.id===T?{...I,qty:I.qty+y.qty}:I):[...v,{...y,id:T,qty:y.qty,price:w}]})}function c(y,v){i(T=>v<=0?T.filter(S=>S.id!==y):T.map(S=>S.id===y?{...S,qty:v}:S))}function u(y){i(v=>v.filter(T=>T.id!==y))}function m(){i([])}const g=e.reduce((y,v)=>y+v.price*v.qty,0);return d.jsx(YS.Provider,{value:{items:e,addItem:o,updateQty:c,removeItem:u,clear:m,total:g},children:t})}function Ip(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M7.2 3.1 5.4 4.3c-.8.5-1.2 1.5-1 2.4.9 4.2 4 7.7 8.1 8.9.9.3 1.9 0 2.4-.8l1.3-1.9c.4-.6.2-1.5-.4-2l-1.6-1.1c-.6-.4-1.3-.3-1.8.2l-.7.8c-1.2-.5-2.4-1.7-2.9-2.9l.8-.7c.5-.5.6-1.3.2-1.9L9.2 3.4C8.8 2.8 7.9 2.7 7.2 3.1Z",fill:"currentColor"})})}function ga({className:t=""}){return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:t,"aria-hidden":"true",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M8 6V4h8v2"}),d.jsx("path",{d:"M6 6l1 14h10l1-14"}),d.jsx("path",{d:"M10 11v6"}),d.jsx("path",{d:"M14 11v6"})]})}function pc(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M7.3 5h13.2l-1.3 7.4c-.2 1-1 1.6-2 1.6H9.2c-1 0-1.8-.6-2-1.6L6 4H3.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"10",cy:"19",r:"1.4",fill:"currentColor"}),d.jsx("circle",{cx:"17",cy:"19",r:"1.4",fill:"currentColor"})]})}function Gh(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M5 12h12.5M13 7.5 17.5 12 13 16.5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function Mp(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M4.3 6.2 12 3.5l7.7 2.7L12 20.5 4.3 6.2Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinejoin:"round"}),d.jsx("circle",{cx:"12",cy:"9",r:"1.1",fill:"currentColor"}),d.jsx("circle",{cx:"9.5",cy:"12.2",r:"0.9",fill:"currentColor"}),d.jsx("circle",{cx:"14.7",cy:"13.3",r:"0.9",fill:"currentColor"})]})}function HN(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}function GN(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}function HT(t){return d.jsxs("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5",strokeWidth:"2"}),d.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",strokeWidth:"2"})]})}function GT(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M21 12.79A9 9 0 0 1 12.21 3a7 7 0 0 0 0 14 9 9 0 0 1 8.79-4.21z",strokeWidth:"2"})})}function QS(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function KN(){const[t,e]=j.useState(!1),{items:i}=Pc(),r=i.reduce((g,y)=>g+y.qty,0),o=j.useRef(null),c=j.useRef(null),[u,m]=j.useState(()=>localStorage.getItem("theme")==="dark");return j.useEffect(()=>{const g=document.documentElement;u?g.setAttribute("data-theme","dark"):g.setAttribute("data-theme","light"),localStorage.setItem("theme",u?"dark":"light")},[u]),j.useEffect(()=>(t?document.body.classList.add("mobile-menu-open"):document.body.classList.remove("mobile-menu-open"),()=>{document.body.classList.remove("mobile-menu-open")}),[t]),j.useEffect(()=>{const g=y=>{if(!t)return;const v=y.target;o.current?.contains(v)||c.current?.contains(v)||e(!1)};return t&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[t]),d.jsxs("header",{className:"modern-header",children:[d.jsxs("div",{className:"modern-header-container",children:[d.jsxs(dt,{to:"/",className:"modern-header-logo",children:[d.jsx("span",{className:"modern-logo-main",children:"Xanthos"}),d.jsx("span",{className:"modern-logo-sub",children:"Pizza & Grill"})]}),d.jsxs("nav",{className:"modern-header-nav",children:[d.jsx(dt,{to:"/menu",className:"modern-nav-link",children:"Menu"}),d.jsx(dt,{to:"/om-os",className:"modern-nav-link",children:"Om os"}),d.jsx(dt,{to:"/kontakt",className:"modern-nav-link",children:"Kontakt"})]}),d.jsxs("div",{className:"modern-header-actions",children:[d.jsxs("a",{href:"tel:+4570123456",className:"modern-header-phone",children:[d.jsx(Ip,{}),d.jsx("span",{children:"70 12 34 56"})]}),d.jsxs(dt,{to:"/cart",className:"modern-header-cart",children:[d.jsx(pc,{}),d.jsx("span",{children:"Kurv"}),r>0&&d.jsx("span",{className:"modern-cart-badge",children:r})]}),d.jsxs(dt,{to:"/bestil",className:"modern-header-cta",children:["Bestil",d.jsx(Gh,{})]}),d.jsx("button",{className:"modern-theme-toggle",onClick:()=>m(g=>!g),"aria-label":"Skift tema",children:u?d.jsx(HT,{}):d.jsx(GT,{})}),d.jsxs("button",{ref:c,className:`modern-mobile-toggle ${t?"open":""}`,onClick:()=>e(g=>!g),"aria-label":"bn/luk menu","aria-expanded":t,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]})]})]}),d.jsx("div",{ref:o,className:`modern-mobile-menu ${t?"open":""}`,children:d.jsxs("nav",{className:"modern-mobile-nav",children:[d.jsxs(dt,{to:"/menu",onClick:()=>e(!1),children:[d.jsx(Mp,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Menu"})]}),d.jsxs(dt,{to:"/om-os",onClick:()=>e(!1),children:[d.jsx(HN,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Om os"})]}),d.jsxs(dt,{to:"/kontakt",onClick:()=>e(!1),children:[d.jsx(GN,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Kontakt"})]}),d.jsxs(dt,{to:"/cart",onClick:()=>e(!1),children:[d.jsx(pc,{className:"mobile-nav-icon"}),d.jsxs("span",{children:["Kurv ",r>0&&`(${r})`]})]}),d.jsxs("div",{className:"contact-and-theme-div",children:[d.jsxs("a",{href:"tel:+4570123456",onClick:()=>e(!1),children:[d.jsx(Ip,{className:"mobile-nav-icon"}),d.jsx("span",{children:"+45 70 12 34 56"})]}),d.jsx("button",{className:"mobile-theme-toggle",onClick:()=>m(g=>!g),"aria-label":"Skift tema",children:u?d.jsx(HT,{}):d.jsx(GT,{})})]}),d.jsxs(dt,{to:"/bestil",onClick:()=>e(!1),className:"modern-mobile-cta",children:[d.jsx("span",{children:"Bestil takeaway"}),d.jsx(Gh,{className:"mobile-nav-cta-icon"})]})]})})]})}function YN(){return d.jsx("footer",{className:"footer-glass",children:d.jsxs("div",{className:"glass-box",children:[d.jsxs("div",{className:"brand",children:[d.jsx("h3",{children:"Xanthos Pizza & Grill"}),d.jsxs("p",{children:[" ",new Date().getFullYear()," Starpack APS  MKaan"]})]}),d.jsxs("div",{className:"glass-links",children:[d.jsx(dt,{to:"/om-os",children:"Om os"}),d.jsx(dt,{to:"/kontakt",children:"Kontakt"}),d.jsx(dt,{to:"/privacy",children:"Privacy Policy"})]})]})})}const QN=()=>{};var KT={};const XS=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},XN=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[i++],u=t[i++],m=t[i++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=t[i++],u=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,m=u?t[o+1]:0,g=o+2<t.length,y=g?t[o+2]:0,v=c>>2,T=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,w=y&63;g||(w=64,u||(S=64)),r.push(i[v],i[T],i[S],i[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const c=i[t.charAt(o++)],m=o<t.length?i[t.charAt(o)]:0;++o;const y=o<t.length?i[t.charAt(o)]:64;++o;const T=o<t.length?i[t.charAt(o)]:64;if(++o,c==null||m==null||y==null||T==null)throw new $N;const S=c<<2|m>>4;if(r.push(S),y!==64){const w=m<<4&240|y>>2;if(r.push(w),T!==64){const I=y<<6&192|T;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZN=function(t){const e=XS(t);return $S.encodeByteArray(e,!0)},Kh=function(t){return ZN(t).replace(/\./g,"")},WN=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const e2=()=>JN().__FIREBASE_DEFAULTS__,t2=()=>{if(typeof process>"u"||typeof KT>"u")return;const t=KT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WN(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return QN()||e2()||t2()||n2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i2=t=>Pg()?.emulatorHosts?.[t],s2=t=>{const e=i2(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},ZS=()=>Pg()?.config;class r2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function kg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a2(t){return(await fetch(t,{credentials:"include"})).ok}function o2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kh(JSON.stringify(i)),Kh(JSON.stringify(u)),""].join(".")}const rc={};function l2(){const t={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?t.emulator.push(e):t.prod.push(e);return t}function c2(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let YT=!1;function u2(t,e){if(typeof window>"u"||typeof document>"u"||!kg(window.location.host)||rc[t]===e||rc[t]||YT)return;rc[t]=e;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=l2().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{YT=!0,u()},S}function v(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=c2(r),w=i("text"),I=document.getElementById(w)||document.createElement("span"),U=i("learnmore"),k=document.getElementById(U)||document.createElement("a"),O=i("preprendIcon"),G=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const F=S.element;m(F),v(k,U);const de=y();g(G,O),F.append(G,I,k,de),document.body.appendChild(F)}c?(I.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function h2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d2(){const t=Pg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m2(){try{return typeof indexedDB=="object"}catch{return!1}}function p2(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const g2="FirebaseError";class Bo extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=g2,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,WS.prototype.create)}}class WS{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?y2(c,r):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Bo(o,m,r)}}function y2(t,e){return t.replace(v2,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const v2=/\{\$([^}]+)}/g;function Yh(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=t[o],u=e[o];if(QT(c)&&QT(u)){if(!Yh(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function QT(t){return t!==null&&typeof t=="object"}function rs(t){return t&&t._delegate?t._delegate:t}class gc{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class _2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new r2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E2(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&u.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T2(t){return t===ma?void 0:t}function E2(t){return t.instantiationMode==="EAGER"}class x2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const S2={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},b2=Qe.INFO,A2={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},w2=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=A2[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class JS{constructor(e){this.name=e,this._logLevel=b2,this._logHandler=w2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const R2=(t,e)=>e.some(i=>t instanceof i);let XT,$T;function C2(){return XT||(XT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N2(){return $T||($T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eb=new WeakMap,Pp=new WeakMap,tb=new WeakMap,sp=new WeakMap,Og=new WeakMap;function j2(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{i(Er(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(i=>{i instanceof IDBCursor&&eb.set(i,t)}).catch(()=>{}),Og.set(e,t),e}function D2(t){if(Pp.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{i(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Pp.set(t,e)}let kp={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tb.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V2(t){kp=t(kp)}function I2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(rp(this),e,...i);return tb.set(r,e.sort?e.sort():[e]),Er(r)}:N2().includes(t)?function(...e){return t.apply(rp(this),e),Er(eb.get(this))}:function(...e){return Er(t.apply(rp(this),e))}}function M2(t){return typeof t=="function"?I2(t):(t instanceof IDBTransaction&&D2(t),R2(t,C2())?new Proxy(t,kp):t)}function Er(t){if(t instanceof IDBRequest)return j2(t);if(sp.has(t))return sp.get(t);const e=M2(t);return e!==t&&(sp.set(t,e),Og.set(e,t)),e}const rp=t=>Og.get(t);function P2(t,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),m=Er(u);return r&&u.addEventListener("upgradeneeded",g=>{r(Er(u.result),g.oldVersion,g.newVersion,Er(u.transaction),g)}),i&&u.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const k2=["get","getKey","getAll","getAllKeys","count"],O2=["put","add","delete","clear"],ap=new Map;function ZT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=O2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||k2.includes(i)))return;const c=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&g.done]))[0]};return ap.set(e,c),c}V2(t=>({...t,get:(e,i,r)=>ZT(e,i)||t.get(e,i,r),has:(e,i)=>!!ZT(e,i)||t.has(e,i)}));class L2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(U2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function U2(t){return t.getComponent()?.type==="VERSION"}const Op="@firebase/app",WT="0.14.6";const Ms=new JS("@firebase/app"),z2="@firebase/app-compat",B2="@firebase/analytics-compat",q2="@firebase/analytics",F2="@firebase/app-check-compat",H2="@firebase/app-check",G2="@firebase/auth",K2="@firebase/auth-compat",Y2="@firebase/database",Q2="@firebase/data-connect",X2="@firebase/database-compat",$2="@firebase/functions",Z2="@firebase/functions-compat",W2="@firebase/installations",J2="@firebase/installations-compat",ej="@firebase/messaging",tj="@firebase/messaging-compat",nj="@firebase/performance",ij="@firebase/performance-compat",sj="@firebase/remote-config",rj="@firebase/remote-config-compat",aj="@firebase/storage",oj="@firebase/storage-compat",lj="@firebase/firestore",cj="@firebase/ai",uj="@firebase/firestore-compat",hj="firebase",dj="12.6.0";const Lp="[DEFAULT]",fj={[Op]:"fire-core",[z2]:"fire-core-compat",[q2]:"fire-analytics",[B2]:"fire-analytics-compat",[H2]:"fire-app-check",[F2]:"fire-app-check-compat",[G2]:"fire-auth",[K2]:"fire-auth-compat",[Y2]:"fire-rtdb",[Q2]:"fire-data-connect",[X2]:"fire-rtdb-compat",[$2]:"fire-fn",[Z2]:"fire-fn-compat",[W2]:"fire-iid",[J2]:"fire-iid-compat",[ej]:"fire-fcm",[tj]:"fire-fcm-compat",[nj]:"fire-perf",[ij]:"fire-perf-compat",[sj]:"fire-rc",[rj]:"fire-rc-compat",[aj]:"fire-gcs",[oj]:"fire-gcs-compat",[lj]:"fire-fst",[uj]:"fire-fst-compat",[cj]:"fire-vertex","fire-js":"fire-js",[hj]:"fire-js-all"};const Qh=new Map,mj=new Map,Up=new Map;function JT(t,e){try{t.container.addComponent(e)}catch(i){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Xh(t){const e=t.name;if(Up.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,t);for(const i of Qh.values())JT(i,t);for(const i of mj.values())JT(i,t);return!0}function pj(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function gj(t){return t==null?!1:t.settings!==void 0}const yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new WS("app","Firebase",yj);class vj{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const _j=dj;function nb(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r={name:Lp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(i||(i=ZS()),!i)throw xr.create("no-options");const c=Qh.get(o);if(c){if(Yh(i,c.options)&&Yh(r,c.config))return c;throw xr.create("duplicate-app",{appName:o})}const u=new x2(o);for(const g of Up.values())u.addComponent(g);const m=new vj(i,r,u);return Qh.set(o,m),m}function Tj(t=Lp){const e=Qh.get(t);if(!e&&t===Lp&&ZS())return nb();if(!e)throw xr.create("no-app",{appName:t});return e}function Co(t,e,i){let r=fj[t]??t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(u.join(" "));return}Xh(new gc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Ej="firebase-heartbeat-database",xj=1,yc="firebase-heartbeat-store";let op=null;function ib(){return op||(op=P2(Ej,xj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yc)}catch(i){console.warn(i)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),op}async function Sj(t){try{const i=(await ib()).transaction(yc),r=await i.objectStore(yc).get(sb(t));return await i.done,r}catch(e){if(e instanceof Bo)Ms.warn(e.message);else{const i=xr.create("idb-get",{originalErrorMessage:e?.message});Ms.warn(i.message)}}}async function eE(t,e){try{const r=(await ib()).transaction(yc,"readwrite");await r.objectStore(yc).put(e,sb(t)),await r.done}catch(i){if(i instanceof Bo)Ms.warn(i.message);else{const r=xr.create("idb-set",{originalErrorMessage:i?.message});Ms.warn(r.message)}}}function sb(t){return`${t.name}!${t.options.appId}`}const bj=1024,Aj=30;class wj{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cj(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Aj){const o=Nj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tE(),{heartbeatsToSend:i,unsentEntries:r}=Rj(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ms.warn(e),""}}}function tE(){return new Date().toISOString().substring(0,10)}function Rj(t,e=bj){const i=[];let r=t.slice();for(const o of t){const c=i.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),nE(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),nE(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Cj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m2()?p2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sj(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nE(t){return Kh(JSON.stringify({version:2,heartbeats:t})).length}function Nj(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}function jj(t){Xh(new gc("platform-logger",e=>new L2(e),"PRIVATE")),Xh(new gc("heartbeat",e=>new wj(e),"PRIVATE")),Co(Op,WT,t),Co(Op,WT,"esm2020"),Co("fire-js","")}jj("");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,rb;(function(){var t;function e(C,A){function N(){}N.prototype=A.prototype,C.F=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,D,B){for(var V=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)V[Pe-2]=arguments[Pe];return A.prototype[D].apply(M,V)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,N){N||(N=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;D<16;++D)M[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],D=C.g[2];let B=C.g[3],V;V=A+(B^N&(D^B))+M[0]+3614090360&4294967295,A=N+(V<<7&4294967295|V>>>25),V=B+(D^A&(N^D))+M[1]+3905402710&4294967295,B=A+(V<<12&4294967295|V>>>20),V=D+(N^B&(A^N))+M[2]+606105819&4294967295,D=B+(V<<17&4294967295|V>>>15),V=N+(A^D&(B^A))+M[3]+3250441966&4294967295,N=D+(V<<22&4294967295|V>>>10),V=A+(B^N&(D^B))+M[4]+4118548399&4294967295,A=N+(V<<7&4294967295|V>>>25),V=B+(D^A&(N^D))+M[5]+1200080426&4294967295,B=A+(V<<12&4294967295|V>>>20),V=D+(N^B&(A^N))+M[6]+2821735955&4294967295,D=B+(V<<17&4294967295|V>>>15),V=N+(A^D&(B^A))+M[7]+4249261313&4294967295,N=D+(V<<22&4294967295|V>>>10),V=A+(B^N&(D^B))+M[8]+1770035416&4294967295,A=N+(V<<7&4294967295|V>>>25),V=B+(D^A&(N^D))+M[9]+2336552879&4294967295,B=A+(V<<12&4294967295|V>>>20),V=D+(N^B&(A^N))+M[10]+4294925233&4294967295,D=B+(V<<17&4294967295|V>>>15),V=N+(A^D&(B^A))+M[11]+2304563134&4294967295,N=D+(V<<22&4294967295|V>>>10),V=A+(B^N&(D^B))+M[12]+1804603682&4294967295,A=N+(V<<7&4294967295|V>>>25),V=B+(D^A&(N^D))+M[13]+4254626195&4294967295,B=A+(V<<12&4294967295|V>>>20),V=D+(N^B&(A^N))+M[14]+2792965006&4294967295,D=B+(V<<17&4294967295|V>>>15),V=N+(A^D&(B^A))+M[15]+1236535329&4294967295,N=D+(V<<22&4294967295|V>>>10),V=A+(D^B&(N^D))+M[1]+4129170786&4294967295,A=N+(V<<5&4294967295|V>>>27),V=B+(N^D&(A^N))+M[6]+3225465664&4294967295,B=A+(V<<9&4294967295|V>>>23),V=D+(A^N&(B^A))+M[11]+643717713&4294967295,D=B+(V<<14&4294967295|V>>>18),V=N+(B^A&(D^B))+M[0]+3921069994&4294967295,N=D+(V<<20&4294967295|V>>>12),V=A+(D^B&(N^D))+M[5]+3593408605&4294967295,A=N+(V<<5&4294967295|V>>>27),V=B+(N^D&(A^N))+M[10]+38016083&4294967295,B=A+(V<<9&4294967295|V>>>23),V=D+(A^N&(B^A))+M[15]+3634488961&4294967295,D=B+(V<<14&4294967295|V>>>18),V=N+(B^A&(D^B))+M[4]+3889429448&4294967295,N=D+(V<<20&4294967295|V>>>12),V=A+(D^B&(N^D))+M[9]+568446438&4294967295,A=N+(V<<5&4294967295|V>>>27),V=B+(N^D&(A^N))+M[14]+3275163606&4294967295,B=A+(V<<9&4294967295|V>>>23),V=D+(A^N&(B^A))+M[3]+4107603335&4294967295,D=B+(V<<14&4294967295|V>>>18),V=N+(B^A&(D^B))+M[8]+1163531501&4294967295,N=D+(V<<20&4294967295|V>>>12),V=A+(D^B&(N^D))+M[13]+2850285829&4294967295,A=N+(V<<5&4294967295|V>>>27),V=B+(N^D&(A^N))+M[2]+4243563512&4294967295,B=A+(V<<9&4294967295|V>>>23),V=D+(A^N&(B^A))+M[7]+1735328473&4294967295,D=B+(V<<14&4294967295|V>>>18),V=N+(B^A&(D^B))+M[12]+2368359562&4294967295,N=D+(V<<20&4294967295|V>>>12),V=A+(N^D^B)+M[5]+4294588738&4294967295,A=N+(V<<4&4294967295|V>>>28),V=B+(A^N^D)+M[8]+2272392833&4294967295,B=A+(V<<11&4294967295|V>>>21),V=D+(B^A^N)+M[11]+1839030562&4294967295,D=B+(V<<16&4294967295|V>>>16),V=N+(D^B^A)+M[14]+4259657740&4294967295,N=D+(V<<23&4294967295|V>>>9),V=A+(N^D^B)+M[1]+2763975236&4294967295,A=N+(V<<4&4294967295|V>>>28),V=B+(A^N^D)+M[4]+1272893353&4294967295,B=A+(V<<11&4294967295|V>>>21),V=D+(B^A^N)+M[7]+4139469664&4294967295,D=B+(V<<16&4294967295|V>>>16),V=N+(D^B^A)+M[10]+3200236656&4294967295,N=D+(V<<23&4294967295|V>>>9),V=A+(N^D^B)+M[13]+681279174&4294967295,A=N+(V<<4&4294967295|V>>>28),V=B+(A^N^D)+M[0]+3936430074&4294967295,B=A+(V<<11&4294967295|V>>>21),V=D+(B^A^N)+M[3]+3572445317&4294967295,D=B+(V<<16&4294967295|V>>>16),V=N+(D^B^A)+M[6]+76029189&4294967295,N=D+(V<<23&4294967295|V>>>9),V=A+(N^D^B)+M[9]+3654602809&4294967295,A=N+(V<<4&4294967295|V>>>28),V=B+(A^N^D)+M[12]+3873151461&4294967295,B=A+(V<<11&4294967295|V>>>21),V=D+(B^A^N)+M[15]+530742520&4294967295,D=B+(V<<16&4294967295|V>>>16),V=N+(D^B^A)+M[2]+3299628645&4294967295,N=D+(V<<23&4294967295|V>>>9),V=A+(D^(N|~B))+M[0]+4096336452&4294967295,A=N+(V<<6&4294967295|V>>>26),V=B+(N^(A|~D))+M[7]+1126891415&4294967295,B=A+(V<<10&4294967295|V>>>22),V=D+(A^(B|~N))+M[14]+2878612391&4294967295,D=B+(V<<15&4294967295|V>>>17),V=N+(B^(D|~A))+M[5]+4237533241&4294967295,N=D+(V<<21&4294967295|V>>>11),V=A+(D^(N|~B))+M[12]+1700485571&4294967295,A=N+(V<<6&4294967295|V>>>26),V=B+(N^(A|~D))+M[3]+2399980690&4294967295,B=A+(V<<10&4294967295|V>>>22),V=D+(A^(B|~N))+M[10]+4293915773&4294967295,D=B+(V<<15&4294967295|V>>>17),V=N+(B^(D|~A))+M[1]+2240044497&4294967295,N=D+(V<<21&4294967295|V>>>11),V=A+(D^(N|~B))+M[8]+1873313359&4294967295,A=N+(V<<6&4294967295|V>>>26),V=B+(N^(A|~D))+M[15]+4264355552&4294967295,B=A+(V<<10&4294967295|V>>>22),V=D+(A^(B|~N))+M[6]+2734768916&4294967295,D=B+(V<<15&4294967295|V>>>17),V=N+(B^(D|~A))+M[13]+1309151649&4294967295,N=D+(V<<21&4294967295|V>>>11),V=A+(D^(N|~B))+M[4]+4149444226&4294967295,A=N+(V<<6&4294967295|V>>>26),V=B+(N^(A|~D))+M[11]+3174756917&4294967295,B=A+(V<<10&4294967295|V>>>22),V=D+(A^(B|~N))+M[2]+718787259&4294967295,D=B+(V<<15&4294967295|V>>>17),V=N+(B^(D|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+B&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const N=A-this.blockSize,M=this.C;let D=this.h,B=0;for(;B<A;){if(D==0)for(;B<=N;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<A;)if(M[D++]=C.charCodeAt(B++),D==this.blockSize){o(this,M),D=0;break}}else for(;B<A;)if(M[D++]=C[B++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[A++]=this.g[N]>>>M&255;return C};function c(C,A){var N=m;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function u(C,A){this.h=A;const N=[];let M=!0;for(let D=C.length-1;D>=0;D--){const B=C[D]|0;M&&B==A||(N[D]=B,M=!1)}this.g=N}var m={};function g(C){return-128<=C&&C<128?c(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return k(y(-C));const A=[];let N=1;for(let M=0;C>=N;M++)A[M]=C/N|0,N*=4294967296;return new u(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return k(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(A,8));let M=T;for(let B=0;B<C.length;B+=8){var D=Math.min(8,C.length-B);const V=parseInt(C.substring(B,B+D),A);D<8?(D=y(Math.pow(A,D)),M=M.j(D).add(y(V))):(M=M.j(N),M=M.add(y(V)))}return M}var T=g(0),S=g(1),w=g(16777216);t=u.prototype,t.m=function(){if(U(this))return-k(this).m();let C=0,A=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(U(this))return"-"+k(this).toString(C);const A=y(Math.pow(C,6));var N=this;let M="";for(;;){const D=de(N,A).g;N=O(N,D.j(A));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,I(N))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function U(C){return C.h==-1}t.l=function(C){return C=O(this,C),U(C)?-1:I(C)?0:1};function k(C){const A=C.g.length,N=[];for(let M=0;M<A;M++)N[M]=~C.g[M];return new u(N,~C.h).add(S)}t.abs=function(){return U(this)?k(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let D=0;D<=A;D++){let B=M+(this.i(D)&65535)+(C.i(D)&65535),V=(B>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=V>>>16,B&=65535,V&=65535,N[D]=V<<16|B}return new u(N,N[N.length-1]&-2147483648?-1:0)};function O(C,A){return C.add(k(A))}t.j=function(C){if(I(this)||I(C))return T;if(U(this))return U(C)?k(this).j(k(C)):k(k(this).j(C));if(U(C))return k(this.j(k(C)));if(this.l(w)<0&&C.l(w)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,N=[];for(var M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const B=this.i(M)>>>16,V=this.i(M)&65535,Pe=C.i(D)>>>16,ge=C.i(D)&65535;N[2*M+2*D]+=V*ge,G(N,2*M+2*D),N[2*M+2*D+1]+=B*ge,G(N,2*M+2*D+1),N[2*M+2*D+1]+=V*Pe,G(N,2*M+2*D+1),N[2*M+2*D+2]+=B*Pe,G(N,2*M+2*D+2)}for(C=0;C<A;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=A;C<2*A;C++)N[C]=0;return new u(N,0)};function G(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function F(C,A){this.g=C,this.h=A}function de(C,A){if(I(A))throw Error("division by zero");if(I(C))return new F(T,T);if(U(C))return A=de(k(C),A),new F(k(A.g),k(A.h));if(U(A))return A=de(C,k(A)),new F(k(A.g),A.h);if(C.g.length>30){if(U(C)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var N=S,M=A;M.l(C)<=0;)N=ee(N),M=ee(M);var D=ne(N,1),B=ne(M,1);for(M=ne(M,2),N=ne(N,2);!I(M);){var V=B.add(M);V.l(C)<=0&&(D=D.add(N),B=V),M=ne(M,1),N=ne(N,1)}return A=O(C,D.j(A)),new F(D,A)}for(D=T;C.l(A)>=0;){for(N=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=y(N),V=B.j(A);U(V)||V.l(C)>0;)N-=M,B=y(N),V=B.j(A);I(B)&&(B=S),D=D.add(B),C=O(C,V)}return new F(D,C)}t.B=function(C){return de(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)&C.i(M);return new u(N,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)|C.i(M);return new u(N,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)^C.i(M);return new u(N,this.h^C.h)};function ee(C){const A=C.g.length+1,N=[];for(let M=0;M<A;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new u(N,C.h)}function ne(C,A){const N=A>>5;A%=32;const M=C.g.length-N,D=[];for(let B=0;B<M;B++)D[B]=A>0?C.i(B+N)>>>A|C.i(B+N+1)<<32-A:C.i(B+N);return new u(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,Sr=u}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ab,Jl,ob,Mh,zp,lb,cb,ub;(function(){var t,e=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=i(this);function o(h,_){if(_)e:{var x=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var K=h[R];if(!(K in x))break e;x=x[K]}h=h[h.length-1],R=x[h],_=_(R),_!=R&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var x=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&x.push([R,_[R]]);return x}});var c=c||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,x){return h.call.apply(h.bind,arguments)}function y(h,_,x){return y=g,y.apply(null,arguments)}function v(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function T(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(R,K,W){for(var me=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)me[ke-2]=arguments[ke];return _.prototype[K].apply(R,me)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const x=Array(_);for(let R=0;R<_;R++)x[R]=h[R];return x}return[]}function I(h,_){for(let R=1;R<arguments.length;R++){const K=arguments[R];var x=typeof K;if(x=x!="object"?x:K?Array.isArray(K)?"array":x:"null",x=="array"||x=="object"&&typeof K.length=="number"){x=h.length||0;const W=K.length||0;h.length=x+W;for(let me=0;me<W;me++)h[x+me]=K[me]}else h.push(K)}}class U{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){u.setTimeout(()=>{throw h},0)}function O(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class G{constructor(){this.h=this.g=null}add(_,x){const R=F.get();R.set(_,x),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new U(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ne=!1,C=new G,A=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(N)}};function N(){for(var h;h=O();){try{h.h.call(h.g)}catch(x){k(x)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ne=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,_),u.removeEventListener("test",x,_)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function Pe(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}T(Pe,D),Pe.prototype.init=function(h,_){const x=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),Z=0;function he(h,_,x,R,K){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!R,this.ha=K,this.key=++Z,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h,_,x){for(const R in h)_.call(x,h[R],R,h)}function Ce(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function z(h){const _={};for(const x in h)_[x]=h[x];return _}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let x,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(x in R)h[x]=R[x];for(let W=0;W<ie.length;W++)x=ie[W],Object.prototype.hasOwnProperty.call(R,x)&&(h[x]=R[x])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,_,x,R,K){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const me=fe(h,_,R,K);return me>-1?(_=h[me],x||(_.fa=!1)):(_=new he(_,this.src,W,!!R,K),_.fa=x,h.push(_)),_};function ue(h,_){const x=_.type;if(x in h.g){var R=h.g[x],K=Array.prototype.indexOf.call(R,_,void 0),W;(W=K>=0)&&Array.prototype.splice.call(R,K,1),W&&(ye(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function fe(h,_,x,R){for(let K=0;K<h.length;++K){const W=h[K];if(!W.da&&W.listener==_&&W.capture==!!x&&W.ha==R)return K}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),De={};function Le(h,_,x,R,K){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Le(h,_[W],x,R,K);return null}return x=Or(x),h&&h[ge]?h.J(_,x,m(R)?!!R.capture:!1,K):jt(h,_,x,!1,R,K)}function jt(h,_,x,R,K,W){if(!_)throw Error("Invalid event type");const me=m(K)?!!K.capture:!!K;let ke=Ri(h);if(ke||(h[Re]=ke=new le(h)),x=ke.add(_,x,R,me,W),x.proxy)return x;if(R=Yt(),x.proxy=R,R.src=h,R.listener=x,h.addEventListener)B||(K=me),K===void 0&&(K=!1),h.addEventListener(_.toString(),R,K);else if(h.attachEvent)h.attachEvent(yn(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Yt(){function h(x){return _.call(h.src,h.listener,x)}const _=wi;return h}function un(h,_,x,R,K){if(Array.isArray(_))for(var W=0;W<_.length;W++)un(h,_[W],x,R,K);else R=m(R)?!!R.capture:!!R,x=Or(x),h&&h[ge]?(h=h.i,W=String(_).toString(),W in h.g&&(_=h.g[W],x=fe(_,x,R,K),x>-1&&(ye(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[W],h.h--)))):h&&(h=Ri(h))&&(_=h.g[_.toString()],h=-1,_&&(h=fe(_,x,R,K)),(x=h>-1?_[h]:null)&&gn(x))}function gn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ge])ue(_.i,h);else{var x=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(x,R,h.capture):_.detachEvent?_.detachEvent(yn(x),R):_.addListener&&_.removeListener&&_.removeListener(R),(x=Ri(_))?(ue(x,h),x.h==0&&(x.src=null,_[Re]=null)):ye(h)}}}function yn(h){return h in De?De[h]:De[h]="on"+h}function wi(h,_){if(h.da)h=!0;else{_=new Pe(_,this);const x=h.listener,R=h.ha||h.src;h.fa&&gn(h),h=x.call(R,_)}return h}function Ri(h){return h=h[Re],h instanceof le?h:null}var kr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(h){return typeof h=="function"?h:(h[kr]||(h[kr]=function(_){return h.handleEvent(_)}),h[kr])}function _t(){M.call(this),this.i=new le(this),this.M=this,this.G=null}T(_t,M),_t.prototype[ge]=!0,_t.prototype.removeEventListener=function(h,_,x,R){un(this,h,_,x,R)};function bt(h,_){var x,R=h.G;if(R)for(x=[];R;R=R.G)x.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var K=_;_=new D(R,h),L(_,K)}K=!0;let W,me;if(x)for(me=x.length-1;me>=0;me--)W=_.g=x[me],K=Ci(W,R,!0,_)&&K;if(W=_.g=h,K=Ci(W,R,!0,_)&&K,K=Ci(W,R,!1,_)&&K,x)for(me=0;me<x.length;me++)W=_.g=x[me],K=Ci(W,R,!1,_)&&K}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let R=0;R<x.length;R++)ye(x[R]);delete h.g[_],h.h--}}this.G=null},_t.prototype.J=function(h,_,x,R){return this.i.add(String(h),_,!1,x,R)},_t.prototype.K=function(h,_,x,R){return this.i.add(String(h),_,!0,x,R)};function Ci(h,_,x,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let W=0;W<_.length;++W){const me=_[W];if(me&&!me.da&&me.capture==x){const ke=me.listener,wt=me.ha||me.src;me.fa&&ue(h.i,me),K=ke.call(wt,R)!==!1&&K}}return K&&!R.defaultPrevented}function X(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function ae(h){h.g=X(()=>{h.g=null,h.i&&(h.i=!1,ae(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class pe extends M{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(h){M.call(this),this.h=h,this.g={}}T(_e,M);var Dt=[];function Na(h){be(h.g,function(_,x){this.g.hasOwnProperty(x)&&gn(_)},h),h.g={}}_e.prototype.N=function(){_e.Z.N.call(this),Na(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=u.JSON.stringify,Ni=u.JSON.parse,ja=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Lr(){}function qn(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){D.call(this,"d")}T(Jt,D);function Fn(){D.call(this,"c")}T(Fn,D);var At={},Kc=null;function Da(){return Kc=Kc||new _t}At.Ia="serverreachability";function Yc(h){D.call(this,At.Ia,h)}T(Yc,D);function ji(h){const _=Da();bt(_,new Yc(_))}At.STAT_EVENT="statevent";function Ur(h,_){D.call(this,At.STAT_EVENT,h),this.stat=_}T(Ur,D);function Vt(h){const _=Da();bt(_,new Ur(_,h))}At.Ja="timingevent";function Di(h,_){D.call(this,At.Ja,h),this.size=_}T(Di,D);function Vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Jd(h,_,x,R,K,W){h.info(function(){if(h.g)if(W){var me="",ke=W.split("&");for(let Ze=0;Ze<ke.length;Ze++){var wt=ke[Ze].split("=");if(wt.length>1){const mt=wt[0];wt=wt[1];const Yn=mt.split("_");me=Yn.length>=2&&Yn[1]=="type"?me+(mt+"="+wt+"&"):me+(mt+"=redacted&")}}}else me=null;else me=W;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+_+`
`+x+`
`+me})}function Qc(h,_,x,R,K,W,me){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+_+`
`+x+`
`+W+" "+me})}function Ii(h,_,x,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+ef(h,x)+(R?" "+R:"")})}function zr(h,_){h.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function ef(h,_){if(!h.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var x=W[h];if(!(x.length<2)){var R=x[1];if(Array.isArray(R)&&!(R.length<1)){var K=R[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<R.length;me++)R[me]=""}}}}return us(W)}catch{return _}}var Br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zo;function qr(){}T(qr,Lr),qr.prototype.g=function(){return new XMLHttpRequest},Zo=new qr;function hs(h){return encodeURIComponent(String(h))}function Xc(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function hi(h,_,x,R){this.j=h,this.i=_,this.l=x,this.S=R||1,this.V=new _e(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var It={},Qt={};function Mi(h,_,x){h.M=1,h.A=Fr(Pt(_)),h.u=x,h.R=!0,Va(h,null)}function Va(h,_){h.F=Date.now(),Pi(h),h.B=Pt(h.A);var x=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),ka(x.i,"t",R),h.C=0,x=h.j.L,h.h=new di,h.g=uu(h.j,x?_:null,!h.u),h.P>0&&(h.O=new pe(y(h.Y,h,h.g),h.P)),_=h.V,x=h.g,R=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Dt[0]=K.toString()),K=Dt);for(let W=0;W<K.length;W++){const me=Le(x,K[W],R||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),ji(),Jd(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&pi(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const ke=pi(this.g),wt=this.g.ya(),Ze=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||ke!=4||wt==7||(wt==8||Ze<=0?ji(3):ji(2)),ki(this);var _=this.g.ca();this.X=_;var x=tf(this);if(this.o=_==200,Qc(this.i,this.v,this.B,this.l,this.S,ke,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,K=this.g;if((R=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var W=R;break t}}W=null}if(h=W)Ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,Vt(12),Vn(this),Hn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<x.length;)if(mt=Zc(this,x),mt==Qt){ke==4&&(this.m=4,Vt(14),h=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,Vt(15),Ii(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ii(this.i,this.l,mt,null),Oi(this,mt);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||x.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Ii(this.i,this.l,x,"[Invalid Chunked Response]"),Vn(this),Hn(this);else if(x.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),dl(me),me.P=!0,Vt(11))}}else Ii(this.i,this.l,x,null),Oi(this,x);ke==4&&Vn(this),this.o&&!this.K&&(ke==4?au(this.j,this):(this.o=!1,Pi(this)))}else fs(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Vn(this),Hn(this)}}}catch{}finally{}};function tf(h){if(!$c(h))return h.g.la();const _=en(h.g);if(_==="")return"";let x="";const R=_.length,K=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Hn(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<R;W++)h.h.h=!0,x+=h.h.i.decode(_[W],{stream:!(K&&W==R-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function $c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zc(h,_){var x=h.C,R=_.indexOf(`
`,x);return R==-1?Qt:(x=Number(_.substring(x,R)),isNaN(x)?It:(R+=1,R+x>_.length?Qt:(_=_.slice(R,R+x),h.C=R+x,_)))}hi.prototype.cancel=function(){this.K=!0,Vn(this)};function Pi(h){h.T=Date.now()+h.H,Ia(h,h.H)}function Ia(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Vi(y(h.aa,h),_)}function ki(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(ji(),Vt(17)),Vn(this),this.m=2,Hn(this)):Ia(this,this.T-h)};function Hn(h){h.j.I==0||h.K||au(h.j,h)}function Vn(h){ki(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Na(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Oi(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||Ui(x.h,h))){if(!h.L&&Ui(x.h,h)&&x.I==3){try{var R=x.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)Ba(x),Qs(x);else break e;$r(x),Vt(18)}}else x.xa=K[1],0<x.xa-x.K&&K[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Vi(y(x.Va,x),6e3));Li(x.h)<=1&&x.ta&&(x.ta=void 0)}else Gi(x,11)}else if((h.L||x.g==h)&&Ba(x),!V(_))for(K=x.Ba.g.parse(_),_=0;_<K.length;_++){let Ze=K[_];const mt=Ze[0];if(!(mt<=x.K))if(x.K=mt,Ze=Ze[1],x.I==2)if(Ze[0]=="c"){x.M=Ze[1],x.ba=Ze[2];const Yn=Ze[3];Yn!=null&&(x.ka=Yn,x.j.info("VER="+x.ka));const Ki=Ze[4];Ki!=null&&(x.za=Ki,x.j.info("SVER="+x.za));const gi=Ze[5];gi!=null&&typeof gi=="number"&&gi>0&&(R=1.5*gi,x.O=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const yi=h.g;if(yi){const Zr=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var W=R.h;W.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(el(W,W.h),W.h=null))}if(R.G){const qa=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(R.wa=qa,et(R.J,R.G,qa))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),R=x;var me=h;if(R.na=cu(R,R.L?R.ba:null,R.W),me.L){tl(R.h,me);var ke=me,wt=R.O;wt&&(ke.H=wt),ke.D&&(ki(ke),Pi(ke)),R.g=me}else su(R);x.i.length>0&&Hi(x)}else Ze[0]!="stop"&&Ze[0]!="close"||Gi(x,7);else x.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Gi(x,7):ul(x):Ze[0]!="noop"&&x.l&&x.l.qa(Ze),x.A=0)}}ji(4)}catch{}}var Mt=class{constructor(h,_){this.g=h,this.map=_}};function Wo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Li(h){return h.h?1:h.g?h.g.size:0}function Ui(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function el(h,_){h.g?h.g.add(_):h.h=_}function tl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Wo.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return w(h.i)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const R=h[x].indexOf("=");let K,W=null;R>=0?(K=h[x].substring(0,R),W=h[x].substring(R+1)):K=h[x],_(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function In(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof In?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,Bs(this,h.u),this.h=h.h,il(this,nu(h.i)),this.m=h.m):h&&(_=String(h).match(Wc))?(this.l=!1,Xt(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),Bs(this,_[4]),this.h=zi(_[5]||"",!0),il(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Fs(null,this.l))}In.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Hr(_,Pa,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Hr(_,Pa,!0),"@"),h.push(hs(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Hr(x,x.charAt(0)=="/"?sl:Jc,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Hr(x,eu)),h.join("")},In.prototype.resolve=function(h){const _=Pt(this);let x=!!h.j;x?Xt(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var R=h.h;if(x)Bs(_,h.u);else if(x=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var K=_.h.lastIndexOf("/");K!=-1&&(R=_.h.slice(0,K+1)+R)}if(K=R,K==".."||K==".")R="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){R=K.lastIndexOf("/",0)==0,K=K.split("/");const W=[];for(let me=0;me<K.length;){const ke=K[me++];ke=="."?R&&me==K.length&&W.push(""):ke==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&me==K.length&&W.push("")):(W.push(ke),R=!0)}R=W.join("/")}else R=K}return x?_.h=R:x=h.i.toString()!=="",x?il(_,nu(h.i)):x=!!h.m,x&&(_.m=h.m),_};function Pt(h){return new In(h)}function Xt(h,_,x){h.j=x?zi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Bs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function il(h,_,x){_ instanceof Fs?(h.i=_,Oa(h.i,h.l)):(x||(_=Hr(_,qs)),h.i=new Fs(_,h.l))}function et(h,_,x){h.i.set(_,x)}function Fr(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hr(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,xn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pa=/[#\/\?@]/g,Jc=/[#\?:]/g,sl=/[#\?]/g,qs=/[#\?@]/g,eu=/#/g;function Fs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ma(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=Fs.prototype,t.add=function(h,_){Sn(this),this.i=null,h=Hs(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function tu(h,_){Sn(h),_=Hs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function rl(h,_){return Sn(h),_=Hs(h,_),h.g.has(_)}t.forEach=function(h,_){Sn(this),this.g.forEach(function(x,R){x.forEach(function(K){h.call(_,K,R,this)},this)},this)};function al(h,_){Sn(h);let x=[];if(typeof _=="string")rl(h,_)&&(x=x.concat(h.g.get(Hs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}t.set=function(h,_){return Sn(this),this.i=null,h=Hs(this,h),rl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=al(this,h),h.length>0?String(h[0]):_):_};function ka(h,_,x){tu(h,_),x.length>0&&(h.i=null,h.g.set(Hs(h,_),w(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var x=_[R];const K=hs(x);x=al(this,x);for(let W=0;W<x.length;W++){let me=K;x[W]!==""&&(me+="="+hs(x[W])),h.push(me)}}return this.i=h.join("&")};function nu(h){const _=new Fs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Hs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Oa(h,_){_&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(x,R){const K=R.toLowerCase();R!=K&&(tu(this,R),ka(this,K,x))},h)),h.j=_}function fi(h,_){const x=new ui;if(u.Image){const R=new Image;R.onload=v(Gn,x,"TestLoadImage: loaded",!0,_,R),R.onerror=v(Gn,x,"TestLoadImage: error",!1,_,R),R.onabort=v(Gn,x,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(Gn,x,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function ol(h,_){const x=new ui,R=new AbortController,K=setTimeout(()=>{R.abort(),Gn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(K),W.ok?Gn(x,"TestPingServer: ok",!0,_):Gn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Gn(x,"TestPingServer: error",!1,_)})}function Gn(h,_,x,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(x)}catch{}}function Gs(){this.g=new ja}function Bi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Bi,Lr),Bi.prototype.g=function(){return new Gr(this.i,this.h)};function Gr(h,_){_t.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Gr,_t),t=Gr.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;La(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function La(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ks(this):mi(this),this.readyState==3&&La(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ks(this))},t.Na=function(h){this.g&&(this.response=h,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let _="";return be(h,function(x,R){_+=R,_+=":",_+=x,_+=`\r
`}),_}function Kr(h,_,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=Kn(x),typeof h=="string"?x!=null&&hs(x):et(h,_,x))}function it(h){_t.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(it,_t);var qi=/^https?$/i,ll=["POST","PUT"];t=it.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(W){Yr(this,W);return}if(h=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)x.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())x.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(ll,_,void 0)>=0)||R||K||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of x)this.g.setRequestHeader(W,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Yr(this,W)}};function Yr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,cl(h),ds(h)}function cl(h){h.A||(h.A=!0,bt(h,"complete"),bt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,bt(this,"complete"),bt(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},t.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof c<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(bt(h,"readystatechange"),pi(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var R;if(R=W===0){let me=String(h.D).match(Wc)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),R=!qi.test(me?me.toLowerCase():"")}x=R}if(x)bt(h,"complete"),bt(h,"success");else{h.o=6;try{var K=pi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",cl(h)}}finally{ds(h)}}}}function ds(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||bt(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ni(_)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const _={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(V(h[R]))continue;var x=Xc(h[R]);const K=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=_[K]||[];_[K]=W,W.push(x)}Ce(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Ys(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(h&&h.concurrentRequestLimit),this.Ba=new Gs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ys.prototype,t.ka=8,t.I=1,t.connect=function(h,_,x,R){Vt(0),this.W=h,this.H=_||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.J=cu(this,null,this.W),Hi(this)};function ul(h){if(Ua(h),h.I==3){var _=h.V++,x=Pt(h.J);if(et(x,"SID",h.M),et(x,"RID",_),et(x,"TYPE","terminate"),Xr(h,x),_=new hi(h,h.j,_),_.M=2,_.A=Fr(Pt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=_.A,x=!0),x||(_.g=uu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pi(_)}lu(h)}function Qs(h){h.g&&(dl(h),h.g.cancel(),h.g=null)}function Ua(h){Qs(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ba(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Hi(h){if(!Jo(h.h)&&!h.m){h.m=!0;var _=h.Ea;ee||A(),ne||(ee(),ne=!0),C.add(_,h),h.D=0}}function za(h,_){return Li(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Vi(y(h.Ea,h,_),ou(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new hi(this,this.j,h);let W=this.o;if(this.U&&(W?(W=z(W),L(W,this.U)):W=this.U),this.u!==null||this.R||(K.J=W,W=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=iu(this,K,_),x=Pt(this.J),et(x,"RID",h),et(x,"CVER",22),this.G&&et(x,"X-HTTP-Session-Id",this.G),Xr(this,x),W&&(this.R?_="headers="+hs(Kn(W))+"&"+_:this.u&&Kr(x,this.u,W)),el(this.h,K),this.Ra&&et(x,"TYPE","init"),this.S?(et(x,"$req",_),et(x,"SID","null"),K.U=!0,Mi(K,x,null)):Mi(K,x,_),this.I=2}}else this.I==3&&(h?hl(this,h):this.i.length==0||Jo(this.h)||hl(this))};function hl(h,_){var x;_?x=_.l:x=h.V++;const R=Pt(h.J);et(R,"SID",h.M),et(R,"RID",x),et(R,"AID",h.K),Xr(h,R),h.u&&h.o&&Kr(R,h.u,h.o),x=new hi(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=iu(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),el(h.h,x),Mi(x,R,_)}function Xr(h,_){h.H&&be(h.H,function(x,R){et(_,R,x)}),h.l&&be({},function(x,R){et(_,R,x)})}function iu(h,_,x){x=Math.min(h.i.length,x);const R=h.l?y(h.l.Ka,h.l,h):null;e:{var K=h.i;let ke=-1;for(;;){const wt=["count="+x];ke==-1?x>0?(ke=K[0].g,wt.push("ofs="+ke)):ke=0:wt.push("ofs="+ke);let Ze=!0;for(let mt=0;mt<x;mt++){var W=K[mt].g;const Yn=K[mt].map;if(W-=ke,W<0)ke=Math.max(0,K[mt].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var me=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ki,gi]of me){let yi=gi;m(gi)&&(yi=us(gi)),wt.push(W+Ki+"="+encodeURIComponent(yi))}}catch(Ki){throw wt.push(W+"type="+encodeURIComponent("_badmap")),Ki}}catch{R&&R(Yn)}}if(Ze){me=wt.join("&");break e}}me=void 0}return h=h.i.splice(0,x),_.G=h,me}function su(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ee||A(),ne||(ee(),ne=!0),C.add(_,h),h.A=0}}function $r(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Vi(y(h.Da,h),ou(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Vi(y(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Qs(this),ru(this))};function dl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function ru(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Pt(h.na);et(_,"RID","rpc"),et(_,"SID",h.M),et(_,"AID",h.K),et(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(_,"TO",h.ia),et(_,"TYPE","xmlhttp"),Xr(h,_),h.u&&h.o&&Kr(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Fr(Pt(_)),x.u=null,x.R=!0,Va(x,h)}t.Va=function(){this.C!=null&&(this.C=null,Qs(this),$r(this),Vt(19))};function Ba(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function au(h,_){var x=null;if(h.g==_){Ba(h),dl(h),h.g=null;var R=2}else if(Ui(h.h,_))x=_.G,tl(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;R=Da(),bt(R,new Di(R,x)),Hi(h)}else su(h);else if(K=_.m,K==3||K==0&&_.X>0||!(R==1&&za(h,_)||R==2&&$r(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),K){case 1:Gi(h,5);break;case 4:Gi(h,10);break;case 3:Gi(h,6);break;default:Gi(h,2)}}}function ou(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function Gi(h,_){if(h.j.info("Error code "+_),_==2){var x=y(h.bb,h),R=h.Ua;const K=!R;R=new In(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xt(R,"https"),Fr(R),K?fi(R.toString(),x):ol(R.toString(),x)}else Vt(2);h.I=0,h.l&&h.l.pa(_),lu(h),Ua(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function lu(h){if(h.I=0,h.ja=[],h.l){const _=nl(h.h);(_.length!=0||h.i.length!=0)&&(I(h.ja,_),I(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function cu(h,_,x){var R=x instanceof In?Pt(x):new In(x);if(R.g!="")_&&(R.g=_+"."+R.g),Bs(R,R.u);else{var K=u.location;R=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const W=new In(null);R&&Xt(W,R),_&&(W.g=_),K&&Bs(W,K),x&&(W.h=x),R=W}return x=h.G,_=h.wa,x&&_&&et(R,x,_),et(R,"VER",h.ka),Xr(h,R),R}function uu(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new it(new Bi({ab:x})):new it(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}t=hu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xs(){}Xs.prototype.g=function(h,_){return new vn(h,_)};function vn(h,_){_t.call(this),this.g=new Ys(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!V(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ms(this)}T(vn,_t),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ul(this.g)},vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=us(h),h=x);_.i.push(new Mt(_.Ya++,h)),_.I==3&&Hi(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,vn.Z.N.call(this)};function du(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}T(du,Jt);function fu(){Fn.call(this),this.status=1}T(fu,Fn);function ms(h){this.g=h}T(ms,hu),ms.prototype.ra=function(){bt(this.g,"a")},ms.prototype.qa=function(h){bt(this.g,new du(h))},ms.prototype.pa=function(h){bt(this.g,new fu)},ms.prototype.oa=function(){bt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,ub=function(){return new Xs},cb=function(){return Da()},lb=At,zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Mh=Br,$o.COMPLETE="complete",ob=$o,qn.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Jl=qn,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,ab=it}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",rE="4.9.3";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let qo="12.7.0";const ba=new JS("@firebase/firestore");function _o(){return ba.logLevel}function Te(t,...e){if(ba.logLevel<=Qe.DEBUG){const i=e.map(Lg);ba.debug(`Firestore (${qo}): ${t}`,...i)}}function Ps(t,...e){if(ba.logLevel<=Qe.ERROR){const i=e.map(Lg);ba.error(`Firestore (${qo}): ${t}`,...i)}}function Do(t,...e){if(ba.logLevel<=Qe.WARN){const i=e.map(Lg);ba.warn(`Firestore (${qo}): ${t}`,...i)}}function Lg(t){if(typeof t=="string")return t;try{return(function(i){return JSON.stringify(i)})(t)}catch{return t}}function je(t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,hb(t,r,i)}function hb(t,e,i){let r=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ps(r),new Error(r)}function Je(t,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,t||hb(e,o,r)}function Me(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Bo{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class db{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class Vj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ij{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ds,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ds)}}),0),u()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new db(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class Mj{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Pj{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Mj(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kj{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gj(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=c=>{c.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new aE(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Oj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<t;r++)i[r]=Math.floor(256*Math.random());return i}class Ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Oj(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Bp(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.charAt(r),c=e.charAt(r);if(o!==c)return lp(o)===lp(c)?He(o,c):lp(o)?1:-1}return He(t.length,e.length)}const Lj=55296,Uj=57343;function lp(t){const e=t.charCodeAt(0);return e>=Lj&&e<=Uj}function Vo(t,e,i){return t.length===e.length&&t.every(((r,o)=>i(r,e[o])))}const oE="__name__";class Zi{constructor(e,i,r){i===void 0?i=0:i>e.length&&je(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&je(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const r=Zi.isNumericId(e),o=Zi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Zi.extractNumericId(e).compare(Zi.extractNumericId(i)):Bp(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class ct extends Zi{construct(e,i,r){return new ct(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ct(i)}static emptyPath(){return new ct([])}}const zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Zi{construct(e,i,r){return new ln(e,i,r)}static isValidIdentifier(e){return zj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new ln([oE])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(r+=m,o++):(c(),o++)}if(c(),u)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(ct.fromString(e))}static fromName(e){return new we(ct.fromString(e).popFirst(5))}static empty(){return new we(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ct(e.slice()))}}function fb(t,e,i){if(!i)throw new ve(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bj(t,e,i,r){if(e===!0&&r===!0)throw new ve(re.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function lE(t){if(!we.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cE(t){if(we.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bd(t);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function qj(t,e){if(e<=0)throw new ve(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Ft(t,e){const i={typeString:t};return e&&(i.value=e),i}function kc(t,e){if(!mb(t))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){i=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ve(re.INVALID_ARGUMENT,i);return!0}const uE=-62135596800,hE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*hE);return new ot(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<uE)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ft("string",ot._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new ot(0,0))}static max(){return new Ve(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vc=-1;function Fj(t,e){const i=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new ot(i+1,0):new ot(i,r));return new Ar(o,we.empty(),e)}function Hj(t){return new Ar(t.readTime,t.key,vc)}class Ar{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ar(Ve.min(),we.empty(),vc)}static max(){return new Ar(Ve.max(),we.empty(),vc)}}function Gj(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(t.documentKey,e.documentKey),i!==0?i:He(t.largestBatchId,e.largestBatchId))}const Kj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fo(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==Kj)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ce(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ce?i:ce.resolve(i)}catch(i){return ce.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ce.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ce.reject(i)}static resolve(e){return new ce(((i,r)=>{i(e)}))}static reject(e){return new ce(((i,r)=>{r(e)}))}static waitFor(e){return new ce(((i,r)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&i()}),(g=>r(g)))})),u=!0,c===o&&i()}))}static or(e){let i=ce.resolve(!1);for(const r of e)i=i.next((o=>o?ce.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new ce(((r,o)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((v=>{u[y]=v,++m,m===c&&r(u)}),(v=>o(v)))}}))}static doWhile(e,i){return new ce(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function Qj(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ho(t){return t.name==="IndexedDbTransactionError"}class Ad{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ad.ce=-1;const zg=-1;function wd(t){return t==null}function $h(t){return t===0&&1/t==-1/0}function Xj(t){return typeof t=="number"&&Number.isInteger(t)&&!$h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const pb="";function $j(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=dE(e)),e=Zj(t.get(i),e);return dE(e)}function Zj(t,e){let i=e;const r=t.length;for(let o=0;o<r;o++){const c=t.charAt(o);switch(c){case"\0":i+="";break;case pb:i+="";break;default:i+=c}}return i}function dE(t){return t+pb+""}function fE(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Ir(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new on(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(e){return new mE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Kt(this.comparator);return i.data=e,i}}class mE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Bn([])}unionWith(e){let i=new Kt(ln.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new yb("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Wj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const i=Wj.exec(t);if(Je(!!i,46558,{timestamp:t}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}const vb="server_timestamp",_b="__type__",Tb="__previous_value__",Eb="__local_write_time__";function Bg(t){return(t?.mapValue?.fields||{})[_b]?.stringValue===vb}function Rd(t){const e=t.mapValue.fields[Tb];return Bg(e)?Rd(e):e}function _c(t){const e=wr(t.mapValue.fields[Eb].timestampValue);return new ot(e.seconds,e.nanos)}class Jj{constructor(e,i,r,o,c,u,m,g,y,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const Zh="(default)";class Tc{constructor(e,i){this.projectId=e,this.database=i||Zh}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}const xb="__type__",eD="__max__",Th={mapValue:{}},Sb="__vector__",Wh="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bg(t)?4:nD(t)?9007199254740991:tD(t)?10:11:je(28295,{value:t})}function as(t,e){if(t===e)return!0;const i=Cr(t);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=wr(o.timestampValue),m=wr(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(t,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Nt(o.doubleValue),m=Nt(c.doubleValue);return u===m?$h(u)===$h(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(fE(u)!==fE(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!as(u[g],m[g])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find((i=>as(i,e)))!==void 0}function Io(t,e){if(t===e)return 0;const i=Cr(t),r=Cr(e);if(i!==r)return He(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Nt(c.integerValue||c.doubleValue),g=Nt(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return pE(t.timestampValue,e.timestampValue);case 4:return pE(_c(t),_c(e));case 5:return Bp(t.stringValue,e.stringValue);case 6:return(function(c,u){const m=Rr(c),g=Rr(u);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let y=0;y<m.length&&y<g.length;y++){const v=He(m[y],g[y]);if(v!==0)return v}return He(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=He(Nt(c.latitude),Nt(u.latitude));return m!==0?m:He(Nt(c.longitude),Nt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gE(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},g=u.fields||{},y=m[Wh]?.arrayValue,v=g[Wh]?.arrayValue,T=He(y?.values?.length||0,v?.values?.length||0);return T!==0?T:gE(y,v)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Th.mapValue&&u===Th.mapValue)return 0;if(c===Th.mapValue)return 1;if(u===Th.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=u.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const S=Bp(g[T],v[T]);if(S!==0)return S;const w=Io(m[g[T]],y[v[T]]);if(w!==0)return w}return He(g.length,v.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:i})}}function pE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const i=wr(t),r=wr(e),o=He(i.seconds,r.seconds);return o!==0?o:He(i.nanos,r.nanos)}function gE(t,e){const i=t.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Io(i[o],r[o]);if(c)return c}return He(i.length,r.length)}function Mo(t){return qp(t)}function qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(i){const r=wr(i);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(i){return Rr(i).toBase64()})(t.bytesValue):"referenceValue"in t?(function(i){return we.fromName(i).toString()})(t.referenceValue):"geoPointValue"in t?(function(i){return`geo(${i.latitude},${i.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=qp(c);return r+"]"})(t.arrayValue):"mapValue"in t?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${qp(i.fields[u])}`;return o+"}"})(t.mapValue):je(61005,{value:t})}function Ph(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Rr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ph(c)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Ir(r.fields,((c,u)=>{o+=c.length+Ph(u)})),o})(t.mapValue);default:throw je(13486,{value:t})}}function yE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fp(t){return!!t&&"integerValue"in t}function qg(t){return!!t&&"arrayValue"in t}function vE(t){return!!t&&"nullValue"in t}function _E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function tD(t){return(t?.mapValue?.fields||{})[xb]?.stringValue===Sb}function ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ir(t.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ac(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ac(t.arrayValue.values[i]);return e}return{...t}}function nD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eD}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!kh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(i)}setAll(e){let i=ln.emptyPath(),r={},o=[];e.forEach(((u,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=m.popLast()}u?r[m.lastSegment()]=ac(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());kh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];kh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ir(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new jn(ac(this.value))}}function bb(t){const e=[];return Ir(t.fields,((i,r)=>{const o=new ln([i]);if(kh(r)){const c=bb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Bn(e)}class mn{constructor(e,i,r,o,c,u,m){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,Ve.min(),Ve.min(),Ve.min(),jn.empty(),0)}static newFoundDocument(e,i,r,o){return new mn(e,1,i,Ve.min(),r,o,0)}static newNoDocument(e,i){return new mn(e,2,i,Ve.min(),Ve.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Ve.min(),Ve.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jh{constructor(e,i){this.position=e,this.inclusive=i}}function TE(t,e,i){let r=0;for(let o=0;o<t.position.length;o++){const c=e[o],u=t.position[o];if(c.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),i.key):r=Io(u,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!as(t.position[i],e.position[i]))return!1;return!0}class xc{constructor(e,i="asc"){this.field=e,this.dir=i}}function iD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Ab{}class qt extends Ab{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new rD(e,i,r):i==="array-contains"?new lD(e,r):i==="in"?new cD(e,r):i==="not-in"?new uD(e,r):i==="array-contains-any"?new hD(e,r):new qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new aD(e,r):new oD(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Io(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Io(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends Ab{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ai(e,i)}matches(e){return wb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wb(t){return t.op==="and"}function Rb(t){return sD(t)&&wb(t)}function sD(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function Hp(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(Rb(t))return t.filters.map((e=>Hp(e))).join(",");{const e=t.filters.map((i=>Hp(i))).join(",");return`${t.op}(${e})`}}function Cb(t,e){return t instanceof qt?(function(r,o){return o instanceof qt&&r.op===o.op&&r.field.isEqual(o.field)&&as(r.value,o.value)})(t,e):t instanceof Ai?(function(r,o){return o instanceof Ai&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,m)=>c&&Cb(u,o.filters[m])),!0):!1})(t,e):void je(19439)}function Nb(t){return t instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Mo(i.value)}`})(t):t instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(Nb).join(" ,")+"}"})(t):"Filter"}class rD extends qt{constructor(e,i,r){super(e,i,r),this.key=we.fromName(r.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class aD extends qt{constructor(e,i){super(e,"in",i),this.keys=jb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class oD extends qt{constructor(e,i){super(e,"not-in",i),this.keys=jb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jb(t,e){return(e.arrayValue?.values||[]).map((i=>we.fromName(i.referenceValue)))}class lD extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qg(i)&&Ec(i.arrayValue,this.value)}}class cD extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ec(this.value.arrayValue,i)}}class uD extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ec(this.value.arrayValue,i)}}class hD extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ec(this.value.arrayValue,r)))}}class dD{constructor(e,i=null,r=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function xE(t,e=null,i=[],r=[],o=null,c=null,u=null){return new dD(t,e,i,r,o,c,u)}function Fg(t){const e=Me(t);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Hp(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),wd(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Mo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Mo(r))).join(",")),e.Te=i}return e.Te}function Hg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!iD(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!Cb(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EE(t.startAt,e.startAt)&&EE(t.endAt,e.endAt)}function Gp(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Go{constructor(e,i=null,r=[],o=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fD(t,e,i,r,o,c,u,m){return new Go(t,e,i,r,o,c,u,m)}function Cd(t){return new Go(t)}function SE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Db(t){return t.collectionGroup!==null}function oc(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Kt(ln.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new xc(c,r))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new xc(ln.keyField(),r))}return e.Ie}function Ji(t){const e=Me(t);return e.Ee||(e.Ee=mD(e,oc(t))),e.Ee}function mD(t,e){if(t.limitType==="F")return xE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new xc(o.field,c)}));const i=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return xE(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}}function Kp(t,e){const i=t.filters.concat([e]);return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function ed(t,e,i){return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Nd(t,e){return Hg(Ji(t),Ji(e))&&t.limitType===e.limitType}function Vb(t){return`${Fg(Ji(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Nb(o))).join(", ")}]`),wd(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Mo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Mo(o))).join(",")),`Target(${r})`})(Ji(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):we.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(t,e)&&(function(r,o){for(const c of oc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,m,g){const y=TE(u,m,g);return u.inclusive?y<=0:y<0})(r.startAt,oc(r),o)||r.endAt&&!(function(u,m,g){const y=TE(u,m,g);return u.inclusive?y>=0:y>0})(r.endAt,oc(r),o))})(t,e)}function pD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ib(t){return(e,i)=>{let r=!1;for(const o of oc(t)){const c=gD(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function gD(t,e,i){const r=t.field.isKeyField()?we.comparator(e.key,i.key):(function(c,u,m){const g=u.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Io(g,y):je(42886)})(t.field,e,i);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}class wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return gb(this.inner)}size(){return this.innerSize}}const yD=new vt(we.comparator);function ks(){return yD}const Mb=new vt(we.comparator);function ec(...t){let e=Mb;for(const i of t)e=e.insert(i.key,i);return e}function Pb(t){let e=Mb;return t.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ya(){return lc()}function kb(){return lc()}function lc(){return new wa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vD=new vt(we.comparator),_D=new Kt(we.comparator);function Ge(...t){let e=_D;for(const i of t)e=e.add(i);return e}const TD=new Kt(He);function ED(){return TD}function Gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function Ob(t){return{integerValue:""+t}}function xD(t,e){return Xj(e)?Ob(e):Gg(t,e)}class Dd{constructor(){this._=void 0}}function SD(t,e,i){return t instanceof Sc?(function(o,c){const u={fields:{[_b]:{stringValue:vb},[Eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bg(c)&&(c=Rd(c)),c&&(u.fields[Tb]=c),{mapValue:u}})(i,e):t instanceof bc?Ub(t,e):t instanceof Ac?zb(t,e):(function(o,c){const u=Lb(o,c),m=bE(u)+bE(o.Ae);return Fp(u)&&Fp(o.Ae)?Ob(m):Gg(o.serializer,m)})(t,e)}function bD(t,e,i){return t instanceof bc?Ub(t,e):t instanceof Ac?zb(t,e):i}function Lb(t,e){return t instanceof td?(function(r){return Fp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Sc extends Dd{}class bc extends Dd{constructor(e){super(),this.elements=e}}function Ub(t,e){const i=Bb(e);for(const r of t.elements)i.some((o=>as(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ac extends Dd{constructor(e){super(),this.elements=e}}function zb(t,e){let i=Bb(e);for(const r of t.elements)i=i.filter((o=>!as(o,r)));return{arrayValue:{values:i}}}class td extends Dd{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function bE(t){return Nt(t.integerValue||t.doubleValue)}function Bb(t){return qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class AD{constructor(e,i){this.field=e,this.transform=i}}function wD(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof bc&&o instanceof bc||r instanceof Ac&&o instanceof Ac?Vo(r.elements,o.elements,as):r instanceof td&&o instanceof td?as(r.Ae,o.Ae):r instanceof Sc&&o instanceof Sc})(t.transform,e.transform)}class RD{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vd{}function qb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kg(t.key,ai.none()):new Oc(t.key,t.data,ai.none());{const i=t.data,r=jn.empty();let o=new Kt(ln.comparator);for(let c of e.fields)if(!o.has(c)){let u=i.field(c);u===null&&c.length>1&&(c=c.popLast(),u=i.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Mr(t.key,r,new Bn(o.toArray()),ai.none())}}function CD(t,e,i){t instanceof Oc?(function(o,c,u){const m=o.value.clone(),g=wE(o.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,i):t instanceof Mr?(function(o,c,u){if(!Oh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=wE(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(Fb(o)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(t,e,i):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,i)}function cc(t,e,i,r){return t instanceof Oc?(function(c,u,m,g){if(!Oh(c.precondition,u))return m;const y=c.value.clone(),v=RE(c.fieldTransforms,g,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,i,r):t instanceof Mr?(function(c,u,m,g){if(!Oh(c.precondition,u))return m;const y=RE(c.fieldTransforms,g,u),v=u.data;return v.setAll(Fb(c)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,i,r):(function(c,u,m){return Oh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,i)}function ND(t,e){let i=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),c=Lb(r.transform,o||null);c!=null&&(i===null&&(i=jn.empty()),i.set(r.field,c))}return i||null}function AE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Vo(r,o,((c,u)=>wD(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends Vd{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends Vd{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=t.data.field(i);e.set(i,r)}})),e}function wE(t,e,i){const r=new Map;Je(t.length===i.length,32656,{Re:i.length,Ve:t.length});for(let o=0;o<i.length;o++){const c=t[o],u=c.transform,m=e.data.field(c.field);r.set(c.field,bD(u,m,i[o]))}return r}function RE(t,e,i){const r=new Map;for(const o of t){const c=o.transform,u=i.data.field(o.field);r.set(o.field,SD(c,u,e))}return r}class Kg extends Vd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jD extends Vd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DD{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&CD(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=cc(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=cc(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=kb();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=i.has(o.key)?null:m;const g=qb(u,m);g!==null&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((i,r)=>AE(i,r)))&&Vo(this.baseMutations,e.baseMutations,((i,r)=>AE(i,r)))}}class Yg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return vD})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new Yg(e,i,r,o)}}class VD{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ID{constructor(e,i){this.count=e,this.unchangedNames=i}}var zt,Ye;function MD(t){switch(t){case re.OK:return je(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function Hb(t){if(t===void 0)return Ps("GRPC error has no .code"),re.UNKNOWN;switch(t){case zt.OK:return re.OK;case zt.CANCELLED:return re.CANCELLED;case zt.UNKNOWN:return re.UNKNOWN;case zt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case zt.INTERNAL:return re.INTERNAL;case zt.UNAVAILABLE:return re.UNAVAILABLE;case zt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case zt.NOT_FOUND:return re.NOT_FOUND;case zt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case zt.ABORTED:return re.ABORTED;case zt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case zt.DATA_LOSS:return re.DATA_LOSS;default:return je(39323,{code:t})}}(Ye=zt||(zt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function PD(){return new TextEncoder}const kD=new Sr([4294967295,4294967295],0);function CE(t){const e=PD().encode(t),i=new rb;return i.update(e),new Uint8Array(i.digest())}function NE(t){const e=new DataView(t.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sr([i,r],0),new Sr([o,c],0)]}class Qg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new tc(`Invalid padding: ${i}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new tc(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Sr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Sr.fromNumber(r)));return o.compare(kD)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=CE(e),[r,o]=NE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Qg(c,o,i);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const i=CE(e),[r,o]=NE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.Se(u)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Id{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Id(Ve.min(),o,new vt(He),ks(),Ge())}}class Lc{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Lc(r,i,Ge(),Ge(),Ge())}}class Lh{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Gb{constructor(e,i){this.targetId=e,this.Ce=i}}class Kb{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class jE{constructor(){this.ve=0,this.Fe=DE(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),r=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:je(38017,{changeType:c})}})),new Lc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=DE()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=Eh(),this.He=Eh(),this.Ye=new vt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Gp(c))if(r===0){const u=new we(c.path);this.et(i,u,mn.newNoDocument(u,Ve.min()))}else Je(r===1,20013,{expectedCount:r});else{const u=this._t(i);if(u!==r){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let u,m;try{u=Rr(r).toUint8Array()}catch(g){if(g instanceof yb)return Do("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Qg(u,o,c)}catch(g){return Do(g instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Gp(m.target)){const g=new we(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,mn.newNoDocument(g,e))}c.Be&&(i.set(u,c.ke()),c.qe())}}));let r=Ge();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Id(e,i,this.Ye,this.je,r);return this.je=ks(),this.Je=Eh(),this.He=Eh(),this.Ye=new vt(He),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new jE,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Kt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Kt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||Te("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jE),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Eh(){return new vt(we.comparator)}function DE(){return new vt(we.comparator)}const LD={asc:"ASCENDING",desc:"DESCENDING"},UD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zD={and:"AND",or:"OR"};class BD{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yp(t,e){return t.useProto3Json||wd(e)?e:{value:e}}function nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qD(t,e){return nd(t,e.toTimestamp())}function es(t){return Je(!!t,49232),Ve.fromTimestamp((function(i){const r=wr(i);return new ot(r.seconds,r.nanos)})(t))}function Xg(t,e){return Qp(t,e).canonicalString()}function Qp(t,e){const i=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?i:i.child(e)}function Qb(t){const e=ct.fromString(t);return Je(Jb(e),10190,{key:e.toString()}),e}function Xp(t,e){return Xg(t.databaseId,e.path)}function cp(t,e){const i=Qb(e);if(i.get(1)!==t.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new we($b(i))}function Xb(t,e){return Xg(t.databaseId,e)}function FD(t){const e=Qb(t);return e.length===4?ct.emptyPath():$b(e)}function $p(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $b(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VE(t,e,i){return{name:Xp(t,e),fields:i.value.mapValue.fields}}function HD(t,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:je(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(Je(v===void 0||typeof v=="string",58123),cn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),cn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(y){const v=y.code===void 0?re.UNKNOWN:Hb(y.code);return new ve(v,y.message||"")})(u);i=new Kb(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=cp(t,r.document.name),c=es(r.document.updateTime),u=r.document.createTime?es(r.document.createTime):Ve.min(),m=new jn({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,c,u,m),y=r.targetIds||[],v=r.removedTargetIds||[];i=new Lh(y,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=cp(t,r.document),c=r.readTime?es(r.readTime):Ve.min(),u=mn.newNoDocument(o,c),m=r.removedTargetIds||[];i=new Lh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=cp(t,r.document),c=r.removedTargetIds||[];i=new Lh([],c,o,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new ID(o,c),m=r.targetId;i=new Gb(m,u)}}return i}function GD(t,e){let i;if(e instanceof Oc)i={update:VE(t,e.key,e.value)};else if(e instanceof Kg)i={delete:Xp(t,e.key)};else if(e instanceof Mr)i={update:VE(t,e.key,e.data),updateMask:eV(e.fieldMask)};else{if(!(e instanceof jD))return je(16599,{Vt:e.type});i={verify:Xp(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const m=u.transform;if(m instanceof Sc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ac)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof td)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw je(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:qD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:je(27497)})(t,e.precondition)),i}function KD(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((i=>(function(o,c){let u=o.updateTime?es(o.updateTime):es(c);return u.isEqual(Ve.min())&&(u=es(c)),new RD(u,o.transformResults||[])})(i,e)))):[]}function YD(t,e){return{documents:[Xb(t,e.path)]}}function QD(t,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Xb(t,o);const c=(function(y){if(y.length!==0)return Wb(Ai.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:Eo(S.field),direction:ZD(S.dir)}})(v)))})(e.orderBy);u&&(i.structuredQuery.orderBy=u);const m=Yp(t,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function XD(t){let e=FD(t.parent);const i=t.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Je(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];i.where&&(c=(function(T){const S=Zb(T);return S instanceof Ai&&Rb(S)?S.getFilters():[S]})(i.where));let u=[];i.orderBy&&(u=(function(T){return T.map((S=>(function(I){return new xc(xo(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,wd(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(T){const S=!!T.before,w=T.values||[];return new Jh(w,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(T){const S=!T.before,w=T.values||[];return new Jh(w,S)})(i.endAt)),fD(e,o,u,c,m,"F",g,y)}function $D(t,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Zb(t){return t.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=xo(i.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(i.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xo(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xo(i.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(i){return qt.create(xo(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((r=>Zb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(i.compositeFilter.op))})(t):je(30097,{filter:t})}function ZD(t){return LD[t]}function WD(t){return UD[t]}function JD(t){return zD[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function xo(t){return ln.fromServerFormat(t.fieldPath)}function Wb(t){return t instanceof qt?(function(i){if(i.op==="=="){if(_E(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NAN"}};if(vE(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(_E(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NOT_NAN"}};if(vE(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(i.field),op:WD(i.op),value:i.value}}})(t):t instanceof Ai?(function(i){const r=i.getFilters().map((o=>Wb(o)));return r.length===1?r[0]:{compositeFilter:{op:JD(i.op),filters:r}}})(t):je(54877,{filter:t})}function eV(t){const e=[];return t.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Jb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class _r{constructor(e,i,r,o,c=Ve.min(),u=Ve.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tV{constructor(e){this.yt=e}}function nV(t){const e=XD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}class iV{constructor(){this.Cn=new sV}addToCollectionParentIndex(e,i){return this.Cn.add(i),ce.resolve()}getCollectionParents(e,i){return ce.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ce.resolve()}deleteFieldIndex(e,i){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,i){return ce.resolve()}getDocumentsMatchingTarget(e,i){return ce.resolve(null)}getIndexType(e,i){return ce.resolve(0)}getFieldIndexes(e,i){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,i){return ce.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return ce.resolve(Ar.min())}updateCollectionGroup(e,i,r){return ce.resolve()}updateIndexEntries(e,i){return ce.resolve()}}class sV{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Kt(ct.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kt(ct.comparator)).toArray()}}const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(e1,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}const ME="LruGarbageCollector",rV=1048576;function PE([t,e],[i,r]){const o=He(t,i);return o===0?He(e,r):o}class aV{constructor(e){this.Ir=e,this.buffer=new Kt(PE),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();PE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oV{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(ME,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ho(i)?Te(ME,"Ignoring IndexedDB error during garbage collection: ",i):await Fo(i)}await this.Vr(3e5)}))}}class lV{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return ce.resolve(Ad.ce);const r=new aV(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(IE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,u,m,g,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,i)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),_o()<=Qe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function cV(t,e){return new lV(t,e)}class uV{constructor(){this.changes=new wa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ce.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hV{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class dV{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&cc(r.mutation,o,Bn.empty(),ot.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ge()){const o=ya();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let u=ec();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,i){const r=ya();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ge())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{i.set(u,m)}))}))}computeViews(e,i,r,o){let c=ks();const u=lc(),m=(function(){return lc()})();return i.forEach(((g,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Mr)?c=c.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),cc(v.mutation,y,v.mutation.getFieldMask(),ot.now())):u.set(y.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,v)=>u.set(y,v))),i.forEach(((y,v)=>m.set(y,new hV(v,u.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,i){const r=lc();let o=new vt(((u,m)=>u-m)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((u=>{for(const m of u)m.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let v=r.get(g)||Bn.empty();v=m.applyToLocalView(y,v),r.set(g,v);const T=(o.get(m.batchId)||Ge()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,v=g.value,T=kb();v.forEach((S=>{if(!c.has(S)){const w=qb(i.get(S),r.get(S));w!==null&&T.set(S,w),c=c.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ce.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Db(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):ce.resolve(ya());let m=vc,g=c;return u.next((y=>ce.forEach(y,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(v)?ce.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ge()))).next((v=>({batchId:m,changes:Pb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next((r=>{let o=ec();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let u=ec();return this.indexManager.getCollectionParents(e,c).next((m=>ce.forEach(m,(g=>{const y=(function(T,S){return new Go(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((T,S)=>{u=u.insert(T,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((u=>{c.forEach(((g,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,mn.newInvalidDocument(v)))}));let m=ec();return u.forEach(((g,y)=>{const v=c.get(g);v!==void 0&&cc(v.mutation,y,Bn.empty(),ot.now()),jd(i,y)&&(m=m.insert(g,y))})),m}))}}class fV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ce.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}})(i)),ce.resolve()}getNamedQuery(e,i){return ce.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:nV(o.bundledQuery),readTime:es(o.readTime)}})(i)),ce.resolve()}}class mV{constructor(){this.overlays=new vt(we.comparator),this.qr=new Map}getOverlay(e,i){return ce.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ya();return ce.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),ce.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,i,r){const o=ya(),c=i.length+1,u=new we(i.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new vt(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let v=c.get(y.largestBatchId);v===null&&(v=ya(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=ya(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>m.set(y,v))),!(m.size()>=o)););return ce.resolve(m)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new VD(i,r));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class pV{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ce.resolve()}}class $g{constructor(){this.Qr=new Kt(Zt.$r),this.Ur=new Kt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Zt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Zt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new we(new ct([])),r=new Zt(i,e),o=new Zt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new ct([])),r=new Zt(i,e),o=new Zt(i,e+1);let c=Ge();return this.Ur.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const i=new Zt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}class gV{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Zt.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new DD(c,i,r,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Zt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,i){return ce.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?zg:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Kt(He);return i.forEach((o=>{const c=new Zt(o,0),u=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{r=r.add(m.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;we.isDocumentKey(c)||(c=c.child(""));const u=new Zt(new we(c),0);let m=new Kt(He);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),u),ce.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(i.mutations,(o=>{const c=new Zt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Zt(i,0),o=this.Zr.firstAfterOrEqual(r);return ce.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yV{constructor(e){this.ri=e,this.docs=(function(){return new vt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,u=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ce.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let r=ks();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),ce.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ks();const u=i.path,m=new we(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||Gj(Hj(v),r)<=0||(o.has(v.key)||jd(i,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,i,r,o){je(9500)}ii(e,i){return ce.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new vV(this)}getSize(e){return ce.resolve(this.size)}}class vV extends uV{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ce.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class _V{constructor(e){this.persistence=e,this.si=new wa((i=>Fg(i)),Hg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=Po.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ce.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Po(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ce.resolve()}updateTargetData(e,i){return this.Pr(i),ce.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ce.waitFor(c).next((()=>o))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return ce.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),ce.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ce.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ce.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return ce.resolve(r)}containsKey(e,i){return ce.resolve(this._i.containsKey(i))}}class t1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ad(0),this.li=!1,this.li=!0,this.hi=new pV,this.referenceDelegate=e(this),this.Pi=new _V(this),this.indexManager=new iV,this.remoteDocumentCache=(function(o){return new yV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new tV(i),this.Ii=new fV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mV,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new gV(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){Te("MemoryPersistence","Starting transaction:",e);const o=new TV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class TV extends Yj{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Ri=new $g,this.Vi=null}static mi(e){return new Zg(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ce.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const o=we.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ce.or([()=>ce.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class id{constructor(e,i){this.persistence=e,this.pi=new wa((r=>$j(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cV(this,i)}static mi(e,i){return new id(e,i)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return ce.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?ce.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,i).next((m=>{m||(r++,c.removeEntry(u,Ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ph(e.data.value)),i}br(e,i,r){return ce.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return ce.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ge(),o=Ge();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wg(e,i.fromCache,r,o)}}class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return f2()?8:Qj(h2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new EV;return this.Ss(e,i,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,i,u,m.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(_o()<=Qe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",To(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(_o()<=Qe.DEBUG&&Te("QueryEngine","Query:",To(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(_o()<=Qe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",To(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(i))):ce.resolve())}ys(e,i){if(SE(i))return ce.resolve(null);let r=Ji(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),r=Ji(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Ge(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(i,m);return this.Cs(i,y,u,g.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,r,o){return SE(i)||o.isEqual(Ve.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((c=>{const u=this.Ds(i,c);return this.Cs(i,u,r,o)?ce.resolve(null):(_o()<=Qe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(i)),this.vs(e,u,i,Fj(o,vc)).next((m=>m)))}))}Ds(e,i){let r=new Kt(Ib(e));return i.forEach(((o,c)=>{jd(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return _o()<=Qe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",To(i)),this.ps.getDocumentsMatchingQuery(e,i,Ar.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Jg="LocalStore",SV=3e8;class bV{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new vt(He),this.xs=new wa((c=>Fg(c)),Hg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function AV(t,e,i,r){return new bV(t,e,i,r)}async function n1(t,e){const i=Me(t);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],m=[];let g=Ge();for(const y of o){u.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:m})))}))}))}function wV(t,e){const i=Me(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,v){const T=y.batch,S=T.keys();let w=ce.resolve();return S.forEach((I=>{w=w.next((()=>v.getEntry(g,I))).next((U=>{const k=y.docVersions.get(I);Je(k!==null,48541),U.version.compareTo(k)<0&&(T.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),v.addEntry(U)))}))})),w.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Ge();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function i1(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function RV(t,e){const i=Me(t),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(i.Pi.removeMatchingKeys(c,v.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(c,v.addedDocuments,T))));let w=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(cn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),o=o.insert(T,w),(function(U,k,O){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=SV?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(S,w,v)&&m.push(i.Pi.updateTargetData(c,w))}));let g=ks(),y=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,v))})),m.push(CV(c,u,e.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!r.isEqual(Ve.min())){const v=i.Pi.getLastRemoteSnapshotVersion(c).next((T=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(v)}return ce.waitFor(m).next((()=>u.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function CV(t,e,i){let r=Ge(),o=Ge();return i.forEach((c=>r=r.add(c))),e.getEntries(t,r).next((c=>{let u=ks();return i.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ve.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):Te(Jg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function NV(t,e){const i=Me(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jV(t,e){const i=Me(t);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,ce.resolve(o)):i.Pi.allocateTargetId(r).next((u=>(o=new _r(e,u,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Zp(t,e,i){const r=Me(t),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Ho(u))throw u;Te(Jg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function kE(t,e,i){const r=Me(t);let o=Ve.min(),c=Ge();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,v){const T=Me(g),S=T.xs.get(v);return S!==void 0?ce.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,v)})(r,u,Ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,i?o:Ve.min(),i?c:Ge()))).next((m=>(DV(r,pD(e),m),{documents:m,Qs:c})))))}function DV(t,e,i){let r=t.Os.get(e)||Ve.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),t.Os.set(e,r)}class OE{constructor(){this.activeTargetIds=ED()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VV{constructor(){this.Mo=new OE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new OE,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IV{Oo(e){}shutdown(){}}const LE="ConnectivityMonitor";class UE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(LE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function Wp(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const up="RestConnection",MV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Zh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const u=Wp(),m=this.zo(e,i.toUriEncodedString());Te(up,`Sending RPC '${e}' ${u}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),v=kg(y);return this.Jo(e,m,g,r,v).then((T=>(Te(up,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw Do(up,`RPC '${e}' ${u} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(e,i,r,o,c,u){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=MV[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class kV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class OV extends PV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const u=Wp();return new Promise(((m,g)=>{const y=new ab;y.setWithCredentials(!0),y.listenOnce(ob.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mh.NO_ERROR:const T=y.getResponseJson();Te(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),m(T);break;case Mh.TIMEOUT:Te(dn,`RPC '${e}' ${u} timed out`),g(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const S=y.getStatus();if(Te(dn,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let w=y.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w?.error;if(I&&I.status&&I.message){const U=(function(O){const G=O.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(G)>=0?G:re.UNKNOWN})(I.status);g(new ve(U,I.message))}else g(new ve(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ve(re.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Te(dn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);Te(dn,`RPC '${e}' ${u} sending request:`,o),y.send(i,"POST",v,r,15)}))}T_(e,i,r){const o=Wp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ub(),m=cb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=c.join("");Te(dn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=u.createWebChannel(v,g);this.I_(T);let S=!1,w=!1;const I=new kV({Yo:k=>{w?Te(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(S||(Te(dn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),Te(dn,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),U=(k,O,G)=>{k.listen(O,(F=>{try{G(F)}catch(de){setTimeout((()=>{throw de}),0)}}))};return U(T,Jl.EventType.OPEN,(()=>{w||(Te(dn,`RPC '${e}' stream ${o} transport opened.`),I.o_())})),U(T,Jl.EventType.CLOSE,(()=>{w||(w=!0,Te(dn,`RPC '${e}' stream ${o} transport closed`),I.a_(),this.E_(T))})),U(T,Jl.EventType.ERROR,(k=>{w||(w=!0,Do(dn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new ve(re.UNAVAILABLE,"The operation could not be completed")))})),U(T,Jl.EventType.MESSAGE,(k=>{if(!w){const O=k.data[0];Je(!!O,16349);const G=O,F=G?.error||G[0]?.error;if(F){Te(dn,`RPC '${e}' stream ${o} received error:`,F);const de=F.status;let ee=(function(A){const N=zt[A];if(N!==void 0)return Hb(N)})(de),ne=F.message;ee===void 0&&(ee=re.INTERNAL,ne="Unknown error status: "+de+" with message "+F.message),w=!0,I.a_(new ve(ee,ne)),T.close()}else Te(dn,`RPC '${e}' stream ${o} received:`,O),I.u_(O)}})),U(m,lb.STAT_EVENT,(k=>{k.stat===zp.PROXY?Te(dn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===zp.NOPROXY&&Te(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function hp(){return typeof document<"u"?document:null}function Md(t){return new BD(t,!0)}class s1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zE="PersistentStream";class r1{constructor(e,i,r,o,c,u,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===re.RESOURCE_EXHAUSTED?(Ps(i.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ve(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(Te(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LV extends r1{constructor(e,i,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,u),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=HD(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ve.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?es(u.readTime):Ve.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=$p(this.serializer),i.addTarget=(function(c,u){let m;const g=u.target;if(m=Gp(g)?{documents:YD(c,g)}:{query:QD(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Yb(c,u.resumeToken);const y=Yp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ve.min())>0){m.readTime=nd(c,u.snapshotVersion.toTimestamp());const y=Yp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=$D(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=$p(this.serializer),i.removeTarget=e,this.q_(i)}}class UV extends r1{constructor(e,i,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=KD(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=$p(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>GD(this.serializer,r)))};this.q_(i)}}class zV{}class BV extends zV{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Qp(i,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(re.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Qp(i,r),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qV{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(i),this.aa=!1):Te("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Aa="RemoteStore";class FV{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ra(this)&&(Te(Aa,"Restarting streams for network reachability change."),await(async function(g){const y=Me(g);y.Ea.add(4),await Uc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Pd(y)})(this))}))})),this.Ra=new qV(r,o)}}async function Pd(t){if(Ra(t))for(const e of t.da)await e(!0)}async function Uc(t){for(const e of t.da)await e(!1)}function a1(t,e){const i=Me(t);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),iy(i)?ny(i):Ko(i).O_()&&ty(i,e))}function ey(t,e){const i=Me(t),r=Ko(i);i.Ia.delete(e),r.O_()&&o1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ra(i)&&i.Ra.set("Unknown"))}function ty(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ko(t).Y_(e)}function o1(t,e){t.Va.Ue(e),Ko(t).Z_(e)}function ny(t){t.Va=new OD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ko(t).start(),t.Ra.ua()}function iy(t){return Ra(t)&&!Ko(t).x_()&&t.Ia.size>0}function Ra(t){return Me(t).Ea.size===0}function l1(t){t.Va=void 0}async function HV(t){t.Ra.set("Online")}async function GV(t){t.Ia.forEach(((e,i)=>{ty(t,e)}))}async function KV(t,e){l1(t),iy(t)?(t.Ra.ha(e),ny(t)):t.Ra.set("Unknown")}async function YV(t,e,i){if(t.Ra.set("Online"),e instanceof Kb&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(t,e)}catch(r){Te(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sd(t,r)}else if(e instanceof Lh?t.Va.Ze(e):e instanceof Gb?t.Va.st(e):t.Va.tt(e),!i.isEqual(Ve.min()))try{const r=await i1(t.localStore);i.compareTo(r)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,y)=>{const v=c.Ia.get(g);if(!v)return;c.Ia.set(g,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),o1(c,g);const T=new _r(v.target,g,y,v.sequenceNumber);ty(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(t,i)}catch(r){Te(Aa,"Failed to raise snapshot:",r),await sd(t,r)}}async function sd(t,e,i){if(!Ho(e))throw e;t.Ea.add(1),await Uc(t),t.Ra.set("Offline"),i||(i=()=>i1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(Aa,"Retrying IndexedDB access"),await i(),t.Ea.delete(1),await Pd(t)}))}function c1(t,e){return e().catch((i=>sd(t,i,e)))}async function kd(t){const e=Me(t),i=Nr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zg;for(;QV(e);)try{const o=await NV(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,XV(e,o)}catch(o){await sd(e,o)}u1(e)&&h1(e)}function QV(t){return Ra(t)&&t.Ta.length<10}function XV(t,e){t.Ta.push(e);const i=Nr(t);i.O_()&&i.X_&&i.ea(e.mutations)}function u1(t){return Ra(t)&&!Nr(t).x_()&&t.Ta.length>0}function h1(t){Nr(t).start()}async function $V(t){Nr(t).ra()}async function ZV(t){const e=Nr(t);for(const i of t.Ta)e.ea(i.mutations)}async function WV(t,e,i){const r=t.Ta.shift(),o=Yg.from(r,e,i);await c1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await kd(t)}async function JV(t,e){e&&Nr(t).X_&&await(async function(r,o){if((function(u){return MD(u)&&u!==re.ABORTED})(o.code)){const c=r.Ta.shift();Nr(r).B_(),await c1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await kd(r)}})(t,e),u1(t)&&h1(t)}async function BE(t,e){const i=Me(t);i.asyncQueue.verifyOperationInProgress(),Te(Aa,"RemoteStore received new credentials");const r=Ra(i);i.Ea.add(3),await Uc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Pd(i)}async function eI(t,e){const i=Me(t);e?(i.Ea.delete(2),await Pd(i)):e||(i.Ea.add(2),await Uc(i),i.Ra.set("Unknown"))}function Ko(t){return t.ma||(t.ma=(function(i,r,o){const c=Me(i);return c.sa(),new LV(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:HV.bind(null,t),t_:GV.bind(null,t),r_:KV.bind(null,t),H_:YV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),iy(t)?ny(t):t.Ra.set("Unknown")):(await t.ma.stop(),l1(t))}))),t.ma}function Nr(t){return t.fa||(t.fa=(function(i,r,o){const c=Me(i);return c.sa(),new UV(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$V.bind(null,t),r_:JV.bind(null,t),ta:ZV.bind(null,t),na:WV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await kd(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(Aa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class sy{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const u=Date.now()+r,m=new sy(e,i,u,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),Ho(t))return new ve(re.UNAVAILABLE,`${e}: ${t}`);throw t}class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||we.comparator(i.key,r.key):(i,r)=>we.comparator(i.key,r.key),this.keyedMap=ec(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class qE{constructor(){this.ga=new vt(we.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class ko{constructor(e,i,r,o,c,u,m,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const u=[];return i.forEach((m=>{u.push({type:0,doc:m})})),new ko(e,i,No.emptySet(i),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class tI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nI{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Me(i),c=o.queries;o.queries=FE(),c.forEach(((u,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function FE(){return new wa((t=>Vb(t)),Nd)}async function ay(t,e){const i=Me(t);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new tI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(u){const m=ry(u,`Initialization of query '${To(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ly(i)}async function oy(t,e){const i=Me(t),r=e.query;let o=3;const c=i.queries.get(r);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function iI(t,e){const i=Me(t);let r=!1;for(const o of e){const c=o.query,u=i.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(r=!0);u.wa=o}}r&&ly(i)}function sI(t,e,i){const r=Me(t),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function ly(t){t.Ca.forEach((e=>{e.next()}))}var Jp,HE;(HE=Jp||(Jp={})).Ma="default",HE.Cache="cache";class cy{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jp.Cache}}class d1{constructor(e){this.key=e}}class f1{constructor(e){this.key=e}}class rI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Ib(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new qE,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const S=o.get(v),w=jd(this.query,T)?T:null,I=!!S&&this.mutatedKeys.has(S.key),U=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;S&&w?S.data.isEqual(w.data)?I!==U&&(r.track({type:3,doc:w}),k=!0):this.su(S,w)||(r.track({type:2,doc:w}),k=!0,(g&&this.eu(w,g)>0||y&&this.eu(w,y)<0)&&(m=!0)):!S&&w?(r.track({type:0,doc:w}),k=!0):S&&!w&&(r.track({type:1,doc:S}),k=!0,(g||y)&&(m=!0)),k&&(w?(u=u.add(w),c=U?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:m,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,T)=>(function(w,I){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:k})}};return U(w)-U(I)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new ko(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new f1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new d1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uy="SyncEngine";class aI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class oI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,i,r,o,c,u){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new wa((m=>Vb(m)),Nd),this.Iu=new Map,this.Eu=new Set,this.du=new vt(we.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cI(t,e,i=!0){const r=_1(t);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await m1(r,e,i,!0),o}async function uI(t,e){const i=_1(t);await m1(i,e,!0,!1)}async function m1(t,e,i,r){const o=await jV(t.localStore,Ji(e)),c=o.targetId,u=t.sharedClientState.addLocalQueryTarget(c,i);let m;return r&&(m=await hI(t,e,c,u==="current",o.resumeToken)),t.isPrimaryClient&&i&&a1(t.remoteStore,o),m}async function hI(t,e,i,r,o){t.pu=(T,S,w)=>(async function(U,k,O,G){let F=k.view.ru(O);F.Cs&&(F=await kE(U.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,F))));const de=G&&G.targetChanges.get(k.targetId),ee=G&&G.targetMismatches.get(k.targetId)!=null,ne=k.view.applyChanges(F,U.isPrimaryClient,de,ee);return KE(U,k.targetId,ne.au),ne.snapshot})(t,T,S,w);const c=await kE(t.localStore,e,!0),u=new rI(e,c.Qs),m=u.ru(c.documents),g=Lc.createSynthesizedTargetChangeForCurrentChange(i,r&&t.onlineState!=="Offline",o),y=u.applyChanges(m,t.isPrimaryClient,g);KE(t,i,y.au);const v=new aI(e,i,u);return t.Tu.set(e,v),t.Iu.has(i)?t.Iu.get(i).push(e):t.Iu.set(i,[e]),y.snapshot}async function dI(t,e,i){const r=Me(t),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!Nd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Zp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&ey(r.remoteStore,o.targetId),eg(r,o.targetId)})).catch(Fo)):(eg(r,o.targetId),await Zp(r.localStore,o.targetId,!0))}async function fI(t,e){const i=Me(t),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ey(i.remoteStore,r.targetId))}async function mI(t,e,i){const r=EI(t);try{const o=await(function(u,m){const g=Me(u),y=ot.now(),v=m.reduce(((w,I)=>w.add(I.key)),Ge());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=ks(),U=Ge();return g.Ns.getEntries(w,v).next((k=>{I=k,I.forEach(((O,G)=>{G.isValidDocument()||(U=U.add(O))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,I))).next((k=>{T=k;const O=[];for(const G of m){const F=ND(G,T.get(G.key).overlayedDocument);F!=null&&O.push(new Mr(G.key,F,bb(F.value.mapValue),ai.exists(!0)))}return g.mutationQueue.addMutationBatch(w,y,O,m)})).next((k=>{S=k;const O=k.applyToLocalDocumentSet(T,U);return g.documentOverlayCache.saveOverlays(w,k.batchId,O)}))})).then((()=>({batchId:S.batchId,changes:Pb(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new vt(He)),y=y.insert(m,g),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,i),await zc(r,o.changes),await kd(r.remoteStore)}catch(o){const c=ry(o,"Failed to persist write");i.reject(c)}}async function p1(t,e){const i=Me(t);try{const r=await RV(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=i.Au.get(c);u&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Je(u.hu,14607):o.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await zc(i,r,e)}catch(r){await Fo(r)}}function GE(t,e,i){const r=Me(t);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=Me(u);g.onlineState=m;let y=!1;g.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(m)&&(y=!0)})),y&&ly(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pI(t,e,i){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new vt(we.comparator);u=u.insert(c,mn.newNoDocument(c,Ve.min()));const m=Ge().add(c),g=new Id(Ve.min(),new Map,new vt(He),u,m);await p1(r,g),r.du=r.du.remove(c),r.Au.delete(e),hy(r)}else await Zp(r.localStore,e,!1).then((()=>eg(r,e,i))).catch(Fo)}async function gI(t,e){const i=Me(t),r=e.batch.batchId;try{const o=await wV(i.localStore,e);y1(i,r,null),g1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await zc(i,o)}catch(o){await Fo(o)}}async function yI(t,e,i){const r=Me(t);try{const o=await(function(u,m){const g=Me(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Je(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);y1(r,e,i),g1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await zc(r,o)}catch(o){await Fo(o)}}function g1(t,e){(t.mu.get(e)||[]).forEach((i=>{i.resolve()})),t.mu.delete(e)}function y1(t,e,i){const r=Me(t);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function eg(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),i&&t.Pu.yu(r,i);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||v1(t,r)}))}function v1(t,e){t.Eu.delete(e.path.canonicalString());const i=t.du.get(e);i!==null&&(ey(t.remoteStore,i),t.du=t.du.remove(e),t.Au.delete(i),hy(t))}function KE(t,e,i){for(const r of i)r instanceof d1?(t.Ru.addReference(r.key,e),vI(t,r)):r instanceof f1?(Te(uy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||v1(t,r.key)):je(19791,{wu:r})}function vI(t,e){const i=e.key,r=i.path.canonicalString();t.du.get(i)||t.Eu.has(r)||(Te(uy,"New document in limbo: "+i),t.Eu.add(r),hy(t))}function hy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const i=new we(ct.fromString(e)),r=t.fu.next();t.Au.set(r,new oI(i)),t.du=t.du.insert(i,r),a1(t.remoteStore,new _r(Ji(Cd(i.path)),r,"TargetPurposeLimboResolution",Ad.ce))}}async function zc(t,e,i){const r=Me(t),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{u.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const v=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Wg.As(g.targetId,y);c.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(g,y){const v=Me(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ce.forEach(y,(S=>ce.forEach(S.Es,(w=>v.persistence.referenceDelegate.addReference(T,S.targetId,w))).next((()=>ce.forEach(S.ds,(w=>v.persistence.referenceDelegate.removeReference(T,S.targetId,w)))))))))}catch(T){if(!Ho(T))throw T;Te(Jg,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const w=v.Ms.get(S),I=w.snapshotVersion,U=w.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(S,U)}}})(r.localStore,c))}async function _I(t,e){const i=Me(t);if(!i.currentUser.isEqual(e)){Te(uy,"User change. New user:",e.toKey());const r=await n1(i.localStore,e);i.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new ve(re.CANCELLED,u))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(i,r.Ls)}}function TI(t,e){const i=Me(t),r=i.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const c=i.Iu.get(e);if(!c)return o;for(const u of c){const m=i.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function _1(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pI.bind(null,e),e.Pu.H_=iI.bind(null,e.eventManager),e.Pu.yu=sI.bind(null,e.eventManager),e}function EI(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return AV(this.persistence,new xV,e.initialUser,this.serializer)}Cu(e){return new t1(Zg.mi,this.serializer)}Du(e){return new VV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class xI extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oV(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new t1((r=>id.mi(r,i)),this.serializer)}}class tg{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_I.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nI})()}createDatastore(e){const i=Md(e.databaseInfo.databaseId),r=(function(c){return new OV(c)})(e.databaseInfo);return(function(c,u,m,g){return new BV(c,u,m,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,u,m){return new FV(r,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>GE(this.syncEngine,i,0)),(function(){return UE.v()?new UE:new IV})())}createSyncEngine(e,i){return(function(o,c,u,m,g,y,v){const T=new lI(o,c,u,m,g,y);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Me(i);Te(Aa,"RemoteStore shutting down."),r.Ea.add(5),await Uc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tg.provider={build:()=>new tg};class dy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const jr="FirestoreClient";class SI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{Te(jr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Te(jr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ry(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),Te(jr,"Initializing OfflineComponentProvider");const i=t.configuration;await e.initialize(i);let r=i.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await n1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function YE(t,e){t.asyncQueue.verifyOperationInProgress();const i=await bI(t);Te(jr,"Initializing OnlineComponentProvider"),await e.initialize(i,t.configuration),t.setCredentialChangeListener((r=>BE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>BE(e.remoteStore,o))),t._onlineComponents=e}async function bI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(jr,"Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Do("Error using user provided cache. Falling back to memory cache: "+i),await dp(t,new rd)}}else Te(jr,"Using default OfflineComponentProvider"),await dp(t,new xI(void 0));return t._offlineComponents}async function T1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(jr,"Using user provided OnlineComponentProvider"),await YE(t,t._uninitializedComponentsProvider._online)):(Te(jr,"Using default OnlineComponentProvider"),await YE(t,new tg))),t._onlineComponents}function AI(t){return T1(t).then((e=>e.syncEngine))}async function ad(t){const e=await T1(t),i=e.eventManager;return i.onListen=cI.bind(null,e.syncEngine),i.onUnlisten=dI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=uI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fI.bind(null,e.syncEngine),i}function wI(t,e,i={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const v=new dy({next:S=>{v.Nu(),u.enqueueAndForget((()=>oy(c,T)));const w=S.docs.has(m);!w&&S.fromCache?y.reject(new ve(re.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&g&&g.source==="server"?y.reject(new ve(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new cy(Cd(m.path),v,{includeMetadataChanges:!0,qa:!0});return ay(c,T)})(await ad(t),t.asyncQueue,e,i,r))),r.promise}function RI(t,e,i={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const v=new dy({next:S=>{v.Nu(),u.enqueueAndForget((()=>oy(c,T))),S.fromCache&&g.source==="server"?y.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new cy(m,v,{includeMetadataChanges:!0,qa:!0});return ay(c,T)})(await ad(t),t.asyncQueue,e,i,r))),r.promise}function E1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const QE=new Map;const x1="firestore.googleapis.com",XE=!0;class $E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x1,this.ssl=XE}else this.host=e.host,this.ssl=e.ssl??XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rV)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Dj;switch(r.type){case"firstParty":return new Pj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=QE.get(i);r&&(Te("ComponentProvider","Removing Datastore"),QE.delete(i),r.terminate())})(this),Promise.resolve()}}function CI(t,e,i,r={}){t=Dn(t,Od);const o=kg(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${i}`;o&&(a2(`https://${m}`),u2("Firestore",!0)),c.host!==x1&&c.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!Yh(g,u)&&(t._setSettings(g),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=fn.MOCK_USER;else{y=o2(r.mockUserToken,t._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(T)}t._authCredentials=new Vj(new db(y,v))}}class zs{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class St{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(kc(i,St._jsonSchema))return new St(e,r||null,new we(ct.fromString(i.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Ft("string",St._jsonSchemaVersion),referencePath:Ft("string")};class br extends zs{constructor(e,i,r){super(e,i,Cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new we(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Ca(t,e,...i){if(t=rs(t),fb("collection","path",e),t instanceof Od){const r=ct.fromString(e,...i);return cE(r),new br(t,null,r)}{if(!(t instanceof St||t instanceof br))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...i));return cE(r),new br(t.firestore,null,r)}}function li(t,e,...i){if(t=rs(t),arguments.length===1&&(e=Ug.newId()),fb("doc","path",e),t instanceof Od){const r=ct.fromString(e,...i);return lE(r),new St(t,null,new we(r))}{if(!(t instanceof St||t instanceof br))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...i));return lE(r),new St(t.firestore,t instanceof br?t.converter:null,new we(r))}}const ZE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s1(this,"async_queue_retry"),this._c=()=>{const r=hp();r&&Te(ZE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=hp();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=hp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;Te(ZE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",JE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=sy.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&je(47125,{Pc:JE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function JE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function ex(t){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(t,["next","error","complete"])}class Os extends Od{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new WE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function NI(t,e){const i=typeof t=="object"?t:Tj(),r=typeof t=="string"?t:Zh,o=pj(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=s2("firestore");c&&CI(o,...c)}return o}function Ld(t){if(t._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jI(t),t._firestoreClient}function jI(t){const e=t._freezeSettings(),i=(function(o,c,u,m){return new Jj(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,E1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SI(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(t._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(cn.fromBase64String(e))}catch(i){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Ft("string",si._jsonSchemaVersion),bytes:Ft("string")};class Ud{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zd{constructor(e){this._methodName=e}}class ts{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(kc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Ft("string",ts._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class ns{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ns(e.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Ft("string",ns._jsonSchemaVersion),vectorValues:Ft("object")};const DI=/^__.*__$/;class VI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Oc(e,this.data,i,this.fieldTransforms)}}class S1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function b1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class fy{constructor(e,i,r,o,c,u){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b1(this.Ac)&&DI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class II{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Md(e)}Cc(e,i,r,o=!1){return new fy({Ac:e,methodName:i,Dc:r,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(t){const e=t._freezeSettings(),i=Md(t._databaseId);return new II(t._databaseId,!!e.ignoreUndefinedProperties,i)}function A1(t,e,i,r,o,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,i,o);py("Data must be an object, but it was:",u,r);const m=w1(r,u);let g,y;if(c.merge)g=new Bn(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const T of c.mergeFields){const S=ng(e,T,i);if(!u.contains(S))throw new ve(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);C1(v,S)||v.push(S)}g=new Bn(v),y=u.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=u.fieldTransforms;return new VI(new jn(m),g,y)}class qd extends zd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}class my extends zd{_toFieldTransform(e){return new AD(e.path,new Sc)}isEqual(e){return e instanceof my}}function MI(t,e,i,r){const o=t.Cc(1,e,i);py("Data must be an object, but it was:",o,r);const c=[],u=jn.empty();Ir(r,((g,y)=>{const v=gy(e,g,i);y=rs(y);const T=o.yc(v);if(y instanceof qd)c.push(v);else{const S=Bc(y,T);S!=null&&(c.push(v),u.set(v,S))}}));const m=new Bn(c);return new S1(u,m,o.fieldTransforms)}function PI(t,e,i,r,o,c){const u=t.Cc(1,e,i),m=[ng(e,r,i)],g=[o];if(c.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(ng(e,c[S])),g.push(c[S+1]);const y=[],v=jn.empty();for(let S=m.length-1;S>=0;--S)if(!C1(y,m[S])){const w=m[S];let I=g[S];I=rs(I);const U=u.yc(w);if(I instanceof qd)y.push(w);else{const k=Bc(I,U);k!=null&&(y.push(w),v.set(w,k))}}const T=new Bn(y);return new S1(v,T,u.fieldTransforms)}function kI(t,e,i,r=!1){return Bc(i,t.Cc(r?4:3,e))}function Bc(t,e){if(R1(t=rs(t)))return py("Unsupported field value:",e,t),w1(t,e);if(t instanceof zd)return(function(r,o){if(!b1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const m of r){let g=Bc(m,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(t,e)}return(function(r,o){if((r=rs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:nd(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nd(o.serializer,c)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:Yb(o.serializer,r._byteString)};if(r instanceof St){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ns)return(function(u,m){return{mapValue:{fields:{[xb]:{stringValue:Sb},[Wh]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gg(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${bd(r)}`)})(t,e)}function w1(t,e){const i={};return gb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(t,((r,o)=>{const c=Bc(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function R1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ts||t instanceof si||t instanceof St||t instanceof zd||t instanceof ns)}function py(t,e,i){if(!R1(i)||!mb(i)){const r=bd(i);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ng(t,e,i){if((e=rs(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return gy(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,i)}const OI=new RegExp("[~\\*/\\[\\]]");function gy(t,e,i){if(e.search(OI)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new Ud(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function od(t,e,i,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new ve(re.INVALID_ARGUMENT,m+t+g)}function C1(t,e){return t.some((i=>i.isEqual(e)))}class N1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Fd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends N1{data(){return super.data()}}function Fd(t,e){return typeof e=="string"?gy(t,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}function j1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class vy extends yy{}function is(t,e,...i){let r=[];e instanceof yy&&r.push(e),r=r.concat(i),(function(c){const u=c.filter((g=>g instanceof _y)).length,m=c.filter((g=>g instanceof Hd)).length;if(u>1||u>0&&m>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Hd extends vy{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Hd(e,i,r)}_apply(e){const i=this._parse(e);return V1(e._query,i),new zs(e.firestore,e.converter,Kp(e._query,i))}_parse(e){const i=Bd(e.firestore);return(function(c,u,m,g,y,v,T){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){nx(T,v);const I=[];for(const U of T)I.push(tx(g,c,U));S={arrayValue:{values:I}}}else S=tx(g,c,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||nx(T,v),S=kI(m,u,T,v==="in"||v==="not-in");return qt.create(y,v,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function D1(t,e,i){const r=e,o=Fd("where",t);return Hd._create(o,r,i)}class _y extends yy{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new _y(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const g of m)V1(u,g),u=Kp(u,g)})(e._query,i),new zs(e.firestore,e.converter,Kp(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ty extends vy{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ty(e,i)}_apply(e){const i=(function(o,c,u){if(o.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xc(c,u)})(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new Go(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Gd(t,e="asc"){const i=e,r=Fd("orderBy",t);return Ty._create(r,i)}class Ey extends vy{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Ey(e,i,r)}_apply(e){return new zs(e.firestore,e.converter,ed(e._query,this._limit,this._limitType))}}function UI(t){return qj("limit",t),Ey._create("limit",t,"F")}function tx(t,e,i){if(typeof(i=rs(i))=="string"){if(i==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Db(e)&&i.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ct.fromString(i));if(!we.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yE(t,new we(r))}if(i instanceof St)return yE(t,i._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(i)}.`)}function nx(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V1(t,e){const i=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class zI{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ir(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Wh].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new ns(i)}convertGeoPoint(e){return new ts(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Rd(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){const i=wr(e);return new ot(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ct.fromString(e);Je(Jb(r),9688,{name:e});const o=new Tc(r.get(1),r.get(3)),c=new we(r.popFirst(5));return o.isEqual(i)||Ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function I1(t,e,i){let r;return r=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,r}class nc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends N1{constructor(e,i,r,o,c,u){super(e,i,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Fd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:Ft("string",Ta._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Uh extends Ta{data(e={}){return super.data(e)}}class Ea{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new nc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Uh(this._firestore,this._userDataWriter,r.key,r,new nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new Uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:BI(m.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}function xy(t){t=Dn(t,St);const e=Dn(t.firestore,Os);return wI(Ld(e),t._key).then((i=>k1(e,t,i)))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:Ft("string",Ea._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Sy extends zI{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,i)}}function Kd(t){t=Dn(t,zs);const e=Dn(t.firestore,Os),i=Ld(e),r=new Sy(e);return j1(t._query),RI(i,t._query).then((o=>new Ea(e,r,t,o)))}function by(t,e,i){t=Dn(t,St);const r=Dn(t.firestore,Os),o=I1(t.converter,e,i);return Yd(r,[A1(Bd(r),"setDoc",t._key,o,t.converter!==null,i).toMutation(t._key,ai.none())])}function Ay(t,e,i,...r){t=Dn(t,St);const o=Dn(t.firestore,Os),c=Bd(o);let u;return u=typeof(e=rs(e))=="string"||e instanceof Ud?PI(c,"updateDoc",t._key,e,i,r):MI(c,"updateDoc",t._key,e),Yd(o,[u.toMutation(t._key,ai.exists(!0))])}function M1(t){return Yd(Dn(t.firestore,Os),[new Kg(t._key,ai.none())])}function P1(t,e){const i=Dn(t.firestore,Os),r=li(t),o=I1(t.converter,e);return Yd(i,[A1(Bd(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then((()=>r))}function qI(t,...e){t=rs(t);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ex(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ex(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,u,m;if(t instanceof St)u=Dn(t.firestore,Os),m=Cd(t._key.path),c={next:g=>{e[r]&&e[r](k1(u,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Dn(t,zs);u=Dn(g.firestore,Os),m=g._query;const y=new Sy(u);c={next:v=>{e[r]&&e[r](new Ea(u,y,g,v))},error:e[r+1],complete:e[r+2]},j1(t._query)}return(function(y,v,T,S){const w=new dy(S),I=new cy(v,w,T);return y.asyncQueue.enqueueAndForget((async()=>ay(await ad(y),I))),()=>{w.Nu(),y.asyncQueue.enqueueAndForget((async()=>oy(await ad(y),I)))}})(Ld(u),m,o,c)}function Yd(t,e){return(function(r,o){const c=new Ds;return r.asyncQueue.enqueueAndForget((async()=>mI(await AI(r),o,c))),c.promise})(Ld(t),e)}function k1(t,e,i){const r=i.docs.get(e._key),o=new Sy(t);return new Ta(t,o,e._key,r,new nc(i.hasPendingWrites,i.fromCache),e.converter)}function ld(){return new my("serverTimestamp")}(function(e,i=!0){(function(o){qo=o})(_j),Xh(new gc("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),m=new Os(new Ij(r.getProvider("auth-internal")),new kj(u,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(y.options.projectId,v)})(u,o),u);return c={useFetchStreams:i,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Co(sE,rE,e),Co(sE,rE,"esm2020")})();var FI="firebase",HI="12.7.0";Co(FI,HI,"app");const GI={apiKey:"AIzaSyBLudSWDzq8_frN8BRVTHXJKMih7QnHFN8",authDomain:"xantos-pizza-grill.firebaseapp.com",projectId:"xantos-pizza-grill",storageBucket:"xantos-pizza-grill.firebasestorage.app",messagingSenderId:"500986013090",appId:"1:500986013090:web:1664fe5fc1f014b62d3efb"},KI=nb(GI),Wt=NI(KI);async function wc(){try{const t=is(Ca(Wt,"products"),Gd("category"));return(await Kd(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error fetching products:",t),t}}async function YI(t){try{const e=await P1(Ca(Wt,"products"),t);return await wy(),e.id}catch(e){throw console.error("Error creating product:",e),e}}async function QI(t,e){try{const i=li(Wt,"products",t);await Ay(i,e),await wy()}catch(i){throw console.error("Error updating product:",i),i}}async function XI(t){try{const e=li(Wt,"products",t);await M1(e),await wy()}catch(e){throw console.error("Error deleting product:",e),e}}async function xa(){try{const t=li(Wt,"metadata","products"),e=await xy(t);if(e.exists()){const r=e.data().lastUpdated;if(r)return r.toDate?r.toDate():new Date(r)}return null}catch(t){return console.error("Error fetching products metadata:",t),null}}async function wy(){try{const t=li(Wt,"metadata","products");await by(t,{lastUpdated:ld()},{merge:!0})}catch(t){console.error("Error updating products metadata:",t)}}async function ix(t){try{const e=li(Wt,"metadata","products");await by(e,{mostPopularProductIds:t,mostPopularLastUpdated:ld(),lastUpdated:ld()},{merge:!0})}catch(e){throw console.error("Error setting most popular product IDs:",e),e}}async function Oo(){try{const t=li(Wt,"metadata","products"),e=await xy(t);if(e.exists()){const i=e.data(),r=i.mostPopularProductIds||[];let o=null;const c=i.mostPopularLastUpdated;return c&&(c.toDate?o=c.toDate():o=new Date(c)),{lastUpdated:o,productIds:r}}return{lastUpdated:null,productIds:[]}}catch(t){return console.error("Error fetching most popular metadata and IDs:",t),{lastUpdated:null,productIds:[]}}}const O1="xanthos_products",L1="xanthos_products_lastUpdated",U1="xanthos_mostPopularProductIds",z1="xanthos_mostPopular_lastUpdated";function cd(){try{const t=localStorage.getItem(O1);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function ud(t){try{localStorage.setItem(O1,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function B1(){try{const t=localStorage.getItem(L1);if(t)return new Date(t)}catch(t){console.error("Error reading lastUpdated from localStorage:",t)}return null}function hd(t){try{localStorage.setItem(L1,t.toISOString())}catch(e){console.error("Error saving lastUpdated to localStorage:",e)}}function dd(){try{const t=localStorage.getItem(U1);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function fd(t){try{localStorage.setItem(U1,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function q1(){try{const t=localStorage.getItem(z1);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function md(t){try{localStorage.setItem(z1,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}const Ry=j.createContext({});function Qd(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const F1=typeof window<"u",Cy=F1?j.useLayoutEffect:j.useEffect,Xd=j.createContext(null);function Ny(t,e){t.indexOf(e)===-1&&t.push(e)}function jy(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const os=(t,e,i)=>i>e?e:i<t?t:i;let Dy=()=>{};const Ls={},H1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function G1(t){return typeof t=="object"&&t!==null}const K1=t=>/^0[^.\s]+$/u.test(t);function Vy(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,$I=(t,e)=>i=>e(t(i)),qc=(...t)=>t.reduce($I),Rc=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class Iy{constructor(){this.subscriptions=[]}add(e){return Ny(this.subscriptions,e),()=>jy(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=t=>t*1e3,ri=t=>t/1e3;function Y1(t,e){return e?t*(1e3/e):0}const Q1=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,ZI=1e-7,WI=12;function JI(t,e,i,r,o){let c,u,m=0;do u=e+(i-e)/2,c=Q1(u,r,o)-t,c>0?i=u:e=u;while(Math.abs(c)>ZI&&++m<WI);return u}function Fc(t,e,i,r){if(t===e&&i===r)return oi;const o=c=>JI(c,0,1,t,i);return c=>c===0||c===1?c:Q1(o(c),e,r)}const X1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$1=t=>e=>1-t(1-e),Z1=Fc(.33,1.53,.69,.99),My=$1(Z1),W1=X1(My),J1=t=>(t*=2)<1?.5*My(t):.5*(2-Math.pow(2,-10*(t-1))),Py=t=>1-Math.sin(Math.acos(t)),eA=$1(Py),tA=X1(Py),eM=Fc(.42,0,1,1),tM=Fc(0,0,.58,1),nA=Fc(.42,0,.58,1),nM=t=>Array.isArray(t)&&typeof t[0]!="number",iA=t=>Array.isArray(t)&&typeof t[0]=="number",iM={linear:oi,easeIn:eM,easeInOut:nA,easeOut:tM,circIn:Py,circInOut:tA,circOut:eA,backIn:My,backInOut:W1,backOut:Z1,anticipate:J1},sM=t=>typeof t=="string",sx=t=>{if(iA(t)){Dy(t.length===4);const[e,i,r,o]=t;return Fc(e,i,r,o)}else if(sM(t))return iM[t];return t},Sh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rM(t,e){let i=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(v){u.has(v)&&(y.schedule(v),t()),v(m)}const y={schedule:(v,T=!1,S=!1)=>{const I=S&&o?i:r;return T&&u.add(v),I.has(v)||I.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(m=v,o){c=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),i.clear(),o=!1,c&&(c=!1,y.process(v))}};return y}const aM=40;function sA(t,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,u=Sh.reduce((F,de)=>(F[de]=rM(c),F),{}),{setup:m,read:g,resolveKeyframes:y,preUpdate:v,update:T,preRender:S,render:w,postRender:I}=u,U=()=>{const F=Ls.useManualTiming?o.timestamp:performance.now();i=!1,Ls.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(F-o.timestamp,aM),1)),o.timestamp=F,o.isProcessing=!0,m.process(o),g.process(o),y.process(o),v.process(o),T.process(o),S.process(o),w.process(o),I.process(o),o.isProcessing=!1,i&&e&&(r=!1,t(U))},k=()=>{i=!0,r=!0,o.isProcessing||t(U)};return{schedule:Sh.reduce((F,de)=>{const ee=u[de];return F[de]=(ne,C=!1,A=!1)=>(i||k(),ee.schedule(ne,C,A)),F},{}),cancel:F=>{for(let de=0;de<Sh.length;de++)u[Sh[de]].cancel(F)},state:o,steps:u}}const{schedule:ft,cancel:Dr,state:an,steps:fp}=sA(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let zh;function oM(){zh=void 0}const Tn={now:()=>(zh===void 0&&Tn.set(an.isProcessing||Ls.useManualTiming?an.timestamp:performance.now()),zh),set:t=>{zh=t,queueMicrotask(oM)}},rA=t=>e=>typeof e=="string"&&e.startsWith(t),aA=rA("--"),lM=rA("var(--"),ky=t=>lM(t)?cM.test(t.split("/*")[0].trim()):!1,cM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function rx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Yo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cc={...Yo,transform:t=>os(0,1,t)},bh={...Yo,default:1},uc=t=>Math.round(t*1e5)/1e5,Oy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uM(t){return t==null}const hM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ly=(t,e)=>i=>!!(typeof i=="string"&&hM.test(i)&&i.startsWith(t)||e&&!uM(i)&&Object.prototype.hasOwnProperty.call(i,e)),oA=(t,e,i)=>r=>{if(typeof r!="string")return r;const[o,c,u,m]=r.match(Oy);return{[t]:parseFloat(o),[e]:parseFloat(c),[i]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},dM=t=>os(0,255,t),mp={...Yo,transform:t=>Math.round(dM(t))},va={test:Ly("rgb","red"),parse:oA("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+mp.transform(t)+", "+mp.transform(e)+", "+mp.transform(i)+", "+uc(Cc.transform(r))+")"};function fM(t){let e="",i="",r="",o="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ig={test:Ly("#"),parse:fM,transform:va.transform},Hc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=Hc("deg"),ss=Hc("%"),Ee=Hc("px"),mM=Hc("vh"),pM=Hc("vw"),ax={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},So={test:Ly("hsl","hue"),parse:oA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+ss.transform(uc(e))+", "+ss.transform(uc(i))+", "+uc(Cc.transform(r))+")"},Bt={test:t=>va.test(t)||ig.test(t)||So.test(t),parse:t=>va.test(t)?va.parse(t):So.test(t)?So.parse(t):ig.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?va.transform(t):So.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},gM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yM(t){return isNaN(t)&&typeof t=="string"&&(t.match(Oy)?.length||0)+(t.match(gM)?.length||0)>0}const lA="number",cA="color",vM="var",_M="var(",ox="${}",TM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nc(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let c=0;const m=e.replace(TM,g=>(Bt.test(g)?(r.color.push(c),o.push(cA),i.push(Bt.parse(g))):g.startsWith(_M)?(r.var.push(c),o.push(vM),i.push(g)):(r.number.push(c),o.push(lA),i.push(parseFloat(g))),++c,ox)).split(ox);return{values:i,split:m,indexes:r,types:o}}function uA(t){return Nc(t).values}function hA(t){const{split:e,types:i}=Nc(t),r=e.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=e[u],o[u]!==void 0){const m=i[u];m===lA?c+=uc(o[u]):m===cA?c+=Bt.transform(o[u]):c+=o[u]}return c}}const EM=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function xM(t){const e=uA(t);return hA(t)(e.map(EM))}const Vr={test:yM,parse:uA,createTransformer:hA,getAnimatableNone:xM};function pp(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function SM({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let o=0,c=0,u=0;if(!e)o=c=u=i;else{const m=i<.5?i*(1+e):i+e-i*e,g=2*i-m;o=pp(g,m,t+1/3),c=pp(g,m,t),u=pp(g,m,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function pd(t,e){return i=>i>0?e:t}const gt=(t,e,i)=>t+(e-t)*i,gp=(t,e,i)=>{const r=t*t,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},bM=[ig,va,So],AM=t=>bM.find(e=>e.test(t));function lx(t){const e=AM(t);if(!e)return!1;let i=e.parse(t);return e===So&&(i=SM(i)),i}const cx=(t,e)=>{const i=lx(t),r=lx(e);if(!i||!r)return pd(t,e);const o={...i};return c=>(o.red=gp(i.red,r.red,c),o.green=gp(i.green,r.green,c),o.blue=gp(i.blue,r.blue,c),o.alpha=gt(i.alpha,r.alpha,c),va.transform(o))},sg=new Set(["none","hidden"]);function wM(t,e){return sg.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function RM(t,e){return i=>gt(t,e,i)}function Uy(t){return typeof t=="number"?RM:typeof t=="string"?ky(t)?pd:Bt.test(t)?cx:jM:Array.isArray(t)?dA:typeof t=="object"?Bt.test(t)?cx:CM:pd}function dA(t,e){const i=[...t],r=i.length,o=t.map((c,u)=>Uy(c)(c,e[u]));return c=>{for(let u=0;u<r;u++)i[u]=o[u](c);return i}}function CM(t,e){const i={...t,...e},r={};for(const o in i)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Uy(t[o])(t[o],e[o]));return o=>{for(const c in r)i[c]=r[c](o);return i}}function NM(t,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][r[c]],m=t.values[u]??0;i[o]=m,r[c]++}return i}const jM=(t,e)=>{const i=Vr.createTransformer(e),r=Nc(t),o=Nc(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?sg.has(t)&&!o.values.length||sg.has(e)&&!r.values.length?wM(t,e):qc(dA(NM(r,o),o.values),i):pd(t,e)};function fA(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?gt(t,e,i):Uy(t)(t,e)}const DM=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ft.update(e,i),stop:()=>Dr(e),now:()=>an.isProcessing?an.timestamp:Tn.now()}},mA=(t,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let c=0;c<o;c++)r+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gd=2e4;function zy(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<gd;)e+=i,r=t.next(e);return e>=gd?1/0:e}function VM(t,e=100,i){const r=i({...t,keyframes:[0,e]}),o=Math.min(zy(r),gd);return{type:"keyframes",ease:c=>r.next(o*c).value/e,duration:ri(o)}}const IM=5;function pA(t,e,i){const r=Math.max(e-IM,0);return Y1(i-t(r),e-r)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yp=.001;function MM({duration:t=xt.duration,bounce:e=xt.bounce,velocity:i=xt.velocity,mass:r=xt.mass}){let o,c,u=1-e;u=os(xt.minDamping,xt.maxDamping,u),t=os(xt.minDuration,xt.maxDuration,ri(t)),u<1?(o=y=>{const v=y*u,T=v*t,S=v-i,w=rg(y,u),I=Math.exp(-T);return yp-S/w*I},c=y=>{const T=y*u*t,S=T*i+i,w=Math.pow(u,2)*Math.pow(y,2)*t,I=Math.exp(-T),U=rg(Math.pow(y,2),u);return(-o(y)+yp>0?-1:1)*((S-w)*I)/U}):(o=y=>{const v=Math.exp(-y*t),T=(y-i)*t+1;return-yp+v*T},c=y=>{const v=Math.exp(-y*t),T=(i-y)*(t*t);return v*T});const m=5/t,g=kM(o,c,m);if(t=Vs(t),isNaN(g))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const y=Math.pow(g,2)*r;return{stiffness:y,damping:u*2*Math.sqrt(r*y),duration:t}}}const PM=12;function kM(t,e,i){let r=i;for(let o=1;o<PM;o++)r=r-t(r)/e(r);return r}function rg(t,e){return t*Math.sqrt(1-e*e)}const OM=["duration","bounce"],LM=["stiffness","damping","mass"];function ux(t,e){return e.some(i=>t[i]!==void 0)}function UM(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!ux(t,LM)&&ux(t,OM))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,c=2*os(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:xt.mass,stiffness:o,damping:c}}else{const i=MM(t);e={...e,...i,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function yd(t=xt.visualDuration,e=xt.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=i;const c=i.keyframes[0],u=i.keyframes[i.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:y,mass:v,duration:T,velocity:S,isResolvedFromDuration:w}=UM({...i,velocity:-ri(i.velocity||0)}),I=S||0,U=y/(2*Math.sqrt(g*v)),k=u-c,O=ri(Math.sqrt(g/v)),G=Math.abs(k)<5;r||(r=G?xt.restSpeed.granular:xt.restSpeed.default),o||(o=G?xt.restDelta.granular:xt.restDelta.default);let F;if(U<1){const ee=rg(O,U);F=ne=>{const C=Math.exp(-U*O*ne);return u-C*((I+U*O*k)/ee*Math.sin(ee*ne)+k*Math.cos(ee*ne))}}else if(U===1)F=ee=>u-Math.exp(-O*ee)*(k+(I+O*k)*ee);else{const ee=O*Math.sqrt(U*U-1);F=ne=>{const C=Math.exp(-U*O*ne),A=Math.min(ee*ne,300);return u-C*((I+U*O*k)*Math.sinh(A)+ee*k*Math.cosh(A))/ee}}const de={calculatedDuration:w&&T||null,next:ee=>{const ne=F(ee);if(w)m.done=ee>=T;else{let C=ee===0?I:0;U<1&&(C=ee===0?Vs(I):pA(F,ee,ne));const A=Math.abs(C)<=r,N=Math.abs(u-ne)<=o;m.done=A&&N}return m.value=m.done?u:ne,m},toString:()=>{const ee=Math.min(zy(de),gd),ne=mA(C=>de.next(ee*C).value,ee,30);return ee+"ms "+ne},toTransition:()=>{}};return de}yd.applyToOptions=t=>{const e=VM(t,100,yd);return t.ease=e.ease,t.duration=Vs(e.duration),t.type="keyframes",t};function ag({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:y=.5,restSpeed:v}){const T=t[0],S={done:!1,value:T},w=A=>m!==void 0&&A<m||g!==void 0&&A>g,I=A=>m===void 0?g:g===void 0||Math.abs(m-A)<Math.abs(g-A)?m:g;let U=i*e;const k=T+U,O=u===void 0?k:u(k);O!==k&&(U=O-T);const G=A=>-U*Math.exp(-A/r),F=A=>O+G(A),de=A=>{const N=G(A),M=F(A);S.done=Math.abs(N)<=y,S.value=S.done?O:M};let ee,ne;const C=A=>{w(S.value)&&(ee=A,ne=yd({keyframes:[S.value,I(S.value)],velocity:pA(F,A,S.value),damping:o,stiffness:c,restDelta:y,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let N=!1;return!ne&&ee===void 0&&(N=!0,de(A),C(A)),ee!==void 0&&A>=ee?ne.next(A-ee):(!N&&de(A),S)}}}function zM(t,e,i){const r=[],o=i||Ls.mix||fA,c=t.length-1;for(let u=0;u<c;u++){let m=o(t[u],t[u+1]);if(e){const g=Array.isArray(e)?e[u]||oi:e;m=qc(g,m)}r.push(m)}return r}function BM(t,e,{clamp:i=!0,ease:r,mixer:o}={}){const c=t.length;if(Dy(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=zM(e,r,o),g=m.length,y=v=>{if(u&&v<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const S=Rc(t[T],t[T+1],v);return m[T](S)};return i?v=>y(os(t[0],t[c-1],v)):y}function qM(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const o=Rc(0,e,r);t.push(gt(i,1,o))}}function FM(t){const e=[0];return qM(e,t.length-1),e}function HM(t,e){return t.map(i=>i*e)}function GM(t,e){return t.map(()=>e||nA).splice(0,t.length-1)}function hc({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=nM(r)?r.map(sx):sx(r),c={done:!1,value:e[0]},u=HM(i&&i.length===e.length?i:FM(e),t),m=BM(u,e,{ease:Array.isArray(o)?o:GM(e,o)});return{calculatedDuration:t,next:g=>(c.value=m(g),c.done=g>=t,c)}}const KM=t=>t!==null;function By(t,{repeat:e,repeatType:i="loop"},r,o=1){const c=t.filter(KM),m=o<0||e&&i!=="loop"&&e%2===1?0:c.length-1;return!m||r===void 0?c[m]:r}const YM={decay:ag,inertia:ag,tween:hc,keyframes:hc,spring:yd};function gA(t){typeof t.type=="string"&&(t.type=YM[t.type])}class qy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const QM=t=>t/100;class Fy extends qy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gA(e);const{type:i=hc,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:m}=e;const g=i||hc;g!==hc&&typeof m[0]!="number"&&(this.mixKeyframes=qc(QM,fA(m[0],m[1])),m=[0,100]);const y=g({...e,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=zy(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:v,repeat:T,repeatType:S,repeatDelay:w,type:I,onUpdate:U,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const O=this.currentTime-y*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?O<0:O>o;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let F=this.currentTime,de=r;if(T){const A=Math.min(this.currentTime,o)/m;let N=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&N--,N=Math.min(N,T+1),!!(N%2)&&(S==="reverse"?(M=1-M,w&&(M-=w/m)):S==="mirror"&&(de=u)),F=os(0,1,M)*m}const ee=G?{done:!1,value:v[0]}:de.next(F);c&&(ee.value=c(ee.value));let{done:ne}=ee;!G&&g!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return C&&I!==ag&&(ee.value=By(v,this.options,k,this.speed)),U&&U(ee.value),C&&this.finish(),ee}then(e,i){return this.finished.then(e,i)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(this.currentTime)}set time(e){e=Vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=DM,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function XM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _a=t=>t*180/Math.PI,og=t=>{const e=_a(Math.atan2(t[1],t[0]));return lg(e)},$M={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:og,rotateZ:og,skewX:t=>_a(Math.atan(t[1])),skewY:t=>_a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lg=t=>(t=t%360,t<0&&(t+=360),t),hx=og,dx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dx,scaleY:fx,scale:t=>(dx(t)+fx(t))/2,rotateX:t=>lg(_a(Math.atan2(t[6],t[5]))),rotateY:t=>lg(_a(Math.atan2(-t[2],t[0]))),rotateZ:hx,rotate:hx,skewX:t=>_a(Math.atan(t[4])),skewY:t=>_a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cg(t){return t.includes("scale")?1:0}function ug(t,e){if(!t||t==="none")return cg(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=ZM,o=i;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$M,o=m}if(!o)return cg(e);const c=r[e],u=o[1].split(",").map(JM);return typeof c=="function"?c(u):u[c]}const WM=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return ug(i,e)};function JM(t){return parseFloat(t.trim())}const Qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xo=new Set(Qo),mx=t=>t===Yo||t===Ee,eP=new Set(["x","y","z"]),tP=Qo.filter(t=>!eP.has(t));function nP(t){const e=[];return tP.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const Tr={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ug(e,"x"),y:(t,{transform:e})=>ug(e,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const Sa=new Set;let hg=!1,dg=!1,fg=!1;function yA(){if(dg){const t=Array.from(Sa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=nP(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dg=!1,hg=!1,Sa.forEach(t=>t.complete(fg)),Sa.clear()}function vA(){Sa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dg=!0)})}function iP(){fg=!0,vA(),yA(),fg=!1}class Hy{constructor(e,i,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Sa.add(this),hg||(hg=!0,ft.read(vA),ft.resolveKeyframes(yA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&i){const m=r.readValue(i,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}XM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sa.delete(this)}cancel(){this.state==="scheduled"&&(Sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sP=t=>t.startsWith("--");function rP(t,e,i){sP(e)?t.style.setProperty(e,i):t.style[e]=i}const aP=Vy(()=>window.ScrollTimeline!==void 0),oP={};function lP(t,e){const i=Vy(t);return()=>oP[e]??i()}const _A=lP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ic=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,px={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ic([0,.65,.55,1]),circOut:ic([.55,0,1,.45]),backIn:ic([.31,.01,.66,-.59]),backOut:ic([.33,1.53,.69,.99])};function TA(t,e){if(t)return typeof t=="function"?_A()?mA(t,e):"ease-out":iA(t)?ic(t):Array.isArray(t)?t.map(i=>TA(i,e)||px.easeOut):px[t]}function cP(t,e,i,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},y=void 0){const v={[e]:i};g&&(v.offset=g);const T=TA(m,o);Array.isArray(T)&&(v.easing=T);const S={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),t.animate(v,S)}function EA(t){return typeof t=="function"&&"applyToOptions"in t}function uP({type:t,...e}){return EA(t)&&_A()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hP extends qy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,Dy(typeof e.type!="string");const y=uP(e);this.animation=cP(i,r,o,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const v=By(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):rP(i,r,v),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&aP()?(this.animation.timeline=e,oi):i(this)}}const xA={anticipate:J1,backInOut:W1,circInOut:tA};function dP(t){return t in xA}function fP(t){typeof t.ease=="string"&&dP(t.ease)&&(t.ease=xA[t.ease])}const vp=10;class mP extends hP{constructor(e){fP(e),gA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const m=new Fy({...u,autoplay:!1}),g=Math.max(vp,Tn.now()-this.startTime),y=os(0,vp,g-vp);i.setWithVelocity(m.sample(Math.max(0,g-y)).value,m.sample(g).value,y),m.stop()}}const gx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vr.test(t)||t==="0")&&!t.startsWith("url("));function pP(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function gP(t,e,i,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=gx(o,e),m=gx(c,e);return!u||!m?!1:pP(t)||(i==="spring"||EA(i))&&r}function mg(t){t.duration=0,t.type="keyframes"}const yP=new Set(["opacity","clipPath","filter","transform"]),vP=Vy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _P(t){const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=e.owner.getProps();return vP()&&i&&yP.has(i)&&(i!=="transform"||!y)&&!g&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const TP=40;class EP extends qy{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:y,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const S={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:c,repeatType:u,name:g,motionValue:y,element:v,...T},w=v?.KeyframeResolver||Hy;this.keyframeResolver=new w(m,(I,U,k)=>this.onKeyframesResolved(I,U,S,!k),g,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:y,onUpdate:v}=r;this.resolvedAt=Tn.now(),gP(e,c,u,m)||((Ls.instantAnimations||!g)&&v?.(By(e,r,i)),e[0]=e[e.length-1],mg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>TP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},w=!y&&_P(S)?new mP({...S,element:S.motionValue.owner.current}):new Fy(S);w.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),iP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const xP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SP(t){const e=xP.exec(t);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function SA(t,e,i=1){const[r,o]=SP(t);if(!r)return;const c=window.getComputedStyle(e).getPropertyValue(r);if(c){const u=c.trim();return H1(u)?parseFloat(u):u}return ky(o)?SA(o,e,i+1):o}function Gy(t,e){return t?.[e]??t?.default??t}const bP={type:"spring",stiffness:500,damping:25,restSpeed:10},AP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wP={type:"keyframes",duration:.8},RP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CP=(t,{keyframes:e})=>e.length>2?wP:Xo.has(t)?t.startsWith("scale")?AP(e[1]):bP:RP;function NP({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:y,...v}){return!!Object.keys(v).length}const jP=t=>t!==null;function DP(t,{repeat:e,repeatType:i="loop"},r){const o=t.filter(jP),c=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[c]}function bA(t,e,i,r=0,o=1){const c=Array.from(t).sort((y,v)=>y.sortNodePosition(v)).indexOf(e),u=t.size,m=(u-1)*r;return typeof i=="function"?i(c,u):o===1?c*r:m-c*r}const Ky=(t,e,i,r={},o,c)=>u=>{const m=Gy(r,t)||{},g=m.delay||r.delay||0;let{elapsed:y=0}=r;y=y-Vs(g);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-y,onUpdate:S=>{e.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:c?void 0:o};NP(m)||Object.assign(v,CP(t,v)),v.duration&&(v.duration=Vs(v.duration)),v.repeatDelay&&(v.repeatDelay=Vs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(mg(v),v.delay===0&&(T=!0)),(Ls.instantAnimations||Ls.skipAnimations)&&(T=!0,mg(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,T&&!c&&e.get()!==void 0){const S=DP(v.keyframes,m);if(S!==void 0){ft.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new Fy(v):new EP(v)},AA=new Set(["width","height","top","left","right","bottom",...Qo]),yx=30,VP=t=>!isNaN(parseFloat(t));class IP{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Iy);const r=this.events[e].add(i);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yx)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,yx);return Y1(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lo(t,e){return new IP(t,e)}function vx(t){const e=[{},{}];return t?.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function Yy(t,e,i,r){if(typeof e=="function"){const[o,c]=vx(r);e=e(i!==void 0?i:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=vx(r);e=e(i!==void 0?i:t.custom,o,c)}return e}function jo(t,e,i){const r=t.getProps();return Yy(r,e,i!==void 0?i:r.custom,t)}const pg=t=>Array.isArray(t);function MP(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Lo(i))}function PP(t){return pg(t)?t[t.length-1]||0:t}function Qy(t,e){const i=jo(t,e);let{transitionEnd:r={},transition:o={},...c}=i||{};c={...c,...r};for(const u in c){const m=PP(c[u]);MP(t,u,m)}}const pn=t=>!!(t&&t.getVelocity);function kP(t){return!!(pn(t)&&t.add)}function gg(t,e){const i=t.getValue("willChange");if(kP(i))return i.add(e);if(!i&&Ls.WillChange){const r=new Ls.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Xy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const OP="framerAppearId",wA="data-"+Xy(OP);function RA(t){return t.props[wA]}function LP({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function CA(t,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...m}=e;r&&(c=r);const g=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const v in m){const T=t.getValue(v,t.latestValues[v]??null),S=m[v];if(S===void 0||y&&LP(y,v))continue;const w={delay:i,...Gy(c||{},v)},I=T.get();if(I!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===I&&!w.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const O=RA(t);if(O){const G=window.MotionHandoffAnimation(O,v,ft);G!==null&&(w.startTime=G,U=!0)}}gg(t,v),T.start(Ky(v,T,S,t.shouldReduceMotion&&AA.has(v)?{type:!1}:w,t,U));const k=T.animation;k&&g.push(k)}return u&&Promise.all(g).then(()=>{ft.update(()=>{u&&Qy(t,u)})}),g}function yg(t,e,i={}){const r=jo(t,e,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const c=r?()=>Promise.all(CA(t,r,i)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:T}=o;return UP(t,e,g,y,v,T,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,y]=m==="beforeChildren"?[c,u]:[u,c];return g().then(()=>y())}else return Promise.all([c(),u(i.delay)])}function UP(t,e,i=0,r=0,o=0,c=1,u){const m=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),m.push(yg(g,e,{...u,delay:i+(typeof r=="function"?0:r)+bA(t.variantChildren,g,r,o,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function NA(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(c=>yg(t,c,i));r=Promise.all(o)}else if(typeof e=="string")r=yg(t,e,i);else{const o=typeof e=="function"?jo(t,e,i.custom):e;r=Promise.all(CA(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}const zP={test:t=>t==="auto",parse:t=>t},jA=t=>e=>e.test(t),DA=[Yo,Ee,ss,vr,pM,mM,zP],_x=t=>DA.find(jA(t));function BP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||K1(t):!0}const qP=new Set(["brightness","contrast","saturate","opacity"]);function FP(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(Oy)||[];if(!r)return t;const o=i.replace(r,"");let c=qP.has(e)?1:0;return r!==i&&(c*=100),e+"("+c+o+")"}const HP=/\b([a-z-]*)\(.*?\)/gu,vg={...Vr,getAnimatableNone:t=>{const e=t.match(HP);return e?e.map(FP).join(" "):t}},Tx={...Yo,transform:Math.round},GP={rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:bh,scaleX:bh,scaleY:bh,scaleZ:bh,skew:vr,skewX:vr,skewY:vr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Cc,originX:ax,originY:ax,originZ:Ee},$y={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,inset:Ee,insetBlock:Ee,insetBlockStart:Ee,insetBlockEnd:Ee,insetInline:Ee,insetInlineStart:Ee,insetInlineEnd:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,paddingBlock:Ee,paddingBlockStart:Ee,paddingBlockEnd:Ee,paddingInline:Ee,paddingInlineStart:Ee,paddingInlineEnd:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,marginBlock:Ee,marginBlockStart:Ee,marginBlockEnd:Ee,marginInline:Ee,marginInlineStart:Ee,marginInlineEnd:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...GP,zIndex:Tx,fillOpacity:Cc,strokeOpacity:Cc,numOctaves:Tx},KP={...$y,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:vg,WebkitFilter:vg},VA=t=>KP[t];function IA(t,e){let i=VA(t);return i!==vg&&(i=Vr),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const YP=new Set(["auto","none","0"]);function QP(t,e,i){let r=0,o;for(;r<t.length&&!o;){const c=t[r];typeof c=="string"&&!YP.has(c)&&Nc(c).values.length&&(o=t[r]),r++}if(o&&i)for(const c of e)t[c]=IA(i,o)}class XP extends Hy{constructor(e,i,r,o,c){super(e,i,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let T=e[v];if(typeof T=="string"&&(T=T.trim(),ky(T))){const S=SA(T,i.current);S!==void 0&&(e[v]=S),v===e.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!AA.has(r)||e.length!==2)return;const[o,c]=e,u=_x(o),m=_x(c),g=rx(o),y=rx(c);if(g!==y&&Tr[r]){this.needsMeasurement=!0;return}if(u!==m)if(mx(u)&&mx(m))for(let v=0;v<e.length;v++){const T=e[v];typeof T=="string"&&(e[v]=parseFloat(T))}else Tr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||BP(e[o]))&&r.push(o);r.length&&QP(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=Tr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function $P(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=i?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const MA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function PA(t){return G1(t)&&"offsetHeight"in t}const{schedule:Zy}=sA(queueMicrotask,!1),Si={x:!1,y:!1};function kA(){return Si.x||Si.y}function ZP(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function OA(t,e){const i=$P(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function Ex(t){return!(t.pointerType==="touch"||kA())}function WP(t,e,i={}){const[r,o,c]=OA(t,i),u=m=>{if(!Ex(m))return;const{target:g}=m,y=e(g,m);if(typeof y!="function"||!g)return;const v=T=>{Ex(T)&&(y(T),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",u,o)}),c}const LA=(t,e)=>e?t===e?!0:LA(t,e.parentElement):!1,Wy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UA(t){return JP.has(t.tagName)||t.isContentEditable===!0}const Bh=new WeakSet;function xx(t){return e=>{e.key==="Enter"&&t(e)}}function _p(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ek=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=xx(()=>{if(Bh.has(i))return;_p(i,"down");const o=xx(()=>{_p(i,"up")}),c=()=>_p(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",c,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function Sx(t){return Wy(t)&&!kA()}function tk(t,e,i={}){const[r,o,c]=OA(t,i),u=m=>{const g=m.currentTarget;if(!Sx(m))return;Bh.add(g);const y=e(g,m),v=(w,I)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Bh.has(g)&&Bh.delete(g),Sx(w)&&typeof y=="function"&&y(w,{success:I})},T=w=>{v(w,g===window||g===document||i.useGlobalTarget||LA(g,w.target))},S=w=>{v(w,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),PA(m)&&(m.addEventListener("focus",y=>ek(y,o)),!UA(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function zA(t){return G1(t)&&"ownerSVGElement"in t}function nk(t){return zA(t)&&t.tagName==="svg"}const ik=[...DA,Bt,Vr],sk=t=>ik.find(jA(t)),bx=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:bx(),y:bx()}),Ax=()=>({min:0,max:0}),Gt=()=>({x:Ax(),y:Ax()}),_g={current:null},BA={current:!1},rk=typeof window<"u";function ak(){if(BA.current=!0,!!rk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_g.current=t.matches;t.addEventListener("change",e),e()}else _g.current=!1}const ok=new WeakMap;function $d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function jc(t){return typeof t=="string"||Array.isArray(t)}const Jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ev=["initial",...Jy];function Zd(t){return $d(t.animate)||ev.some(e=>jc(t[e]))}function qA(t){return!!(Zd(t)||t.variants)}function lk(t,e,i){for(const r in e){const o=e[r],c=i[r];if(pn(o))t.addValue(r,o);else if(pn(c))t.addValue(r,Lo(o,{owner:t}));else if(c!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,Lo(u!==void 0?u:o,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const wx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let vd={};function FA(t){vd=t}function ck(){return vd}class uk{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Tn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ft.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=y,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Zd(i),this.isVariantNode=qA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in T){const w=T[S];g[S]!==void 0&&pn(w)&&w.set(g[S])}}mount(e){this.current=e,ok.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(BA.current||ak(),this.shouldReduceMotion=_g.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dr(this.notifyUpdate),Dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xo.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vd){const i=vd[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<wx.length;r++){const o=wx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=lk(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=Lo(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(H1(r)||K1(r))?r=parseFloat(r):!sk(r)&&Vr.test(i)&&(r=IA(e,i)),this.setBaseTarget(e,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=Yy(this.props,i,this.presenceContext?.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!pn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Iy),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){Zy.render(this.render)}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HA extends uk{constructor(){super(...arguments),this.KeyframeResolver=XP}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){const r=e.style;return r?r[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function GA({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function hk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dk(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function Tp(t){return t===void 0||t===1}function Tg({scale:t,scaleX:e,scaleY:i}){return!Tp(t)||!Tp(e)||!Tp(i)}function pa(t){return Tg(t)||KA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KA(t){return Rx(t.x)||Rx(t.y)}function Rx(t){return t&&t!=="0%"}function _d(t,e,i){const r=t-i,o=e*r;return i+o}function Cx(t,e,i,r,o){return o!==void 0&&(t=_d(t,o,r)),_d(t,i,r)+e}function Eg(t,e=0,i=1,r,o){t.min=Cx(t.min,e,i,r,o),t.max=Cx(t.max,e,i,r,o)}function YA(t,{x:e,y:i}){Eg(t.x,e.translate,e.scale,e.originPoint),Eg(t.y,i.translate,i.scale,i.originPoint)}const Nx=.999999999999,jx=1.0000000000001;function fk(t,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let c,u;for(let m=0;m<o;m++){c=i[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&wo(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,YA(t,u)),r&&pa(c.latestValues)&&wo(t,c.latestValues))}e.x<jx&&e.x>Nx&&(e.x=1),e.y<jx&&e.y>Nx&&(e.y=1)}function Ao(t,e){t.min=t.min+e,t.max=t.max+e}function Dx(t,e,i,r,o=.5){const c=gt(t.min,t.max,o);Eg(t,e,i,c,r)}function wo(t,e){Dx(t.x,e.x,e.scaleX,e.scale,e.originX),Dx(t.y,e.y,e.scaleY,e.scale,e.originY)}function QA(t,e){return GA(dk(t.getBoundingClientRect(),e))}function mk(t,e,i){const r=QA(t,i),{scroll:o}=e;return o&&(Ao(r.x,o.offset.x),Ao(r.y,o.offset.y)),r}const pk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gk=Qo.length;function yk(t,e,i){let r="",o=!0;for(let c=0;c<gk;c++){const u=Qo[c],m=t[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||i){const y=MA(m,$y[u]);if(!g){o=!1;const v=pk[u]||u;r+=`${v}(${y}) `}i&&(e[u]=y)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function tv(t,e,i){const{style:r,vars:o,transformOrigin:c}=t;let u=!1,m=!1;for(const g in e){const y=e[g];if(Xo.has(g)){u=!0;continue}else if(aA(g)){o[g]=y;continue}else{const v=MA(y,$y[g]);g.startsWith("origin")?(m=!0,c[g]=v):r[g]=v}}if(e.transform||(u||i?r.transform=yk(e,t.transform,i):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:y="50%",originZ:v=0}=c;r.transformOrigin=`${g} ${y} ${v}`}}function XA(t,{style:e,vars:i},r,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,r);for(u in i)c.setProperty(u,i[u])}function Vx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const i=Vx(t,e.target.x),r=Vx(t,e.target.y);return`${i}% ${r}%`}},vk={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,o=Vr.parse(t);if(o.length>5)return r;const c=Vr.createTransformer(t),u=typeof o[0]!="number"?1:0,m=i.x.scale*e.x,g=i.y.scale*e.y;o[0+u]/=m,o[1+u]/=g;const y=gt(m,g,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),c(o)}},xg={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:vk};function $A(t,{layout:e,layoutId:i}){return Xo.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!xg[t]||t==="opacity")}function nv(t,e,i){const r=t.style,o=e?.style,c={};if(!r)return c;for(const u in r)(pn(r[u])||o&&pn(o[u])||$A(u,t)||i?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function _k(t){return window.getComputedStyle(t)}class Tk extends HA{constructor(){super(...arguments),this.type="html",this.renderInstance=XA}readValueFromInstance(e,i){if(Xo.has(i))return this.projection?.isProjecting?cg(i):WM(e,i);{const r=_k(e),o=(aA(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:i}){return QA(e,i)}build(e,i,r){tv(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return nv(e,i,r)}}const Ek={offset:"stroke-dashoffset",array:"stroke-dasharray"},xk={offset:"strokeDashoffset",array:"strokeDasharray"};function Sk(t,e,i=1,r=0,o=!0){t.pathLength=1;const c=o?Ek:xk;t[c.offset]=Ee.transform(-r);const u=Ee.transform(e),m=Ee.transform(i);t[c.array]=`${u} ${m}`}const bk=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ZA(t,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...m},g,y,v){if(tv(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete T.transformBox);for(const w of bk)T[w]!==void 0&&(S[w]=T[w],delete T[w]);e!==void 0&&(T.x=e),i!==void 0&&(T.y=i),r!==void 0&&(T.scale=r),o!==void 0&&Sk(T,o,c,u,!1)}const WA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),JA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ak(t,e,i,r){XA(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(WA.has(o)?o:Xy(o),e.attrs[o])}function ew(t,e,i){const r=nv(t,e,i);for(const o in t)if(pn(t[o])||pn(e[o])){const c=Qo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=t[o]}return r}class wk extends HA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(Xo.has(i)){const r=VA(i);return r&&r.default||0}return i=WA.has(i)?i:Xy(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return ew(e,i,r)}build(e,i,r){ZA(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){Ak(e,i,r,o)}mount(e){this.isSVGTag=JA(e.tagName),super.mount(e)}}const Rk=ev.length;function tw(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?tw(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<Rk;i++){const r=ev[i],o=t.props[r];(jc(o)||o===!1)&&(e[r]=o)}return e}function nw(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const Ck=[...Jy].reverse(),Nk=Jy.length;function jk(t){return e=>Promise.all(e.map(({animation:i,options:r})=>NA(t,i,r)))}function Dk(t){let e=jk(t),i=Ix(),r=!0;const o=g=>(y,v)=>{const T=jo(t,v,g==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:w,...I}=T;y={...y,...I,...w}}return y};function c(g){e=g(t)}function u(g){const{props:y}=t,v=tw(t.parent)||{},T=[],S=new Set;let w={},I=1/0;for(let k=0;k<Nk;k++){const O=Ck[k],G=i[O],F=y[O]!==void 0?y[O]:v[O],de=jc(F),ee=O===g?G.isActive:null;ee===!1&&(I=k);let ne=F===v[O]&&F!==y[O]&&de;if(ne&&r&&t.manuallyAnimateOnMount&&(ne=!1),G.protectedKeys={...w},!G.isActive&&ee===null||!F&&!G.prevProp||$d(F)||typeof F=="boolean")continue;const C=Vk(G.prevProp,F);let A=C||O===g&&G.isActive&&!ne&&de||k>I&&de,N=!1;const M=Array.isArray(F)?F:[F];let D=M.reduce(o(O),{});ee===!1&&(D={});const{prevResolvedValues:B={}}=G,V={...B,...D},Pe=he=>{A=!0,S.has(he)&&(N=!0,S.delete(he)),G.needsAnimating[he]=!0;const ye=t.getValue(he);ye&&(ye.liveStyle=!1)};for(const he in V){const ye=D[he],be=B[he];if(w.hasOwnProperty(he))continue;let Ce=!1;pg(ye)&&pg(be)?Ce=!nw(ye,be):Ce=ye!==be,Ce?ye!=null?Pe(he):S.add(he):ye!==void 0&&S.has(he)?Pe(he):G.protectedKeys[he]=!0}G.prevProp=F,G.prevResolvedValues=D,G.isActive&&(w={...w,...D}),r&&t.blockInitialAnimation&&(A=!1);const ge=ne&&C;A&&(!ge||N)&&T.push(...M.map(he=>{const ye={type:O};if(typeof he=="string"&&r&&!ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Ce=jo(be,he);if(be.enteringChildren&&Ce){const{delayChildren:z}=Ce.transition||{};ye.delay=bA(be.enteringChildren,t,z)}}return{animation:he,options:ye}}))}if(S.size){const k={};if(typeof y.initial!="boolean"){const O=jo(t,Array.isArray(y.initial)?y.initial[0]:y.initial);O&&O.transition&&(k.transition=O.transition)}S.forEach(O=>{const G=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),k[O]=G??null}),T.push({animation:k})}let U=!!T.length;return r&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(U=!1),r=!1,U?e(T):Promise.resolve()}function m(g,y){if(i[g].isActive===y)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(g,y)),i[g].isActive=y;const v=u(g);for(const T in i)i[T].protectedKeys={};return v}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>i,reset:()=>{i=Ix()}}}function Vk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nw(e,t):!1}function fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ix(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}const iw=1e-4,Ik=1-iw,Mk=1+iw,sw=.01,Pk=0-sw,kk=0+sw;function En(t){return t.max-t.min}function Ok(t,e,i){return Math.abs(t-e)<=i}function Mx(t,e,i,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=En(i)/En(e),t.translate=gt(i.min,i.max,t.origin)-t.originPoint,(t.scale>=Ik&&t.scale<=Mk||isNaN(t.scale))&&(t.scale=1),(t.translate>=Pk&&t.translate<=kk||isNaN(t.translate))&&(t.translate=0)}function dc(t,e,i,r){Mx(t.x,e.x,i.x,r?r.originX:void 0),Mx(t.y,e.y,i.y,r?r.originY:void 0)}function Px(t,e,i){t.min=i.min+e.min,t.max=t.min+En(e)}function Lk(t,e,i){Px(t.x,e.x,i.x),Px(t.y,e.y,i.y)}function kx(t,e,i){t.min=e.min-i.min,t.max=t.min+En(e)}function Td(t,e,i){kx(t.x,e.x,i.x),kx(t.y,e.y,i.y)}function Ox(t,e,i,r,o){return t-=e,t=_d(t,1/i,r),o!==void 0&&(t=_d(t,1/o,r)),t}function Uk(t,e=0,i=1,r=.5,o,c=t,u=t){if(ss.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=gt(c.min,c.max,r);t===c&&(m-=e),t.min=Ox(t.min,e,i,m,o),t.max=Ox(t.max,e,i,m,o)}function Lx(t,e,[i,r,o],c,u){Uk(t,e[i],e[r],e[o],e.scale,c,u)}const zk=["x","scaleX","originX"],Bk=["y","scaleY","originY"];function Ux(t,e,i,r){Lx(t.x,e,zk,i?i.x:void 0,r?r.x:void 0),Lx(t.y,e,Bk,i?i.y:void 0,r?r.y:void 0)}function zx(t,e){t.min=e.min,t.max=e.max}function Ei(t,e){zx(t.x,e.x),zx(t.y,e.y)}function Bx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qx(t){return t.translate===0&&t.scale===1}function rw(t){return qx(t.x)&&qx(t.y)}function Fx(t,e){return t.min===e.min&&t.max===e.max}function qk(t,e){return Fx(t.x,e.x)&&Fx(t.y,e.y)}function Hx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aw(t,e){return Hx(t.x,e.x)&&Hx(t.y,e.y)}function Gx(t){return En(t.x)/En(t.y)}function Kx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ii(t){return[t("x"),t("y")]}function Fk(t,e,i){let r="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=i?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:y,rotate:v,rotateX:T,rotateY:S,skewX:w,skewY:I}=i;y&&(r=`perspective(${y}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),S&&(r+=`rotateY(${S}deg) `),w&&(r+=`skewX(${w}deg) `),I&&(r+=`skewY(${I}deg) `)}const m=t.x.scale*e.x,g=t.y.scale*e.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const ow=["TopLeft","TopRight","BottomLeft","BottomRight"],Hk=ow.length,Yx=t=>typeof t=="string"?parseFloat(t):t,Qx=t=>typeof t=="number"||Ee.test(t);function Gk(t,e,i,r,o,c){o?(t.opacity=gt(0,i.opacity??1,Kk(r)),t.opacityExit=gt(e.opacity??1,0,Yk(r))):c&&(t.opacity=gt(e.opacity??1,i.opacity??1,r));for(let u=0;u<Hk;u++){const m=`border${ow[u]}Radius`;let g=Xx(e,m),y=Xx(i,m);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||Qx(g)===Qx(y)?(t[m]=Math.max(gt(Yx(g),Yx(y),r),0),(ss.test(y)||ss.test(g))&&(t[m]+="%")):t[m]=y}(e.rotate||i.rotate)&&(t.rotate=gt(e.rotate||0,i.rotate||0,r))}function Xx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kk=lw(0,.5,eA),Yk=lw(.5,.95,oi);function lw(t,e,i){return r=>r<t?0:r>e?1:i(Rc(t,e,r))}function Qk(t,e){const i=Tn.now(),r=({timestamp:o})=>{const c=o-i;c>=e&&(Dr(r),t(c-e))};return ft.setup(r,!0),()=>Dr(r)}function Dc(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}function qh(t){return pn(t)?t.get():t}function Xk(t,e,i){const r=pn(t)?t:Lo(t);return r.start(Ky("",r,e,i)),r.animation}const $k=(t,e)=>t.depth-e.depth;class Zk{constructor(){this.children=[],this.isDirty=!1}add(e){Ny(this.children,e),this.isDirty=!0}remove(e){jy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($k),this.isDirty=!1,this.children.forEach(e)}}class Wk{constructor(){this.members=[]}add(e){Ny(this.members,e),e.scheduleRender()}remove(e){if(jy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ep=["","X","Y","Z"],Jk=1e3;let e4=0;function xp(t,e,i,r){const{latestValues:o}=e;o[t]&&(i[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=RA(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ft,!(o||c))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cw(r)}function uw({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},m=e?.()){this.id=e4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(i4),this.nodes.forEach(o4),this.nodes.forEach(l4),this.nodes.forEach(s4)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zk)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Iy),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=zA(u)&&!nk(u),this.instance=u;const{layoutId:m,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),t){let v,T=0;const S=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{T=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==T&&(T=w,this.root.updateBlockedByResize=!0,v&&v(),v=Qk(S,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Wx)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||y.getDefaultTransition()||f4,{onLayoutAnimationStart:U,onLayoutAnimationComplete:k}=y.getProps(),O=!this.targetLayout||!aw(this.targetLayout,w),G=!T&&S;if(this.options.layoutRoot||this.resumeFrom||G||T&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Gy(I,"layout"),onPlay:U,onComplete:k};(y.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,G)}else T||Wx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($x);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(a4),this.nodes.forEach(t4),this.nodes.forEach(n4)):this.nodes.forEach(Zx),this.clearAllSnapshots();const m=Tn.now();an.delta=os(0,1e3/60,m-an.timestamp),an.timestamp=m,an.isProcessing=!0,fp.update.process(an),fp.preRender.process(an),fp.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r4),this.sharedNodes.forEach(u4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!rw(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;u&&this.instance&&(m||pa(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),m4(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(p4))){const{scroll:y}=this.root;y&&(Ao(m.x,y.offset.x),Ao(m.y,y.offset.y))}return m}removeElementScroll(u){const m=Gt();if(Ei(m,u),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:v,options:T}=y;y!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&Ei(m,u),Ao(m.x,v.offset.x),Ao(m.y,v.offset.y))}return m}applyTransform(u,m=!1){const g=Gt();Ei(g,u);for(let y=0;y<this.path.length;y++){const v=this.path[y];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&wo(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),pa(v.latestValues)&&wo(g,v.latestValues)}return pa(this.latestValues)&&wo(g,this.latestValues),g}removeTransform(u){const m=Gt();Ei(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!pa(y.latestValues))continue;Tg(y.latestValues)&&y.updateSnapshot();const v=Gt(),T=y.measurePageBox();Ei(v,T),Ux(m,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return pa(this.latestValues)&&Ux(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=an.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),YA(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Tg(this.parent.latestValues)||KA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Td(this.relativeTargetOrigin,m,g),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===an.timestamp&&(g=!1),g)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Ei(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;fk(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bx(this.prevProjectionDelta.x,this.projectionDelta.x),Bx(this.prevProjectionDelta.y,this.projectionDelta.y)),dc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!Kx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(u,m=!1){const g=this.snapshot,y=g?g.latestValues:{},v={...this.latestValues},T=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Gt(),w=g?g.source:void 0,I=this.layout?this.layout.source:void 0,U=w!==I,k=this.getStack(),O=!k||k.members.length<=1,G=!!(U&&!O&&this.options.crossfade===!0&&!this.path.some(d4));this.animationProgress=0;let F;this.mixTargetDelta=de=>{const ee=de/1e3;Jx(T.x,u.x,ee),Jx(T.y,u.y,ee),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Td(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h4(this.relativeTarget,this.relativeTargetOrigin,S,ee),F&&qk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Gt()),Ei(F,this.relativeTarget)),U&&(this.animationValues=v,Gk(v,y,this.latestValues,ee,G,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Fh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lo(0)),this.currentAnimation=Xk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:y,latestValues:v}=u;if(!(!m||!g||!y)){if(this!==u&&this.layout&&y&&hw(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||Gt();const T=En(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+T;const S=En(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+S}Ei(m,g),wo(m,v),dc(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Wk),this.sharedNodes.get(u).add(m);const y=m.options.initialPromotionConfig;m.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const y={};g.z&&xp("z",u,y,this.animationValues);for(let v=0;v<Ep.length;v++)xp(`rotate${Ep[v]}`,u,y,this.animationValues),xp(`skew${Ep[v]}`,u,y,this.animationValues);u.render();for(const v in y)u.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=qh(m?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=qh(m?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let T=Fk(this.projectionDeltaWithTransform,this.treeScale,v);g&&(T=g(v,T)),u.transform=T;const{x:S,y:w}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,y.animationValues?u.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in xg){if(v[I]===void 0)continue;const{correct:U,applyTo:k,isCSSVariable:O}=xg[I],G=T==="none"?v[I]:U(v[I],y);if(k){const F=k.length;for(let de=0;de<F;de++)u[k[de]]=G}else O?this.options.visualElement.renderState.vars[I]=G:u[I]=G}this.options.layoutId&&(u.pointerEvents=y===this?qh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach($x),this.root.sharedNodes.clear()}}}function t4(t){t.updateLayout()}function n4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?ii(v=>{const T=c?e.measuredBox[v]:e.layoutBox[v],S=En(T);T.min=i[v].min,T.max=T.min+S}):hw(o,e.layoutBox,i)&&ii(v=>{const T=c?e.measuredBox[v]:e.layoutBox[v],S=En(i[v]);T.max=T.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const u=bo();dc(u,i,e.layoutBox);const m=bo();c?dc(m,t.applyTransform(r,!0),e.measuredBox):dc(m,i,e.layoutBox);const g=!rw(u);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:S}=v;if(T&&S){const w=Gt();Td(w,e.layoutBox,T.layoutBox);const I=Gt();Td(I,i,S.layoutBox),aw(w,I)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function i4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r4(t){t.clearSnapshot()}function $x(t){t.clearMeasurements()}function Zx(t){t.isLayoutDirty=!1}function a4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Wx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o4(t){t.resolveTargetDelta()}function l4(t){t.calcProjection()}function c4(t){t.resetSkewAndRotation()}function u4(t){t.removeLeadSnapshot()}function Jx(t,e,i){t.translate=gt(e.translate,0,i),t.scale=gt(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function eS(t,e,i,r){t.min=gt(e.min,i.min,r),t.max=gt(e.max,i.max,r)}function h4(t,e,i,r){eS(t.x,e.x,i.x,r),eS(t.y,e.y,i.y,r)}function d4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f4={duration:.45,ease:[.4,0,.1,1]},tS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nS=tS("applewebkit/")&&!tS("chrome/")?Math.round:oi;function iS(t){t.min=nS(t.min),t.max=nS(t.max)}function m4(t){iS(t.x),iS(t.y)}function hw(t,e,i){return t==="position"||t==="preserve-aspect"&&!Ok(Gx(e),Gx(i),.2)}function p4(t){return t!==t.root&&t.scroll?.wasRoot}const g4=uw({attachResizeListener:(t,e)=>Dc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sp={current:void 0},dw=uw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sp.current){const t=new g4({});t.mount(window),t.setOptions({layoutScroll:!0}),Sp.current=t}return Sp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iv=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function y4(...t){return e=>{let i=!1;const r=t.map(o=>{const c=sS(o,e);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():sS(t[o],null)}}}}function v4(...t){return j.useCallback(y4(...t),t)}class _4 extends j.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=PA(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function T4({children:t,isPresent:e,anchorX:i,root:r}){const o=j.useId(),c=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=j.useContext(iv),g=t.props?.ref??t?.ref,y=v4(c,g);return j.useInsertionEffect(()=>{const{width:v,height:T,top:S,left:w,right:I}=u.current;if(e||!c.current||!v||!T)return;const U=i==="left"?`left: ${w}`:`right: ${I}`;c.current.dataset.motionPopId=o;const k=document.createElement("style");m&&(k.nonce=m);const O=r??document.head;return O.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${T}px !important;
            ${U}px !important;
            top: ${S}px !important;
          }
        `),()=>{O.contains(k)&&O.removeChild(k)}},[e]),d.jsx(_4,{isPresent:e,childRef:c,sizeRef:u,children:j.cloneElement(t,{ref:y})})}const E4=({children:t,initial:e,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const y=Qd(x4),v=j.useId();let T=!0,S=j.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:i,custom:o,onExitComplete:w=>{y.set(w,!0);for(const I of y.values())if(!I)return;r&&r()},register:w=>(y.set(w,!1),()=>y.delete(w))}),[i,y,r]);return c&&T&&(S={...S}),j.useMemo(()=>{y.forEach((w,I)=>y.set(I,!1))},[i]),j.useEffect(()=>{!i&&!y.size&&r&&r()},[i]),u==="popLayout"&&(t=d.jsx(T4,{isPresent:i,anchorX:m,root:g,children:t})),d.jsx(Xd.Provider,{value:S,children:t})};function x4(){return new Map}function fw(t=!0){const e=j.useContext(Xd);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,c=j.useId();j.useEffect(()=>{if(t)return o(c)},[t]);const u=j.useCallback(()=>t&&r&&r(c),[c,r,t]);return!i&&r?[!1,u]:[!0]}const Ah=t=>t.key||"";function rS(t){const e=[];return j.Children.forEach(t,i=>{j.isValidElement(i)&&e.push(i)}),e}const S4=({children:t,custom:e,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[y,v]=fw(u),T=j.useMemo(()=>rS(t),[t]),S=u&&!y?[]:T.map(Ah),w=j.useRef(!0),I=j.useRef(T),U=Qd(()=>new Map),k=j.useRef(new Set),[O,G]=j.useState(T),[F,de]=j.useState(T);Cy(()=>{w.current=!1,I.current=T;for(let C=0;C<F.length;C++){const A=Ah(F[C]);S.includes(A)?(U.delete(A),k.current.delete(A)):U.get(A)!==!0&&U.set(A,!1)}},[F,S.length,S.join("-")]);const ee=[];if(T!==O){let C=[...T];for(let A=0;A<F.length;A++){const N=F[A],M=Ah(N);S.includes(M)||(C.splice(A,0,N),ee.push(N))}return c==="wait"&&ee.length&&(C=ee),de(rS(C)),G(T),null}const{forceRender:ne}=j.useContext(Ry);return d.jsx(d.Fragment,{children:F.map(C=>{const A=Ah(C),N=u&&!y?!1:T===F||S.includes(A),M=()=>{if(k.current.has(A))return;if(k.current.add(A),U.has(A))U.set(A,!0);else return;let D=!0;U.forEach(B=>{B||(D=!1)}),D&&(ne?.(),de(I.current),u&&v?.(),r&&r())};return d.jsx(E4,{isPresent:N,initial:!w.current||i?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:g,onExitComplete:N?void 0:M,anchorX:m,children:C},A)})})},mw=j.createContext({strict:!1}),aS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let oS=!1;function b4(){if(oS)return;const t={};for(const e in aS)t[e]={isEnabled:i=>aS[e].some(r=>!!i[r])};FA(t),oS=!0}function pw(){return b4(),ck()}function A4(t){const e=pw();for(const i in t)e[i]={...e[i],...t[i]};FA(e)}const w4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w4.has(t)}let gw=t=>!Ed(t);function R4(t){typeof t=="function"&&(gw=e=>e.startsWith("on")?!Ed(e):t(e))}try{R4(require("@emotion/is-prop-valid").default)}catch{}function C4(t,e,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(gw(o)||i===!0&&Ed(o)||!e&&!Ed(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Wd=j.createContext({});function N4(t,e){if(Zd(t)){const{initial:i,animate:r}=t;return{initial:i===!1||jc(i)?i:void 0,animate:jc(r)?r:void 0}}return t.inherit!==!1?e:{}}function j4(t){const{initial:e,animate:i}=N4(t,j.useContext(Wd));return j.useMemo(()=>({initial:e,animate:i}),[lS(e),lS(i)])}function lS(t){return Array.isArray(t)?t.join(" "):t}const sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yw(t,e,i){for(const r in e)!pn(e[r])&&!$A(r,i)&&(t[r]=e[r])}function D4({transformTemplate:t},e){return j.useMemo(()=>{const i=sv();return tv(i,e,t),Object.assign({},i.vars,i.style)},[e])}function V4(t,e){const i=t.style||{},r={};return yw(r,i,t),Object.assign(r,D4(t,e)),r}function I4(t,e){const i={},r=V4(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const vw=()=>({...sv(),attrs:{}});function M4(t,e,i,r){const o=j.useMemo(()=>{const c=vw();return ZA(c,e,JA(r),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};yw(c,t.style,t),o.style={...c,...o.style}}return o}const P4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rv(t){return typeof t!="string"||t.includes("-")?!1:!!(P4.indexOf(t)>-1||/[A-Z]/u.test(t))}function k4(t,e,i,{latestValues:r},o,c=!1,u){const g=(u??rv(t)?M4:I4)(e,r,o,t),y=C4(e,typeof t=="string",c),v=t!==j.Fragment?{...y,...g,ref:i}:{},{children:T}=e,S=j.useMemo(()=>pn(T)?T.get():T,[T]);return j.createElement(t,{...v,children:S})}function O4({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,o){return{latestValues:L4(i,r,o,t),renderState:e()}}function L4(t,e,i,r){const o={},c=r(t,{});for(const S in c)o[S]=qh(c[S]);let{initial:u,animate:m}=t;const g=Zd(t),y=qA(t);e&&y&&!g&&t.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let v=i?i.initial===!1:!1;v=v||u===!1;const T=v?m:u;if(T&&typeof T!="boolean"&&!$d(T)){const S=Array.isArray(T)?T:[T];for(let w=0;w<S.length;w++){const I=Yy(t,S[w]);if(I){const{transitionEnd:U,transition:k,...O}=I;for(const G in O){let F=O[G];if(Array.isArray(F)){const de=v?F.length-1:0;F=F[de]}F!==null&&(o[G]=F)}for(const G in U)o[G]=U[G]}}}return o}const _w=t=>(e,i)=>{const r=j.useContext(Wd),o=j.useContext(Xd),c=()=>O4(t,e,r,o);return i?c():Qd(c)},U4=_w({scrapeMotionValuesFromProps:nv,createRenderState:sv}),z4=_w({scrapeMotionValuesFromProps:ew,createRenderState:vw}),B4=Symbol.for("motionComponentSymbol");function q4(t,e,i){const r=j.useRef(i);j.useInsertionEffect(()=>{r.current=i});const o=j.useRef(null);return j.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const u=r.current;if(typeof u=="function")if(c){const m=u(c);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[e])}const Tw=j.createContext({});function sc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function F4(t,e,i,r,o,c){const{visualElement:u}=j.useContext(Wd),m=j.useContext(mw),g=j.useContext(Xd),y=j.useContext(iv).reducedMotion,v=j.useRef(null);r=r||m.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:u,props:i,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y,isSVG:c}));const T=v.current,S=j.useContext(Tw);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&H4(v.current,i,o,S);const w=j.useRef(!1);j.useInsertionEffect(()=>{T&&w.current&&T.update(i,g)});const I=i[wA],U=j.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return Cy(()=>{T&&(w.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),U.current&&T.animationState&&T.animationState.animateChanges())}),j.useEffect(()=>{T&&(!U.current&&T.animationState&&T.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),U.current=!1),T.enteringChildren=void 0)}),T}function H4(t,e,i,r){const{layoutId:o,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:y,layoutCrossfade:v}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:Ew(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||m&&sc(m),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:y})}function Ew(t){if(t)return t.options.allowProjection!==!1?t.projection:Ew(t.parent)}function bp(t,{forwardMotionProps:e=!1,type:i}={},r,o){r&&A4(r);const c=i?i==="svg":rv(t),u=c?z4:U4;function m(y,v){let T;const S={...j.useContext(iv),...y,layoutId:G4(y)},{isStatic:w}=S,I=j4(y),U=u(y,w);if(!w&&F1){K4();const k=Y4(S);T=k.MeasureLayout,I.visualElement=F4(t,U,S,o,k.ProjectionNode,c)}return d.jsxs(Wd.Provider,{value:I,children:[T&&I.visualElement?d.jsx(T,{visualElement:I.visualElement,...S}):null,k4(t,y,q4(U,I.visualElement,v),U,w,e,c)]})}m.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const g=j.forwardRef(m);return g[B4]=t,g}function G4({layoutId:t}){const e=j.useContext(Ry).id;return e&&t!==void 0?e+"-"+t:t}function K4(t,e){j.useContext(mw).strict}function Y4(t){const e=pw(),{drag:i,layout:r}=e;if(!i&&!r)return{};const o={...i,...r};return{MeasureLayout:i?.isEnabled(t)||r?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function Q4(t,e){if(typeof Proxy>"u")return bp;const i=new Map,r=(c,u)=>bp(c,u,t,e),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(i.has(u)||i.set(u,bp(u,void 0,t,e)),i.get(u))})}const X4=(t,e)=>e.isSVG??rv(t)?new wk(e):new Tk(e,{allowProjection:t!==j.Fragment});class $4 extends Pr{constructor(e){super(e),e.animationState||(e.animationState=Dk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Z4=0;class W4 extends Pr{constructor(){super(...arguments),this.id=Z4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const J4={animation:{Feature:$4},exit:{Feature:W4}};function Gc(t){return{point:{x:t.pageX,y:t.pageY}}}const eO=t=>e=>Wy(e)&&t(e,Gc(e));function fc(t,e,i,r){return Dc(t,e,eO(i),r)}const xw=({current:t})=>t?t.ownerDocument.defaultView:null,cS=(t,e)=>Math.abs(t-e);function tO(t,e){const i=cS(t.x,e.x),r=cS(t.y,e.y);return Math.sqrt(i**2+r**2)}const uS=new Set(["auto","scroll"]);class Sw{constructor(e,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=wp(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,U=tO(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!U)return;const{point:k}=w,{timestamp:O}=an;this.history.push({...k,timestamp:O});const{onStart:G,onMove:F}=this.handlers;I||(G&&G(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,w)},this.handlePointerMove=(w,I)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Ap(I,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(w,I)=>{this.end();const{onEnd:U,onSessionEnd:k,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=wp(w.type==="pointercancel"?this.lastMoveEventInfo:Ap(I,this.transformPagePoint),this.history);this.startEvent&&U&&U(w,G),k&&k(w,G)},!Wy(e))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const g=Gc(e),y=Ap(g,this.transformPagePoint),{point:v}=y,{timestamp:T}=an;this.history=[{...v,timestamp:T}];const{onSessionStart:S}=i;S&&S(e,wp(y,this.history)),this.removeListeners=qc(fc(this.contextWindow,"pointermove",this.handlePointerMove),fc(this.contextWindow,"pointerup",this.handlePointerUp),fc(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let i=e.parentElement;for(;i;){const r=getComputedStyle(i);(uS.has(r.overflowX)||uS.has(r.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const i=this.scrollPositions.get(e);if(!i)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:o.x-i.x,y:o.y-i.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,o),ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Dr(this.updatePoint)}}function Ap(t,e){return e?{point:e(t.point)}:t}function hS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wp({point:t},e){return{point:t,delta:hS(t,bw(e)),offset:hS(t,nO(e)),velocity:iO(e,.1)}}function nO(t){return t[0]}function bw(t){return t[t.length-1]}function iO(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=bw(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>Vs(e)));)i--;if(!r)return{x:0,y:0};const c=ri(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function sO(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?gt(i,t,r.max):Math.min(t,i)),t}function dS(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function rO(t,{top:e,left:i,bottom:r,right:o}){return{x:dS(t.x,i,o),y:dS(t.y,e,r)}}function fS(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function aO(t,e){return{x:fS(t.x,e.x),y:fS(t.y,e.y)}}function oO(t,e){let i=.5;const r=En(t),o=En(e);return o>r?i=Rc(e.min,e.max-r,t.min):r>o&&(i=Rc(t.min,t.max-o,e.min)),os(0,1,i)}function lO(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const Sg=.35;function cO(t=Sg){return t===!1?t=0:t===!0&&(t=Sg),{x:mS(t,"left","right"),y:mS(t,"top","bottom")}}function mS(t,e,i){return{min:pS(t,e),max:pS(t,i)}}function pS(t,e){return typeof t=="number"?t:t[e]||0}const uO=new WeakMap;class hO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=T=>{i?(this.stopAnimation(),this.snapToCursor(Gc(T).point)):this.pauseAnimation()},u=(T,S)=>{this.stopAnimation();const{drag:w,dragPropagation:I,onDragStart:U}=this.getProps();if(w&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZP(w),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(O=>{let G=this.getAxisMotionValue(O).get()||0;if(ss.test(G)){const{projection:F}=this.visualElement;if(F&&F.layout){const de=F.layout.layoutBox[O];de&&(G=En(de)*(parseFloat(G)/100))}}this.originPoint[O]=G}),U&&ft.postRender(()=>U(T,S)),gg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},m=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:U,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:O}=S;if(I&&this.currentDirection===null){this.currentDirection=dO(O),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",S.point,O),this.updateAxis("y",S.point,O),this.visualElement.render(),k&&k(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>ii(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Sw(e,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:xw(this.visualElement),element:this.visualElement.current})}stop(e,i){const r=e||this.latestPointerEvent,o=i||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&ft.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!wh(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=sO(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&sc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rO(r.layoutBox,e):this.constraints=!1,this.elastic=cO(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ii(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=lO(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!sc(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=mk(r,o.root,this.visualElement.getTransformPagePoint());let u=aO(o.layout.layoutBox,c);if(i){const m=i(hk(u));this.hasMutatedConstraints=!!m,m&&(u=GA(m))}return u}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},y=ii(v=>{if(!wh(v,i,this.currentDirection))return;let T=g&&g[v]||{};u&&(T={min:0,max:0});const S=o?200:1e6,w=o?40:1e7,I={type:"inertia",velocity:r?e[v]:0,bounceStiffness:S,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(v,I)});return Promise.all(y).then(m)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return gg(this.visualElement,e),r.start(Ky(e,r,0,i,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ii(i=>{const{drag:r}=this.getProps();if(!wh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(i);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[i],g=c.get()||0;c.set(e[i]-gt(u,m,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!sc(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ii(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();o[u]=oO({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ii(u=>{if(!wh(u,e,null))return;const m=this.getAxisMotionValue(u),{min:g,max:y}=this.constraints[u];m.set(gt(g,y,o[u]))})}addListeners(){if(!this.visualElement.current)return;uO.set(this.visualElement,this);const e=this.visualElement.current,i=fc(e,"pointerdown",g=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&!UA(g.target)&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();sc(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ft.read(r);const u=Dc(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(ii(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=g[v].translate,T.set(T.get()+g[v].translate))}),this.visualElement.render())}));return()=>{u(),i(),c(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=Sg,dragMomentum:m=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function wh(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function dO(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class fO extends Pr{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new hO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};e!==i&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const gS=t=>(e,i)=>{t&&ft.postRender(()=>t(e,i))};class mO extends Pr{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new Sw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:gS(e),onStart:gS(i),onMove:r,onEnd:(c,u)=>{delete this.session,o&&ft.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Rp=!1;class pO extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=e;c&&(i.group&&i.group.add(c),r&&r.register&&o&&r.register(c),Rp&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,Rp=!0,o||e.layoutDependency!==i||i===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||ft.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;Rp=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Aw(t){const[e,i]=fw(),r=j.useContext(Ry);return d.jsx(pO,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(Tw),isPresent:e,safeToRemove:i})}const gO={pan:{Feature:mO},drag:{Feature:fO,ProjectionNode:dw,MeasureLayout:Aw}};function yS(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,c=r[o];c&&ft.postRender(()=>c(e,Gc(e)))}class yO extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=WP(e,(i,r)=>(yS(this.node,r,"Start"),o=>yS(this.node,o,"End"))))}unmount(){}}class vO extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qc(Dc(this.node.current,"focus",()=>this.onFocus()),Dc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vS(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),c=r[o];c&&ft.postRender(()=>c(e,Gc(e)))}class _O extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=tk(e,(i,r)=>(vS(this.node,r,"Start"),(o,{success:c})=>vS(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bg=new WeakMap,Cp=new WeakMap,TO=t=>{const e=bg.get(t.target);e&&e(t)},EO=t=>{t.forEach(TO)};function xO({root:t,...e}){const i=t||document;Cp.has(i)||Cp.set(i,{});const r=Cp.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(EO,{root:t,...e})),r[o]}function SO(t,e,i){const r=xO(e);return bg.set(t,i),r.observe(t),()=>{bg.delete(t),r.unobserve(t)}}const bO={some:0,all:1};class AO extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:c}=e,u={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:bO[o]},m=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=y?v:T;S&&S(g)};return SO(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(wO(e,i))&&this.startObserver()}unmount(){}}function wO({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const RO={inView:{Feature:AO},tap:{Feature:_O},focus:{Feature:vO},hover:{Feature:yO}},CO={layout:{ProjectionNode:dw,MeasureLayout:Aw}},NO={...J4,...RO,...gO,...CO},ww=Q4(NO,X4);function jO(t){t.values.forEach(e=>e.stop())}function Ag(t,e){[...e].reverse().forEach(r=>{const o=t.getVariant(r);o&&Qy(t,o),t.variantChildren&&t.variantChildren.forEach(c=>{Ag(c,e)})})}function DO(t,e){if(Array.isArray(e))return Ag(t,e);if(typeof e=="string")return Ag(t,[e]);Qy(t,e)}function VO(){const t=new Set,e={subscribe(i){return t.add(i),()=>void t.delete(i)},start(i,r){const o=[];return t.forEach(c=>{o.push(NA(c,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return t.forEach(r=>{DO(r,i)})},stop(){t.forEach(i=>{jO(i)})},mount(){return()=>{e.stop()}}};return e}function IO(){const t=Qd(VO);return Cy(t.mount,[]),t}const MO=IO;var wg=new Map,Rh=new WeakMap,_S=0,PO;function kO(t){return t?(Rh.has(t)||(_S+=1,Rh.set(t,_S.toString())),Rh.get(t)):"0"}function OO(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?kO(t.root):t[e]}`).toString()}function LO(t){const e=OO(t);let i=wg.get(e);if(!i){const r=new Map;let o;const c=new IntersectionObserver(u=>{u.forEach(m=>{var g;const y=m.isIntersecting&&o.some(v=>m.intersectionRatio>=v);t.trackVisibility&&typeof m.isVisible>"u"&&(m.isVisible=y),(g=r.get(m.target))==null||g.forEach(v=>{v(y,m)})})},t);o=c.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),i={id:e,observer:c,elements:r},wg.set(e,i)}return i}function UO(t,e,i={},r=PO){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const g=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof i.threshold=="number"?i.threshold:0,time:0,boundingClientRect:g,intersectionRect:g,rootBounds:g}),()=>{}}const{id:o,observer:c,elements:u}=LO(i),m=u.get(t)||[];return u.has(t)||u.set(t,m),m.push(e),c.observe(t),function(){m.splice(m.indexOf(e),1),m.length===0&&(u.delete(t),c.unobserve(t)),u.size===0&&(c.disconnect(),wg.delete(o))}}function zO({threshold:t,delay:e,trackVisibility:i,rootMargin:r,root:o,triggerOnce:c,skip:u,initialInView:m,fallbackInView:g,onChange:y}={}){var v;const[T,S]=j.useState(null),w=j.useRef(y),I=j.useRef(m),[U,k]=j.useState({inView:!!m,entry:void 0});w.current=y,j.useEffect(()=>{if(I.current===void 0&&(I.current=m),u||!T)return;let de;return de=UO(T,(ee,ne)=>{const C=I.current;I.current=ee,!(C===void 0&&!ee)&&(k({inView:ee,entry:ne}),w.current&&w.current(ee,ne),ne.isIntersecting&&c&&de&&(de(),de=void 0))},{root:o,rootMargin:r,threshold:t,trackVisibility:i,delay:e},g),()=>{de&&de()}},[Array.isArray(t)?t.toString():t,T,o,r,c,u,i,g,e]);const O=(v=U.entry)==null?void 0:v.target,G=j.useRef(void 0);!T&&O&&!c&&!u&&G.current!==O&&(G.current=O,k({inView:!!m,entry:void 0}),I.current=m);const F=[S,U.inView,U.entry];return F.ref=F[0],F.inView=F[1],F.entry=F[2],F}const Wi=({children:t,delay:e=0})=>{const i=MO(),{ref:r,inView:o}=zO({triggerOnce:!0,threshold:.15});return j.useEffect(()=>{o&&i.start("visible")},[o,i]),d.jsx(ww.div,{ref:r,initial:"hidden",animate:i,transition:{duration:.6,delay:e,ease:"easeOut"},variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},style:{width:"100%"},children:t})},BO=[{id:"p-margherita",category:"Pizza",name:"Margherita",desc:"Tomato, mozzarella, basil",price:79,image:"margherita.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Basil",extraPrice:5},{name:"Garlic",extraPrice:5}]},{id:"p-pepperoni",category:"Pizza",name:"Pepperoni",desc:"Spicy pepperoni, mozzarella",price:89,image:"pepperoni.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Chili flakes"},{name:"Garlic",extraPrice:5}]},{id:"p-hawaiian",category:"Pizza",name:"Hawaiian",desc:"Tomato sauce, mozzarella, ham, pineapple",price:95,image:"hawaiian.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Pineapple",extraPrice:8},{name:"Ham",extraPrice:12}]},{id:"p-veggie",category:"Pizza",name:"Veggie Deluxe",desc:"Mozzarella, peppers, mushrooms, onions, olives",price:92,image:"veggie.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Mushrooms",extraPrice:6},{name:"Olives",extraPrice:5}]},{id:"p-meatlover",category:"Pizza",name:"Meat Lover",desc:"Pepperoni, minced beef, ham, bacon",price:109,image:"meatlover.jpg",ingredients:[{name:"Extra bacon",extraPrice:12},{name:"Extra cheese",extraPrice:10},{name:"Chili oil",extraPrice:5}]},{id:"g-chicken",category:"Grill",name:"Grilled Chicken",desc:"Herb marinated chicken breast",price:99,image:"chicken.jpg",ingredients:[{name:"Extra sauce",extraPrice:8},{name:"Side salad",extraPrice:12}]},{id:"g-ribs",category:"Grill",name:"BBQ Ribs",desc:"Slow-cooked pork ribs",price:129,image:"ribs.jpg",ingredients:[{name:"Extra BBQ sauce",extraPrice:8},{name:"Corn on the cob",extraPrice:10}]},{id:"g-steak",category:"Grill",name:"Beef Steak",desc:"200g grilled steak with seasoning",price:149,image:"steak.jpg",ingredients:[{name:"Pepper sauce",extraPrice:10},{name:"Garlic butter",extraPrice:6}]},{id:"g-burger",category:"Grill",name:"Classic Burger",desc:"Beef patty, cheddar, lettuce, tomato",price:89,image:"burger.jpg",ingredients:[{name:"Extra cheese",extraPrice:8},{name:"Bacon",extraPrice:10},{name:"Jalapeos",extraPrice:5}]},{id:"s-fries",category:"Sides",name:"Pommes Frites",desc:"Crispy golden fries",price:29,image:"fries.jpg",ingredients:[{name:"Dip  Garlic",extraPrice:5},{name:"Dip  Chili Mayo",extraPrice:5}]},{id:"s-salad",category:"Sides",name:"Side Salad",desc:"Fresh greens, cucumber, tomato",price:24,image:"salad.jpg",ingredients:[{name:"Feta",extraPrice:8},{name:"Olives",extraPrice:6}]},{id:"d-cola",category:"Drinks",name:"Coca-Cola",desc:"330ml",price:19,image:"cocacola.jpg",ingredients:[]},{id:"d-water",category:"Drinks",name:"Mineral Water",desc:"500ml",price:14,image:"water.jpg",ingredients:[]},{id:"d-fanta",category:"Drinks",name:"Fanta",desc:"330ml",price:19,image:"fanta.jpg",ingredients:[]},{id:"d-sprite",category:"Drinks",name:"Sprite",desc:"330ml",price:19,image:"sprite.jpg",ingredients:[]}];function qO({item:t}){const{addItem:e,items:i,removeItem:r}=Pc();return console.log(i),d.jsxs("div",{className:"menu-item-simple homePopularItemsDiv",children:[d.jsx("img",{src:`./assets/${t.image}`,alt:t.name,className:"menu-item-simple-img"}),d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:t.name}),d.jsx("p",{className:"menu-cart-item-desc",children:t.desc}),d.jsxs("p",{className:"menu-cart-item-price",style:{fontWeight:"bold"},children:["DKK ",t.price.toFixed(2)]})]}),i.some(o=>o.id===t.id)?d.jsx("div",{className:"menu-cart-controls",children:d.jsx("button",{onClick:o=>{o.stopPropagation(),r(t.id)},className:"menu-item-simple-add",children:d.jsx(ga,{className:"cart-clear-icon"})})}):d.jsx("div",{className:"menu-cart-controls",children:d.jsx("button",{onClick:o=>{o.stopPropagation(),e({...t,qty:1})},className:"menu-item-simple-add",children:"+"})})]},t.id)}function FO({item:t,onClose:e,onConfirm:i}){const[r,o]=j.useState([]),[c,u]=j.useState(!1),[m,g]=j.useState(!1),[y,v]=j.useState(1),T=()=>v(O=>O+1),S=()=>v(O=>O>1?O-1:1),w=O=>{o(G=>G.includes(O)?G.filter(F=>F!==O):[...G,O])},I=()=>{u(!0),setTimeout(()=>{u(!1),i(r,y)},600)},U=()=>{m||(g(!0),setTimeout(()=>{e()},200))},k=r.reduce((O,G)=>O+(G.extraPrice||0),0);return j.useEffect(()=>{const O=G=>{G.key==="Escape"&&!m&&U()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[m]),d.jsx("div",{className:`modal-overlay ${m?"modal-closing":""}`,onClick:U,children:d.jsxs("div",{className:`modal-box ${m?"modal-closing":""}`,onClick:O=>O.stopPropagation(),children:[d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-image-wrapper",children:[d.jsx("img",{className:"modalImage",src:`./assets/${t.image}`,alt:t.image}),d.jsxs("div",{className:"modal-price-badge",children:[t.price," kr"]})]}),d.jsxs("div",{className:"modal-header-section",children:[d.jsxs("h3",{className:"modal-title-text",children:["Tilpas din ",t.name]}),t.desc&&d.jsx("p",{className:"modal-item-desc",children:t.desc})]}),t.ingredients&&t.ingredients.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-section-divider"}),d.jsx("p",{className:"modal-desc",children:"Vlg tilvalg:"}),d.jsx("div",{className:"modal-ingredients",children:t.ingredients.map(O=>d.jsxs("label",{className:"modal-ingredient",children:[d.jsx("input",{type:"checkbox",checked:r.includes(O),onChange:()=>w(O)}),d.jsx("span",{className:"custom-checkbox"}),d.jsxs("span",{className:"ingredient-label",children:[d.jsx("span",{className:"ingredient-name",children:O.name}),O.extraPrice?d.jsxs("span",{className:"ingredient-price",children:["+",O.extraPrice," kr"]}):null]})]},O.name))})]})]}),d.jsx("button",{onClick:U,className:"modal-cancel",children:d.jsx(QS,{width:20,height:20})}),d.jsxs("div",{className:"modal-buttons",children:[d.jsxs("div",{className:"modal-qty",children:[d.jsx("button",{onClick:S,disabled:y<=1,"aria-label":"Decrease quantity",children:""}),d.jsx("span",{children:y}),d.jsx("button",{onClick:T,"aria-label":"Increase quantity",children:"+"})]}),d.jsxs("div",{className:"modal-add-wrapper",children:[d.jsx("button",{onClick:I,className:"modal-confirm",children:d.jsxs("span",{children:["Tilfj til ",window.innerWidth<720?"":"kurv"," "," ",(t.price+k)*y," kr"]})}),c&&d.jsx("div",{className:"add-notify",children:"Tilfjet!"})]})]})]})})}function TS(){const[t,e]=j.useState(""),[i,r]=j.useState(!1),[o,c]=j.useState("Most Popular"),[u,m]=j.useState(null),[g,y]=j.useState([]),[v,T]=j.useState(!0),[S,w]=j.useState(null),[I,U]=j.useState(!1),[k,O]=j.useState([]),G=j.useRef({}),F=j.useRef(null),de=j.useRef({}),{addItem:ee,items:ne,updateQty:C,removeItem:A,clear:N,total:M}=Pc(),[D,B]=j.useState(!1),V=j.useRef(ne.length);j.useEffect(()=>{const L=window.innerWidth<720,le=ne.length>V.current;L&&le&&ne.length>0&&!I&&U(!0),V.current=ne.length},[ne.length,I]),j.useEffect(()=>{async function L(){try{T(!0),w(null);const ue=cd(),fe=B1();if(ue&&ue.length>0){const Re=ue.map(Le=>({...Le,id:Le.id||""}));y(Re),T(!1);const De=await xa();if(De&&(!fe||De.getTime()>fe.getTime())){const Yt=(await wc()).map(un=>({...un,id:un.id||""}));y(Yt),ud(Yt),hd(De)}}else{const De=(await wc()).map(jt=>({...jt,id:jt.id||""}));y(De),ud(De);const Le=await xa();Le&&hd(Le)}}catch(ue){console.error("Error loading products:",ue),w("Kunne ikke indlse produkter. Prv venligst igen.");const fe=cd();if(fe&&fe.length>0){const Re=fe.map(De=>({...De,id:De.id||""}));y(Re)}}finally{T(!1)}}L();async function le(){try{const ue=dd(),fe=q1();if(ue&&ue.length>=0&&fe){O(ue);const{lastUpdated:Re,productIds:De}=await Oo();Re&&(!fe||Re.getTime()>fe.getTime())&&(O(De),fd(De),md(Re))}else{const{lastUpdated:Re,productIds:De}=await Oo();O(De),fd(De),Re&&md(Re)}}catch(ue){console.error("Error loading most popular product IDs:",ue);const fe=dd();fe&&O(fe)}}le()},[]);const Pe=k.length>0?["Most Popular",...new Set(g.map(L=>L.category))]:[...new Set(g.map(L=>L.category))],ge=L=>{m(L)},Z=()=>{m(null)},he=(L,le,ue)=>{ee({...L,selectedIngredients:le,qty:ue}),m(null)};j.useEffect(()=>(u?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[u]),j.useEffect(()=>(I?document.body.classList.add("cart-drawer-open"):document.body.classList.remove("cart-drawer-open"),()=>{document.body.classList.remove("cart-drawer-open")}),[I]),j.useEffect(()=>(i?document.body.classList.add("modal-open-allergen"):document.body.classList.remove("modal-open-allergen"),()=>{document.body.classList.remove("modal-open-allergen")}),[i]),j.useEffect(()=>{const L=()=>{Object.values(de.current).forEach(ue=>{if(!ue)return;const fe=ue.getBoundingClientRect();fe.top<=0&&fe.bottom>0?ue.classList.add("is-sticky"):ue.classList.remove("is-sticky")})},le=setTimeout(()=>{L()},100);return window.addEventListener("scroll",L,{passive:!0}),()=>{clearTimeout(le),window.removeEventListener("scroll",L)}},[g]),j.useEffect(()=>{if(v||g.length===0)return;const L=()=>{const ue=document.querySelector(".menu-filters")?.querySelector(".categoriesContainer"),fe=document.querySelector(".categoriesContainer-revealOnScroll");if(!ue||!fe)return;ue.getBoundingClientRect().top<=0?fe.classList.add("is-visible"):fe.classList.remove("is-visible")};return window.addEventListener("scroll",L,{passive:!0}),window.addEventListener("resize",L,{passive:!0}),()=>{window.removeEventListener("scroll",L),window.removeEventListener("resize",L)}},[v,g.length]);const ye=g.filter(L=>L.name.toLowerCase().includes(t.toLowerCase())||L.desc.toLowerCase().includes(t.toLowerCase())||L.tags?.some(ue=>ue.toLowerCase().includes(t.toLowerCase()))||L.category.toLowerCase().includes(t.toLowerCase())),be=ye.filter(L=>L.id&&k.includes(L.id)),Ce=j.useRef(!1),z=j.useRef(!1),ie=L=>{Ce.current=!0,c(L);const le=L==="Most Popular"?F.current:G.current[L];le&&le.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{Ce.current=!1},1e3)};return j.useEffect(()=>{z.current||v||g.length===0||window.scrollY>0||k.length>0&&be.length>0&&(o!=="Most Popular"?(z.current=!0,c("Most Popular")):z.current=!0)},[v,g.length,k.length,be.length,o]),j.useEffect(()=>{if(v||g.length===0||!o)return;const L=document.querySelector(".categoriesContainer-revealOnScroll");if(!L||!L.classList.contains("is-visible"))return;const le=L.querySelectorAll("button");let ue=null;if(le.forEach(fe=>{fe.textContent?.trim()===o&&(ue=fe)}),ue&&L){const fe=L.getBoundingClientRect(),Re=ue.getBoundingClientRect(),De=L.scrollLeft+(Re.left-fe.left)-fe.width/2+Re.width/2;L.scrollTo({left:De,behavior:"smooth"})}},[o,v,g.length]),j.useEffect(()=>{if(v||g.length===0)return;const L=()=>{if(Ce.current||!z.current)return;const fe=window.scrollY||window.pageYOffset,De=window.innerHeight*.3;let Le=null,jt=1/0;if(F.current){const Yt=F.current.getBoundingClientRect(),un=Yt.top+fe,gn=Math.abs(fe+De-un);Yt.top<=De&&Yt.bottom>0&&gn<jt&&(jt=gn,Le="Most Popular")}Object.entries(G.current).forEach(([Yt,un])=>{if(!un)return;const gn=un.getBoundingClientRect(),yn=gn.top+fe,wi=Math.abs(fe+De-yn);gn.top<=De&&gn.bottom>0&&wi<jt&&(jt=wi,Le=Yt)}),Le&&Le!==o&&c(Le)};let le=!1;const ue=()=>{le||(window.requestAnimationFrame(()=>{L(),le=!1}),le=!0)};return window.addEventListener("scroll",ue,{passive:!0}),window.addEventListener("resize",L,{passive:!0}),L(),()=>{window.removeEventListener("scroll",ue),window.removeEventListener("resize",L)}},[v,g.length,o]),v?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{children:"Indlser menuen..."})})}):S?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{style:{color:"red"},children:S})})}):d.jsxs("main",{className:"menuPageContainer max-w-7xl",children:[d.jsxs("div",{className:"menu-header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-subtitle",children:"Vlg en kategori for at se vores retter."}),d.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2 mb-0",children:[d.jsx("span",{role:"img","aria-label":"bestik",className:"menu-header-icon",children:""}),"Bestil takeaway"]})]}),d.jsxs("button",{className:"allergen-btn",onClick:()=>r(!0),children:[d.jsx("span",{className:"allergen-btn-text",children:"Allergener"}),d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2L2 20h20L12 2z"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),d.jsx("circle",{cx:"12",cy:"17",r:"1"})]})]})]}),i&&d.jsx("div",{className:"allergen-modal",onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>r(!1),400)},children:d.jsxs("div",{className:"max-w-6xl modal-content",onClick:L=>L.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Allergener & Kontakt"}),d.jsx("p",{className:"modal-text",children:"Kontakt os hvis du har sprgsml om allergener, ingredienser eller bestilling."}),d.jsxs("div",{className:"contact-box",children:[d.jsx("p",{className:"contact-header",children:"Kontakt os direkte"}),d.jsx("a",{href:"tel:0723171061",className:"contact-btn call",children:" Ring: 0 (723) 17 10 61"}),d.jsx("a",{href:"sms:0723171061",className:"contact-btn sms",children:" Send SMS"}),d.jsx("a",{href:"https://wa.me/0046723171061",className:"contact-btn whatsapp",target:"_blank",children:" WhatsApp"})]}),d.jsxs("div",{className:"allergen-box",children:[d.jsx("h4",{className:"allergen-title",children:"Almindelige allergener"}),d.jsxs("ul",{className:"allergen-list",children:[d.jsx("li",{children:" Gluten"}),d.jsx("li",{children:" Laktose"}),d.jsx("li",{children:" g"}),d.jsx("li",{children:" Ndder"}),d.jsx("li",{children:" Fisk"}),d.jsx("li",{children:" Skaldyr"}),d.jsx("li",{children:" Rejer"}),d.jsx("li",{children:" Sulfitter"})]}),d.jsx("p",{className:"modal-note",children:"Kontakt os for detaljer om specifikke retter."})]}),d.jsxs("div",{className:"hours-box",children:[d.jsx("h4",{className:"hours-title",children:"bningstider"}),d.jsxs("div",{className:"hours-list",children:[d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Mandag  Torsdag"}),d.jsx("span",{className:"hours-time",children:"11:00  21:00"})]}),d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Fredag  Sndag"}),d.jsx("span",{className:"hours-time",children:"11:00  23:00"})]})]})]}),d.jsx("div",{className:"modal-close-btn",children:d.jsx("button",{onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>r(!1),400)},"aria-label":"Close",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"custom-x-icon",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]})}),d.jsxs("div",{className:"menu-grid",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:L=>e(L.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]}),d.jsx("aside",{className:"menu-sidebar",children:d.jsx("div",{className:"categoriesContainer",children:Pe.map(L=>d.jsx("button",{className:L===o?"solid":"ghost",onClick:()=>ie(L),children:L},L))})}),d.jsx("div",{className:"categoriesContainer-revealOnScroll",children:Pe.map(L=>d.jsx("button",{className:L===o?"solid":"ghost",onClick:()=>ie(L),children:L},L))}),d.jsxs("section",{className:"menu-products",children:[d.jsxs("div",{className:"menu-filters",children:[d.jsx(Wi,{children:d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:L=>e(L.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]})}),d.jsx(Wi,{children:d.jsx("div",{className:"categoriesContainer",children:Pe.map(L=>d.jsx("button",{className:L===o?"solid":"ghost",onClick:()=>ie(L),children:L},L))})})]}),d.jsx(Wi,{children:k.length>0&&be.length>0&&d.jsxs("div",{className:"menu-category-block menu-popular-block",ref:L=>{F.current=L},children:[d.jsx("h3",{className:"menu-category-title",ref:L=>{de.current["Most Popular"]=L},children:"Most Popular"}),d.jsx("div",{className:"menu-products-grid",children:be.map(L=>d.jsxs("div",{className:"menu-item-simple",onClick:le=>{le.stopPropagation(),L.ingredients&&L.ingredients.length>0&&ge(L)},children:[d.jsx("img",{src:`./assets/${L.image}`,alt:L.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:L.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[L.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:L.desc}),L.tags&&L.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:L.tags.slice(0,2).map(le=>d.jsx("span",{className:"menu-item-simple-tag",children:le},le))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:le=>{le.stopPropagation(),L.ingredients&&L.ingredients.length>0?ge(L):he(L,[],1)},children:"+"})]},L.id))})]})}),Array.from(new Set(g.map(L=>L.category))).map(L=>{const le=ye.filter(ue=>ue.category===L);return le.length===0?null:d.jsxs("div",{className:"menu-category-block",ref:ue=>{G.current[L]=ue},children:[d.jsx("h3",{className:"menu-category-title",ref:ue=>{de.current[L]=ue},children:L}),d.jsx("div",{className:"menu-products-grid",children:le.map(ue=>d.jsxs("div",{className:"menu-item-simple",onClick:fe=>{fe.stopPropagation(),ue.ingredients&&ue.ingredients.length>0&&ge(ue)},children:[d.jsx("img",{src:`./assets/${ue.image}`,alt:ue.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:ue.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[ue.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:ue.desc}),ue.tags&&ue.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:ue.tags.slice(0,2).map(fe=>d.jsx("span",{className:"menu-item-simple-tag",children:fe},fe))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:fe=>{fe.stopPropagation(),ue.ingredients&&ue.ingredients.length>0?ge(ue):he(ue,[],1)},children:"+"})]},ue.id))})]},L)}),u&&d.jsx(FO,{item:u,onClose:Z,onConfirm:(L,le)=>he(u,L,le)}),ye.length===0&&d.jsx("p",{className:"no-results",children:"Ingen resultater fundet "})]}),d.jsx("div",{className:`cart-drawer-overlay ${I?"cart-drawer-open":""}`,onClick:()=>U(!1),children:d.jsxs("div",{className:`cart-drawer ${I?"cart-drawer-open":""}`,onClick:L=>L.stopPropagation(),children:[d.jsxs("div",{className:"cart-drawer-header",children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("div",{className:"cart-drawer-header-actions",children:[ne.length>0&&d.jsxs("button",{className:`cart-clear-btn ${D?"active":""}`,onClick:()=>B(!0),"aria-label":"Tm kurv",children:[d.jsx(ga,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]}),d.jsx("button",{className:"cart-drawer-close",onClick:()=>U(!1),"aria-label":"Luk kurv",children:d.jsx(QS,{width:24,height:24})})]})]}),ne.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"menu-cart-items",children:[D&&d.jsxs("div",{className:"cart-confirm-box mb-0",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>B(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{N(),B(!1)},children:"Ja, tm kurv"})]})]}),ne.map(L=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:L.name}),L.selectedIngredients&&L.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:L.selectedIngredients.map((le,ue)=>d.jsxs("span",{children:[le.name,le.extraPrice?` (+${le.extraPrice} kr)`:"",ue<L.selectedIngredients.length-1?", ":""]},ue))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(L.price*L.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>{L.qty==1?A(L.id):C(L.id,Math.max(1,L.qty-1))},"aria-label":"Fjern en",children:""}),d.jsx("span",{children:L.qty}),d.jsx("button",{onClick:()=>C(L.id,L.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>A(L.id),children:d.jsx(ga,{className:"clear-cart-icon"})})]})]},L.id))]}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",M.toFixed(2)]})]}),d.jsx(dt,{to:"/checkout",className:"nav-cta menu-cart-cta",onClick:()=>U(!1),children:"G til checkout"})]})]})}),d.jsxs("button",{className:"mobile-cart-button",onClick:()=>U(!0),"aria-label":"bn kurv",children:[d.jsx(pc,{}),ne.length>0&&d.jsx("span",{className:"mobile-cart-badge",children:ne.reduce((L,le)=>L+le.qty,0)})]}),d.jsxs("aside",{className:"menu-cart-panel",children:[d.jsxs("div",{className:"menu-cart-header",children:[d.jsxs("div",{children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("span",{className:"menu-cart-count",children:[ne.length," varer"]})]}),ne.length>0&&d.jsxs("button",{className:`cart-clear-btn ${D?"active":""}`,onClick:()=>B(!0),"aria-label":"Tm kurv",children:[d.jsx(ga,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),ne.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"menu-cart-items",children:[D&&d.jsxs("div",{className:"cart-confirm-box mb-0",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>B(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{N(),B(!1)},children:"Ja, tm kurv"})]})]}),ne.map(L=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:L.name}),L.selectedIngredients&&L.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:L.selectedIngredients.map((le,ue)=>d.jsxs("span",{children:[le.name,le.extraPrice?` (+${le.extraPrice} kr)`:"",ue<L.selectedIngredients.length-1?", ":""]},ue))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(L.price*L.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>{L.qty==1?A(L.id):C(L.id,Math.max(1,L.qty-1))},"aria-label":"Fjern en",children:""}),d.jsx("span",{children:L.qty}),d.jsx("button",{onClick:()=>C(L.id,L.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>A(L.id),children:d.jsx(ga,{className:"clear-cart-icon"})})]})]},L.id))]}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",M.toFixed(2)]})]}),d.jsx(dt,{to:"/checkout",className:"nav-cta menu-cart-cta",children:"G til checkout"})]})]})]})]})}async function Rg(t,e=!1){try{let i=is(Ca(Wt,"reviews"),Gd("createdAt","desc"));t&&(i=is(i,UI(t)));const o=(await Kd(i)).docs.map(c=>{const u=c.data(),m=u.createdAt;return{id:c.id,...u,createdAt:m?.toDate?m.toDate():new Date(m)}});return e?o:o.filter(c=>c.approved!==!1)}catch(i){throw console.error("Error fetching reviews:",i),i}}async function ES(t,e){try{const i=li(Wt,"reviews",t);await Ay(i,e),await Rw()}catch(i){throw console.error("Error updating review:",i),i}}async function Ro(){try{const t=li(Wt,"metadata","reviews"),e=await xy(t);if(e.exists()){const r=e.data().lastUpdated;if(r)return r.toDate?r.toDate():new Date(r)}return null}catch(t){return console.error("Error fetching reviews metadata:",t),null}}async function Rw(){try{const t=li(Wt,"metadata","reviews");await by(t,{lastUpdated:ld()},{merge:!0})}catch(t){console.error("Error updating reviews metadata:",t)}}async function HO(t){try{const e=li(Wt,"reviews",t);await M1(e),await Rw()}catch(e){throw console.error("Error deleting review:",e),e}}const Cw="xanthos_reviews",Nw="xanthos_reviews_lastUpdated";function xS(){try{const t=localStorage.getItem(Cw);if(t)return JSON.parse(t).map(i=>({...i,createdAt:i.createdAt?new Date(i.createdAt):new Date}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function SS(t){try{const e=t.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt}));localStorage.setItem(Cw,JSON.stringify(e))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function GO(){try{const t=localStorage.getItem(Nw);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function bS(t){try{localStorage.setItem(Nw,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}const AS=[{id:1,title:"BBQ Ribs Combo",description:"Saftiga ribs med vr hemlagade BBQ-ss + liten Cola",price:"159,-",image:"./assets/pepperoni.jpg"},{id:2,title:"Pepperoni Pizza Deal",description:"Stor pepperoni pizza + valgfri dip",price:"119,-",image:"./assets/pepperoni.jpg"},{id:3,title:"Mixed Grill Plate",description:"Kebabspyd, plser & pommes frites",price:"169,-",image:"./assets/pepperoni.jpg"}];function KO(){const t=new Date().getDate()%AS.length,e=AS[t],[i,r]=j.useState([]),[o,c]=j.useState(!0),[u,m]=j.useState(4.6),[g,y]=j.useState(500),[v,T]=j.useState([]),[S,w]=j.useState([]),[I,U]=j.useState([]),[k,O]=j.useState(!0),[G,F]=j.useState(null);j.useEffect(()=>{async function ne(){try{O(!0),F(null);const A=cd(),N=B1();if(A&&A.length>0){const M=A.map(B=>({...B,id:B.id||""}));T(M),O(!1);const D=await xa();if(D&&(!N||D.getTime()>N.getTime())){const Pe=(await wc()).map(ge=>({...ge,id:ge.id||""}));T(Pe),ud(Pe),hd(D)}}else{const D=(await wc()).map(V=>({...V,id:V.id||""}));T(D),ud(D);const B=await xa();B&&hd(B)}}catch(A){console.error("Error loading products:",A),F("Kunne ikke indlse produkter. Prv venligst igen."),console.log(G);const N=cd();if(N&&N.length>0){const M=N.map(D=>({...D,id:D.id||""}));T(M)}}finally{O(!1)}}ne();async function C(){try{const A=dd(),N=q1();if(A&&A.length>=0&&N){w(A);const{lastUpdated:M,productIds:D}=await Oo();M&&(!N||M.getTime()>N.getTime())&&(w(D),fd(D),md(M))}else{const{lastUpdated:M,productIds:D}=await Oo();w(D),fd(D),M&&md(M)}}catch(A){console.error("Error loading most popular product IDs:",A);const N=dd();N&&w(N)}}C()},[]),j.useEffect(()=>{if(v.length===0||S.length===0)return;const ne=v.filter(C=>C.id&&S.includes(C.id));U(ne)},[v,S]);function de(){const ne=new Date,C=ne.getHours(),A=ne.getMinutes(),N=C+A/60;return N>=11&&N<22}j.useEffect(()=>{async function ne(){try{c(!0);const C=xS(),A=GO();if(C&&C.length>0){r(C);const N=C.reduce((D,B)=>D+B.rating,0)/C.length;m(Math.round(N*10)/10),y(C.length),c(!1);const M=await Ro();if(M&&(!A||M.getTime()>A.getTime())){const B=await Rg(6);if(r(B),SS(B),bS(M),B.length>0){const V=B.reduce((Pe,ge)=>Pe+ge.rating,0)/B.length;m(Math.round(V*10)/10),y(B.length)}}}else{const N=await Rg(6);if(r(N),SS(N),N.length>0){const D=N.reduce((B,V)=>B+V.rating,0)/N.length;m(Math.round(D*10)/10),y(N.length)}const M=await Ro();M&&bS(M)}}catch(C){console.error("Error loading reviews:",C);const A=xS();if(A&&A.length>0){r(A);const N=A.reduce((M,D)=>M+D.rating,0)/A.length;m(Math.round(N*10)/10),y(A.length)}}finally{c(!1)}}ne()},[]);function ee(ne){const C=Math.floor(ne),A=ne%1>=.5,N=5-C-(A?1:0);return d.jsxs(d.Fragment,{children:["".repeat(C),A&&"","".repeat(N)]})}return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"hero-section",children:[d.jsx("div",{className:"hero-overlay"}),d.jsxs("div",{className:"hero-container",children:[d.jsxs("div",{className:"hero-content",children:[d.jsxs("div",{className:"hero-badge",children:[d.jsx("span",{className:de()?"open-dot":"closed-dot"}),de()?"ben nu":"Lukket  bner kl. 11:00"]}),d.jsxs("h1",{className:"hero-title",children:[d.jsx(Mp,{className:"hero-title-pizza-icon"}),d.jsx("span",{children:"Velkommen til Xanthos Pizza & Grill"})]}),d.jsx("p",{className:"hero-subtitle",children:"Autentiske pizzor och grillfavoriter. Bestll enkelt online och hmta eller f hemleverans."}),d.jsxs("div",{className:"hero-features",children:[d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Pickup"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Levering"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"4.6/5 (500+ anmeldelser)"]})]}),d.jsxs("div",{className:"hero-cta",children:[d.jsxs(dt,{to:"/bestil",className:"btn-primary",children:["Bestil takeaway",d.jsx(Gh,{})]}),d.jsx(dt,{to:"/menu",className:"btn-secondary",children:"Se menu"})]})]}),d.jsx(Wi,{children:d.jsx("div",{className:"hero-special",children:d.jsxs("div",{className:"special-card",children:[d.jsx("span",{className:"special-badge",children:"Dagens tilbud"}),d.jsx("div",{className:"special-image",children:d.jsx("img",{src:e.image,alt:e.title})}),d.jsx("h3",{className:"special-title",children:e.title}),d.jsx("p",{className:"special-desc",children:e.description}),d.jsx("p",{className:"special-price",children:e.price})]})})})]})]}),d.jsxs("main",{className:"home-main",children:[d.jsx("section",{className:"trust-section",children:d.jsxs("div",{className:"trust-grid",children:[d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Levering"}),d.jsx("p",{children:"Hurtig & varm"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Afhentning"}),d.jsx("p",{children:"Klar p 15 min"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Sikker betaling"}),d.jsx("p",{children:"Kort & MobilePay"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"4.6 stjerner"}),d.jsx("p",{children:"500+ anmeldelser"})]})})]})}),d.jsxs("section",{className:"section about-section",children:[d.jsx(Wi,{children:d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title darkTitle",children:"Om os"}),d.jsx("p",{className:"section-subtitle",children:"Din lokale pizzabar og grill"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"about-content",children:[d.jsxs("div",{className:"about-text",children:[d.jsx("p",{children:"Xanthos Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]}),d.jsx("div",{className:"about-image",children:d.jsx("div",{className:"about-image-placeholder",children:d.jsx(Mp,{})})})]})})]}),d.jsxs("section",{className:"section popular-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Populre retter"}),d.jsx("p",{className:"section-subtitle",children:"Kundernas favoriter just nu"})]}),d.jsx("div",{className:"popular-grid",children:k?d.jsx("div",{className:"popular-loading",children:"Indlser populre retter..."}):G?d.jsx("div",{className:"popular-error",children:G}):I.length===0?d.jsx("div",{className:"popular-empty",children:"Ingen populre retter fundet."}):I.slice(0,3).map(ne=>d.jsx(qO,{item:ne},ne.id))})]}),d.jsx("section",{className:"section info-section",children:d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-card hours-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"bningstider"})]}),d.jsxs("div",{className:"hours-list",children:[d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{className:"darkTitle",children:"Mandag  Torsdag"}),d.jsx("span",{className:"hours-time",children:"11:00  21:00"})]}),d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{className:"darkTitle",children:"Fredag  Sndag"}),d.jsx("span",{className:"hours-time",children:"11:00  23:00"})]})]}),d.jsxs("div",{className:`hours-status ${de()?"open":"closed"}`,children:[d.jsx("span",{className:"status-dot"}),de()?"ben nu":"Lukket"]})]}),d.jsxs("div",{className:"info-card contact-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"Kontakt os"})]}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("a",{href:"tel:70123456",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Telefon:"}),d.jsx("span",{className:"contact-value",children:"70 12 34 56"})]}),d.jsxs("a",{href:"mailto:info@pizza-grill.dk",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"E-mail:"}),d.jsx("span",{className:"contact-value",children:"info@pizza-grill.dk"})]}),d.jsxs("div",{className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Adresse:"}),d.jsx("span",{className:"contact-value",children:"Hovedgade 123, 1234 By"})]})]})]})]})}),d.jsxs("section",{className:"section reviews-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title darkTitle",children:"Hvad vores kunder siger"}),d.jsx("p",{className:"section-subtitle",children:"Anmeldelser fra vores glade kunder"})]}),o?d.jsx("div",{className:"reviews-loading",children:"Indlser anmeldelser..."}):i.length===0?d.jsx("div",{className:"reviews-empty",children:d.jsx("p",{children:"Ingen anmeldelser endnu. Vr den frste til at anmelde!"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"reviews-grid",children:i.slice(0,3).map(ne=>d.jsxs("div",{className:"review-card",children:[d.jsx("div",{className:"review-stars",children:ee(ne.rating)}),d.jsxs("p",{className:"review-text",children:['"',ne.text,'"']}),d.jsxs("p",{className:"review-author darkTitle",children:[" ",ne.author]})]},ne.id))}),d.jsxs("p",{className:"reviews-average",children:[" ",u.toFixed(1)," gennemsnitlig vurdering fra"," ",g," anmeldelse",g!==1?"r":""]})]})]}),d.jsx("section",{className:"section cta-section",children:d.jsxs("div",{className:"cta-content",children:[d.jsx("h2",{className:"cta-title",children:"Klar til at bestille?"}),d.jsx("p",{className:"cta-subtitle",children:"Udforsk vores menu og bestil dine favoritter nu"}),d.jsx(dt,{to:"/bestil",className:"btn-primary btn-large",children:"Bestil nu "})]})})]})]})}function YO(){const t=jg(),{items:e,updateQty:i,removeItem:r,clear:o,total:c}=Pc(),[u,m]=j.useState(!1),g=.25,y=Math.round(c*g/(1+g)),v=c-y,T=e.reduce((S,w)=>S+w.qty,0);return d.jsx("main",{className:"cart-page",children:d.jsxs("div",{className:"cart-page-container",children:[d.jsxs("div",{className:"cart-page-header",children:[d.jsxs("div",{className:"cart-page-title-section",children:[d.jsxs("h1",{className:"cart-page-title",children:[d.jsx(pc,{className:"cart-page-icon"}),"Din kurv"]}),e.length>0&&d.jsxs("p",{className:"cart-page-subtitle",children:[T," ",T===1?"vare":"varer"]})]}),e.length>0&&d.jsxs("button",{className:`cart-clear-btn ${u?"active":""}`,onClick:()=>m(!0),"aria-label":"Tm kurv",children:[d.jsx(ga,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),u&&d.jsxs("div",{className:"cart-confirm-box",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>m(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{o(),m(!1)},children:"Ja, tm kurv"})]})]}),e.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"}),d.jsx(dt,{to:"/menu",className:"cart-empty-cta",children:"Se menu"})]}):d.jsxs("div",{className:"cart-content",children:[d.jsxs("div",{className:"cart-items-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Varer"}),d.jsx("div",{className:"cart-items-list",children:e.map(S=>{const w=S.selectedIngredients?.reduce((O,G)=>O+(G.extraPrice||0),0)||0,I=S.price-w,U=S.price,k=U*S.qty;return d.jsxs("div",{className:"cart-item-card",children:[d.jsx("div",{className:"cart-item-image-wrapper",children:S.image&&d.jsx("img",{src:`./assets/${S.image}`,alt:S.name,className:"cart-item-image",onError:O=>{O.target.src="./assets/pizza-placeholder.jpg"}})}),d.jsxs("div",{className:"cart-item-info",children:[d.jsxs("div",{className:"cart-item-header",children:[d.jsx("h3",{className:"cart-item-name",children:S.name}),d.jsx("button",{className:"cart-item-remove",onClick:()=>r(S.id),"aria-label":"Fjern vare",children:d.jsx(ga,{})})]}),S.desc&&d.jsx("p",{className:"cart-item-description",children:S.desc}),d.jsxs("div",{className:"cart-item-pricing",children:[d.jsxs("div",{className:"cart-item-base-price",children:[d.jsx("span",{children:"Basispris:"}),d.jsxs("span",{children:[I," kr"]})]}),w>0&&d.jsxs("div",{className:"cart-item-extras-price",children:[d.jsx("span",{children:"Tilvalg:"}),d.jsxs("span",{children:["+",w," kr"]})]}),d.jsxs("div",{className:"cart-item-unit-price",children:[d.jsx("span",{children:"Pris pr. stk:"}),d.jsxs("strong",{children:[U," kr"]})]})]}),S.selectedIngredients&&S.selectedIngredients.length>0&&d.jsxs("div",{className:"cart-item-ingredients",children:[d.jsx("p",{className:"cart-ingredients-label",children:"Tilvalg:"}),d.jsx("div",{className:"cart-ingredients-list",children:S.selectedIngredients.map((O,G)=>d.jsxs("span",{className:"cart-ingredient-tag",children:[O.name,O.extraPrice&&d.jsxs("span",{className:"cart-ingredient-price",children:["+",O.extraPrice," kr"]})]},G))})]}),d.jsxs("div",{className:"cart-item-footer",children:[d.jsxs("div",{className:"cart-item-qty",children:[d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(S.id,Math.max(1,S.qty-1)),disabled:S.qty<=1,"aria-label":"Reducer antal",children:""}),d.jsx("span",{className:"cart-qty-value",children:S.qty}),d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(S.id,S.qty+1),"aria-label":"g antal",children:"+"})]}),d.jsxs("div",{className:"cart-item-total",children:[d.jsx("span",{className:"cart-item-total-label",children:"I alt:"}),d.jsxs("span",{className:"cart-item-total-price",children:[k," kr"]})]})]})]})]},S.id)})})]}),d.jsxs("div",{className:"cart-summary-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Ordreoversigt"}),d.jsxs("div",{className:"cart-summary-card",children:[d.jsxs("div",{className:"cart-summary-details",children:[d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Antal varer"}),d.jsxs("span",{children:[T," ",T===1?"vare":"varer"]})]}),d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Subtotal (ekskl. moms)"}),d.jsxs("span",{children:[v," kr"]})]}),d.jsxs("div",{className:"cart-summary-row cart-summary-vat",children:[d.jsx("span",{children:"Moms (25%)"}),d.jsxs("span",{children:[y," kr"]})]}),d.jsx("div",{className:"cart-summary-divider"}),d.jsxs("div",{className:"cart-summary-total",children:[d.jsx("span",{children:"Total inkl. moms"}),d.jsxs("strong",{children:[c," kr"]})]})]}),d.jsxs("div",{className:"cart-summary-actions",children:[d.jsx(dt,{to:"/menu",className:"cart-continue-shopping",children:"Fortst shopping"}),d.jsxs("button",{onClick:()=>t("/checkout"),className:"cart-checkout-btn",children:["G til betaling",d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})]})]})})}async function QO(t){try{return(await P1(Ca(Wt,"orders"),{...t,createdAt:ot.now()})).id}catch(e){throw console.error("Error creating order:",e),e}}async function wS(t=!1,e=!1){try{let i=is(Ca(Wt,"orders"));if(t){const c=new Date;c.setHours(0,0,0,0);const u=ot.fromDate(c);i=is(i,D1("createdAt",">=",u))}i=is(i,Gd("createdAt","desc"));let o=(await Kd(i)).docs.map(c=>({id:c.id,...c.data(),createdAt:c.data().createdAt?.toDate()||new Date}));return e&&(o=o.filter(c=>c.status!=="ready")),o}catch(i){throw console.error("Error fetching orders:",i),i}}async function XO(t,e){try{const i=li(Wt,"orders",t);await Ay(i,{status:e})}catch(i){throw console.error("Error updating order status:",i),i}}async function $O(t){try{const e=is(Ca(Wt,"orders")),r=(await Kd(e)).docs.find(o=>o.id===t);return r?{id:r.id,...r.data(),createdAt:r.data().createdAt?.toDate()||new Date}:null}catch(e){throw console.error("Error fetching order:",e),e}}function ZO(t,e,i=!1,r=!1){try{let o=is(Ca(Wt,"orders"));if(i){const u=new Date;u.setHours(0,0,0,0);const m=ot.fromDate(u);o=is(o,D1("createdAt",">=",m))}return o=is(o,Gd("createdAt","desc")),qI(o,u=>{let m=u.docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate()||new Date}));r&&(m=m.filter(g=>g.status!=="ready")),t(m)},u=>{console.error("Error in orders subscription:",u),e&&e(u)})}catch(o){return console.error("Error setting up orders subscription:",o),e&&e(o),()=>{}}}const RS=30;function WO(){const{items:t,total:e,clear:i}=Pc(),[r,o]=j.useState(""),[c,u]=j.useState(""),[m,g]=j.useState(""),[y,v]=j.useState("pickup"),[T,S]=j.useState(""),[w,I]=j.useState("card"),[U,k]=j.useState(""),[O,G]=j.useState(""),[F,de]=j.useState(""),[ee,ne]=j.useState(""),[C,A]=j.useState(!1),N=jg(),M=y==="delivery"?e+RS:e,D=y==="delivery";function B(ge){const Z=ge.replace(/\s+/g,"").replace(/[^0-9]/gi,""),he=Z.match(/\d{4,16}/g),ye=he&&he[0]||"",be=[];for(let Ce=0,z=ye.length;Ce<z;Ce+=4)be.push(ye.substring(Ce,Ce+4));return be.length?be.join(" "):Z}function V(ge){const Z=ge.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return Z.length>=2?Z.substring(0,2)+"/"+Z.substring(2,4):Z}async function Pe(ge){if(ge.preventDefault(),D&&w==="card"){if(!U||!O||!F||!ee){alert("Udfyld venligst alle betalingsoplysninger");return}if(U.replace(/\s/g,"").length<16){alert("Ugyldigt kortnummer");return}}A(!0);try{D&&w==="card"&&await new Promise(he=>setTimeout(he,2e3));const Z=await QO({items:t,total:M,name:r,phone:c,address:y==="delivery"?m:null,method:y,note:T,paymentMethod:D?w:"cash",paymentStatus:D&&w==="card"?"paid":"pending",status:"pending"});i(),A(!1),N("/confirmation/"+Z)}catch(Z){console.error("Error placing order:",Z),alert("Der opstod en fejl ved placering af ordren. Prv venligst igen."),A(!1)}}return d.jsx("main",{className:"checkout-page",children:d.jsxs("div",{className:"checkout-container",children:[d.jsxs("h2",{className:"checkout-title",children:[d.jsx(pc,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Gennemfr bestilling"]}),t.length===0?d.jsxs("div",{className:"checkout-empty",children:[d.jsx("p",{children:"Din kurv er tom "}),d.jsx(dt,{to:"/bestil",className:"checkout-link",children:"Se menuen"})]}):d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("form",{onSubmit:Pe,className:"checkout-form",children:[d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Kontaktoplysninger"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn"}),d.jsx("input",{type:"text",required:!0,value:r,onChange:ge=>o(ge.target.value),className:"form-input",placeholder:"Indtast dit navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[d.jsx(Ip,{style:{marginRight:"0.35rem",verticalAlign:"middle"}}),"Telefonnummer"]}),d.jsx("input",{type:"tel",required:!0,value:c,onChange:ge=>u(ge.target.value),className:"form-input",placeholder:"+45 12 34 56 78"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Afhentning eller levering"}),d.jsxs("div",{className:"method-selector",children:[d.jsxs("label",{className:`method-option ${y==="pickup"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"pickup",checked:y==="pickup",onChange:ge=>v(ge.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Afhentning"}),d.jsx("div",{className:"method-desc",children:"Hent din bestilling i butikken"})]})]})]}),d.jsxs("label",{className:`method-option ${y==="delivery"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"delivery",checked:y==="delivery",onChange:ge=>v(ge.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Levering"}),d.jsx("div",{className:"method-desc",children:"Vi bringer det til dig"})]})]})]})]}),y==="delivery"&&d.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[d.jsx("label",{className:"form-label",children:"Leveringsadresse"}),d.jsx("input",{type:"text",required:y==="delivery",value:m,onChange:ge=>g(ge.target.value),className:"form-input",placeholder:"Gadenavn og nummer"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Bemrkninger (valgfrit)"}),d.jsx("div",{className:"form-group",children:d.jsx("textarea",{value:T,onChange:ge=>S(ge.target.value),className:"form-textarea",placeholder:"Har du nogen srlige nsker eller allergener?",rows:4})})]}),D&&d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:" Betalingsmetode"}),d.jsxs("div",{className:"payment-methods",children:[d.jsxs("label",{className:`payment-method-option ${w==="card"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"card",checked:w==="card",onChange:ge=>I(ge.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"Kortbetaling"}),d.jsx("div",{className:"payment-method-desc",children:"Visa, Mastercard, Dankort"})]})]})]}),d.jsxs("label",{className:`payment-method-option ${w==="mobilepay"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"mobilepay",checked:w==="mobilepay",onChange:ge=>I(ge.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"MobilePay"}),d.jsx("div",{className:"payment-method-desc",children:"Betal med MobilePay"})]})]})]})]}),w==="card"&&d.jsxs("div",{className:"payment-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn p kort"}),d.jsx("input",{type:"text",required:w==="card",value:O,onChange:ge=>G(ge.target.value),className:"form-input",placeholder:"Fulde navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Kortnummer"}),d.jsx("input",{type:"text",required:w==="card",value:U,onChange:ge=>k(B(ge.target.value)),className:"form-input",placeholder:"1234 5678 9012 3456",maxLength:19})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"Udlbsdato"}),d.jsx("input",{type:"text",required:w==="card",value:F,onChange:ge=>de(V(ge.target.value)),className:"form-input",placeholder:"MM/",maxLength:5})]}),d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"CVV"}),d.jsx("input",{type:"text",required:w==="card",value:ee,onChange:ge=>ne(ge.target.value.replace(/\D/g,"").slice(0,3)),className:"form-input",placeholder:"123",maxLength:3})]})]})]}),w==="mobilepay"&&d.jsx("div",{className:"mobilepay-info",children:d.jsx("p",{children:"Du vil blive omdirigeret til MobilePay for at gennemfre betalingen."})})]}),d.jsxs("div",{className:"checkout-actions",children:[d.jsx("button",{type:"button",onClick:()=>N("/cart"),className:"btn-secondary",disabled:C,children:"Tilbage"}),d.jsx("button",{type:"submit",className:"btn-primary",disabled:C,children:C?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Behandler..."]}):d.jsxs(d.Fragment,{children:[D?"Betal og placer ordre":"Placer ordre",d.jsx(Gh,{style:{marginLeft:"0.5rem",verticalAlign:"middle"}})]})})]}),d.jsx("p",{className:"checkout-note",children:D?" Din betaling er sikker og krypteret. Vi ringer til dig, nr din bestilling er klar!":" Betaling sker ved afhentning. Vi ringer til dig, nr din bestilling er klar!"})]}),d.jsxs("aside",{className:"checkout-summary",children:[d.jsxs("div",{className:"summary-header",children:[d.jsx("h3",{children:"Din bestilling"}),d.jsxs("span",{className:"summary-count",children:[t.length," ",t.length===1?"vare":"varer"]})]}),d.jsx("div",{className:"summary-items",children:t.map(ge=>d.jsxs("div",{className:"summary-item",children:[d.jsxs("div",{className:"summary-item-info",children:[d.jsx("span",{className:"summary-item-name",children:ge.name}),d.jsxs("span",{className:"summary-item-qty",children:["x",ge.qty]})]}),d.jsxs("span",{className:"summary-item-price",children:["DKK ",(ge.price*ge.qty).toFixed(2)]})]},ge.id))}),d.jsxs("div",{className:"summary-total",children:[d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["DKK ",e.toFixed(2)]})]}),y==="delivery"&&d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Leveringsgebyr"}),d.jsxs("span",{children:["DKK ",RS.toFixed(2)]})]}),d.jsxs("div",{className:"summary-total-row summary-total-final",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",M.toFixed(2)]})]})]})]})]})]})})}function JO({orderId:t}){const[e,i]=j.useState(null),[r,o]=j.useState(!0);return j.useEffect(()=>{async function c(){try{const u=await $O(t);i(u)}catch(u){console.error("Error loading order:",u)}finally{o(!1)}}c()},[t]),r?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow text-center",children:"Indlser ordre..."})}):e?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded shadow p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thanks  your order is placed!"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Order #",e.id]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:"Items"}),d.jsx("ul",{className:"mt-2",children:e.items.map(c=>d.jsxs("li",{children:[c.qty,"  ",c.name,"  ",c.price*c.qty,",-"]},c.id))})]}),d.jsxs("div",{className:"mt-4",children:["Total: ",d.jsxs("strong",{children:[e.total,",-"]})]}),d.jsxs("div",{className:"mt-4",children:["We will call you at ",d.jsx("strong",{children:e.phone})," when your order is ready."]})]})}):d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow",children:"Ordre ikke fundet."})})}async function e3(){try{console.log("Initializing products in Firebase...");for(const t of BO)await YI({category:t.category,name:t.name,desc:t.desc,price:t.price,image:t.image,ingredients:t.ingredients||[]}),console.log(`Created product: ${t.name}`);console.log("All products initialized successfully!")}catch(t){throw console.error("Error initializing products:",t),t}}const av="admin_products",ov="admin_products_lastUpdated",jw="admin_reviews",Dw="admin_reviews_lastUpdated",Vw="xanthos_mostPopularProductIds",Iw="xanthos_mostPopular_lastUpdated";function CS(){try{const t=localStorage.getItem(av);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function Np(t){try{localStorage.setItem(av,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function t3(){try{const t=localStorage.getItem(ov);if(t)return new Date(t)}catch(t){console.error("Error reading products lastUpdated from localStorage:",t)}return null}function jp(t){try{localStorage.setItem(ov,t.toISOString())}catch(e){console.error("Error saving products lastUpdated to localStorage:",e)}}function NS(){try{const t=localStorage.getItem(Vw);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function Ch(t){try{localStorage.setItem(Vw,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function n3(){try{const t=localStorage.getItem(Iw);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function Nh(t){try{localStorage.setItem(Iw,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}function jS(){try{const t=localStorage.getItem(jw);if(t)return JSON.parse(t).map(i=>({...i,createdAt:new Date(i.createdAt)}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function jh(t){try{localStorage.setItem(jw,JSON.stringify(t))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function i3(){try{const t=localStorage.getItem(Dw);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function Dh(t){try{localStorage.setItem(Dw,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}function s3(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),i=t.createGain();e.connect(i),i.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1e3,t.currentTime+.1),e.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}catch(t){console.error("Error playing notification sound:",t)}}function r3(){const[t,e]=j.useState("orders"),[i,r]=j.useState([]),[o,c]=j.useState(!0),[u,m]=j.useState(null),g=j.useRef(new Set),y=j.useRef(null),v=j.useRef(!0),[T,S]=j.useState([]),[w,I]=j.useState(!1),[U,k]=j.useState(!1),[O,G]=j.useState([]),[F,de]=j.useState(!0),[ee,ne]=j.useState(null),[C,A]=j.useState(""),[N,M]=j.useState(null),[D,B]=j.useState(!1),[V,Pe]=j.useState(!1),[ge,Z]=j.useState([]),[he,ye]=j.useState(!1),[be,Ce]=j.useState([]),[z,ie]=j.useState(!0),[L,le]=j.useState(null),ue=()=>{try{const X=localStorage.getItem("admin_todays_orders");if(!X)return null;const ae=JSON.parse(X),pe=new Date(ae.date),_e=new Date;return pe.getDate()!==_e.getDate()||pe.getMonth()!==_e.getMonth()||pe.getFullYear()!==_e.getFullYear()?null:ae.orders}catch(X){return console.error("Error reading today's orders from localStorage:",X),null}},fe=X=>{try{localStorage.setItem("admin_todays_orders",JSON.stringify({date:new Date().toISOString(),orders:X}))}catch(ae){console.error("Error saving today's orders to localStorage:",ae)}},Re=(X,ae)=>{try{const pe=ue();if(pe){const _e=pe.map(Dt=>Dt.id===X?{...Dt,status:ae}:Dt);fe(_e),U&&S(_e)}}catch(pe){console.error("Error updating stored order status:",pe)}};async function De(X=!1){try{c(!0),m(null);const ae=await wS(!0,!0);r(ae),X&&g.current.clear(),ae.forEach(pe=>{pe.id&&g.current.add(pe.id)})}catch(ae){console.error("Error loading orders:",ae),m("Kunne ikke indlse ordrer. Prv venligst igen.")}finally{c(!1)}}async function Le(){try{I(!0);const X=ue();if(X&&X.length>0){S(X),I(!1);return}const ae=await wS(!0,!1);S(ae),fe(ae)}catch(X){console.error("Error loading all today's orders:",X),alert("Kunne ikke indlse alle dagens ordrer. Prv venligst igen.")}finally{I(!1)}}async function jt(){try{de(!0),ne(null);const X=await xa(),ae=t3(),pe=CS();if(pe&&ae&&X&&Math.abs(X.getTime()-ae.getTime())<1e3){console.log("Using cached products (metadata unchanged)"),G(pe),de(!1),await Yt();return}console.log("Fetching products from Firebase (metadata changed or no cache)");const _e=await wc();G(_e),Np(_e),X&&jp(X),await Yt()}catch(X){console.error("Error loading products:",X),ne("Kunne ikke indlse produkter. Prv venligst igen.");const ae=CS();ae&&(console.log("Using cached products as fallback"),G(ae))}finally{de(!1)}}async function Yt(){try{const X=NS(),ae=n3();if(X&&ae){Z(X);const{lastUpdated:pe,productIds:_e}=await Oo();pe&&pe.getTime()>ae.getTime()&&(Z(_e),Ch(_e),Nh(pe))}else{const{lastUpdated:pe,productIds:_e}=await Oo();Z(_e),Ch(_e),pe&&Nh(pe)}}catch(X){console.error("Error loading most popular product IDs:",X);const ae=NS();ae&&Z(ae)}}async function un(X){try{ye(!0);const pe=ge.includes(X)?ge.filter(_e=>_e!==X):[...ge,X];await ix(pe),Z(pe),Ch(pe),Nh(new Date)}catch(ae){console.error("Error updating most popular products:",ae),alert("Kunne ikke opdatere mest populre produkter. Prv venligst igen.")}finally{ye(!1)}}async function gn(){if(confirm("Er du sikker p, at du vil fjerne alle produkter fra 'Most Popular'?"))try{ye(!0),await ix([]),Z([]),alert("Alle produkter fjernet fra 'Most Popular'!"),Ch([]),Nh(new Date)}catch(X){console.error("Error clearing most popular products:",X),alert("Kunne ikke fjerne produkter. Prv venligst igen.")}finally{ye(!1)}}async function yn(){try{ie(!0),le(null);const X=await Ro(),ae=i3(),pe=jS();if(pe&&ae&&X&&Math.abs(X.getTime()-ae.getTime())<1e3){console.log("Using cached reviews (metadata unchanged)"),Ce(pe),ie(!1);return}console.log("Fetching reviews from Firebase (metadata changed or no cache)");const _e=await Rg(void 0,!0);Ce(_e),jh(_e),X&&Dh(X)}catch(X){console.error("Error loading reviews:",X),le("Kunne ikke indlse anmeldelser. Prv venligst igen.");const ae=jS();ae&&(console.log("Using cached reviews as fallback"),Ce(ae))}finally{ie(!1)}}j.useEffect(()=>(t==="orders"?(De(),v.current=!0,y.current=ZO(X=>{if(v.current)r(X),X.forEach(ae=>{ae.id&&g.current.add(ae.id)}),v.current=!1,c(!1);else{const ae=g.current,pe=X.filter(_e=>_e.id&&!ae.has(_e.id));pe.length>0&&(document.hidden||s3(),r(_e=>{const Dt=new Set(_e.map(Ni=>Ni.id));return[...pe.filter(Ni=>Ni.id&&!Dt.has(Ni.id)),..._e].sort((Ni,ja)=>{const Lr=qn=>qn.createdAt instanceof Date?qn.createdAt.getTime():qn.createdAt&&typeof qn.createdAt=="object"&&"toDate"in qn.createdAt?qn.createdAt.toDate().getTime():new Date(qn.createdAt).getTime();return Lr(ja)-Lr(Ni)})}),pe.forEach(_e=>{_e.id&&g.current.add(_e.id)}))}},X=>{console.error("Error in orders subscription:",X),m("Fejl ved real-time opdatering af ordrer.")},!0,!0)):t==="products"?jt():t==="reviews"&&yn(),()=>{y.current&&(y.current(),y.current=null)}),[t]),j.useEffect(()=>()=>{y.current&&(y.current(),y.current=null)},[]);async function wi(){if(confirm("Er du sikker p, at du vil initialisere alle produkter? Dette kan oprette dubletter hvis produkter allerede findes.")){B(!0),Pe(!1),ne(null);try{await e3(),Pe(!0),localStorage.removeItem(av),localStorage.removeItem(ov),await jt(),setTimeout(()=>Pe(!1),5e3)}catch(X){console.error("Error initializing products:",X),ne("Kunne ikke initialisere produkter. Tjek konsollen for detaljer.")}finally{B(!1)}}}async function Ri(X,ae){try{await XO(X,ae),r(ae==="ready"?pe=>pe.filter(_e=>_e.id!==X):pe=>pe.map(_e=>_e.id===X?{..._e,status:ae}:_e)),Re(X,ae),U&&S(pe=>pe.map(_e=>_e.id===X?{..._e,status:ae}:_e))}catch(pe){console.error("Error updating order status:",pe),alert("Kunne ikke opdatere ordrestatus. Prv venligst igen.")}}async function kr(X,ae){try{await QI(X,ae);const pe=O.map(Dt=>Dt.id===X?{...Dt,...ae}:Dt);G(pe),Np(pe);const _e=await xa();_e&&jp(_e),M(null),alert("Produkt opdateret med succes!")}catch(pe){console.error("Error updating product:",pe),alert("Kunne ikke opdatere produkt. Prv venligst igen.")}}async function Or(X){if(confirm("Er du sikker p, at du vil slette dette produkt?"))try{await XI(X);const ae=O.filter(_e=>_e.id!==X);G(ae),Np(ae);const pe=await xa();pe&&jp(pe),alert("Produkt slettet!")}catch(ae){console.error("Error deleting product:",ae),alert("Kunne ikke slette produkt. Prv venligst igen.")}}async function _t(X){try{await ES(X,{approved:!0});const ae=be.map(_e=>_e.id===X?{..._e,approved:!0}:_e);Ce(ae),jh(ae);const pe=await Ro();pe&&Dh(pe),alert("Anmeldelse godkendt!")}catch(ae){console.error("Error approving review:",ae),alert("Kunne ikke godkende anmeldelse. Prv venligst igen.")}}async function bt(X){if(confirm("Er du sikker p, at du vil afvise denne anmeldelse?"))try{await ES(X,{approved:!1});const ae=be.map(_e=>_e.id===X?{..._e,approved:!1}:_e);Ce(ae),jh(ae);const pe=await Ro();pe&&Dh(pe),alert("Anmeldelse afvist!")}catch(ae){console.error("Error rejecting review:",ae),alert("Kunne ikke afvise anmeldelse. Prv venligst igen.")}}async function Ci(X){if(confirm("Er du sikker p, at du vil slette denne anmeldelse?"))try{await HO(X);const ae=be.filter(_e=>_e.id!==X);Ce(ae),jh(ae);const pe=await Ro();pe&&Dh(pe),alert("Anmeldelse slettet!")}catch(ae){console.error("Error deleting review:",ae),alert("Kunne ikke slette anmeldelse. Prv venligst igen.")}}return d.jsx("main",{className:"admin-page",children:d.jsxs("div",{className:"admin-container",children:[d.jsx("h1",{className:"admin-title",children:"Admin Panel"}),d.jsxs("div",{className:"admin-tabs",children:[d.jsxs("button",{className:`admin-tab ${t==="orders"?"active":""}`,onClick:()=>e("orders"),children:[" Ordrer (",i.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="products"?"active":""}`,onClick:()=>e("products"),children:[" Produkter (",O.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="reviews"?"active":""}`,onClick:()=>e("reviews"),children:[" Anmeldelser (",be.length,")"]})]}),t==="orders"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Ordre Administration"}),d.jsx("button",{onClick:()=>De(!0),className:"btn-refresh",disabled:o,children:o?"Indlser...":" Opdater"})]}),d.jsxs("div",{className:"todays-orders-subsection",children:[d.jsxs("div",{className:"todays-orders-header",children:[d.jsxs("h3",{className:"todays-orders-title",children:["Alle Dagens Ordrer (",T.length,")"]}),d.jsxs("div",{className:"todays-orders-actions",children:[U&&d.jsx("button",{onClick:()=>{localStorage.removeItem("admin_todays_orders"),Le()},className:"btn-refresh btn-small",disabled:w,children:w?"Indlser...":" Opdater"}),d.jsx("button",{onClick:()=>{U?k(!1):(k(!0),Le())},className:"btn-refresh btn-small",disabled:w,children:U?" Skjul":" Vis Alle Dagens Ordrer"})]})]}),U&&d.jsx("div",{children:w?d.jsx("div",{className:"loading-state",children:"Indlser alle dagens ordrer..."}):T.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer i dag endnu."}):d.jsx("div",{className:"orders-list",children:T.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:ae=>Ri(X.id,ae.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(ae=>d.jsxs("li",{children:[ae.qty,"  ",ae.name,"  DKK"," ",(ae.price*ae.qty).toFixed(2)]},ae.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})})]}),u&&d.jsx("div",{className:"alert alert-error",children:u}),o?d.jsx("div",{className:"loading-state",children:"Indlser ordrer..."}):i.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer endnu."}):d.jsx("div",{className:"orders-list",children:i.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:ae=>Ri(X.id,ae.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(ae=>d.jsxs("li",{children:[ae.qty,"  ",ae.name,"  DKK"," ",(ae.price*ae.qty).toFixed(2)]},ae.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})]}),t==="products"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Produkt Administration"}),d.jsx("div",{className:"section-actions",children:d.jsx("button",{onClick:jt,className:"btn-refresh",disabled:F,children:F?"Indlser...":" Opdater"})})]}),V&&d.jsx("div",{className:"alert alert-success",children:" Produkter blev initialiseret med succes!"}),ee&&d.jsx("div",{className:"alert alert-error",children:ee}),F?d.jsx("div",{className:"loading-state",children:"Indlser produkter..."}):O.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"Ingen produkter endnu."}),d.jsx("button",{onClick:wi,className:"btn-init",disabled:D,children:D?"Initialiserer...":"Initialiser Produkter"})]}):d.jsxs(d.Fragment,{children:[N&&d.jsx(a3,{product:N,onSave:X=>kr(N.id,X),onCancel:()=>M(null)}),d.jsxs("div",{className:"most-popular-selector",children:[d.jsxs("div",{className:"most-popular-header",children:[d.jsx("label",{className:"most-popular-label",children:" Mest Populre Produkter:"}),ge.length>0&&d.jsxs("button",{onClick:gn,className:"btn-clear-popular",disabled:he,title:"Fjern alle produkter fra Most Popular",children:[" Fjern Alle (",ge.length,")"]})]}),he&&d.jsx("div",{className:"saving-indicator",children:"Gemmer..."}),d.jsx("p",{className:"most-popular-info",children:'Vlg produkter der skal vises i "Most Popular" sektionen p menuen. Klik p et produkt for at tilfje/fjerne det.'}),d.jsx("div",{className:"most-popular-products-grid",children:O.map(X=>{const ae=ge.includes(X.id||"");return d.jsxs("div",{className:`most-popular-product-card ${ae?"is-popular":""}`,onClick:()=>!he&&un(X.id),children:[d.jsx("div",{className:"most-popular-product-checkbox",children:ae?"":""}),d.jsx("img",{src:`./assets/${X.image}`,alt:X.name,className:"most-popular-product-image"}),d.jsxs("div",{className:"most-popular-product-info",children:[d.jsx("div",{className:"most-popular-product-name",children:X.name}),d.jsx("div",{className:"most-popular-product-category",children:X.category})]})]},X.id)})}),ge.length>0&&d.jsxs("div",{className:"most-popular-summary",children:[d.jsx("strong",{children:ge.length})," produkt",ge.length!==1?"er":"",' valgt til "Most Popular"']})]}),d.jsxs("div",{className:"products-search-container",children:[d.jsx("input",{type:"text",placeholder:" Sg efter produkter (navn, kategori, beskrivelse, tags, ingredienser)...",value:C,onChange:X=>A(X.target.value),className:"products-search-input"}),C&&d.jsx("button",{onClick:()=>A(""),className:"products-search-clear",title:"Ryd sgning",children:""})]}),(()=>{const X=O.filter(ae=>{if(!C.trim())return!0;const pe=C.toLowerCase();return[ae.name,ae.category,ae.desc,...ae.tags||[],...ae.ingredients?.map(Dt=>Dt.name)||[]].join(" ").toLowerCase().includes(pe)});return X.length===0&&C?d.jsxs("div",{className:"empty-state",children:[d.jsxs("p",{children:['Ingen produkter fundet for "',C,'"']}),d.jsx("button",{onClick:()=>A(""),className:"btn-refresh",children:"Ryd sgning"})]}):d.jsx("div",{className:"products-grid",children:X.map(ae=>d.jsxs("div",{className:"product-card",children:[d.jsxs("div",{className:"product-header",children:[d.jsx("img",{src:`./assets/${ae.image}`,alt:ae.name}),d.jsxs("div",{children:[d.jsx("div",{className:"product-name",children:ae.name}),d.jsx("div",{className:"product-category",children:ae.category})]}),d.jsxs("div",{className:"product-price",children:["DKK ",ae.price.toFixed(2)]})]}),d.jsx("div",{className:"product-desc",children:ae.desc}),ae.ingredients&&ae.ingredients.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tilvalg:"}),d.jsx("ul",{children:ae.ingredients.map((pe,_e)=>d.jsxs("li",{children:[pe.name,pe.extraPrice&&` (+DKK ${pe.extraPrice})`]},_e))})]}),ae.tags&&ae.tags.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tags:"}),d.jsx("ul",{children:ae.tags.map((pe,_e)=>d.jsx("li",{children:pe},_e))})]}),d.jsxs("div",{className:"product-actions",children:[d.jsx("button",{onClick:()=>M(ae),className:"btn-edit",children:" Rediger"}),d.jsx("button",{onClick:()=>Or(ae.id),className:"btn-delete",children:" Slet"})]})]},ae.id))})})(),C&&d.jsxs("div",{className:"products-search-results-info",children:["Viser"," ",O.filter(X=>{const ae=C.toLowerCase();return[X.name,X.category,X.desc,...X.tags||[],...X.ingredients?.map(_e=>_e.name)||[]].join(" ").toLowerCase().includes(ae)}).length," ","af ",O.length," produkter"]})]})]}),t==="reviews"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Anmeldelses Administration"}),d.jsx("button",{onClick:yn,className:"btn-refresh",disabled:z,children:z?"Indlser...":" Opdater"})]}),L&&d.jsx("div",{className:"alert alert-error",children:L}),z?d.jsx("div",{className:"loading-state",children:"Indlser anmeldelser..."}):be.length===0?d.jsx("div",{className:"empty-state",children:"Ingen anmeldelser endnu."}):d.jsx("div",{className:"reviews-list",children:be.map(X=>d.jsxs("div",{className:`review-card-admin ${X.approved===!1?"review-rejected":X.approved===!0?"review-approved":"review-pending"}`,children:[d.jsxs("div",{className:"review-card-header",children:[d.jsxs("div",{className:"review-info",children:[d.jsx("div",{className:"review-author",children:X.author}),d.jsxs("div",{className:"review-rating",children:["".repeat(X.rating),"".repeat(5-X.rating)]}),d.jsx("div",{className:"review-date",children:X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")})]}),d.jsx("div",{className:"review-status",children:X.approved===!0?d.jsx("span",{className:"status-badge status-approved",children:" Godkendt"}):X.approved===!1?d.jsx("span",{className:"status-badge status-rejected",children:" Afvist"}):d.jsx("span",{className:"status-badge status-pending",children:" Afventer"})})]}),d.jsxs("div",{className:"review-text-admin",children:['"',X.text,'"']}),d.jsxs("div",{className:"review-actions",children:[X.approved!==!0&&d.jsx("button",{onClick:()=>_t(X.id),className:"btn-approve",children:" Godkend"}),X.approved!==!1&&d.jsx("button",{onClick:()=>bt(X.id),className:"btn-reject",children:" Afvis"}),d.jsx("button",{onClick:()=>Ci(X.id),className:"btn-delete",children:" Slet"})]})]},X.id))})]})]})})}function a3({product:t,onSave:e,onCancel:i}){const[r,o]=j.useState(t.name),[c,u]=j.useState(t.desc),[m,g]=j.useState(t.price.toString()),[y,v]=j.useState(t.category),[T,S]=j.useState(t.image),[w,I]=j.useState(t.tags||[]),[U,k]=j.useState(t.ingredients||[]);function O(ee){ee.preventDefault(),e({name:r,desc:c,price:parseFloat(m),category:y,image:T,tags:w.length>0?w:[],ingredients:U.length>0?U:[]})}function G(){k([...U,{name:"",extraPrice:void 0}])}function F(ee){k(U.filter((ne,C)=>C!==ee))}function de(ee,ne,C){const A=[...U];A[ee]={...A[ee],[ne]:ne==="extraPrice"?C===""?void 0:Number(C):C},k(A)}return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-backdrop",onClick:i}),d.jsxs("div",{className:"product-edit-form",children:[d.jsx("h3",{children:"Rediger Produkt"}),d.jsxs("form",{onSubmit:O,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Navn"}),d.jsx("input",{type:"text",value:r,onChange:ee=>o(ee.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Kategori"}),d.jsxs("select",{value:y,onChange:ee=>v(ee.target.value),required:!0,children:[d.jsx("option",{value:"Pizza",children:"Pizza"}),d.jsx("option",{value:"Grill",children:"Grill"}),d.jsx("option",{value:"Sides",children:"Sides"}),d.jsx("option",{value:"Drinks",children:"Drinks"})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Beskrivelse"}),d.jsx("textarea",{value:c,onChange:ee=>u(ee.target.value),required:!0,rows:3})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("div",{className:"form-group-header",children:[d.jsx("label",{children:"Tilvalg (Ingredienser)"}),d.jsx("button",{type:"button",onClick:G,className:"btn-add-small",children:"+ Tilfj tilvalg"})]}),U.length===0?d.jsx("p",{className:"form-hint",children:'Ingen tilvalg tilfjet. Klik p "Tilfj tilvalg" for at tilfje.'}):d.jsx("div",{className:"ingredients-list",children:U.map((ee,ne)=>d.jsxs("div",{className:"ingredient-item",children:[d.jsx("input",{type:"text",placeholder:"Navn p tilvalg",value:ee.name,onChange:C=>de(ne,"name",C.target.value),className:"ingredient-name"}),d.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ekstra pris (valgfrit)",value:ee.extraPrice||"",onChange:C=>de(ne,"extraPrice",C.target.value),className:"ingredient-price"}),d.jsx("button",{type:"button",onClick:()=>F(ne),className:"btn-remove",children:""})]},ne))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tags"}),d.jsx("div",{className:"tags-checkbox-group",children:[{value:"vegetarian",label:" Vegetar"},{value:"vegan",label:" Vegansk"},{value:"spicy",label:" Strk"},{value:"glutenfree",label:" Glutenfri"},{value:"halal",label:" Halal"},{value:"popular",label:" Populr"}].map(ee=>d.jsxs("label",{className:"tag-checkbox-label",children:[d.jsx("input",{type:"checkbox",value:ee.value,checked:w.includes(ee.value),onChange:ne=>{ne.target.checked?I([...w,ee.value]):I(w.filter(C=>C!==ee.value))},className:"tag-checkbox"}),d.jsx("span",{className:"tag-checkbox-text",children:ee.label})]},ee.value))}),w.length>0&&d.jsxs("div",{className:"selected-tags",children:[d.jsx("strong",{children:"Valgte tags:"})," ",w.join(", ")]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Pris (DKK)"}),d.jsx("input",{type:"number",step:"0.01",value:m,onChange:ee=>g(ee.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Billede filnavn"}),d.jsx("input",{type:"text",value:T,onChange:ee=>S(ee.target.value),required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Gem"}),d.jsx("button",{type:"button",onClick:i,className:"btn-cancel",children:"Annuller"})]})]})]})]})}function o3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Om os"}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{className:"text-gray-700",children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]})})}function l3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Kontakt"}),d.jsx("p",{className:"mb-4 text-gray-700",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kontaktoplysninger"}),d.jsxs("p",{className:"text-gray-700",children:["Telefon: ",d.jsx("strong",{children:"70 12 34 56"})]}),d.jsxs("p",{className:"text-gray-700",children:["E-mail: ",d.jsx("strong",{children:"info@pizza-grill.dk"})]}),d.jsxs("p",{className:"text-gray-700",children:["Adresse: ",d.jsx("strong",{children:"Hovedgade 123, 1234 By"})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Skriv til os"}),d.jsxs("form",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Navn"}),d.jsx("input",{className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"E-mail"}),d.jsx("input",{type:"email",className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Besked"}),d.jsx("textarea",{rows:4,className:"w-full p-2 border rounded"})]}),d.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",children:"Send besked"})]})]})]})})}function c3(){return d.jsx("main",{className:"privacy-policy-page",children:d.jsxs("div",{className:"privacy-policy-container",children:[d.jsx("h1",{className:"privacy-policy-title",children:"Privatlivspolitik"}),d.jsxs("p",{className:"privacy-policy-updated",children:["Sidst opdateret: ",new Date().toLocaleDateString("da-DK",{year:"numeric",month:"long",day:"numeric"})]}),d.jsxs("div",{className:"privacy-policy-content",children:[d.jsx("section",{className:"privacy-section",children:d.jsx("p",{className:"privacy-intro",children:'Denne privatlivspolitik forklarer, hvordan Xanthos Pizza & Grill ("vi", "os" eller "vores") indsamler, bruger og beskytter dine personoplysninger, nr du bruger vores hjemmeside og bestiller gennem vores tjenester. Vi respekterer dit privatliv og er forpligtet til at beskytte dine personoplysninger i overensstemmelse med GDPR (Generel Dataforordning).'})}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"1. Hvilke oplysninger indsamler vi?"}),d.jsx("p",{children:"Vi indsamler kun de oplysninger, der er ndvendige for at behandle og levere din bestilling:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Kontaktoplysninger:"})," Navn, telefonnummer, e-mailadresse og leveringsadresse"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Bestillingsoplysninger:"})," Detaljer om dine bestilte produkter, antal og srlige instruktioner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsoplysninger:"})," Betalingsmetode (kort eller MobilePay) - betalingsoplysninger behandles sikkert af vores betalingsudbyder og gemmes aldrig p vores servere"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Tekniske oplysninger:"})," IP-adresse, browser-type og enhedsoplysninger (automatisk indsamlet)"]})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"2. Hvordan bruger vi dine oplysninger?"}),d.jsx("p",{children:"Vi bruger dine personoplysninger til flgende forml:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"At behandle og levere din bestilling"}),d.jsx("li",{children:"At kommunikere med dig vedrrende din bestilling (bekrftelse, opdateringer, problemer)"}),d.jsx("li",{children:"At hndtere betalinger gennem vores betalingsudbydere"}),d.jsx("li",{children:"At opfylde juridiske forpligtelser (f.eks. regnskabsfring)"}),d.jsx("li",{children:"At forbedre vores tjenester og brugeroplevelse"}),d.jsx("li",{children:"At hndtere klager og henvendelser"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"3. Cookies og lokal lagring"}),d.jsx("p",{children:"Vi bruger ikke tracking- eller marketingcookies. Vi bruger kun ndvendige cookies og lokal lagring for at sikre, at hjemmesiden fungerer korrekt:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Session cookies:"})," For at huske din indkbskurv under din besg"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Lokal lagring:"})," For at gemme din kurv, s den ikke forsvinder, hvis du lukker browseren"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Produktcache:"})," For at forbedre indlsningstiden ved at cache produktdata lokalt"]})]}),d.jsx("p",{children:"Du kan til enhver tid slette cookies og lokal lagring gennem dine browserindstillinger. Dette kan pvirke funktionaliteten af hjemmesiden."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"4. Deling af oplysninger"}),d.jsx("p",{children:"Vi deler kun dine oplysninger med:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsudbydere:"})," For at behandle betalinger (kortoplysninger behandles sikkert og gemmes ikke hos os)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Leveringspartnere:"})," Hvis du vlger levering, deler vi din adresse med vores leveringspartner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Juridiske myndigheder:"})," Hvis det er pkrvet ved lov eller retslig ordre"]})]}),d.jsx("p",{children:"Vi slger eller udlejer aldrig dine personoplysninger til tredjeparter til markedsfringsforml."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"5. Databehandling og opbevaring"}),d.jsx("p",{children:"Vi opbevarer dine personoplysninger kun s lnge, det er ndvendigt for at:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Opfylde din bestilling og levere tjenesten"}),d.jsx("li",{children:"Opfylde juridiske forpligtelser (f.eks. regnskabsfring i 5 r)"}),d.jsx("li",{children:"Hndtere eventuelle klager eller retskrav"})]}),d.jsx("p",{children:"Efter opbevaringsperioden slettes eller anonymiseres dine personoplysninger sikkert."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"6. Dine rettigheder"}),d.jsx("p",{children:"I henhold til GDPR har du flgende rettigheder:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigt:"})," Du kan anmode om at se, hvilke personoplysninger vi har om dig"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til berigtigelse:"})," Du kan anmode om rettelse af forkerte eller ufuldstndige oplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til sletning:"})," Du kan anmode om sletning af dine personoplysninger (med visse undtagelser)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til dataportabilitet:"})," Du kan anmode om at modtage dine data i et struktureret format"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigelse:"})," Du kan gre indsigelse mod behandling af dine personoplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til begrnsning:"})," Du kan anmode om begrnsning af behandlingen af dine oplysninger"]})]}),d.jsxs("p",{children:["For at udve disse rettigheder, kontakt os p"," ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"7. Datasikkerhed"}),d.jsx("p",{children:"Vi implementerer passende tekniske og organisatoriske foranstaltninger for at beskytte dine personoplysninger mod uautoriseret adgang, tab, delggelse eller ndring:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Krypteret datatransmission (HTTPS/SSL)"}),d.jsx("li",{children:"Sikker betalingsbehandling gennem certificerede betalingsudbydere"}),d.jsx("li",{children:"Begrnset adgang til personoplysninger (kun autoriseret personale)"}),d.jsx("li",{children:"Regelmssige sikkerhedsopdateringer og -revisioner"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"8. Brns privatliv"}),d.jsx("p",{children:"Vores tjenester er ikke mlrettet brn under 18 r. Vi indsamler bevidst ikke personoplysninger fra brn. Hvis du er forlder eller vrge og opdager, at dit barn har givet os personoplysninger, kontakt os, s vi kan slette disse oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"9. ndringer i privatlivspolitikken"}),d.jsx("p",{children:"Vi kan opdatere denne privatlivspolitik fra tid til tid. Vsentlige ndringer vil blive meddelt p hjemmesiden eller via e-mail. Vi opfordrer dig til at gennemg denne side jvnligt for at holde dig informeret om, hvordan vi beskytter dine oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"10. Kontakt os"}),d.jsx("p",{children:"Hvis du har sprgsml, bekymringer eller nsker at udve dine rettigheder vedrrende denne privatlivspolitik, kan du kontakte os:"}),d.jsxs("div",{className:"privacy-contact",children:[d.jsx("p",{children:d.jsx("strong",{children:"Xanthos Pizza & Grill"})}),d.jsxs("p",{children:["E-mail: ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]}),d.jsxs("p",{children:["Telefon: ",d.jsx("a",{href:"tel:+4570123456",className:"privacy-link",children:"70 12 34 56"})]})]}),d.jsx("p",{children:"Du har ogs ret til at klage til Datatilsynet, hvis du mener, at vi behandler dine personoplysninger i strid med gldende lovgivning."})]})]})]})})}function u3(){const t=cs();return j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t.pathname]),null}const xi=({children:t})=>{const e=cs();return j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e.pathname]),d.jsx(ww.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},style:{position:"relative",width:"100%"},children:t},e.pathname)};function h3(){const t=cs();return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(KN,{}),d.jsxs("div",{className:"flex-1 app-bg",children:[d.jsx(u3,{}),d.jsx(S4,{mode:"wait",initial:!1,children:d.jsxs(uN,{location:t,children:[d.jsx(ni,{path:"/",element:d.jsx(xi,{children:d.jsx(KO,{})})}),d.jsx(ni,{path:"/menu",element:d.jsx(xi,{children:d.jsx(TS,{})})}),d.jsx(ni,{path:"/bestil",element:d.jsx(xi,{children:d.jsx(TS,{})})}),d.jsx(ni,{path:"/om-os",element:d.jsx(xi,{children:d.jsx(o3,{})})}),d.jsx(ni,{path:"/kontakt",element:d.jsx(xi,{children:d.jsx(l3,{})})}),d.jsx(ni,{path:"/privacy",element:d.jsx(xi,{children:d.jsx(c3,{})})}),d.jsx(ni,{path:"/cart",element:d.jsx(xi,{children:d.jsx(YO,{})})}),d.jsx(ni,{path:"/checkout",element:d.jsx(xi,{children:d.jsx(WO,{})})}),d.jsx(ni,{path:"/confirmation/:orderId",element:d.jsx(xi,{children:d.jsx(f3,{})})}),d.jsx(ni,{path:"/admin",element:d.jsx(xi,{children:d.jsx(r3,{})})}),d.jsx(ni,{path:"*",element:d.jsx(xi,{children:d.jsx(m3,{})})})]},t.pathname)})]}),d.jsx(YN,{})]})}function d3(){return d.jsx(IN,{basename:"/xantos-pizza-grill/",children:d.jsx(FN,{children:d.jsx(h3,{})})})}function f3(){const t=window.location.pathname.split("/"),e=t[t.length-1];return d.jsx(JO,{orderId:e})}function m3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow",children:["Page not found  ",d.jsx(dt,{to:"/",children:"Go home"})]})})}_C.createRoot(document.getElementById("root")).render(d.jsx(j.StrictMode,{children:d.jsx(d3,{})}));
