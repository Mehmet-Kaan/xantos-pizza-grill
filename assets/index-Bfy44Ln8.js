(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Fm={exports:{}},Yl={};var xT;function cC(){if(xT)return Yl;xT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var ST;function uC(){return ST||(ST=1,Fm.exports=cC()),Fm.exports}var d=uC(),Hm={exports:{}},Ie={};var bT;function hC(){if(bT)return Ie;bT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=S&&z[S]||z["@@iterator"],typeof z=="function"?z:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,M={};function k(z,ne,U){this.props=z,this.context=ne,this.refs=M,this.updater=U||D}k.prototype.isReactComponent={},k.prototype.setState=function(z,ne){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ne,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=k.prototype;function H(z,ne,U){this.props=z,this.context=ne,this.refs=M,this.updater=U||D}var de=H.prototype=new q;de.constructor=H,V(de,k.prototype),de.isPureReactComponent=!0;var ee=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function j(z,ne,U){var oe=U.ref;return{$$typeof:t,type:z,key:ne,ref:oe!==void 0?oe:null,props:U}}function L(z,ne){return j(z.type,ne,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var ne={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(U){return ne[U]})}var I=/\/+/g;function Ue(z,ne){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):ne.toString(36)}function ve(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ue,ue):(z.status="pending",z.then(function(ne){z.status==="pending"&&(z.status="fulfilled",z.value=ne)},function(ne){z.status==="pending"&&(z.status="rejected",z.reason=ne)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,ne,U,oe,ce){var fe=typeof z;(fe==="undefined"||fe==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(fe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case t:case e:Re=!0;break;case v:return Re=z._init,Z(Re(z._payload),ne,U,oe,ce)}}if(Re)return ce=ce(z),Re=oe===""?"."+Ue(z,0):oe,ee(ce)?(U="",Re!=null&&(U=Re.replace(I,"$&/")+"/"),Z(ce,ne,U,"",function(jt){return jt})):ce!=null&&(P(ce)&&(ce=L(ce,U+(ce.key==null||z&&z.key===ce.key?"":(""+ce.key).replace(I,"$&/")+"/")+Re)),ne.push(ce)),1;Re=0;var De=oe===""?".":oe+":";if(ee(z))for(var Oe=0;Oe<z.length;Oe++)oe=z[Oe],fe=De+Ue(oe,Oe),Re+=Z(oe,ne,U,fe,ce);else if(Oe=w(z),typeof Oe=="function")for(z=Oe.call(z),Oe=0;!(oe=z.next()).done;)oe=oe.value,fe=De+Ue(oe,Oe++),Re+=Z(oe,ne,U,fe,ce);else if(fe==="object"){if(typeof z.then=="function")return Z(ve(z),ne,U,oe,ce);throw ne=String(z),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function he(z,ne,U){if(z==null)return z;var oe=[],ce=0;return Z(z,oe,"","",function(fe){return ne.call(U,fe,ce++)}),oe}function ge(z){if(z._status===-1){var ne=z._result;ne=ne(),ne.then(function(U){(z._status===0||z._status===-1)&&(z._status=1,z._result=U)},function(U){(z._status===0||z._status===-1)&&(z._status=2,z._result=U)}),z._status===-1&&(z._status=0,z._result=ne)}if(z._status===1)return z._result.default;throw z._result}var be=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ce={map:he,forEach:function(z,ne,U){he(z,function(){ne.apply(this,arguments)},U)},count:function(z){var ne=0;return he(z,function(){ne++}),ne},toArray:function(z){return he(z,function(ne){return ne})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ie.Activity=T,Ie.Children=Ce,Ie.Component=k,Ie.Fragment=i,Ie.Profiler=o,Ie.PureComponent=H,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Ie.cache=function(z){return function(){return z.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(z,ne,U){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=V({},z.props),ce=z.key;if(ne!=null)for(fe in ne.key!==void 0&&(ce=""+ne.key),ne)!A.call(ne,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ne.ref===void 0||(oe[fe]=ne[fe]);var fe=arguments.length-2;if(fe===1)oe.children=U;else if(1<fe){for(var Re=Array(fe),De=0;De<fe;De++)Re[De]=arguments[De+2];oe.children=Re}return j(z.type,ce,oe)},Ie.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},Ie.createElement=function(z,ne,U){var oe,ce={},fe=null;if(ne!=null)for(oe in ne.key!==void 0&&(fe=""+ne.key),ne)A.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ce[oe]=ne[oe]);var Re=arguments.length-2;if(Re===1)ce.children=U;else if(1<Re){for(var De=Array(Re),Oe=0;Oe<Re;Oe++)De[Oe]=arguments[Oe+2];ce.children=De}if(z&&z.defaultProps)for(oe in Re=z.defaultProps,Re)ce[oe]===void 0&&(ce[oe]=Re[oe]);return j(z,fe,ce)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(z){return{$$typeof:m,render:z}},Ie.isValidElement=P,Ie.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ge}},Ie.memo=function(z,ne){return{$$typeof:y,type:z,compare:ne===void 0?null:ne}},Ie.startTransition=function(z){var ne=C.T,U={};C.T=U;try{var oe=z(),ce=C.S;ce!==null&&ce(U,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ue,be)}catch(fe){be(fe)}finally{ne!==null&&U.types!==null&&(ne.types=U.types),C.T=ne}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(z){return C.H.use(z)},Ie.useActionState=function(z,ne,U){return C.H.useActionState(z,ne,U)},Ie.useCallback=function(z,ne){return C.H.useCallback(z,ne)},Ie.useContext=function(z){return C.H.useContext(z)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(z,ne){return C.H.useDeferredValue(z,ne)},Ie.useEffect=function(z,ne){return C.H.useEffect(z,ne)},Ie.useEffectEvent=function(z){return C.H.useEffectEvent(z)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(z,ne,U){return C.H.useImperativeHandle(z,ne,U)},Ie.useInsertionEffect=function(z,ne){return C.H.useInsertionEffect(z,ne)},Ie.useLayoutEffect=function(z,ne){return C.H.useLayoutEffect(z,ne)},Ie.useMemo=function(z,ne){return C.H.useMemo(z,ne)},Ie.useOptimistic=function(z,ne){return C.H.useOptimistic(z,ne)},Ie.useReducer=function(z,ne,U){return C.H.useReducer(z,ne,U)},Ie.useRef=function(z){return C.H.useRef(z)},Ie.useState=function(z){return C.H.useState(z)},Ie.useSyncExternalStore=function(z,ne,U){return C.H.useSyncExternalStore(z,ne,U)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.0",Ie}var AT;function xg(){return AT||(AT=1,Hm.exports=hC()),Hm.exports}var N=xg(),Gm={exports:{}},Ql={},Km={exports:{}},Ym={};var wT;function dC(){return wT||(wT=1,(function(t){function e(Z,he){var ge=Z.length;Z.push(he);e:for(;0<ge;){var be=ge-1>>>1,Ce=Z[be];if(0<o(Ce,he))Z[be]=he,Z[ge]=Ce,ge=be;else break e}}function i(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var he=Z[0],ge=Z.pop();if(ge!==he){Z[0]=ge;e:for(var be=0,Ce=Z.length,z=Ce>>>1;be<z;){var ne=2*(be+1)-1,U=Z[ne],oe=ne+1,ce=Z[oe];if(0>o(U,ge))oe<Ce&&0>o(ce,U)?(Z[be]=ce,Z[oe]=ge,be=oe):(Z[be]=U,Z[ne]=ge,be=ne);else if(oe<Ce&&0>o(ce,ge))Z[be]=ce,Z[oe]=ge,be=oe;else break e}}return he}function o(Z,he){var ge=Z.sortIndex-he.sortIndex;return ge!==0?ge:Z.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var g=[],y=[],v=1,T=null,S=3,w=!1,D=!1,V=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function de(Z){for(var he=i(y);he!==null;){if(he.callback===null)r(y);else if(he.startTime<=Z)r(y),he.sortIndex=he.expirationTime,e(g,he);else break;he=i(y)}}function ee(Z){if(V=!1,de(Z),!D)if(i(g)!==null)D=!0,ue||(ue=!0,F());else{var he=i(y);he!==null&&ve(ee,he.startTime-Z)}}var ue=!1,C=-1,A=5,j=-1;function L(){return M?!0:!(t.unstable_now()-j<A)}function P(){if(M=!1,ue){var Z=t.unstable_now();j=Z;var he=!0;try{e:{D=!1,V&&(V=!1,q(C),C=-1),w=!0;var ge=S;try{t:{for(de(Z),T=i(g);T!==null&&!(T.expirationTime>Z&&L());){var be=T.callback;if(typeof be=="function"){T.callback=null,S=T.priorityLevel;var Ce=be(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof Ce=="function"){T.callback=Ce,de(Z),he=!0;break t}T===i(g)&&r(g),de(Z)}else r(g);T=i(g)}if(T!==null)he=!0;else{var z=i(y);z!==null&&ve(ee,z.startTime-Z),he=!1}}break e}finally{T=null,S=ge,w=!1}he=void 0}}finally{he?F():ue=!1}}}var F;if(typeof H=="function")F=function(){H(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ue=I.port2;I.port1.onmessage=P,F=function(){Ue.postMessage(null)}}else F=function(){k(P,0)};function ve(Z,he){C=k(function(){Z(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ge=S;S=he;try{return Z()}finally{S=ge}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ge=S;S=Z;try{return he()}finally{S=ge}},t.unstable_scheduleCallback=function(Z,he,ge){var be=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?be+ge:be):ge=be,Z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ge+Ce,Z={id:v++,callback:he,priorityLevel:Z,startTime:ge,expirationTime:Ce,sortIndex:-1},ge>be?(Z.sortIndex=ge,e(y,Z),i(g)===null&&Z===i(y)&&(V?(q(C),C=-1):V=!0,ve(ee,ge-be))):(Z.sortIndex=Ce,e(g,Z),D||w||(D=!0,ue||(ue=!0,F()))),Z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Z){var he=S;return function(){var ge=S;S=he;try{return Z.apply(this,arguments)}finally{S=ge}}}})(Ym)),Ym}var RT;function fC(){return RT||(RT=1,Km.exports=dC()),Km.exports}var Qm={exports:{}},hn={};var CT;function mC(){if(CT)return hn;CT=1;var t=xg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,v)},hn.flushSync=function(g){var y=u.T,v=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=y,r.p=v,r.d.f()}},hn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},hn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},hn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:w}):v==="script"&&r.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},hn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin);r.d.L(g,v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},hn.requestFormReset=function(g){r.d.r(g)},hn.unstable_batchedUpdates=function(g,y){return g(y)},hn.useFormState=function(g,y,v){return u.H.useFormState(g,y,v)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var NT;function pC(){if(NT)return Qm.exports;NT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qm.exports=mC(),Qm.exports}var jT;function gC(){if(jT)return Ql;jT=1;var t=fC(),e=xg(),i=pC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(c(n)!==n)throw Error(r(188))}function y(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return g(f),n;if(p===l)return g(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=p;break}if(b===l){E=!0,l=f,a=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===a){E=!0,a=p,l=f;break}if(b===l){E=!0,l=p,a=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case ee:return"Suspense";case ue:return"SuspenseList";case j:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case H:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case de:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:Ue(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return Ue(n(s))}catch{}}return null}var ve=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},be=[],Ce=-1;function z(n){return{current:n}}function ne(n){0>Ce||(n.current=be[Ce],be[Ce]=null,Ce--)}function U(n,s){Ce++,be[Ce]=n.current,n.current=s}var oe=z(null),ce=z(null),fe=z(null),Re=z(null);function De(n,s){switch(U(fe,s),U(ce,n),U(oe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?G_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=G_(s),n=K_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(oe),U(oe,n)}function Oe(){ne(oe),ne(ce),ne(fe)}function jt(n){n.memoizedState!==null&&U(Re,n);var s=oe.current,a=K_(s,n.type);s!==a&&(U(ce,n),U(oe,a))}function Yt(n){ce.current===n&&(ne(oe),ne(ce)),Re.current===n&&(ne(Re),Fl._currentValue=ge)}var un,gn;function yn(n){if(un===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);un=s&&s[1]||"",gn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+n+gn}var wi=!1;function Ri(n,s){if(!n||wi)return"";wi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var $=J}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(J){$=J}n.call(ae.prototype)}}else{try{throw Error()}catch(J){$=J}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var O=E.split(`
`),Q=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===Q.length)for(l=O.length-1,f=Q.length-1;1<=l&&0<=f&&O[l]!==Q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==Q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==Q[f]){var te=`
`+O[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=f);break}}}finally{wi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?yn(a):""}function Pr(n,s){switch(n.tag){case 26:case 27:case 5:return yn(n.type);case 16:return yn("Lazy");case 13:return n.child!==s&&s!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return Ri(n.type,!1);case 11:return Ri(n.type.render,!1);case 1:return Ri(n.type,!0);case 31:return yn("Activity");default:return""}}function Or(n){try{var s="",a=null;do s+=Pr(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,Ci=t.unstable_cancelCallback,X=t.unstable_shouldYield,re=t.unstable_requestPaint,pe=t.unstable_now,_e=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,Ra=t.unstable_UserBlockingPriority,us=t.unstable_NormalPriority,Ni=t.unstable_LowPriority,Ca=t.unstable_IdlePriority,Lr=t.log,qn=t.unstable_setDisableYieldValue,ci=null,Jt=null;function Fn(n){if(typeof Lr=="function"&&qn(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ci,n)}catch{}}var At=Math.clz32?Math.clz32:Gc,Hc=Math.log,Na=Math.LN2;function Gc(n){return n>>>=0,n===0?32:31-(Hc(n)/Na|0)|0}var ji=256,Ur=262144,Vt=4194304;function Di(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=Di(l):(E&=b,E!==0?f=Di(E):a||(a=b&~n,a!==0&&(f=Di(a))))):(b=l&~p,b!==0?f=Di(b):E!==0?f=Di(E):a||(a=l&~n,a!==0&&(f=Di(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function ui(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Kd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(){var n=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),n}function Ii(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function zr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yd(n,s,a,l,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,O=n.expirationTimes,Q=n.hiddenUpdates;for(a=E&~a;0<a;){var te=31-At(a),ae=1<<te;b[te]=0,O[te]=-1;var $=Q[te];if($!==null)for(Q[te]=null,te=0;te<$.length;te++){var J=$[te];J!==null&&(J.lane&=-536870913)}a&=~ae}l!==0&&Br(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Br(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-At(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Qo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-At(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Xo(n,s){var a=s&-s;return a=(a&42)!==0?1:qr(a),(a&(n.suspendedLanes|s))!==0?0:a}function qr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function hs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Yc(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:pT(n.type))}function hi(n,s){var a=he.p;try{return he.p=n,s()}finally{he.p=a}}var di=Math.random().toString(36).slice(2),It="__reactFiber$"+di,Qt="__reactProps$"+di,Mi="__reactContainer$"+di,ja="__reactEvents$"+di,Qd="__reactListeners$"+di,Qc="__reactHandles$"+di,Xc="__reactResources$"+di,ki="__reactMarker$"+di;function Da(n){delete n[It],delete n[Qt],delete n[ja],delete n[Qd],delete n[Qc]}function Pi(n){var s=n[It];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Mi]||a[It]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=J_(n);n!==null;){if(a=n[It])return a;n=J_(n)}return s}n=a,a=n.parentNode}return null}function Hn(n){if(n=n[It]||n[Mi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Vn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Oi(n){var s=n[Xc];return s||(s=n[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(n){n[ki]=!0}var $o=new Set,Zo={};function Li(n,s){Ui(n,s),Ui(n+"Capture",s)}function Ui(n,s){for(Zo[n]=s,n=0;n<s.length;n++)$o.add(s[n])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},el={};function $c(n){return _t.call(el,n)?!0:_t.call(Jo,n)?!1:Wo.test(n)?el[n]=!0:(Jo[n]=!0,!1)}function Va(n,s,a){if($c(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function In(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function kt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function Xt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function et(n){if(!n._valueTracker){var s=Bs(n)?"checked":"value";n._valueTracker=tl(n,s,""+n[s])}}function Fr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Bs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function zi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hr=/[\n"\\]/g;function xn(n){return n.replace(Hr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ia(n,s,a,l,f,p,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Xt(s)):n.value!==""+Xt(s)&&(n.value=""+Xt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?nl(n,E,Xt(s)):a!=null?nl(n,E,Xt(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Xt(b):n.removeAttribute("name")}function Zc(n,s,a,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){et(n);return}a=a!=null?""+Xt(a):"",s=s!=null?""+Xt(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),et(n)}function nl(n,s,a){s==="number"&&zi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qs(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Xt(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Wc(n,s,a){if(s!=null&&(s=""+Xt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Xt(a):""}function Fs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Xt(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),et(n)}function Sn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Jc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function sl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&il(n,f,l)}else for(var p in s)s.hasOwnProperty(p)&&il(n,p,s[p])}function Ma(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(n){return Hs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function fi(){}var rl=null;function Gn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gs=null,Bi=null;function Gr(n){var s=Hn(n);if(s&&(n=s.stateNode)){var a=n[Qt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Ia(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Qt]||null;if(!f)throw Error(r(90));Ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Fr(l)}break e;case"textarea":Wc(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&qs(n,!!a.multiple,s,!1)}}}var Pa=!1;function Ks(n,s,a){if(Pa)return n(s,a);Pa=!0;try{var l=n(s);return l}finally{if(Pa=!1,(Gs!==null||Bi!==null)&&(Yu(),Gs&&(s=Gs,n=Bi,Bi=Gs=null,Gr(s),n)))for(s=0;s<n.length;s++)Gr(n[s])}}function mi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(Kn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Kr=!1}var qi=null,al=null,Yr=null;function ol(){if(Yr)return Yr;var n,s=al,a=s.length,l,f="value"in qi?qi.value:qi.textContent,p=f.length;for(n=0;n<a&&s[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===f[p-l];l++);return Yr=f.slice(n,1<l?1-l:void 0)}function Qr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ds(){return!0}function pi(){return!1}function en(n){function s(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ds:pi,this.isPropagationStopped=pi,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=en(fs),Ys=T({},fs,{view:0,detail:0}),ll=en(Ys),Qs,Oa,Hi,La=T({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hi&&(Hi&&n.type==="mousemove"?(Qs=n.screenX-Hi.screenX,Oa=n.screenY-Hi.screenY):Oa=Qs=0,Hi=n),Qs)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),cl=en(La),Xr=T({},La,{dataTransfer:0}),tu=en(Xr),nu=T({},Ys,{relatedTarget:0}),$r=en(nu),ul=T({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),iu=en(ul),Ua=T({},fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),su=en(Ua),ru=T({},fs,{data:0}),Gi=en(ru),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=lu[n])?!!s[n]:!1}function Xs(){return cu}var vn=T({},Ys,{key:function(n){if(n.key){var s=au[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Qr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ou[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(n){return n.type==="keypress"?Qr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),uu=en(vn),hu=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=en(hu),h=T({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),_=en(h),x=T({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=en(x),K=T({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=en(K),me=T({},fs,{newState:0,oldState:0}),ke=en(me),wt=[9,13,27,32],Ze=Kn&&"CompositionEvent"in window,mt=null;Kn&&"documentMode"in document&&(mt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!mt,Ki=Kn&&(!Ze||mt&&8<mt&&11>=mt),gi=" ",yi=!1;function Zr(n,s){switch(n){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ba=!1;function Iw(n,s){switch(n){case"compositionend":return za(s);case"keypress":return s.which!==32?null:(yi=!0,gi);case"textInput":return n=s.data,n===gi&&yi?null:n;default:return null}}function Mw(n,s){if(Ba)return n==="compositionend"||!Ze&&Zr(n,s)?(n=ol(),Yr=al=qi=null,Ba=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kw[n.type]:s==="textarea"}function iv(n,s,a,l){Gs?Bi?Bi.push(l):Bi=[l]:Gs=l,s=eh(s,"onChange"),0<s.length&&(a=new Fi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var hl=null,dl=null;function Pw(n){U_(n,0)}function du(n){var s=Vn(n);if(Fr(s))return n}function sv(n,s){if(n==="change")return s}var rv=!1;if(Kn){var Xd;if(Kn){var $d="oninput"in document;if(!$d){var av=document.createElement("div");av.setAttribute("oninput","return;"),$d=typeof av.oninput=="function"}Xd=$d}else Xd=!1;rv=Xd&&(!document.documentMode||9<document.documentMode)}function ov(){hl&&(hl.detachEvent("onpropertychange",lv),dl=hl=null)}function lv(n){if(n.propertyName==="value"&&du(dl)){var s=[];iv(s,dl,n,Gn(n)),Ks(Pw,s)}}function Ow(n,s,a){n==="focusin"?(ov(),hl=s,dl=a,hl.attachEvent("onpropertychange",lv)):n==="focusout"&&ov()}function Lw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return du(dl)}function Uw(n,s){if(n==="click")return du(s)}function zw(n,s){if(n==="input"||n==="change")return du(s)}function Bw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mn=typeof Object.is=="function"?Object.is:Bw;function fl(n,s){if(Mn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(s,f)||!Mn(n[f],s[f]))return!1}return!0}function cv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uv(n,s){var a=cv(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cv(a)}}function hv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?hv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function dv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=zi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=zi(n.document)}return s}function Zd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var qw=Kn&&"documentMode"in document&&11>=document.documentMode,qa=null,Wd=null,ml=null,Jd=!1;function fv(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jd||qa==null||qa!==zi(l)||(l=qa,"selectionStart"in l&&Zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&fl(ml,l)||(ml=l,l=eh(Wd,"onSelect"),0<l.length&&(s=new Fi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=qa)))}function Wr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Fa={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},ef={},mv={};Kn&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Jr(n){if(ef[n])return ef[n];if(!Fa[n])return n;var s=Fa[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in mv)return ef[n]=s[a];return n}var pv=Jr("animationend"),gv=Jr("animationiteration"),yv=Jr("animationstart"),Fw=Jr("transitionrun"),Hw=Jr("transitionstart"),Gw=Jr("transitioncancel"),vv=Jr("transitionend"),_v=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function vi(n,s){_v.set(n,s),Li(s,[n])}var fu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Qn=[],Ha=0,nf=0;function mu(){for(var n=Ha,s=nf=Ha=0;s<n;){var a=Qn[s];Qn[s++]=null;var l=Qn[s];Qn[s++]=null;var f=Qn[s];Qn[s++]=null;var p=Qn[s];if(Qn[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&Tv(a,f,p)}}function pu(n,s,a,l){Qn[Ha++]=n,Qn[Ha++]=s,Qn[Ha++]=a,Qn[Ha++]=l,nf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function sf(n,s,a,l){return pu(n,s,a,l),gu(n)}function ea(n,s){return pu(n,null,null,s),gu(n)}function Tv(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-At(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function gu(n){if(50<Pl)throw Pl=0,fm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ga={};function Kw(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,s,a,l){return new Kw(n,s,a,l)}function rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ps(n,s){var a=n.alternate;return a===null?(a=kn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ev(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function yu(n,s,a,l,f,p){var E=0;if(l=n,typeof n=="function")rf(n)&&(E=1);else if(typeof n=="string")E=ZR(n,a,oe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case j:return n=kn(31,a,s,f),n.elementType=j,n.lanes=p,n;case V:return ta(a.children,f,p,s);case M:E=8,f|=24;break;case k:return n=kn(12,a,s,f|2),n.elementType=k,n.lanes=p,n;case ee:return n=kn(13,a,s,f),n.elementType=ee,n.lanes=p,n;case ue:return n=kn(19,a,s,f),n.elementType=ue,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:E=10;break e;case q:E=9;break e;case de:E=11;break e;case C:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=kn(E,a,s,f),s.elementType=n,s.type=l,s.lanes=p,s}function ta(n,s,a,l){return n=kn(7,n,l,s),n.lanes=a,n}function af(n,s,a){return n=kn(6,n,null,s),n.lanes=a,n}function xv(n){var s=kn(18,null,null,0);return s.stateNode=n,s}function of(n,s,a){return s=kn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Sv=new WeakMap;function Xn(n,s){if(typeof n=="object"&&n!==null){var a=Sv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Or(s)},Sv.set(n,s),s)}return{value:n,source:s,stack:Or(s)}}var Ka=[],Ya=0,vu=null,pl=0,$n=[],Zn=0,$s=null,Yi=1,Qi="";function gs(n,s){Ka[Ya++]=pl,Ka[Ya++]=vu,vu=n,pl=s}function bv(n,s,a){$n[Zn++]=Yi,$n[Zn++]=Qi,$n[Zn++]=$s,$s=n;var l=Yi;n=Qi;var f=32-At(l)-1;l&=~(1<<f),a+=1;var p=32-At(s)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Yi=1<<32-At(s)+f|a<<f|l,Qi=p+n}else Yi=1<<p|a<<f|l,Qi=n}function lf(n){n.return!==null&&(gs(n,1),bv(n,1,0))}function cf(n){for(;n===vu;)vu=Ka[--Ya],Ka[Ya]=null,pl=Ka[--Ya],Ka[Ya]=null;for(;n===$s;)$s=$n[--Zn],$n[Zn]=null,Qi=$n[--Zn],$n[Zn]=null,Yi=$n[--Zn],$n[Zn]=null}function Av(n,s){$n[Zn++]=Yi,$n[Zn++]=Qi,$n[Zn++]=$s,Yi=s.id,Qi=s.overflow,$s=n}var tn=null,ut=null,Ke=!1,Zs=null,Wn=!1,uf=Error(r(519));function Ws(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Xn(s,n)),uf}function wv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[It]=n,s[Qt]=l,a){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Be(Ll[a],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Zc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),Fs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||F_(s.textContent,a)?(l.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),l.onScroll!=null&&Be("scroll",s),l.onScrollEnd!=null&&Be("scrollend",s),l.onClick!=null&&(s.onclick=fi),s=!0):s=!1,s||Ws(n,!0)}function Rv(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Qa(n){if(n!==tn)return!1;if(!Ke)return Rv(n),Ke=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Cm(n.type,n.memoizedProps)),a=!a),a&&ut&&Ws(n),Rv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=W_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=W_(n)}else s===27?(s=ut,dr(n.type)?(n=Im,Im=null,ut=n):ut=s):ut=tn?ei(n.stateNode.nextSibling):null;return!0}function na(){ut=tn=null,Ke=!1}function hf(){var n=Zs;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),Zs=null),n}function gl(n){Zs===null?Zs=[n]:Zs.push(n)}var df=z(null),ia=null,ys=null;function Js(n,s,a){U(df,s._currentValue),s._currentValue=a}function vs(n){n._currentValue=df.current,ne(df)}function ff(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function mf(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var O=0;O<s.length;O++)if(b.context===s[O]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),ff(p.return,a,n),l||(E=null);break e}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),ff(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Xa(n,s,a,l){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;Mn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Re.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fl):n=[Fl])}f=f.return}n!==null&&mf(s,n,a,l),s.flags|=262144}function _u(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sa(n){ia=n,ys=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return Cv(ia,n)}function Tu(n,s){return ia===null&&sa(n),Cv(n,s)}function Cv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ys===null){if(n===null)throw Error(r(308));ys=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ys=ys.next=s;return a}var Yw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Qw=t.unstable_scheduleCallback,Xw=t.unstable_NormalPriority,Pt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new Yw,data:new Map,refCount:0}}function yl(n){n.refCount--,n.refCount===0&&Qw(Xw,function(){n.controller.abort()})}var vl=null,gf=0,$a=0,Za=null;function $w(n,s){if(vl===null){var a=vl=[];gf=0,$a=_m(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,s.then(Nv,Nv),s}function Nv(){if(--gf===0&&vl!==null){Za!==null&&(Za.status="fulfilled");var n=vl;vl=null,$a=0,Za=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Zw(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var jv=Z.S;Z.S=function(n,s){f_=pe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&$w(n,s),jv!==null&&jv(n,s)};var ra=z(null);function yf(){var n=ra.current;return n!==null?n:lt.pooledCache}function Eu(n,s){s===null?U(ra,ra.current):U(ra,s.pool)}function Dv(){var n=yf();return n===null?null:{parent:Pt._currentValue,pool:n}}var Wa=Error(r(460)),vf=Error(r(474)),xu=Error(r(542)),Su={then:function(){}};function Vv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Iv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(fi,fi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,kv(n),n;default:if(typeof s.status=="string")s.then(fi,fi);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,kv(n),n}throw oa=s,Wa}}function aa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,Wa):a}}var oa=null;function Mv(){if(oa===null)throw Error(r(459));var n=oa;return oa=null,n}function kv(n){if(n===Wa||n===xu)throw Error(r(483))}var Ja=null,_l=0;function bu(n){var s=_l;return _l+=1,Ja===null&&(Ja=[]),Iv(Ja,n,s)}function Tl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Au(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Pv(n){function s(G,B){if(n){var Y=G.deletions;Y===null?(G.deletions=[B],G.flags|=16):Y.push(B)}}function a(G,B){if(!n)return null;for(;B!==null;)s(G,B),B=B.sibling;return null}function l(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function f(G,B){return G=ps(G,B),G.index=0,G.sibling=null,G}function p(G,B,Y){return G.index=Y,n?(Y=G.alternate,Y!==null?(Y=Y.index,Y<B?(G.flags|=67108866,B):Y):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function E(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function b(G,B,Y,ie){return B===null||B.tag!==6?(B=af(Y,G.mode,ie),B.return=G,B):(B=f(B,Y),B.return=G,B)}function O(G,B,Y,ie){var Ae=Y.type;return Ae===V?te(G,B,Y.props.children,ie,Y.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&aa(Ae)===B.type)?(B=f(B,Y.props),Tl(B,Y),B.return=G,B):(B=yu(Y.type,Y.key,Y.props,null,G.mode,ie),Tl(B,Y),B.return=G,B)}function Q(G,B,Y,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=of(Y,G.mode,ie),B.return=G,B):(B=f(B,Y.children||[]),B.return=G,B)}function te(G,B,Y,ie,Ae){return B===null||B.tag!==7?(B=ta(Y,G.mode,ie,Ae),B.return=G,B):(B=f(B,Y),B.return=G,B)}function ae(G,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=af(""+B,G.mode,Y),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return Y=yu(B.type,B.key,B.props,null,G.mode,Y),Tl(Y,B),Y.return=G,Y;case D:return B=of(B,G.mode,Y),B.return=G,B;case A:return B=aa(B),ae(G,B,Y)}if(ve(B)||F(B))return B=ta(B,G.mode,Y,null),B.return=G,B;if(typeof B.then=="function")return ae(G,bu(B),Y);if(B.$$typeof===H)return ae(G,Tu(G,B),Y);Au(G,B)}return null}function $(G,B,Y,ie){var Ae=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:b(G,B,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===Ae?O(G,B,Y,ie):null;case D:return Y.key===Ae?Q(G,B,Y,ie):null;case A:return Y=aa(Y),$(G,B,Y,ie)}if(ve(Y)||F(Y))return Ae!==null?null:te(G,B,Y,ie,null);if(typeof Y.then=="function")return $(G,B,bu(Y),ie);if(Y.$$typeof===H)return $(G,B,Tu(G,Y),ie);Au(G,Y)}return null}function J(G,B,Y,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(Y)||null,b(B,G,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return G=G.get(ie.key===null?Y:ie.key)||null,O(B,G,ie,Ae);case D:return G=G.get(ie.key===null?Y:ie.key)||null,Q(B,G,ie,Ae);case A:return ie=aa(ie),J(G,B,Y,ie,Ae)}if(ve(ie)||F(ie))return G=G.get(Y)||null,te(B,G,ie,Ae,null);if(typeof ie.then=="function")return J(G,B,Y,bu(ie),Ae);if(ie.$$typeof===H)return J(G,B,Y,Tu(B,ie),Ae);Au(B,ie)}return null}function xe(G,B,Y,ie){for(var Ae=null,Xe=null,Se=B,Le=B=0,Fe=null;Se!==null&&Le<Y.length;Le++){Se.index>Le?(Fe=Se,Se=null):Fe=Se.sibling;var $e=$(G,Se,Y[Le],ie);if($e===null){Se===null&&(Se=Fe);break}n&&Se&&$e.alternate===null&&s(G,Se),B=p($e,B,Le),Xe===null?Ae=$e:Xe.sibling=$e,Xe=$e,Se=Fe}if(Le===Y.length)return a(G,Se),Ke&&gs(G,Le),Ae;if(Se===null){for(;Le<Y.length;Le++)Se=ae(G,Y[Le],ie),Se!==null&&(B=p(Se,B,Le),Xe===null?Ae=Se:Xe.sibling=Se,Xe=Se);return Ke&&gs(G,Le),Ae}for(Se=l(Se);Le<Y.length;Le++)Fe=J(Se,G,Le,Y[Le],ie),Fe!==null&&(n&&Fe.alternate!==null&&Se.delete(Fe.key===null?Le:Fe.key),B=p(Fe,B,Le),Xe===null?Ae=Fe:Xe.sibling=Fe,Xe=Fe);return n&&Se.forEach(function(yr){return s(G,yr)}),Ke&&gs(G,Le),Ae}function Ne(G,B,Y,ie){if(Y==null)throw Error(r(151));for(var Ae=null,Xe=null,Se=B,Le=B=0,Fe=null,$e=Y.next();Se!==null&&!$e.done;Le++,$e=Y.next()){Se.index>Le?(Fe=Se,Se=null):Fe=Se.sibling;var yr=$(G,Se,$e.value,ie);if(yr===null){Se===null&&(Se=Fe);break}n&&Se&&yr.alternate===null&&s(G,Se),B=p(yr,B,Le),Xe===null?Ae=yr:Xe.sibling=yr,Xe=yr,Se=Fe}if($e.done)return a(G,Se),Ke&&gs(G,Le),Ae;if(Se===null){for(;!$e.done;Le++,$e=Y.next())$e=ae(G,$e.value,ie),$e!==null&&(B=p($e,B,Le),Xe===null?Ae=$e:Xe.sibling=$e,Xe=$e);return Ke&&gs(G,Le),Ae}for(Se=l(Se);!$e.done;Le++,$e=Y.next())$e=J(Se,G,Le,$e.value,ie),$e!==null&&(n&&$e.alternate!==null&&Se.delete($e.key===null?Le:$e.key),B=p($e,B,Le),Xe===null?Ae=$e:Xe.sibling=$e,Xe=$e);return n&&Se.forEach(function(lC){return s(G,lC)}),Ke&&gs(G,Le),Ae}function at(G,B,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===V&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var Ae=Y.key;B!==null;){if(B.key===Ae){if(Ae=Y.type,Ae===V){if(B.tag===7){a(G,B.sibling),ie=f(B,Y.props.children),ie.return=G,G=ie;break e}}else if(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&aa(Ae)===B.type){a(G,B.sibling),ie=f(B,Y.props),Tl(ie,Y),ie.return=G,G=ie;break e}a(G,B);break}else s(G,B);B=B.sibling}Y.type===V?(ie=ta(Y.props.children,G.mode,ie,Y.key),ie.return=G,G=ie):(ie=yu(Y.type,Y.key,Y.props,null,G.mode,ie),Tl(ie,Y),ie.return=G,G=ie)}return E(G);case D:e:{for(Ae=Y.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){a(G,B.sibling),ie=f(B,Y.children||[]),ie.return=G,G=ie;break e}else{a(G,B);break}else s(G,B);B=B.sibling}ie=of(Y,G.mode,ie),ie.return=G,G=ie}return E(G);case A:return Y=aa(Y),at(G,B,Y,ie)}if(ve(Y))return xe(G,B,Y,ie);if(F(Y)){if(Ae=F(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),Ne(G,B,Y,ie)}if(typeof Y.then=="function")return at(G,B,bu(Y),ie);if(Y.$$typeof===H)return at(G,B,Tu(G,Y),ie);Au(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(a(G,B.sibling),ie=f(B,Y),ie.return=G,G=ie):(a(G,B),ie=af(Y,G.mode,ie),ie.return=G,G=ie),E(G)):a(G,B)}return function(G,B,Y,ie){try{_l=0;var Ae=at(G,B,Y,ie);return Ja=null,Ae}catch(Se){if(Se===Wa||Se===xu)throw Se;var Xe=kn(29,Se,null,G.mode);return Xe.lanes=ie,Xe.return=G,Xe}finally{}}}var la=Pv(!0),Ov=Pv(!1),er=!1;function _f(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function tr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function nr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=gu(n),Tv(n,null,a),s}return pu(n,l,s,a),gu(n)}function El(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Qo(n,a)}}function Ef(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var xf=!1;function xl(){if(xf){var n=Za;if(n!==null)throw n}}function Sl(n,s,a,l){xf=!1;var f=n.updateQueue;er=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,Q=O.next;O.next=null,E===null?p=Q:E.next=Q,E=O;var te=n.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==E&&(b===null?te.firstBaseUpdate=Q:b.next=Q,te.lastBaseUpdate=O))}if(p!==null){var ae=f.baseState;E=0,te=Q=O=null,b=p;do{var $=b.lane&-536870913,J=$!==b.lane;if(J?(qe&$)===$:(l&$)===$){$!==0&&$===$a&&(xf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=n,Ne=b;$=s;var at=a;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){ae=xe.call(at,ae,$);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,$=typeof xe=="function"?xe.call(at,ae,$):xe,$==null)break e;ae=T({},ae,$);break e;case 2:er=!0}}$=b.callback,$!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[$]:J.push($))}else J={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(Q=te=J,O=ae):te=te.next=J,E|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);te===null&&(O=ae),f.baseState=O,f.firstBaseUpdate=Q,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),or|=E,n.lanes=E,n.memoizedState=ae}}function Lv(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Uv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Lv(a[n],s)}var eo=z(null),wu=z(0);function zv(n,s){n=Rs,U(wu,n),U(eo,s),Rs=n|s.baseLanes}function Sf(){U(wu,Rs),U(eo,eo.current)}function bf(){Rs=wu.current,ne(eo),ne(wu)}var Pn=z(null),Jn=null;function ir(n){var s=n.alternate;U(Rt,Rt.current&1),U(Pn,n),Jn===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(Jn=n)}function Af(n){U(Rt,Rt.current),U(Pn,n),Jn===null&&(Jn=n)}function Bv(n){n.tag===22?(U(Rt,Rt.current),U(Pn,n),Jn===null&&(Jn=n)):sr()}function sr(){U(Rt,Rt.current),U(Pn,Pn.current)}function On(n){ne(Pn),Jn===n&&(Jn=null),ne(Rt)}var Rt=z(0);function Ru(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dm(a)||Vm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _s=0,Pe=null,st=null,Ot=null,Cu=!1,to=!1,ca=!1,Nu=0,bl=0,no=null,Ww=0;function Tt(){throw Error(r(321))}function wf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Mn(n[a],s[a]))return!1;return!0}function Rf(n,s,a,l,f,p){return _s=p,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=n===null||n.memoizedState===null?b0:qf,ca=!1,p=a(l,f),ca=!1,to&&(p=Fv(s,a,l,f)),qv(n),p}function qv(n){Z.H=Rl;var s=st!==null&&st.next!==null;if(_s=0,Ot=st=Pe=null,Cu=!1,bl=0,no=null,s)throw Error(r(300));n===null||Lt||(n=n.dependencies,n!==null&&_u(n)&&(Lt=!0))}function Fv(n,s,a,l){Pe=n;var f=0;do{if(to&&(no=null),bl=0,to=!1,25<=f)throw Error(r(301));if(f+=1,Ot=st=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=A0,p=s(a,l)}while(to);return p}function Jw(){var n=Z.H,s=n.useState()[0];return s=typeof s.then=="function"?Al(s):s,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Pe.flags|=1024),s}function Cf(){var n=Nu!==0;return Nu=0,n}function Nf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function jf(n){if(Cu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cu=!1}_s=0,Ot=st=Pe=null,to=!1,bl=Nu=0,no=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Pe.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Ct(){if(st===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var s=Ot===null?Pe.memoizedState:Ot.next;if(s!==null)Ot=s,st=n;else{if(n===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ot===null?Pe.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(n){var s=bl;return bl+=1,no===null&&(no=[]),n=Iv(no,n,s),s=Pe,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?b0:qf),n}function Du(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===H)return nn(n)}throw Error(r(438,String(n)))}function Df(n){var s=null,a=Pe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ju(),Pe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=L;return s.index++,a}function Ts(n,s){return typeof s=="function"?s(n):s}function Vu(n){var s=Ct();return Vf(s,st,n)}function Vf(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var b=E=null,O=null,Q=s,te=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(qe&ae)===ae:(_s&ae)===ae){var $=Q.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===$a&&(te=!0);else if((_s&$)===$){Q=Q.next,$===$a&&(te=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(b=O=ae,E=p):O=O.next=ae,Pe.lanes|=$,or|=$;ae=Q.action,ca&&a(p,ae),p=Q.hasEagerState?Q.eagerState:a(p,ae)}else $={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(b=O=$,E=p):O=O.next=$,Pe.lanes|=ae,or|=ae;Q=Q.next}while(Q!==null&&Q!==s);if(O===null?E=p:O.next=b,!Mn(p,n.memoizedState)&&(Lt=!0,te&&(a=Za,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=O,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function If(n){var s=Ct(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Mn(p,s.memoizedState)||(Lt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function Hv(n,s,a){var l=Pe,f=Ct(),p=Ke;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Mn((st||f).memoizedState,a);if(E&&(f.memoizedState=a,Lt=!0),f=f.queue,Pf(Yv.bind(null,l,f,n),[n]),f.getSnapshot!==s||E||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,io(9,{destroy:void 0},Kv.bind(null,l,f,a,s),null),lt===null)throw Error(r(349));p||(_s&127)!==0||Gv(l,s,a)}return a}function Gv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Pe.updateQueue,s===null?(s=ju(),Pe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Kv(n,s,a,l){s.value=a,s.getSnapshot=l,Qv(s)&&Xv(n)}function Yv(n,s,a){return a(function(){Qv(s)&&Xv(n)})}function Qv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Mn(n,a)}catch{return!0}}function Xv(n){var s=ea(n,2);s!==null&&Cn(s,n,2)}function Mf(n){var s=_n();if(typeof n=="function"){var a=n;if(n=a(),ca){Fn(!0);try{a()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:n},s}function $v(n,s,a,l){return n.baseState=a,Vf(n,st,typeof l=="function"?l:Ts)}function eR(n,s,a,l,f){if(ku(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Z.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,Zv(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Zv(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var p=Z.T,E={};Z.T=E;try{var b=a(f,l),O=Z.S;O!==null&&O(E,b),Wv(n,s,b)}catch(Q){kf(n,s,Q)}finally{p!==null&&E.types!==null&&(p.types=E.types),Z.T=p}}else try{p=a(f,l),Wv(n,s,p)}catch(Q){kf(n,s,Q)}}function Wv(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jv(n,s,l)},function(l){return kf(n,s,l)}):Jv(n,s,a)}function Jv(n,s,a){s.status="fulfilled",s.value=a,e0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Zv(n,a)))}function kf(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,e0(s),s=s.next;while(s!==l)}n.action=null}function e0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function t0(n,s){return s}function n0(n,s){if(Ke){var a=lt.formState;if(a!==null){e:{var l=Pe;if(Ke){if(ut){t:{for(var f=ut,p=Wn;f.nodeType!==8;){if(!p){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ut=ei(f.nextSibling),l=f.data==="F!";break e}}Ws(l)}l=!1}l&&(s=a[0])}}return a=_n(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:s},a.queue=l,a=E0.bind(null,Pe,l),l.dispatch=a,l=Mf(!1),p=Bf.bind(null,Pe,!1,l.queue),l=_n(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=eR.bind(null,Pe,f,p,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function i0(n){var s=Ct();return s0(s,st,n)}function s0(n,s,a){if(s=Vf(n,s,t0)[0],n=Vu(Ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Al(s)}catch(E){throw E===Wa?xu:E}else l=s;s=Ct();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Pe.flags|=2048,io(9,{destroy:void 0},tR.bind(null,f,a),null)),[l,p,n]}function tR(n,s){n.action=s}function r0(n){var s=Ct(),a=st;if(a!==null)return s0(s,a,n);Ct(),s=s.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function io(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=ju(),Pe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function a0(){return Ct().memoizedState}function Iu(n,s,a,l){var f=_n();Pe.flags|=n,f.memoizedState=io(1|s,{destroy:void 0},a,l===void 0?null:l)}function Mu(n,s,a,l){var f=Ct();l=l===void 0?null:l;var p=f.memoizedState.inst;st!==null&&l!==null&&wf(l,st.memoizedState.deps)?f.memoizedState=io(s,p,a,l):(Pe.flags|=n,f.memoizedState=io(1|s,p,a,l))}function o0(n,s){Iu(8390656,8,n,s)}function Pf(n,s){Mu(2048,8,n,s)}function nR(n){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=ju(),Pe.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function l0(n){var s=Ct().memoizedState;return nR({ref:s,nextImpl:n}),function(){if((We&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function c0(n,s){return Mu(4,2,n,s)}function u0(n,s){return Mu(4,4,n,s)}function h0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function d0(n,s,a){a=a!=null?a.concat([n]):null,Mu(4,4,h0.bind(null,s,n),a)}function Of(){}function f0(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&wf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function m0(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&wf(s,l[1]))return l[0];if(l=n(),ca){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,s],l}function Lf(n,s,a){return a===void 0||(_s&1073741824)!==0&&(qe&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=p_(),Pe.lanes|=n,or|=n,a)}function p0(n,s,a,l){return Mn(a,s)?a:eo.current!==null?(n=Lf(n,a,l),Mn(n,s)||(Lt=!0),n):(_s&42)===0||(_s&1073741824)!==0&&(qe&261930)===0?(Lt=!0,n.memoizedState=a):(n=p_(),Pe.lanes|=n,or|=n,s)}function g0(n,s,a,l,f){var p=he.p;he.p=p!==0&&8>p?p:8;var E=Z.T,b={};Z.T=b,Bf(n,!1,s,a);try{var O=f(),Q=Z.S;if(Q!==null&&Q(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=Zw(O,l);wl(n,s,te,zn(n))}else wl(n,s,l,zn(n))}catch(ae){wl(n,s,{then:function(){},status:"rejected",reason:ae},zn())}finally{he.p=p,E!==null&&b.types!==null&&(E.types=b.types),Z.T=E}}function iR(){}function Uf(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=y0(n).queue;g0(n,f,s,ge,a===null?iR:function(){return v0(n),a(l)})}function y0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function v0(n){var s=y0(n);s.next===null&&(s=n.alternate.memoizedState),wl(n,s.next.queue,{},zn())}function zf(){return nn(Fl)}function _0(){return Ct().memoizedState}function T0(){return Ct().memoizedState}function sR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=zn();n=tr(a);var l=nr(s,n,a);l!==null&&(Cn(l,s,a),El(l,s,a)),s={cache:pf()},n.payload=s;return}s=s.return}}function rR(n,s,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ku(n)?x0(s,a):(a=sf(n,s,a,l),a!==null&&(Cn(a,n,l),S0(a,s,l)))}function E0(n,s,a){var l=zn();wl(n,s,a,l)}function wl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(n))x0(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,b=p(E,a);if(f.hasEagerState=!0,f.eagerState=b,Mn(b,E))return pu(n,s,f,0),lt===null&&mu(),!1}catch{}finally{}if(a=sf(n,s,f,l),a!==null)return Cn(a,n,l),S0(a,s,l),!0}return!1}function Bf(n,s,a,l){if(l={lane:2,revertLane:_m(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ku(n)){if(s)throw Error(r(479))}else s=sf(n,a,l,2),s!==null&&Cn(s,n,2)}function ku(n){var s=n.alternate;return n===Pe||s!==null&&s===Pe}function x0(n,s){to=Cu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function S0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Qo(n,a)}}var Rl={readContext:nn,use:Du,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Rl.useEffectEvent=Tt;var b0={readContext:nn,use:Du,useCallback:function(n,s){return _n().memoizedState=[n,s===void 0?null:s],n},useContext:nn,useEffect:o0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Iu(4194308,4,h0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Iu(4194308,4,n,s)},useInsertionEffect:function(n,s){Iu(4,2,n,s)},useMemo:function(n,s){var a=_n();s=s===void 0?null:s;var l=n();if(ca){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=_n();if(a!==void 0){var f=a(s);if(ca){Fn(!0);try{a(s)}finally{Fn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=rR.bind(null,Pe,n),[l.memoizedState,n]},useRef:function(n){var s=_n();return n={current:n},s.memoizedState=n},useState:function(n){n=Mf(n);var s=n.queue,a=E0.bind(null,Pe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(n,s){var a=_n();return Lf(a,n,s)},useTransition:function(){var n=Mf(!1);return n=g0.bind(null,Pe,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Pe,f=_n();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),lt===null)throw Error(r(349));(qe&127)!==0||Gv(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,o0(Yv.bind(null,l,p,n),[n]),l.flags|=2048,io(9,{destroy:void 0},Kv.bind(null,l,p,a,s),null),a},useId:function(){var n=_n(),s=lt.identifierPrefix;if(Ke){var a=Qi,l=Yi;a=(l&~(1<<32-At(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Nu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ww++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:zf,useFormState:n0,useActionState:n0,useOptimistic:function(n){var s=_n();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Bf.bind(null,Pe,!0,a),a.dispatch=s,[n,s]},useMemoCache:Df,useCacheRefresh:function(){return _n().memoizedState=sR.bind(null,Pe)},useEffectEvent:function(n){var s=_n(),a={impl:n};return s.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:nn,use:Du,useCallback:f0,useContext:nn,useEffect:Pf,useImperativeHandle:d0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:m0,useReducer:Vu,useRef:a0,useState:function(){return Vu(Ts)},useDebugValue:Of,useDeferredValue:function(n,s){var a=Ct();return p0(a,st.memoizedState,n,s)},useTransition:function(){var n=Vu(Ts)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:Al(n),s]},useSyncExternalStore:Hv,useId:_0,useHostTransitionStatus:zf,useFormState:i0,useActionState:i0,useOptimistic:function(n,s){var a=Ct();return $v(a,st,n,s)},useMemoCache:Df,useCacheRefresh:T0};qf.useEffectEvent=l0;var A0={readContext:nn,use:Du,useCallback:f0,useContext:nn,useEffect:Pf,useImperativeHandle:d0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:m0,useReducer:If,useRef:a0,useState:function(){return If(Ts)},useDebugValue:Of,useDeferredValue:function(n,s){var a=Ct();return st===null?Lf(a,n,s):p0(a,st.memoizedState,n,s)},useTransition:function(){var n=If(Ts)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:Al(n),s]},useSyncExternalStore:Hv,useId:_0,useHostTransitionStatus:zf,useFormState:r0,useActionState:r0,useOptimistic:function(n,s){var a=Ct();return st!==null?$v(a,st,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:T0};A0.useEffectEvent=l0;function Ff(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hf={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=zn(),f=tr(l);f.payload=s,a!=null&&(f.callback=a),s=nr(n,f,l),s!==null&&(Cn(s,n,l),El(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=zn(),f=tr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=nr(n,f,l),s!==null&&(Cn(s,n,l),El(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=zn(),l=tr(a);l.tag=2,s!=null&&(l.callback=s),s=nr(n,l,a),s!==null&&(Cn(s,n,a),El(s,n,a))}};function w0(n,s,a,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):s.prototype&&s.prototype.isPureReactComponent?!fl(a,l)||!fl(f,p):!0}function R0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Hf.enqueueReplaceState(s,s.state,null)}function ua(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function C0(n){fu(n)}function N0(n){console.error(n)}function j0(n){fu(n)}function Pu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function D0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gf(n,s,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(n,s)},a}function V0(n){return n=tr(n),n.tag=3,n}function I0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){D0(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){D0(s,a,l),typeof f!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function aR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Xa(s,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?Qu():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Su?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),gm(n,l,f)),!1;case 22:return a.flags|=65536,l===Su?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),gm(n,l,f)),!1}throw Error(r(435,a.tag))}return gm(n,l,f),Qu(),!1}if(Ke)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==uf&&(n=Error(r(422),{cause:l}),gl(Xn(n,a)))):(l!==uf&&(s=Error(r(423),{cause:l}),gl(Xn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Xn(l,a),f=Gf(n.stateNode,l,f),Ef(n,f),Et!==4&&(Et=2)),!1;var p=Error(r(520),{cause:l});if(p=Xn(p,a),kl===null?kl=[p]:kl.push(p),Et!==4&&(Et=2),s===null)return!0;l=Xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Gf(a.stateNode,l,n),Ef(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lr===null||!lr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=V0(f),I0(f,n,a,l),Ef(a,f),!1}a=a.return}while(a!==null);return!1}var Kf=Error(r(461)),Lt=!1;function sn(n,s,a,l){s.child=n===null?Ov(s,null,a,l):la(s,n.child,a,l)}function M0(n,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return sa(s),l=Rf(n,s,a,E,p,f),b=Cf(),n!==null&&!Lt?(Nf(n,s,f),Es(n,s,f)):(Ke&&b&&lf(s),s.flags|=1,sn(n,s,l,f),s.child)}function k0(n,s,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!rf(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,P0(n,s,p,l,f)):(n=yu(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!em(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(E,l)&&n.ref===s.ref)return Es(n,s,f)}return s.flags|=1,n=ps(p,l),n.ref=s.ref,n.return=s,s.child=n}function P0(n,s,a,l,f){if(n!==null){var p=n.memoizedProps;if(fl(p,l)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=l=p,em(n,f))(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,Es(n,s,f)}return Yf(n,s,a,l,f)}function O0(n,s,a,l){var f=l.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,s.child=null;return L0(n,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Eu(s,p!==null?p.cachePool:null),p!==null?zv(s,p):Sf(),Bv(s);else return l=s.lanes=536870912,L0(n,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Eu(s,p.cachePool),zv(s,p),sr(),s.memoizedState=null):(n!==null&&Eu(s,null),Sf(),sr());return sn(n,s,f,a),s.child}function Cl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function L0(n,s,a,l,f){var p=yf();return p=p===null?null:{parent:Pt._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&Eu(s,null),Sf(),Bv(s),n!==null&&Xa(n,s,l,!0),s.childLanes=f,null}function Ou(n,s){return s=Uu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function U0(n,s,a){return la(s,n.child,null,a),n=Ou(s,s.pendingProps),n.flags|=2,On(s),s.memoizedState=null,n}function oR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ke){if(l.mode==="hidden")return n=Ou(s,l),s.lanes=536870912,Cl(null,n);if(Af(s),(n=ut)?(n=Z_(n,Wn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:$s!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=xv(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw Ws(s);return s.lanes=536870912,null}return Ou(s,l)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(Af(s),f)if(s.flags&256)s.flags&=-257,s=U0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||Xa(n,s,a,!1),f=(a&n.childLanes)!==0,Lt||f){if(l=lt,l!==null&&(E=Xo(l,a),E!==0&&E!==p.retryLane))throw p.retryLane=E,ea(n,E),Cn(l,n,E),Kf;Qu(),s=U0(n,s,a)}else n=p.treeContext,ut=ei(E.nextSibling),tn=s,Ke=!0,Zs=null,Wn=!1,n!==null&&Av(s,n),s=Ou(s,l),s.flags|=4096;return s}return n=ps(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Lu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Yf(n,s,a,l,f){return sa(s),a=Rf(n,s,a,l,void 0,f),l=Cf(),n!==null&&!Lt?(Nf(n,s,f),Es(n,s,f)):(Ke&&l&&lf(s),s.flags|=1,sn(n,s,a,f),s.child)}function z0(n,s,a,l,f,p){return sa(s),s.updateQueue=null,a=Fv(s,l,a,f),qv(n),l=Cf(),n!==null&&!Lt?(Nf(n,s,p),Es(n,s,p)):(Ke&&l&&lf(s),s.flags|=1,sn(n,s,a,p),s.child)}function B0(n,s,a,l,f){if(sa(s),s.stateNode===null){var p=Ga,E=a.contextType;typeof E=="object"&&E!==null&&(p=nn(E)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},_f(s),E=a.contextType,p.context=typeof E=="object"&&E!==null?nn(E):Ga,p.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ff(s,a,E,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Hf.enqueueReplaceState(p,p.state,null),Sl(s,l,p,f),xl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var b=s.memoizedProps,O=ua(a,b);p.props=O;var Q=p.context,te=a.contextType;E=Ga,typeof te=="object"&&te!==null&&(E=nn(te));var ae=a.getDerivedStateFromProps;te=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||Q!==E)&&R0(s,p,l,E),er=!1;var $=s.memoizedState;p.state=$,Sl(s,l,p,f),xl(),Q=s.memoizedState,b||$!==Q||er?(typeof ae=="function"&&(Ff(s,a,ae,l),Q=s.memoizedState),(O=er||w0(s,a,O,l,$,Q,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Q),p.props=l,p.state=Q,p.context=E,l=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,Tf(n,s),E=s.memoizedProps,te=ua(a,E),p.props=te,ae=s.pendingProps,$=p.context,Q=a.contextType,O=Ga,typeof Q=="object"&&Q!==null&&(O=nn(Q)),b=a.getDerivedStateFromProps,(Q=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ae||$!==O)&&R0(s,p,l,O),er=!1,$=s.memoizedState,p.state=$,Sl(s,l,p,f),xl();var J=s.memoizedState;E!==ae||$!==J||er||n!==null&&n.dependencies!==null&&_u(n.dependencies)?(typeof b=="function"&&(Ff(s,a,b,l),J=s.memoizedState),(te=er||w0(s,a,te,l,$,J,O)||n!==null&&n.dependencies!==null&&_u(n.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,J,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,J,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=J),p.props=l,p.state=J,p.context=O,l=te):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,Lu(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=la(s,n.child,null,f),s.child=la(s,null,a,f)):sn(n,s,a,f),s.memoizedState=p.state,n=s.child):n=Es(n,s,f),n}function q0(n,s,a,l){return na(),s.flags|=256,sn(n,s,a,l),s.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(n){return{baseLanes:n,cachePool:Dv()}}function $f(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Un),n}function F0(n,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(f?ir(s):sr(),(n=ut)?(n=Z_(n,Wn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:$s!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=xv(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw Ws(s);return Vm(n)?s.lanes=32:s.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(sr(),f=s.mode,b=Uu({mode:"hidden",children:b},f),l=ta(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,l=s.child,l.memoizedState=Xf(a),l.childLanes=$f(n,E,a),s.memoizedState=Qf,Cl(null,l)):(ir(s),Zf(s,b))}var O=n.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(p)s.flags&256?(ir(s),s.flags&=-257,s=Wf(n,s,a)):s.memoizedState!==null?(sr(),s.child=n.child,s.flags|=128,s=null):(sr(),b=l.fallback,f=s.mode,l=Uu({mode:"visible",children:l.children},f),b=ta(b,f,a,null),b.flags|=2,l.return=s,b.return=s,l.sibling=b,s.child=l,la(s,n.child,null,a),l=s.child,l.memoizedState=Xf(a),l.childLanes=$f(n,E,a),s.memoizedState=Qf,s=Cl(null,l));else if(ir(s),Vm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Q=E.dgst;E=Q,l=Error(r(419)),l.stack="",l.digest=E,gl({value:l,source:null,stack:null}),s=Wf(n,s,a)}else if(Lt||Xa(n,s,a,!1),E=(a&n.childLanes)!==0,Lt||E){if(E=lt,E!==null&&(l=Xo(E,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ea(n,l),Cn(E,n,l),Kf;Dm(b)||Qu(),s=Wf(n,s,a)}else Dm(b)?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,ut=ei(b.nextSibling),tn=s,Ke=!0,Zs=null,Wn=!1,n!==null&&Av(s,n),s=Zf(s,l.children),s.flags|=4096);return s}return f?(sr(),b=l.fallback,f=s.mode,O=n.child,Q=O.sibling,l=ps(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,Q!==null?b=ps(Q,b):(b=ta(b,f,a,null),b.flags|=2),b.return=s,l.return=s,l.sibling=b,s.child=l,Cl(null,l),l=s.child,b=n.child.memoizedState,b===null?b=Xf(a):(f=b.cachePool,f!==null?(O=Pt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Dv(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=$f(n,E,a),s.memoizedState=Qf,Cl(n.child,l)):(ir(s),a=n.child,n=a.sibling,a=ps(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function Zf(n,s){return s=Uu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Uu(n,s){return n=kn(22,n,null,s),n.lanes=0,n}function Wf(n,s,a){return la(s,n.child,null,a),n=Zf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function H0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),ff(n.return,s,a)}function Jf(n,s,a,l,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=p)}function G0(n,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var E=Rt.current,b=(E&2)!==0;if(b?(E=E&1|2,s.flags|=128):E&=1,U(Rt,E),sn(n,s,l,a),l=Ke?pl:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&H0(n,a,s);else if(n.tag===19)H0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Ru(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Jf(s,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Ru(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Jf(s,!0,a,null,p,l);break;case"together":Jf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Es(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),or|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Xa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ps(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ps(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function em(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&_u(n)))}function lR(n,s,a){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Js(s,Pt,n.memoizedState.cache),na();break;case 27:case 5:jt(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Js(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Af(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ir(s),s.flags|=128,null):(a&s.child.childLanes)!==0?F0(n,s,a):(ir(s),n=Es(n,s,a),n!==null?n.sibling:null);ir(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Xa(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return G0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),U(Rt,Rt.current),l)break;return null;case 22:return s.lanes=0,O0(n,s,a,s.pendingProps);case 24:Js(s,Pt,n.memoizedState.cache)}return Es(n,s,a)}function K0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Lt=!0;else{if(!em(n,a)&&(s.flags&128)===0)return Lt=!1,lR(n,s,a);Lt=(n.flags&131072)!==0}else Lt=!1,Ke&&(s.flags&1048576)!==0&&bv(s,pl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=aa(s.elementType),s.type=n,typeof n=="function")rf(n)?(l=ua(n,l),s.tag=1,s=B0(null,s,n,l,a)):(s.tag=0,s=Yf(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===de){s.tag=11,s=M0(null,s,n,l,a);break e}else if(f===C){s.tag=14,s=k0(null,s,n,l,a);break e}}throw s=Ue(n)||n,Error(r(306,s,""))}}return s;case 0:return Yf(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ua(l,s.pendingProps),B0(n,s,l,f,a);case 3:e:{if(De(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,Tf(n,s),Sl(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Js(s,Pt,l),l!==p.cache&&mf(s,[Pt],a,!0),xl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=q0(n,s,l,a);break e}else if(l!==f){f=Xn(Error(r(424)),s),gl(f),s=q0(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=ei(n.firstChild),tn=s,Ke=!0,Zs=null,Wn=!0,a=Ov(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(na(),l===f){s=Es(n,s,a);break e}sn(n,s,l,a)}s=s.child}return s;case 26:return Lu(n,s),n===null?(a=iT(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ke||(a=s.type,n=s.pendingProps,l=th(fe.current).createElement(a),l[It]=s,l[Qt]=n,rn(l,a,n),Mt(l),s.stateNode=l):s.memoizedState=iT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return jt(s),n===null&&Ke&&(l=s.stateNode=eT(s.type,s.pendingProps,fe.current),tn=s,Wn=!0,f=ut,dr(s.type)?(Im=f,ut=ei(l.firstChild)):ut=f),sn(n,s,s.pendingProps.children,a),Lu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((f=l=ut)&&(l=LR(l,s.type,s.pendingProps,Wn),l!==null?(s.stateNode=l,tn=s,ut=ei(l.firstChild),Wn=!1,f=!0):f=!1),f||Ws(s)),jt(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,Cm(f,p)?l=null:E!==null&&Cm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Rf(n,s,Jw,null,null,a),Fl._currentValue=f),Lu(n,s),sn(n,s,l,a),s.child;case 6:return n===null&&Ke&&((n=a=ut)&&(a=UR(a,s.pendingProps,Wn),a!==null?(s.stateNode=a,tn=s,ut=null,n=!0):n=!1),n||Ws(s)),null;case 13:return F0(n,s,a);case 4:return De(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=la(s,null,l,a):sn(n,s,l,a),s.child;case 11:return M0(n,s,s.type,s.pendingProps,a);case 7:return sn(n,s,s.pendingProps,a),s.child;case 8:return sn(n,s,s.pendingProps.children,a),s.child;case 12:return sn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Js(s,s.type,l.value),sn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,sa(s),f=nn(f),l=l(f),s.flags|=1,sn(n,s,l,a),s.child;case 14:return k0(n,s,s.type,s.pendingProps,a);case 15:return P0(n,s,s.type,s.pendingProps,a);case 19:return G0(n,s,a);case 31:return oR(n,s,a);case 22:return O0(n,s,a,s.pendingProps);case 24:return sa(s),l=nn(Pt),n===null?(f=yf(),f===null&&(f=lt,p=pf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},_f(s),Js(s,Pt,f)):((n.lanes&a)!==0&&(Tf(n,s),Sl(s,null,null,a),xl()),f=n.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Js(s,Pt,l)):(l=p.cache,Js(s,Pt,l),l!==f.cache&&mf(s,[Pt],a,!0))),sn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xs(n){n.flags|=4}function tm(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(__())n.flags|=8192;else throw oa=Su,vf}else n.flags&=-16777217}function Y0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!lT(s))if(__())n.flags|=8192;else throw oa=Su,vf}function zu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Kc():536870912,n.lanes|=s,oo|=s)}function Nl(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function cR(n,s,a){var l=s.pendingProps;switch(cf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),vs(Pt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Qa(s)?xs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hf())),ht(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(xs(s),p!==null?(ht(s),Y0(s,p)):(ht(s),tm(s,f,null,l,a))):p?p!==n.memoizedState?(xs(s),ht(s),Y0(s,p)):(ht(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&xs(s),ht(s),tm(s,f,n,l,a)),null;case 27:if(Yt(s),a=fe.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&xs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ht(s),null}n=oe.current,Qa(s)?wv(s):(n=eT(f,l,a),s.stateNode=n,xs(s))}return ht(s),null;case 5:if(Yt(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&xs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ht(s),null}if(p=oe.current,Qa(s))wv(s);else{var E=th(fe.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}p[It]=s,p[Qt]=l;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=p;e:switch(rn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xs(s)}}return ht(s),tm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&xs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=fe.current,Qa(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[It]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(n.nodeValue,a)),n||Ws(s,!0)}else n=th(n).createTextNode(l),n[It]=s,s.stateNode=n}return ht(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Qa(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[It]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),n=!1}else a=hf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(On(s),s):(On(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ht(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Qa(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[It]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),f=!1}else f=hf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(On(s),s):(On(s),null)}return On(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),zu(s,s.updateQueue),ht(s),null);case 4:return Oe(),n===null&&Sm(s.stateNode.containerInfo),ht(s),null;case 10:return vs(s.type),ht(s),null;case 19:if(ne(Rt),l=s.memoizedState,l===null)return ht(s),null;if(f=(s.flags&128)!==0,p=l.rendering,p===null)if(f)Nl(l,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Ru(n),p!==null){for(s.flags|=128,Nl(l,!1),n=p.updateQueue,s.updateQueue=n,zu(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Ev(a,n),a=a.sibling;return U(Rt,Rt.current&1|2),Ke&&gs(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&pe()>Gu&&(s.flags|=128,f=!0,Nl(l,!1),s.lanes=4194304)}else{if(!f)if(n=Ru(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,zu(s,n),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ke)return ht(s),null}else 2*pe()-l.renderingStartTime>Gu&&a!==536870912&&(s.flags|=128,f=!0,Nl(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(n=l.last,n!==null?n.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=pe(),n.sibling=null,a=Rt.current,U(Rt,f?a&1|2:a&1),Ke&&gs(s,l.treeForkCount),n):(ht(s),null);case 22:case 23:return On(s),bf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),a=s.updateQueue,a!==null&&zu(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ne(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),vs(Pt),ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function uR(n,s){switch(cf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return vs(Pt),Oe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Yt(s),null;case 31:if(s.memoizedState!==null){if(On(s),s.alternate===null)throw Error(r(340));na()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(On(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));na()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ne(Rt),null;case 4:return Oe(),null;case 10:return vs(s.type),null;case 22:case 23:return On(s),bf(),n!==null&&ne(ra),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return vs(Pt),null;case 25:return null;default:return null}}function Q0(n,s){switch(cf(s),s.tag){case 3:vs(Pt),Oe();break;case 26:case 27:case 5:Yt(s);break;case 4:Oe();break;case 31:s.memoizedState!==null&&On(s);break;case 13:On(s);break;case 19:ne(Rt);break;case 10:vs(s.type);break;case 22:case 23:On(s),bf(),n!==null&&ne(ra);break;case 24:vs(Pt)}}function jl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){nt(s,s.return,b)}}function rr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var O=a,Q=b;try{Q()}catch(te){nt(f,O,te)}}}l=l.next}while(l!==p)}}catch(te){nt(s,s.return,te)}}function X0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Uv(s,a)}catch(l){nt(n,n.return,l)}}}function $0(n,s,a){a.props=ua(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,s,l)}}function Dl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){nt(n,s,f)}}function Xi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){nt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,s,f)}else a.current=null}function Z0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function nm(n,s,a){try{var l=n.stateNode;VR(l,n.type,a,s),l[Qt]=s}catch(f){nt(n,n.return,f)}}function W0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&dr(n.type)||n.tag===4}function im(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||W0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&dr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sm(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=fi));else if(l!==4&&(l===27&&dr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(sm(n,s,a),n=n.sibling;n!==null;)sm(n,s,a),n=n.sibling}function Bu(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&dr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Bu(n,s,a),n=n.sibling;n!==null;)Bu(n,s,a),n=n.sibling}function J0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,l,a),s[It]=n,s[Qt]=a}catch(p){nt(n,n.return,p)}}var Ss=!1,Ut=!1,rm=!1,e_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function hR(n,s){if(n=n.containerInfo,wm=lh,n=dv(n),Zd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,b=-1,O=-1,Q=0,te=0,ae=n,$=null;t:for(;;){for(var J;ae!==a||f!==0&&ae.nodeType!==3||(b=E+f),ae!==p||l!==0&&ae.nodeType!==3||(O=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(J=ae.firstChild)!==null;)$=ae,ae=J;for(;;){if(ae===n)break t;if($===a&&++Q===f&&(b=E),$===p&&++te===l&&(O=E),(J=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=J}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:n,selectionRange:a},lh=!1,$t=s;$t!==null;)if(s=$t,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,$t=n;else for(;$t!==null;){switch(s=$t,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var xe=ua(a.type,f);n=l.getSnapshotBeforeUpdate(xe,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){nt(a,a.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)jm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":jm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,$t=n;break}$t=s.return}}function t_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:As(n,a),l&4&&jl(5,a);break;case 1:if(As(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){nt(a,a.return,E)}else{var f=ua(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(a,a.return,E)}}l&64&&X0(a),l&512&&Dl(a,a.return);break;case 3:if(As(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Uv(n,s)}catch(E){nt(a,a.return,E)}}break;case 27:s===null&&l&4&&J0(a);case 26:case 5:As(n,a),s===null&&l&4&&Z0(a),l&512&&Dl(a,a.return);break;case 12:As(n,a);break;case 31:As(n,a),l&4&&s_(n,a);break;case 13:As(n,a),l&4&&r_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=TR.bind(null,a),zR(n,a))));break;case 22:if(l=a.memoizedState!==null||Ss,!l){s=s!==null&&s.memoizedState!==null||Ut,f=Ss;var p=Ut;Ss=l,(Ut=s)&&!p?ws(n,a,(a.subtreeFlags&8772)!==0):As(n,a),Ss=f,Ut=p}break;case 30:break;default:As(n,a)}}function n_(n){var s=n.alternate;s!==null&&(n.alternate=null,n_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Da(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,bn=!1;function bs(n,s,a){for(a=a.child;a!==null;)i_(n,s,a),a=a.sibling}function i_(n,s,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ci,a)}catch{}switch(a.tag){case 26:Ut||Xi(a,s),bs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Xi(a,s);var l=pt,f=bn;dr(a.type)&&(pt=a.stateNode,bn=!1),bs(n,s,a),zl(a.stateNode),pt=l,bn=f;break;case 5:Ut||Xi(a,s);case 6:if(l=pt,f=bn,pt=null,bs(n,s,a),pt=l,bn=f,pt!==null)if(bn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(p){nt(a,s,p)}else try{pt.removeChild(a.stateNode)}catch(p){nt(a,s,p)}break;case 18:pt!==null&&(bn?(n=pt,X_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),go(n)):X_(pt,a.stateNode));break;case 4:l=pt,f=bn,pt=a.stateNode.containerInfo,bn=!0,bs(n,s,a),pt=l,bn=f;break;case 0:case 11:case 14:case 15:rr(2,a,s),Ut||rr(4,a,s),bs(n,s,a);break;case 1:Ut||(Xi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$0(a,s,l)),bs(n,s,a);break;case 21:bs(n,s,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,bs(n,s,a),Ut=l;break;default:bs(n,s,a)}}function s_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{go(n)}catch(a){nt(s,s.return,a)}}}function r_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{go(n)}catch(a){nt(s,s.return,a)}}function dR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new e_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new e_),s;default:throw Error(r(435,n.tag))}}function qu(n,s){var a=dR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=ER.bind(null,n,l);l.then(f,f)}})}function An(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(dr(b.type)){pt=b.stateNode,bn=!1;break e}break;case 5:pt=b.stateNode,bn=!1;break e;case 3:case 4:pt=b.stateNode.containerInfo,bn=!0;break e}b=b.return}if(pt===null)throw Error(r(160));i_(p,E,f),pt=null,bn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)a_(s,n),s=s.sibling}var _i=null;function a_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(s,n),wn(n),l&4&&(rr(3,n,n.return),jl(3,n),rr(5,n,n.return));break;case 1:An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),l&64&&Ss&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_i;if(An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ki]||p[It]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),rn(p,l,a),p[It]=n,Mt(p),l=p;break e;case"link":var E=aT("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}p=f.createElement(l),rn(p,l,a),f.head.appendChild(p);break;case"meta":if(E=aT("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}p=f.createElement(l),rn(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[It]=n,Mt(p),l=p}n.stateNode=l}else oT(f,n.type,n.stateNode);else n.stateNode=rT(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?oT(f,n.type,n.stateNode):rT(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&nm(n,n.memoizedProps,a.memoizedProps)}break;case 27:An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),a!==null&&l&4&&nm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(An(s,n),wn(n),l&512&&(Ut||a===null||Xi(a,a.return)),n.flags&32){f=n.stateNode;try{Sn(f,"")}catch(xe){nt(n,n.return,xe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,nm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(rm=!0);break;case 6:if(An(s,n),wn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(xe){nt(n,n.return,xe)}}break;case 3:if(sh=null,f=_i,_i=nh(s.containerInfo),An(s,n),_i=f,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(xe){nt(n,n.return,xe)}rm&&(rm=!1,o_(n));break;case 4:l=_i,_i=nh(n.stateNode.containerInfo),An(s,n),wn(n),_i=l;break;case 12:An(s,n),wn(n);break;case 31:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,qu(n,l)));break;case 13:An(s,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hu=pe()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,qu(n,l)));break;case 22:f=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,Q=Ss,te=Ut;if(Ss=Q||f,Ut=te||O,An(s,n),Ut=te,Ss=Q,wn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||Ss||Ut||ha(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=O.stateNode;var ae=O.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(xe){nt(O,O.return,xe)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(xe){nt(O,O.return,xe)}}}else if(s.tag===18){if(a===null){O=s;try{var J=O.stateNode;f?$_(J,!0):$_(O.stateNode,!1)}catch(xe){nt(O,O.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qu(n,a))));break;case 19:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,qu(n,l)));break;case 30:break;case 21:break;default:An(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(W0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=im(n);Bu(n,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(Sn(E,""),a.flags&=-33);var b=im(n);Bu(n,b,E);break;case 3:case 4:var O=a.stateNode.containerInfo,Q=im(n);sm(n,Q,O);break;default:throw Error(r(161))}}catch(te){nt(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function o_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;o_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function As(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t_(n,s.alternate,s),s=s.sibling}function ha(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:rr(4,s,s.return),ha(s);break;case 1:Xi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&$0(s,s.return,a),ha(s);break;case 27:zl(s.stateNode);case 26:case 5:Xi(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}n=n.sibling}}function ws(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:ws(f,p,a),jl(4,p);break;case 1:if(ws(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){nt(l,l.return,Q)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Lv(O[f],b)}catch(Q){nt(l,l.return,Q)}}a&&E&64&&X0(p),Dl(p,p.return);break;case 27:J0(p);case 26:case 5:ws(f,p,a),a&&l===null&&E&4&&Z0(p),Dl(p,p.return);break;case 12:ws(f,p,a);break;case 31:ws(f,p,a),a&&E&4&&s_(f,p);break;case 13:ws(f,p,a),a&&E&4&&r_(f,p);break;case 22:p.memoizedState===null&&ws(f,p,a),Dl(p,p.return);break;case 30:break;default:ws(f,p,a)}s=s.sibling}}function am(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&yl(a))}function om(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&yl(n))}function Ti(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l_(n,s,a,l),s=s.sibling}function l_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(n,s,a,l),f&2048&&jl(9,s);break;case 1:Ti(n,s,a,l);break;case 3:Ti(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&yl(n)));break;case 12:if(f&2048){Ti(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){nt(s,s.return,O)}}else Ti(n,s,a,l);break;case 31:Ti(n,s,a,l);break;case 13:Ti(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?Ti(n,s,a,l):Vl(n,s):p._visibility&2?Ti(n,s,a,l):(p._visibility|=2,so(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&am(E,s);break;case 24:Ti(n,s,a,l),f&2048&&om(s.alternate,s);break;default:Ti(n,s,a,l)}}function so(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,E=s,b=a,O=l,Q=E.flags;switch(E.tag){case 0:case 11:case 15:so(p,E,b,O,f),jl(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?so(p,E,b,O,f):Vl(p,E):(te._visibility|=2,so(p,E,b,O,f)),f&&Q&2048&&am(E.alternate,E);break;case 24:so(p,E,b,O,f),f&&Q&2048&&om(E.alternate,E);break;default:so(p,E,b,O,f)}s=s.sibling}}function Vl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&am(l.alternate,l);break;case 24:Vl(a,l),f&2048&&om(l.alternate,l);break;default:Vl(a,l)}s=s.sibling}}var Il=8192;function ro(n,s,a){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)c_(n,s,a),n=n.sibling}function c_(n,s,a){switch(n.tag){case 26:ro(n,s,a),n.flags&Il&&n.memoizedState!==null&&WR(a,_i,n.memoizedState,n.memoizedProps);break;case 5:ro(n,s,a);break;case 3:case 4:var l=_i;_i=nh(n.stateNode.containerInfo),ro(n,s,a),_i=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,ro(n,s,a),Il=l):ro(n,s,a));break;default:ro(n,s,a)}}function u_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ml(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,d_(l,n)}u_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)h_(n),n=n.sibling}function h_(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&rr(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Fu(n)):Ml(n);break;default:Ml(n)}}function Fu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,d_(l,n)}u_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:rr(8,s,s.return),Fu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(s));break;default:Fu(s)}n=n.sibling}}function d_(n,s){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:rr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=n;$t!==null;){l=$t;var f=l.sibling,p=l.return;if(n_(l),l===a){$t=null;break e}if(f!==null){f.return=p,$t=f;break e}$t=p}}}var fR={getCacheForType:function(n){var s=nn(Pt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return nn(Pt).controller.signal}},mR=typeof WeakMap=="function"?WeakMap:Map,We=0,lt=null,ze=null,qe=0,tt=0,Ln=null,ar=!1,ao=!1,lm=!1,Rs=0,Et=0,or=0,da=0,cm=0,Un=0,oo=0,kl=null,Rn=null,um=!1,Hu=0,f_=0,Gu=1/0,Ku=null,lr=null,Ht=0,cr=null,lo=null,Cs=0,hm=0,dm=null,m_=null,Pl=0,fm=null;function zn(){return(We&2)!==0&&qe!==0?qe&-qe:Z.T!==null?_m():Yc()}function p_(){if(Un===0)if((qe&536870912)===0||Ke){var n=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),Un=n}else Un=536870912;return n=Pn.current,n!==null&&(n.flags|=32),Un}function Cn(n,s,a){(n===lt&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(co(n,0),ur(n,qe,Un,!1)),zr(n,a),((We&2)===0||n!==lt)&&(n===lt&&((We&2)===0&&(da|=a),Et===4&&ur(n,qe,Un,!1)),$i(n))}function g_(n,s,a){if((We&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ui(n,s),f=l?yR(n,s):pm(n,s,!0),p=l;do{if(f===0){ao&&!l&&ur(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!pR(a)){f=pm(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;f=kl;var O=b.current.memoizedState.isDehydrated;if(O&&(co(b,E).flags|=256),E=pm(b,E,!1),E!==2){if(lm&&!O){b.errorRecoveryDisabledLanes|=p,da|=p,f=4;break e}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){co(n,0),ur(n,s,0,!0);break}e:{switch(l=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ur(l,s,Un,!ar);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Hu+300-pe(),10<f)){if(ur(l,s,Un,!ar),Vi(l,0,!0)!==0)break e;Cs=s,l.timeoutHandle=Y_(y_.bind(null,l,a,Rn,Ku,um,s,Un,da,oo,ar,p,"Throttled",-0,0),f);break e}y_(l,a,Rn,Ku,um,s,Un,da,oo,ar,p,null,-0,0)}}break}while(!0);$i(n)}function y_(n,s,a,l,f,p,E,b,O,Q,te,ae,$,J){if(n.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},c_(s,p,ae);var xe=(p&62914560)===p?Hu-pe():(p&4194048)===p?f_-pe():0;if(xe=JR(ae,xe),xe!==null){Cs=p,n.cancelPendingCommit=xe(A_.bind(null,n,s,p,a,l,f,E,b,O,te,ae,null,$,J)),ur(n,p,E,!Q);return}}A_(n,s,p,a,l,f,E,b,O)}function pR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ur(n,s,a,l){s&=~cm,s&=~da,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var p=31-At(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&Br(n,a,s)}function Yu(){return(We&6)===0?(Ol(0),!1):!0}function mm(){if(ze!==null){if(tt===0)var n=ze.return;else n=ze,ys=ia=null,jf(n),Ja=null,_l=0,n=ze;for(;n!==null;)Q0(n.alternate,n),n=n.return;ze=null}}function co(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,kR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Cs=0,mm(),lt=n,ze=a=ps(n.current,null),qe=s,tt=0,Ln=null,ar=!1,ao=ui(n,s),lm=!1,oo=Un=cm=da=or=Et=0,Rn=kl=null,um=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-At(l),p=1<<f;s|=n[f],l&=~p}return Rs=s,mu(),a}function v_(n,s){Pe=null,Z.H=Rl,s===Wa||s===xu?(s=Mv(),tt=3):s===vf?(s=Mv(),tt=4):tt=s===Kf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,ze===null&&(Et=1,Pu(n,Xn(s,n.current)))}function __(){var n=Pn.current;return n===null?!0:(qe&4194048)===qe?Jn===null:(qe&62914560)===qe||(qe&536870912)!==0?n===Jn:!1}function T_(){var n=Z.H;return Z.H=Rl,n===null?Rl:n}function E_(){var n=Z.A;return Z.A=fR,n}function Qu(){Et=4,ar||(qe&4194048)!==qe&&Pn.current!==null||(ao=!0),(or&134217727)===0&&(da&134217727)===0||lt===null||ur(lt,qe,Un,!1)}function pm(n,s,a){var l=We;We|=2;var f=T_(),p=E_();(lt!==n||qe!==s)&&(Ku=null,co(n,s)),s=!1;var E=Et;e:do try{if(tt!==0&&ze!==null){var b=ze,O=Ln;switch(tt){case 8:mm(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var Q=tt;if(tt=0,Ln=null,uo(n,b,O,Q),a&&ao){E=0;break e}break;default:Q=tt,tt=0,Ln=null,uo(n,b,O,Q)}}gR(),E=Et;break}catch(te){v_(n,te)}while(!0);return s&&n.shellSuspendCounter++,ys=ia=null,We=l,Z.H=f,Z.A=p,ze===null&&(lt=null,qe=0,mu()),E}function gR(){for(;ze!==null;)x_(ze)}function yR(n,s){var a=We;We|=2;var l=T_(),f=E_();lt!==n||qe!==s?(Ku=null,Gu=pe()+500,co(n,s)):ao=ui(n,s);e:do try{if(tt!==0&&ze!==null){s=ze;var p=Ln;t:switch(tt){case 1:tt=0,Ln=null,uo(n,s,p,1);break;case 2:case 9:if(Vv(p)){tt=0,Ln=null,S_(s);break}s=function(){tt!==2&&tt!==9||lt!==n||(tt=7),$i(n)},p.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Vv(p)?(tt=0,Ln=null,S_(s)):(tt=0,Ln=null,uo(n,s,p,7));break;case 5:var E=null;switch(ze.tag){case 26:E=ze.memoizedState;case 5:case 27:var b=ze;if(E?lT(E):b.stateNode.complete){tt=0,Ln=null;var O=b.sibling;if(O!==null)ze=O;else{var Q=b.return;Q!==null?(ze=Q,Xu(Q)):ze=null}break t}}tt=0,Ln=null,uo(n,s,p,5);break;case 6:tt=0,Ln=null,uo(n,s,p,6);break;case 8:mm(),Et=6;break e;default:throw Error(r(462))}}vR();break}catch(te){v_(n,te)}while(!0);return ys=ia=null,Z.H=l,Z.A=f,We=a,ze!==null?0:(lt=null,qe=0,mu(),Et)}function vR(){for(;ze!==null&&!X();)x_(ze)}function x_(n){var s=K0(n.alternate,n,Rs);n.memoizedProps=n.pendingProps,s===null?Xu(n):ze=s}function S_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=z0(a,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=z0(a,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:jf(s);default:Q0(a,s),s=ze=Ev(s,Rs),s=K0(a,s,Rs)}n.memoizedProps=n.pendingProps,s===null?Xu(n):ze=s}function uo(n,s,a,l){ys=ia=null,jf(s),Ja=null,_l=0;var f=s.return;try{if(aR(n,f,s,a,qe)){Et=1,Pu(n,Xn(a,n.current)),ze=null;return}}catch(p){if(f!==null)throw ze=f,p;Et=1,Pu(n,Xn(a,n.current)),ze=null;return}s.flags&32768?(Ke||l===1?n=!0:ao||(qe&536870912)!==0?n=!1:(ar=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),b_(s,n)):Xu(s)}function Xu(n){var s=n;do{if((s.flags&32768)!==0){b_(s,ar);return}n=s.return;var a=cR(s.alternate,s,Rs);if(a!==null){ze=a;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=n}while(s!==null);Et===0&&(Et=5)}function b_(n,s){do{var a=uR(n.alternate,n);if(a!==null){a.flags&=32767,ze=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){ze=n;return}ze=n=a}while(n!==null);Et=6,ze=null}function A_(n,s,a,l,f,p,E,b,O){n.cancelPendingCommit=null;do $u();while(Ht!==0);if((We&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=nf,Yd(n,a,p,E,b,O),n===lt&&(ze=lt=null,qe=0),lo=s,cr=n,Cs=a,hm=p,dm=f,m_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,xR(us,function(){return j_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=he.p,he.p=2,E=We,We|=4;try{hR(n,s,a)}finally{We=E,he.p=f,Z.T=l}}Ht=1,w_(),R_(),C_()}}function w_(){if(Ht===1){Ht=0;var n=cr,s=lo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=he.p;he.p=2;var f=We;We|=4;try{a_(s,n);var p=Rm,E=dv(n.containerInfo),b=p.focusedElem,O=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&hv(b.ownerDocument.documentElement,b)){if(O!==null&&Zd(b)){var Q=O.start,te=O.end;if(te===void 0&&(te=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(te,b.value.length);else{var ae=b.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var J=$.getSelection(),xe=b.textContent.length,Ne=Math.min(O.start,xe),at=O.end===void 0?Ne:Math.min(O.end,xe);!J.extend&&Ne>at&&(E=at,at=Ne,Ne=E);var G=uv(b,Ne),B=uv(b,at);if(G&&B&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Y=ae.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),Ne>at?(J.addRange(Y),J.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),J.addRange(Y))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}lh=!!wm,Rm=wm=null}finally{We=f,he.p=l,Z.T=a}}n.current=s,Ht=2}}function R_(){if(Ht===2){Ht=0;var n=cr,s=lo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=he.p;he.p=2;var f=We;We|=4;try{t_(n,s.alternate,s)}finally{We=f,he.p=l,Z.T=a}}Ht=3}}function C_(){if(Ht===4||Ht===3){Ht=0,re();var n=cr,s=lo,a=Cs,l=m_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,lo=cr=null,N_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(lr=null),hs(a),s=s.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ci,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Z.T,f=he.p,he.p=2,Z.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{Z.T=s,he.p=f}}(Cs&3)!==0&&$u(),$i(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===fm?Pl++:(Pl=0,fm=n):Pl=0,Ol(0)}}function N_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,yl(s)))}function $u(){return w_(),R_(),C_(),j_()}function j_(){if(Ht!==5)return!1;var n=cr,s=hm;hm=0;var a=hs(Cs),l=Z.T,f=he.p;try{he.p=32>a?32:a,Z.T=null,a=dm,dm=null;var p=cr,E=Cs;if(Ht=0,lo=cr=null,Cs=0,(We&6)!==0)throw Error(r(331));var b=We;if(We|=4,h_(p.current),l_(p,p.current,E,a),We=b,Ol(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ci,p)}catch{}return!0}finally{he.p=f,Z.T=l,N_(n,s)}}function D_(n,s,a){s=Xn(a,s),s=Gf(n.stateNode,s,2),n=nr(n,s,2),n!==null&&(zr(n,2),$i(n))}function nt(n,s,a){if(n.tag===3)D_(n,n,a);else for(;s!==null;){if(s.tag===3){D_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(lr===null||!lr.has(l))){n=Xn(a,n),a=V0(2),l=nr(s,a,2),l!==null&&(I0(a,l,s,n),zr(l,2),$i(l));break}}s=s.return}}function gm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new mR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(lm=!0,f.add(a),n=_R.bind(null,n,s,a),s.then(n,n))}function _R(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,lt===n&&(qe&a)===a&&(Et===4||Et===3&&(qe&62914560)===qe&&300>pe()-Hu?(We&2)===0&&co(n,0):cm|=a,oo===qe&&(oo=0)),$i(n)}function V_(n,s){s===0&&(s=Kc()),n=ea(n,s),n!==null&&(zr(n,s),$i(n))}function TR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),V_(n,a)}function ER(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),V_(n,a)}function xR(n,s){return bt(n,s)}var Zu=null,ho=null,ym=!1,Wu=!1,vm=!1,hr=0;function $i(n){n!==ho&&n.next===null&&(ho===null?Zu=ho=n:ho=ho.next=n),Wu=!0,ym||(ym=!0,bR())}function Ol(n,s){if(!vm&&Wu){vm=!0;do for(var a=!1,l=Zu;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-At(42|n)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,P_(l,p))}else p=qe,p=Vi(l,l===lt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ui(l,p)||(a=!0,P_(l,p));l=l.next}while(a);vm=!1}}function SR(){I_()}function I_(){Wu=ym=!1;var n=0;hr!==0&&MR()&&(n=hr);for(var s=pe(),a=null,l=Zu;l!==null;){var f=l.next,p=M_(l,s);p===0?(l.next=null,a===null?Zu=f:a.next=f,f===null&&(ho=a)):(a=l,(n!==0||(p&3)!==0)&&(Wu=!0)),l=f}Ht!==0&&Ht!==5||Ol(n),hr!==0&&(hr=0)}function M_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-At(p),b=1<<E,O=f[E];O===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Kd(b,s)):O<=s&&(n.expiredLanes|=b),p&=~b}if(s=lt,a=qe,a=Vi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ui(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Ci(l),hs(a)){case 2:case 8:a=Ra;break;case 32:a=us;break;case 268435456:a=Ca;break;default:a=us}return l=k_.bind(null,n),a=bt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Ci(l),n.callbackPriority=2,n.callbackNode=null,2}function k_(n,s){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if($u()&&n.callbackNode!==a)return null;var l=qe;return l=Vi(n,n===lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(g_(n,l,s),M_(n,pe()),n.callbackNode!=null&&n.callbackNode===a?k_.bind(null,n):null)}function P_(n,s){if($u())return null;g_(n,s,!0)}function bR(){PR(function(){(We&6)!==0?bt(Dt,SR):I_()})}function _m(){if(hr===0){var n=$a;n===0&&(n=ji,ji<<=1,(ji&261888)===0&&(ji=256)),hr=n}return hr}function O_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ka(""+n)}function L_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function AR(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=O_((f[Qt]||null).action),E=l.submitter;E&&(s=(s=E[Qt]||null)?O_(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var b=new Fi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hr!==0){var O=E?L_(f,E):new FormData(f);Uf(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(b.preventDefault(),O=E?L_(f,E):new FormData(f),Uf(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Tm=0;Tm<tf.length;Tm++){var Em=tf[Tm],wR=Em.toLowerCase(),RR=Em[0].toUpperCase()+Em.slice(1);vi(wR,"on"+RR)}vi(pv,"onAnimationEnd"),vi(gv,"onAnimationIteration"),vi(yv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Fw,"onTransitionRun"),vi(Hw,"onTransitionStart"),vi(Gw,"onTransitionCancel"),vi(vv,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function U_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var E=l.length-1;0<=E;E--){var b=l[E],O=b.instance,Q=b.currentTarget;if(b=b.listener,O!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=Q;try{p(f)}catch(te){fu(te)}f.currentTarget=null,p=O}else for(E=0;E<l.length;E++){if(b=l[E],O=b.instance,Q=b.currentTarget,b=b.listener,O!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=Q;try{p(f)}catch(te){fu(te)}f.currentTarget=null,p=O}}}}function Be(n,s){var a=s[ja];a===void 0&&(a=s[ja]=new Set);var l=n+"__bubble";a.has(l)||(z_(s,n,2,!1),a.add(l))}function xm(n,s,a){var l=0;s&&(l|=4),z_(a,n,l,s)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Sm(n){if(!n[Ju]){n[Ju]=!0,$o.forEach(function(a){a!=="selectionchange"&&(CR.has(a)||xm(a,!1,n),xm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ju]||(s[Ju]=!0,xm("selectionchange",!1,s))}}function z_(n,s,a,l){switch(pT(s)){case 2:var f=nC;break;case 8:f=iC;break;default:f=Lm}a=f.bind(null,s,a,n),f=void 0,!Kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function bm(n,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Pi(b),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=p=E;continue e}b=b.parentNode}}l=l.return}Ks(function(){var Q=p,te=Gn(a),ae=[];e:{var $=_v.get(n);if($!==void 0){var J=Fi,xe=n;switch(n){case"keypress":if(Qr(a)===0)break e;case"keydown":case"keyup":J=uu;break;case"focusin":xe="focus",J=$r;break;case"focusout":xe="blur",J=$r;break;case"beforeblur":case"afterblur":J=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case pv:case gv:case yv:J=iu;break;case vv:J=R;break;case"scroll":case"scrollend":J=ll;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ms;break;case"toggle":case"beforetoggle":J=ke}var Ne=(s&4)!==0,at=!Ne&&(n==="scroll"||n==="scrollend"),G=Ne?$!==null?$+"Capture":null:$;Ne=[];for(var B=Q,Y;B!==null;){var ie=B;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||G===null||(ie=mi(B,G),ie!=null&&Ne.push(Ul(B,ie,Y))),at)break;B=B.return}0<Ne.length&&($=new J($,xe,null,a,te),ae.push({event:$,listeners:Ne}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",$&&a!==rl&&(xe=a.relatedTarget||a.fromElement)&&(Pi(xe)||xe[Mi]))break e;if((J||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,J?(xe=a.relatedTarget||a.toElement,J=Q,xe=xe?Pi(xe):null,xe!==null&&(at=c(xe),Ne=xe.tag,xe!==at||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(J=null,xe=Q),J!==xe)){if(Ne=cl,ie="onMouseLeave",G="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=ms,ie="onPointerLeave",G="onPointerEnter",B="pointer"),at=J==null?$:Vn(J),Y=xe==null?$:Vn(xe),$=new Ne(ie,B+"leave",J,a,te),$.target=at,$.relatedTarget=Y,ie=null,Pi(te)===Q&&(Ne=new Ne(G,B+"enter",xe,a,te),Ne.target=Y,Ne.relatedTarget=at,ie=Ne),at=ie,J&&xe)t:{for(Ne=NR,G=J,B=xe,Y=0,ie=G;ie;ie=Ne(ie))Y++;ie=0;for(var Ae=B;Ae;Ae=Ne(Ae))ie++;for(;0<Y-ie;)G=Ne(G),Y--;for(;0<ie-Y;)B=Ne(B),ie--;for(;Y--;){if(G===B||B!==null&&G===B.alternate){Ne=G;break t}G=Ne(G),B=Ne(B)}Ne=null}else Ne=null;J!==null&&B_(ae,$,J,Ne,!1),xe!==null&&at!==null&&B_(ae,at,xe,Ne,!0)}}e:{if($=Q?Vn(Q):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var Xe=sv;else if(nv($))if(rv)Xe=zw;else{Xe=Lw;var Se=Ow}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&Ma(Q.elementType)&&(Xe=sv):Xe=Uw;if(Xe&&(Xe=Xe(n,Q))){iv(ae,Xe,a,te);break e}Se&&Se(n,$,Q),n==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&nl($,"number",$.value)}switch(Se=Q?Vn(Q):window,n){case"focusin":(nv(Se)||Se.contentEditable==="true")&&(qa=Se,Wd=Q,ml=null);break;case"focusout":ml=Wd=qa=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,fv(ae,a,te);break;case"selectionchange":if(qw)break;case"keydown":case"keyup":fv(ae,a,te)}var Le;if(Ze)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ba?Zr(n,a)&&(Fe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ki&&a.locale!=="ko"&&(Ba||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ba&&(Le=ol()):(qi=te,al="value"in qi?qi.value:qi.textContent,Ba=!0)),Se=eh(Q,Fe),0<Se.length&&(Fe=new Gi(Fe,n,null,a,te),ae.push({event:Fe,listeners:Se}),Le?Fe.data=Le:(Le=za(a),Le!==null&&(Fe.data=Le)))),(Le=Yn?Iw(n,a):Mw(n,a))&&(Fe=eh(Q,"onBeforeInput"),0<Fe.length&&(Se=new Gi("onBeforeInput","beforeinput",null,a,te),ae.push({event:Se,listeners:Fe}),Se.data=Le)),AR(ae,n,Q,a,te)}U_(ae,s)})}function Ul(n,s,a){return{instance:n,listener:s,currentTarget:a}}function eh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=mi(n,a),f!=null&&l.unshift(Ul(n,f,p)),f=mi(n,s),f!=null&&l.push(Ul(n,f,p))),n.tag===3)return l;n=n.return}return[]}function NR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B_(n,s,a,l,f){for(var p=s._reactName,E=[];a!==null&&a!==l;){var b=a,O=b.alternate,Q=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||Q===null||(O=Q,f?(Q=mi(a,p),Q!=null&&E.unshift(Ul(a,Q,O))):f||(Q=mi(a,p),Q!=null&&E.push(Ul(a,Q,O)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var jR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function q_(n){return(typeof n=="string"?n:""+n).replace(jR,`
`).replace(DR,"")}function F_(n,s){return s=q_(s),q_(n)===s}function rt(n,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Sn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Sn(n,""+l);break;case"className":In(n,"class",l);break;case"tabIndex":In(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(n,a,l);break;case"style":sl(n,l,p);break;case"data":if(s!=="object"){In(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&rt(n,s,"name",f.name,f,null),rt(n,s,"formEncType",f.formEncType,f,null),rt(n,s,"formMethod",f.formMethod,f,null),rt(n,s,"formTarget",f.formTarget,f,null)):(rt(n,s,"encType",f.encType,f,null),rt(n,s,"method",f.method,f,null),rt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=fi);break;case"onScroll":l!=null&&Be("scroll",n);break;case"onScrollEnd":l!=null&&Be("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ka(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Be("beforetoggle",n),Be("toggle",n),Va(n,"popover",l);break;case"xlinkActuate":kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eu.get(a)||a,Va(n,a,l))}}function Am(n,s,a,l,f,p){switch(a){case"style":sl(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Sn(n,l):(typeof l=="number"||typeof l=="bigint")&&Sn(n,""+l);break;case"onScroll":l!=null&&Be("scroll",n);break;case"onScrollEnd":l!=null&&Be("scrollend",n);break;case"onClick":l!=null&&(n.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=n[Qt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Va(n,a,l)}}}function rn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",n),Be("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,p,E,a,null)}}f&&rt(n,s,"srcSet",a.srcSet,a,null),l&&rt(n,s,"src",a.src,a,null);return;case"input":Be("invalid",n);var b=p=E=f=null,O=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":f=te;break;case"type":E=te;break;case"checked":O=te;break;case"defaultChecked":Q=te;break;case"value":p=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:rt(n,s,l,te,a,null)}}Zc(n,p,b,O,Q,E,f,!1);return;case"select":Be("invalid",n),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:rt(n,s,f,b,a,null)}s=p,a=E,n.multiple=!!l,s!=null?qs(n,!!l,s,!1):a!=null&&qs(n,!!l,a,!0);return;case"textarea":Be("invalid",n),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:rt(n,s,E,b,a,null)}Fs(n,l,f,p);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(n,s,O,l,a,null)}return;case"dialog":Be("beforetoggle",n),Be("toggle",n),Be("cancel",n),Be("close",n);break;case"iframe":case"object":Be("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Be(Ll[l],n);break;case"image":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"embed":case"source":case"link":Be("error",n),Be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,Q,l,a,null)}return;default:if(Ma(s)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Am(n,s,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&rt(n,s,b,l,a,null))}function VR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,O=null,Q=null,te=null;for(J in a){var ae=a[J];if(a.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ae;default:l.hasOwnProperty(J)||rt(n,s,J,null,l,ae)}}for(var $ in l){var J=l[$];if(ae=a[$],l.hasOwnProperty($)&&(J!=null||ae!=null))switch($){case"type":p=J;break;case"name":f=J;break;case"checked":Q=J;break;case"defaultChecked":te=J;break;case"value":E=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ae&&rt(n,s,$,J,l,ae)}}Ia(n,E,b,O,Q,te,p,f);return;case"select":J=E=b=$=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":J=O;default:l.hasOwnProperty(p)||rt(n,s,p,null,l,O)}for(f in l)if(p=l[f],O=a[f],l.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":$=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==O&&rt(n,s,f,p,l,O)}s=b,a=E,l=J,$!=null?qs(n,!!a,$,!1):!!l!=!!a&&(s!=null?qs(n,!!a,s,!0):qs(n,!!a,a?[]:"",!1));return;case"textarea":J=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(n,s,b,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":$=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&rt(n,s,E,f,l,p)}Wc(n,$,J);return;case"option":for(var xe in a)if($=a[xe],a.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":n.selected=!1;break;default:rt(n,s,xe,null,l,$)}for(O in l)if($=l[O],J=a[O],l.hasOwnProperty(O)&&$!==J&&($!=null||J!=null))switch(O){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(n,s,O,$,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)$=a[Ne],a.hasOwnProperty(Ne)&&$!=null&&!l.hasOwnProperty(Ne)&&rt(n,s,Ne,null,l,$);for(Q in l)if($=l[Q],J=a[Q],l.hasOwnProperty(Q)&&$!==J&&($!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:rt(n,s,Q,$,l,J)}return;default:if(Ma(s)){for(var at in a)$=a[at],a.hasOwnProperty(at)&&$!==void 0&&!l.hasOwnProperty(at)&&Am(n,s,at,void 0,l,$);for(te in l)$=l[te],J=a[te],!l.hasOwnProperty(te)||$===J||$===void 0&&J===void 0||Am(n,s,te,$,l,J);return}}for(var G in a)$=a[G],a.hasOwnProperty(G)&&$!=null&&!l.hasOwnProperty(G)&&rt(n,s,G,null,l,$);for(ae in l)$=l[ae],J=a[ae],!l.hasOwnProperty(ae)||$===J||$==null&&J==null||rt(n,s,ae,$,l,J)}function H_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,E=f.initiatorType,b=f.duration;if(p&&b&&H_(E)){for(E=0,b=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],Q=O.startTime;if(Q>b)break;var te=O.transferSize,ae=O.initiatorType;te&&H_(ae)&&(O=O.responseEnd,E+=te*(O<b?1:(b-Q)/(O-Q)))}if(--l,s+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var wm=null,Rm=null;function th(n){return n.nodeType===9?n:n.ownerDocument}function G_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Cm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nm=null;function MR(){var n=window.event;return n&&n.type==="popstate"?n===Nm?!1:(Nm=n,!0):(Nm=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(n){return Q_.resolve(null).then(n).catch(OR)}:Y_;function OR(n){setTimeout(function(){throw n})}function dr(n){return n==="head"}function X_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),go(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,zl(a);for(var p=a.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[ki]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}else a==="body"&&zl(n.ownerDocument.body);a=f}while(a);go(s)}function $_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function jm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jm(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function LR(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ki])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ei(n.nextSibling),n===null)break}return null}function UR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ei(n.nextSibling),n===null))return null;return n}function Z_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ei(n.nextSibling),n===null))return null;return n}function Dm(n){return n.data==="$?"||n.data==="$~"}function Vm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function zR(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ei(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Im=null;function W_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return ei(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function J_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function eT(n,s,a){switch(s=th(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function zl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Da(n)}var ti=new Map,tT=new Set;function nh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ns=he.d;he.d={f:BR,r:qR,D:FR,C:HR,L:GR,m:KR,X:QR,S:YR,M:XR};function BR(){var n=Ns.f(),s=Yu();return n||s}function qR(n){var s=Hn(n);s!==null&&s.tag===5&&s.type==="form"?v0(s):Ns.r(n)}var fo=typeof document>"u"?null:document;function nT(n,s,a){var l=fo;if(l&&typeof s=="string"&&s){var f=xn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),tT.has(f)||(tT.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),rn(s,"link",n),Mt(s),l.head.appendChild(s)))}}function FR(n){Ns.D(n),nT("dns-prefetch",n,null)}function HR(n,s){Ns.C(n,s),nT("preconnect",n,s)}function GR(n,s,a){Ns.L(n,s,a);var l=fo;if(l&&n&&s){var f='link[rel="preload"][as="'+xn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xn(a.imageSizes)+'"]')):f+='[href="'+xn(n)+'"]';var p=f;switch(s){case"style":p=mo(n);break;case"script":p=po(n)}ti.has(p)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),ti.set(p,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Bl(p))||s==="script"&&l.querySelector(ql(p))||(s=l.createElement("link"),rn(s,"link",n),Mt(s),l.head.appendChild(s)))}}function KR(n,s){Ns.m(n,s);var a=fo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=po(n)}if(!ti.has(p)&&(n=T({rel:"modulepreload",href:n},s),ti.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(p)))return}l=a.createElement("link"),rn(l,"link",n),Mt(l),a.head.appendChild(l)}}}function YR(n,s,a){Ns.S(n,s,a);var l=fo;if(l&&n){var f=Oi(l).hoistableStyles,p=mo(n);s=s||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Bl(p)))b.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=ti.get(p))&&Mm(n,a);var O=E=l.createElement("link");Mt(O),rn(O,"link",n),O._p=new Promise(function(Q,te){O.onload=Q,O.onerror=te}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ih(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function QR(n,s){Ns.X(n,s);var a=fo;if(a&&n){var l=Oi(a).hoistableScripts,f=po(n),p=l.get(f);p||(p=a.querySelector(ql(f)),p||(n=T({src:n,async:!0},s),(s=ti.get(f))&&km(n,s),p=a.createElement("script"),Mt(p),rn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function XR(n,s){Ns.M(n,s);var a=fo;if(a&&n){var l=Oi(a).hoistableScripts,f=po(n),p=l.get(f);p||(p=a.querySelector(ql(f)),p||(n=T({src:n,async:!0,type:"module"},s),(s=ti.get(f))&&km(n,s),p=a.createElement("script"),Mt(p),rn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function iT(n,s,a,l){var f=(f=fe.current)?nh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=mo(a.href),a=Oi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=mo(a.href);var p=Oi(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(Bl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),ti.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(n,a),p||$R(f,n,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(a),a=Oi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function mo(n){return'href="'+xn(n)+'"'}function Bl(n){return'link[rel="stylesheet"]['+n+"]"}function sT(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function $R(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rn(s,"link",a),Mt(s),n.head.appendChild(s))}function po(n){return'[src="'+xn(n)+'"]'}function ql(n){return"script[async]"+n}function rT(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+xn(a.href)+'"]');if(l)return s.instance=l,Mt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Mt(l),rn(l,"style",f),ih(l,a.precedence,n),s.instance=l;case"stylesheet":f=mo(a.href);var p=n.querySelector(Bl(f));if(p)return s.state.loading|=4,s.instance=p,Mt(p),p;l=sT(a),(f=ti.get(f))&&Mm(l,f),p=(n.ownerDocument||n).createElement("link"),Mt(p);var E=p;return E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),rn(p,"link",l),s.state.loading|=4,ih(p,a.precedence,n),s.instance=p;case"script":return p=po(a.src),(f=n.querySelector(ql(p)))?(s.instance=f,Mt(f),f):(l=a,(f=ti.get(p))&&(l=T({},a),km(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Mt(f),rn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ih(l,a.precedence,n));return s.instance}function ih(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===s)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function km(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var sh=null;function aT(n,s,a){if(sh===null){var l=new Map,f=sh=new Map;f.set(a,l)}else f=sh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[ki]||p[It]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function oT(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function ZR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function lT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function WR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=mo(l.href),p=s.querySelector(Bl(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=rh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,Mt(p);return}p=s.ownerDocument||s,l=sT(l),(f=ti.get(f))&&Mm(l,f),p=p.createElement("link"),Mt(p);var E=p;E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),rn(p,"link",l),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=rh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Pm=0;function JR(n,s){return n.stylesheets&&n.count===0&&oh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&oh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&Pm===0&&(Pm=62500*IR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&oh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Pm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ah=null;function oh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ah=new Map,s.forEach(eC,n),ah=null,rh.call(n))}function eC(n,s){if(!(s.state.loading&4)){var a=ah.get(n);if(a)var l=a.get(null);else{a=new Map,ah.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=rh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Fl={$$typeof:H,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function tC(n,s,a,l,f,p,E,b,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function cT(n,s,a,l,f,p,E,b,O,Q,te,ae){return n=new tC(n,s,a,E,O,Q,te,ae,b),s=1,p===!0&&(s|=24),p=kn(3,null,null,s),n.current=p,p.stateNode=n,s=pf(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},_f(p),n}function uT(n){return n?(n=Ga,n):Ga}function hT(n,s,a,l,f,p){f=uT(f),l.context===null?l.context=f:l.pendingContext=f,l=tr(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=nr(n,l,s),a!==null&&(Cn(a,n,s),El(a,n,s))}function dT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Om(n,s){dT(n,s),(n=n.alternate)&&dT(n,s)}function fT(n){if(n.tag===13||n.tag===31){var s=ea(n,67108864);s!==null&&Cn(s,n,67108864),Om(n,67108864)}}function mT(n){if(n.tag===13||n.tag===31){var s=zn();s=qr(s);var a=ea(n,s);a!==null&&Cn(a,n,s),Om(n,s)}}var lh=!0;function nC(n,s,a,l){var f=Z.T;Z.T=null;var p=he.p;try{he.p=2,Lm(n,s,a,l)}finally{he.p=p,Z.T=f}}function iC(n,s,a,l){var f=Z.T;Z.T=null;var p=he.p;try{he.p=8,Lm(n,s,a,l)}finally{he.p=p,Z.T=f}}function Lm(n,s,a,l){if(lh){var f=Um(l);if(f===null)bm(n,s,l,ch,a),gT(n,l);else if(rC(f,n,s,a,l))l.stopPropagation();else if(gT(n,l),s&4&&-1<sC.indexOf(n)){for(;f!==null;){var p=Hn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Di(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var O=1<<31-At(E);b.entanglements[1]|=O,E&=~O}$i(p),(We&6)===0&&(Gu=pe()+500,Ol(0))}}break;case 31:case 13:b=ea(p,2),b!==null&&Cn(b,p,2),Yu(),Om(p,2)}if(p=Um(l),p===null&&bm(n,s,l,ch,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else bm(n,s,l,null,a)}}function Um(n){return n=Gn(n),zm(n)}var ch=null;function zm(n){if(ch=null,n=Pi(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ch=n,null}function pT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case Dt:return 2;case Ra:return 8;case us:case Ni:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var Bm=!1,fr=null,mr=null,pr=null,Hl=new Map,Gl=new Map,gr=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gT(n,s){switch(n){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(s.pointerId)}}function Kl(n,s,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Hn(s),s!==null&&fT(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function rC(n,s,a,l,f){switch(s){case"focusin":return fr=Kl(fr,n,s,a,l,f),!0;case"dragenter":return mr=Kl(mr,n,s,a,l,f),!0;case"mouseover":return pr=Kl(pr,n,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Hl.set(p,Kl(Hl.get(p)||null,n,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Gl.set(p,Kl(Gl.get(p)||null,n,s,a,l,f)),!0}return!1}function yT(n){var s=Pi(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,hi(n.priority,function(){mT(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,hi(n.priority,function(){mT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Um(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return s=Hn(a),s!==null&&fT(s),n.blockedOn=a,!1;s.shift()}return!0}function vT(n,s,a){uh(n)&&a.delete(s)}function aC(){Bm=!1,fr!==null&&uh(fr)&&(fr=null),mr!==null&&uh(mr)&&(mr=null),pr!==null&&uh(pr)&&(pr=null),Hl.forEach(vT),Gl.forEach(vT)}function hh(n,s){n.blockedOn===s&&(n.blockedOn=null,Bm||(Bm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aC)))}var dh=null;function _T(n){dh!==n&&(dh=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dh===n&&(dh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var p=Hn(a);p!==null&&(n.splice(s,3),s-=3,Uf(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function go(n){function s(O){return hh(O,n)}fr!==null&&hh(fr,n),mr!==null&&hh(mr,n),pr!==null&&hh(pr,n),Hl.forEach(s),Gl.forEach(s);for(var a=0;a<gr.length;a++){var l=gr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<gr.length&&(a=gr[0],a.blockedOn===null);)yT(a),a.blockedOn===null&&gr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[Qt]||null;if(typeof p=="function")E||_T(a);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Qt]||null)b=E.formAction;else if(zm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),_T(a)}}}function TT(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function qm(n){this._internalRoot=n}fh.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=zn();hT(a,l,n,s,null,null)},fh.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hT(n.current,2,null,n,null,null),Yu(),s[Mi]=null}};function fh(n){this._internalRoot=n}fh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Yc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<gr.length&&s!==0&&s<gr[a].priority;a++);gr.splice(a,0,n),a===0&&yT(n)}};var ET=e.version;if(ET!=="19.2.0")throw Error(r(527,ET,"19.2.0"));he.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=y(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var oC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{ci=mh.inject(oC),Jt=mh}catch{}}return Ql.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=C0,p=N0,E=j0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=cT(n,1,!1,null,null,a,l,null,f,p,E,TT),n[Mi]=s.current,Sm(n),new qm(s)},Ql.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",p=C0,E=N0,b=j0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=cT(n,1,!0,s,a??null,l,f,O,p,E,b,TT),s.context=uT(null),a=s.current,l=zn(),l=qr(l),f=tr(l),f.callback=null,nr(a,f,l),a=l,s.current.lanes=a,zr(s,a),$i(s),n[Mi]=s.current,Sm(n),new fh(s)},Ql.version="19.2.0",Ql}var DT;function yC(){if(DT)return Gm.exports;DT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gm.exports=gC(),Gm.exports}var vC=yC();var VT="popstate";function _C(t={}){function e(r,o){let{pathname:c,search:u,hash:m}=r.location;return bp("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:fc(o)}return EC(e,i,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TC(){return Math.random().toString(36).substring(2,10)}function IT(t,e){return{usr:t.state,key:t.key,idx:e}}function bp(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:i,key:e&&e.key||r||TC()}}function fc({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Oo(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function EC(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,m="POP",g=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function T(){m="POP";let M=v(),k=M==null?null:M-y;y=M,g&&g({action:m,location:V.location,delta:k})}function S(M,k){m="PUSH";let q=bp(V.location,M,k);y=v()+1;let H=IT(q,y),de=V.createHref(q);try{u.pushState(H,"",de)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(de)}c&&g&&g({action:m,location:V.location,delta:1})}function w(M,k){m="REPLACE";let q=bp(V.location,M,k);y=v();let H=IT(q,y),de=V.createHref(q);u.replaceState(H,"",de),c&&g&&g({action:m,location:V.location,delta:0})}function D(M){return xC(M)}let V={get action(){return m},get location(){return t(o,u)},listen(M){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(VT,T),g=M,()=>{o.removeEventListener(VT,T),g=null}},createHref(M){return e(o,M)},createURL:D,encodeLocation(M){let k=D(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:w,go(M){return u.go(M)}};return V}function xC(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),yt(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function DS(t,e,i="/"){return SC(t,e,i,!1)}function SC(t,e,i,r){let o=typeof e=="string"?Oo(e):e,c=Is(o.pathname||"/",i);if(c==null)return null;let u=VS(t);bC(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let y=kC(c);m=IC(u[g],y,r)}return m}function VS(t,e=[],i=[],r="",o=!1){let c=(u,m,g=o,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&g)return;yt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=js([r,v.relativePath]),S=i.concat(v);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VS(u.children,e,S,T,g)),!(u.path==null&&!u.index)&&e.push({path:T,score:DC(T,u.index),routesMeta:S})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let g of IS(u.path))c(u,m,!0,g)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=IS(r.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...u),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function bC(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:VC(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var AC=/^:[\w-]+$/,wC=3,RC=2,CC=1,NC=10,jC=-2,MT=t=>t==="*";function DC(t,e){let i=t.split("/"),r=i.length;return i.some(MT)&&(r+=jC),e&&(r+=RC),i.filter(o=>!MT(o)).reduce((o,c)=>o+(AC.test(c)?wC:c===""?CC:NC),r)}function VC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function IC(t,e,i=!1){let{routesMeta:r}=t,o={},c="/",u=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",T=qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),S=g.route;if(!T&&y&&i&&!r[r.length-1].route.index&&(T=qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:js([c,T.pathname]),pathnameBase:zC(js([c,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(c=js([c,T.pathnameBase]))}return u}function qh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=MC(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:T},S)=>{if(v==="*"){let D=m[S]||"";u=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const w=m[S];return T&&!w?y[v]=void 0:y[v]=(w||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:t}}function MC(t,e=!1,i=!0){bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function kC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var PC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OC=t=>PC.test(t);function LC(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?Oo(t):t,c;if(i)if(OC(i))c=i;else{if(i.includes("//")){let u=i;i=i.replace(/\/\/+/g,"/"),bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${i}`)}i.startsWith("/")?c=kT(i.substring(1),"/"):c=kT(i,e)}else c=e;return{pathname:c,search:BC(r),hash:qC(o)}}function kT(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Xm(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UC(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function MS(t){let e=UC(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function kS(t,e,i,r=!1){let o;typeof t=="string"?o=Oo(t):(o={...t},yt(!o.pathname||!o.pathname.includes("?"),Xm("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),Xm("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),Xm("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=i;else{let T=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=LC(o,m),y=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var js=t=>t.join("/").replace(/\/\/+/g,"/"),zC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PS=["POST","PUT","PATCH","DELETE"];new Set(PS);var HC=["GET",...PS];new Set(HC);var Lo=N.createContext(null);Lo.displayName="DataRouter";var pd=N.createContext(null);pd.displayName="DataRouterState";N.createContext(!1);var OS=N.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var GC=N.createContext(new Map);GC.displayName="Fetchers";var KC=N.createContext(null);KC.displayName="Await";var ls=N.createContext(null);ls.displayName="Navigation";var jc=N.createContext(null);jc.displayName="Location";var Us=N.createContext({outlet:null,matches:[],isDataRoute:!1});Us.displayName="Route";var Sg=N.createContext(null);Sg.displayName="RouteError";function YC(t,{relative:e}={}){yt(Dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=N.useContext(ls),{hash:o,pathname:c,search:u}=Vc(t,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:js([i,c])),r.createHref({pathname:m,search:u,hash:o})}function Dc(){return N.useContext(jc)!=null}function cs(){return yt(Dc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(jc).location}var LS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function US(t){N.useContext(ls).static||N.useLayoutEffect(t)}function bg(){let{isDataRoute:t}=N.useContext(Us);return t?aN():QC()}function QC(){yt(Dc(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Lo),{basename:e,navigator:i}=N.useContext(ls),{matches:r}=N.useContext(Us),{pathname:o}=cs(),c=JSON.stringify(MS(r)),u=N.useRef(!1);return US(()=>{u.current=!0}),N.useCallback((g,y={})=>{if(bi(u.current,LS),!u.current)return;if(typeof g=="number"){i.go(g);return}let v=kS(g,JSON.parse(c),o,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:js([e,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[e,i,c,o,t])}N.createContext(null);function Vc(t,{relative:e}={}){let{matches:i}=N.useContext(Us),{pathname:r}=cs(),o=JSON.stringify(MS(i));return N.useMemo(()=>kS(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function XC(t,e){return zS(t,e)}function zS(t,e,i,r,o){yt(Dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=N.useContext(ls),{matches:u}=N.useContext(Us),m=u[u.length-1],g=m?m.params:{},y=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let q=T&&T.path||"";BS(y,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=cs(),w;if(e){let q=typeof e=="string"?Oo(e):e;yt(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=S;let D=w.pathname||"/",V=D;if(v!=="/"){let q=v.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let M=DS(t,{pathname:V});bi(T||M!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=eN(M&&M.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:js([v,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:js([v,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,i,r,o);return e&&k?N.createElement(jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function $C(){let t=rN(),e=FC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:c},"ErrorBoundary")," or"," ",N.createElement("code",{style:c},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),i?N.createElement("pre",{style:o},i):null,u)}var ZC=N.createElement($C,null),WC=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(Us.Provider,{value:this.props.routeContext},N.createElement(Sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JC({routeContext:t,match:e,children:i}){let r=N.useContext(Lo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Us.Provider,{value:t},i)}function eN(t,e=[],i=null,r=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let c=t,u=i?.errors;if(u!=null){let v=c.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,g=-1;if(i)for(let v=0;v<c.length;v++){let T=c[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=v),T.route.id){let{loaderData:S,errors:w}=i,D=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!w||w[T.route.id]===void 0);if(T.route.lazy||D){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=i&&r?(v,T)=>{r(v,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:T})}:void 0;return c.reduceRight((v,T,S)=>{let w,D=!1,V=null,M=null;i&&(w=u&&T.route.id?u[T.route.id]:void 0,V=T.route.errorElement||ZC,m&&(g<0&&S===0?(BS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,M=null):g===S&&(D=!0,M=T.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,S+1)),q=()=>{let H;return w?H=V:D?H=M:T.route.Component?H=N.createElement(T.route.Component,null):T.route.element?H=T.route.element:H=v,N.createElement(JC,{match:T,routeContext:{outlet:v,matches:k,isDataRoute:i!=null},children:H})};return i&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?N.createElement(WC,{location:i.location,revalidation:i.revalidation,component:V,error:w,children:q(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:y}):q()},null)}function Ag(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tN(t){let e=N.useContext(Lo);return yt(e,Ag(t)),e}function nN(t){let e=N.useContext(pd);return yt(e,Ag(t)),e}function iN(t){let e=N.useContext(Us);return yt(e,Ag(t)),e}function wg(t){let e=iN(t),i=e.matches[e.matches.length-1];return yt(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function sN(){return wg("useRouteId")}function rN(){let t=N.useContext(Sg),e=nN("useRouteError"),i=wg("useRouteError");return t!==void 0?t:e.errors?.[i]}function aN(){let{router:t}=tN("useNavigate"),e=wg("useNavigate"),i=N.useRef(!1);return US(()=>{i.current=!0}),N.useCallback(async(o,c={})=>{bi(i.current,LS),i.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var PT={};function BS(t,e,i){!e&&!PT[t]&&(PT[t]=!0,bi(!1,i))}N.memo(oN);function oN({routes:t,future:e,state:i,unstable_onError:r}){return zS(t,void 0,i,r,e)}function ni(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lN({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){yt(!Dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof i=="string"&&(i=Oo(i));let{pathname:g="/",search:y="",hash:v="",state:T=null,key:S="default"}=i,w=N.useMemo(()=>{let D=Is(g,u);return D==null?null:{location:{pathname:D,search:y,hash:v,state:T,key:S},navigationType:r}},[u,g,y,v,T,S,r]);return bi(w!=null,`<Router basename="${u}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(ls.Provider,{value:m},N.createElement(jc.Provider,{children:e,value:w}))}function cN({children:t,location:e}){return XC(Ap(t),e)}function Ap(t,e=[]){let i=[];return N.Children.forEach(t,(r,o)=>{if(!N.isValidElement(r))return;let c=[...e,o];if(r.type===N.Fragment){i.push.apply(i,Ap(r.props.children,c));return}yt(r.type===ni,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ap(r.props.children,c)),i.push(u)}),i}var jh="get",Dh="application/x-www-form-urlencoded";function gd(t){return t!=null&&typeof t.tagName=="string"}function uN(t){return gd(t)&&t.tagName.toLowerCase()==="button"}function hN(t){return gd(t)&&t.tagName.toLowerCase()==="form"}function dN(t){return gd(t)&&t.tagName.toLowerCase()==="input"}function fN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mN(t,e){return t.button===0&&(!e||e==="_self")&&!fN(t)}var ph=null;function pN(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var gN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(t){return t!=null&&!gN.has(t)?(bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):t}function yN(t,e){let i,r,o,c,u;if(hN(t)){let m=t.getAttribute("action");r=m?Is(m,e):null,i=t.getAttribute("method")||jh,o=$m(t.getAttribute("enctype"))||Dh,c=new FormData(t)}else if(uN(t)||dN(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(r=g?Is(g,e):null,i=t.getAttribute("formmethod")||m.getAttribute("method")||jh,o=$m(t.getAttribute("formenctype"))||$m(m.getAttribute("enctype"))||Dh,c=new FormData(m,t),!pN()){let{name:y,type:v,value:T}=t;if(v==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,T)}}else{if(gd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=jh,r=null,o=Dh,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vN(t,e,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&Is(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function _N(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function EN(t,e,i){let r=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await _N(c,i);return u.links?u.links():[]}return[]}));return AN(r.flat(1).filter(TN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function OT(t,e,i,r,o,c){let u=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>u(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let v=r.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function xN(t,e,{includeHydrateFallback:i}={}){return SN(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function SN(t){return[...new Set(t)]}function bN(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function AN(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let c=JSON.stringify(bN(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function qS(){let t=N.useContext(Lo);return Rg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wN(){let t=N.useContext(pd);return Rg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cg=N.createContext(void 0);Cg.displayName="FrameworkContext";function FS(){let t=N.useContext(Cg);return Rg(t,"You must render this element inside a <HydratedRouter> element"),t}function RN(t,e){let i=N.useContext(Cg),[r,o]=N.useState(!1),[c,u]=N.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let V=k=>{k.forEach(q=>{u(q.isIntersecting)})},M=new IntersectionObserver(V,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[t]),N.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let w=()=>{o(!0)},D=()=>{o(!1),u(!1)};return i?t!=="intent"?[c,S,{}]:[c,S,{onFocus:Xl(m,w),onBlur:Xl(g,D),onMouseEnter:Xl(y,w),onMouseLeave:Xl(v,D),onTouchStart:Xl(T,w)}]:[!1,S,{}]}function Xl(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function CN({page:t,...e}){let{router:i}=qS(),r=N.useMemo(()=>DS(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?N.createElement(jN,{page:t,matches:r,...e}):null}function NN(t){let{manifest:e,routeModules:i}=FS(),[r,o]=N.useState([]);return N.useEffect(()=>{let c=!1;return EN(t,e,i).then(u=>{c||o(u)}),()=>{c=!0}},[t,e,i]),r}function jN({page:t,matches:e,...i}){let r=cs(),{manifest:o,routeModules:c}=FS(),{basename:u}=qS(),{loaderData:m,matches:g}=wN(),y=N.useMemo(()=>OT(t,e,g,o,r,"data"),[t,e,g,o,r]),v=N.useMemo(()=>OT(t,e,g,o,r,"assets"),[t,e,g,o,r]),T=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,V=!1;if(e.forEach(k=>{let q=o.routes[k.route.id];!q||!q.hasLoader||(!y.some(H=>H.route.id===k.route.id)&&k.route.id in m&&c[k.route.id]?.shouldRevalidate||q.hasClientLoader?V=!0:D.add(k.route.id))}),D.size===0)return[];let M=vN(t,u,"data");return V&&D.size>0&&M.searchParams.set("_routes",e.filter(k=>D.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[u,m,r,o,y,e,t,c]),S=N.useMemo(()=>xN(v,o),[v,o]),w=NN(v);return N.createElement(N.Fragment,null,T.map(D=>N.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...i})),S.map(D=>N.createElement("link",{key:D,rel:"modulepreload",href:D,...i})),w.map(({key:D,link:V})=>N.createElement("link",{key:D,nonce:i.nonce,...V})))}function DN(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var HS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HS&&(window.__reactRouterVersion="7.9.6")}catch{}function VN({basename:t,children:e,window:i}){let r=N.useRef();r.current==null&&(r.current=_C({window:i,v5Compat:!0}));let o=r.current,[c,u]=N.useState({action:o.action,location:o.location}),m=N.useCallback(g=>{N.startTransition(()=>u(g))},[u]);return N.useLayoutEffect(()=>o.listen(m),[o,m]),N.createElement(lN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o})}var GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=N.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:m,target:g,to:y,preventScrollReset:v,viewTransition:T,...S},w){let{basename:D}=N.useContext(ls),V=typeof y=="string"&&GS.test(y),M,k=!1;if(typeof y=="string"&&V&&(M=y,HS))try{let j=new URL(window.location.href),L=y.startsWith("//")?new URL(j.protocol+y):new URL(y),P=Is(L.pathname,D);L.origin===j.origin&&P!=null?y=P+L.search+L.hash:k=!0}catch{bi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=YC(y,{relative:o}),[H,de,ee]=RN(r,S),ue=PN(y,{replace:u,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:T});function C(j){e&&e(j),j.defaultPrevented||ue(j)}let A=N.createElement("a",{...S,...ee,href:M||q,onClick:k||c?e:C,ref:DN(w,de),target:g,"data-discover":!V&&i==="render"?"true":void 0});return H&&!V?N.createElement(N.Fragment,null,A,N.createElement(CN,{page:q})):A});dt.displayName="Link";var IN=N.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:m,children:g,...y},v){let T=Vc(u,{relative:y.relative}),S=cs(),w=N.useContext(pd),{navigator:D,basename:V}=N.useContext(ls),M=w!=null&&BN(T)&&m===!0,k=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,q=S.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(q=q.toLowerCase(),H=H?H.toLowerCase():null,k=k.toLowerCase()),H&&V&&(H=Is(H,V)||H);const de=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ee=q===k||!o&&q.startsWith(k)&&q.charAt(de)==="/",ue=H!=null&&(H===k||!o&&H.startsWith(k)&&H.charAt(k.length)==="/"),C={isActive:ee,isPending:ue,isTransitioning:M},A=ee?e:void 0,j;typeof r=="function"?j=r(C):j=[r,ee?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(C):c;return N.createElement(dt,{...y,"aria-current":A,className:j,ref:v,style:L,to:u,viewTransition:m},typeof g=="function"?g(C):g)});IN.displayName="NavLink";var MN=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:u=jh,action:m,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:T,...S},w)=>{let D=UN(),V=zN(m,{relative:y}),M=u.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&GS.test(m),q=H=>{if(g&&g(H),H.defaultPrevented)return;H.preventDefault();let de=H.nativeEvent.submitter,ee=de?.getAttribute("formmethod")||u;D(de||H.currentTarget,{fetcherKey:e,method:ee,navigate:i,replace:o,state:c,relative:y,preventScrollReset:v,viewTransition:T})};return N.createElement("form",{ref:w,method:M,action:V,onSubmit:r?g:q,...S,"data-discover":!k&&t==="render"?"true":void 0})});MN.displayName="Form";function kN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(t){let e=N.useContext(Lo);return yt(e,kN(t)),e}function PN(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=bg(),g=cs(),y=Vc(t,{relative:c});return N.useCallback(v=>{if(mN(v,e)){v.preventDefault();let T=i!==void 0?i:fc(g)===fc(y);m(t,{replace:T,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[g,m,y,i,r,e,t,o,c,u])}var ON=0,LN=()=>`__${String(++ON)}__`;function UN(){let{router:t}=KS("useSubmit"),{basename:e}=N.useContext(ls),i=sN();return N.useCallback(async(r,o={})=>{let{action:c,method:u,encType:m,formData:g,body:y}=yN(r,e);if(o.navigate===!1){let v=o.fetcherKey||LN();await t.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,i])}function zN(t,{relative:e}={}){let{basename:i}=N.useContext(ls),r=N.useContext(Us);yt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Vc(t||".",{relative:e})},u=cs();if(t==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();c.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:js([i,c.pathname])),fc(c)}function BN(t,{relative:e}={}){let i=N.useContext(OS);yt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KS("useViewTransitionState"),o=Vc(t,{relative:e});if(!i.isTransitioning)return!1;let c=Is(i.currentLocation.pathname,r)||i.currentLocation.pathname,u=Is(i.nextLocation.pathname,r)||i.nextLocation.pathname;return qh(o.pathname,u)!=null||qh(o.pathname,c)!=null}const YS=N.createContext(void 0);function Ic(){const t=N.useContext(YS);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function qN({children:t}){const[e,i]=N.useState(()=>{try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch{return[]}});N.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=y=>{const v=y.selectedIngredients?.reduce((T,S)=>T+(S.extraPrice||0),0)||0;return y.price+v};function o(y){i(v=>{const T=y.id+(y.selectedIngredients?.map(D=>D.name).sort().join("-")||""),S=v.find(D=>D.id===T),w=r(y);return S?v.map(D=>D.id===T?{...D,qty:D.qty+y.qty}:D):[...v,{...y,id:T,qty:y.qty,price:w}]})}function c(y,v){i(T=>v<=0?T.filter(S=>S.id!==y):T.map(S=>S.id===y?{...S,qty:v}:S))}function u(y){i(v=>v.filter(T=>T.id!==y))}function m(){i([])}const g=e.reduce((y,v)=>y+v.price*v.qty,0);return d.jsx(YS.Provider,{value:{items:e,addItem:o,updateQty:c,removeItem:u,clear:m,total:g},children:t})}function wp(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M7.2 3.1 5.4 4.3c-.8.5-1.2 1.5-1 2.4.9 4.2 4 7.7 8.1 8.9.9.3 1.9 0 2.4-.8l1.3-1.9c.4-.6.2-1.5-.4-2l-1.6-1.1c-.6-.4-1.3-.3-1.8.2l-.7.8c-1.2-.5-2.4-1.7-2.9-2.9l.8-.7c.5-.5.6-1.3.2-1.9L9.2 3.4C8.8 2.8 7.9 2.7 7.2 3.1Z",fill:"currentColor"})})}function Eo({className:t=""}){return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:t,"aria-hidden":"true",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M8 6V4h8v2"}),d.jsx("path",{d:"M6 6l1 14h10l1-14"}),d.jsx("path",{d:"M10 11v6"}),d.jsx("path",{d:"M14 11v6"})]})}function mc(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M7.3 5h13.2l-1.3 7.4c-.2 1-1 1.6-2 1.6H9.2c-1 0-1.8-.6-2-1.6L6 4H3.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"10",cy:"19",r:"1.4",fill:"currentColor"}),d.jsx("circle",{cx:"17",cy:"19",r:"1.4",fill:"currentColor"})]})}function Fh(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M5 12h12.5M13 7.5 17.5 12 13 16.5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function Rp(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M4.3 6.2 12 3.5l7.7 2.7L12 20.5 4.3 6.2Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinejoin:"round"}),d.jsx("circle",{cx:"12",cy:"9",r:"1.1",fill:"currentColor"}),d.jsx("circle",{cx:"9.5",cy:"12.2",r:"0.9",fill:"currentColor"}),d.jsx("circle",{cx:"14.7",cy:"13.3",r:"0.9",fill:"currentColor"})]})}function FN(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}function HN(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}function LT(t){return d.jsxs("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5",strokeWidth:"2"}),d.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",strokeWidth:"2"})]})}function UT(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M21 12.79A9 9 0 0 1 12.21 3a7 7 0 0 0 0 14 9 9 0 0 1 8.79-4.21z",strokeWidth:"2"})})}function QS(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function GN(){const[t,e]=N.useState(!1),{items:i}=Ic(),r=i.reduce((g,y)=>g+y.qty,0),o=N.useRef(null),c=N.useRef(null),[u,m]=N.useState(()=>localStorage.getItem("theme")==="dark");return N.useEffect(()=>{const g=document.documentElement;u?g.setAttribute("data-theme","dark"):g.setAttribute("data-theme","light"),localStorage.setItem("theme",u?"dark":"light")},[u]),N.useEffect(()=>(t?document.body.classList.add("mobile-menu-open"):document.body.classList.remove("mobile-menu-open"),()=>{document.body.classList.remove("mobile-menu-open")}),[t]),N.useEffect(()=>{const g=y=>{if(!t)return;const v=y.target;o.current?.contains(v)||c.current?.contains(v)||e(!1)};return t&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[t]),d.jsxs("header",{className:"modern-header",children:[d.jsxs("div",{className:"modern-header-container",children:[d.jsxs(dt,{to:"/",className:"modern-header-logo",children:[d.jsx("span",{className:"modern-logo-main",children:"Xanthos"}),d.jsx("span",{className:"modern-logo-sub",children:"Pizza & Grill"})]}),d.jsxs("nav",{className:"modern-header-nav",children:[d.jsx(dt,{to:"/menu",className:"modern-nav-link",children:"Menu"}),d.jsx(dt,{to:"/om-os",className:"modern-nav-link",children:"Om os"}),d.jsx(dt,{to:"/kontakt",className:"modern-nav-link",children:"Kontakt"})]}),d.jsxs("div",{className:"modern-header-actions",children:[d.jsxs("a",{href:"tel:+4570123456",className:"modern-header-phone",children:[d.jsx(wp,{}),d.jsx("span",{children:"70 12 34 56"})]}),d.jsxs(dt,{to:"/cart",className:"modern-header-cart",children:[d.jsx(mc,{}),d.jsx("span",{children:"Kurv"}),r>0&&d.jsx("span",{className:"modern-cart-badge",children:r})]}),d.jsxs(dt,{to:"/bestil",className:"modern-header-cta",children:["Bestil",d.jsx(Fh,{})]}),d.jsx("button",{className:"modern-theme-toggle",onClick:()=>m(g=>!g),"aria-label":"Skift tema",children:u?d.jsx(LT,{}):d.jsx(UT,{})}),d.jsxs("button",{ref:c,className:`modern-mobile-toggle ${t?"open":""}`,onClick:()=>e(g=>!g),"aria-label":"bn/luk menu","aria-expanded":t,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]})]})]}),d.jsx("div",{ref:o,className:`modern-mobile-menu ${t?"open":""}`,children:d.jsxs("nav",{className:"modern-mobile-nav",children:[d.jsxs(dt,{to:"/menu",onClick:()=>e(!1),children:[d.jsx(Rp,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Menu"})]}),d.jsxs(dt,{to:"/om-os",onClick:()=>e(!1),children:[d.jsx(FN,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Om os"})]}),d.jsxs(dt,{to:"/kontakt",onClick:()=>e(!1),children:[d.jsx(HN,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Kontakt"})]}),d.jsxs(dt,{to:"/cart",onClick:()=>e(!1),children:[d.jsx(mc,{className:"mobile-nav-icon"}),d.jsxs("span",{children:["Kurv ",r>0&&`(${r})`]})]}),d.jsxs("div",{className:"contact-and-theme-div",children:[d.jsxs("a",{href:"tel:+4570123456",onClick:()=>e(!1),children:[d.jsx(wp,{className:"mobile-nav-icon"}),d.jsx("span",{children:"+45 70 12 34 56"})]}),d.jsx("button",{className:"mobile-theme-toggle",onClick:()=>m(g=>!g),"aria-label":"Skift tema",children:u?d.jsx(LT,{}):d.jsx(UT,{})})]}),d.jsxs(dt,{to:"/bestil",onClick:()=>e(!1),className:"modern-mobile-cta",children:[d.jsx("span",{children:"Bestil takeaway"}),d.jsx(Fh,{className:"mobile-nav-cta-icon"})]})]})})]})}function KN(){return d.jsx("footer",{className:"footer-glass",children:d.jsxs("div",{className:"glass-box",children:[d.jsxs("div",{className:"brand",children:[d.jsx("h3",{children:"Xanthos Pizza & Grill"}),d.jsxs("p",{children:[" ",new Date().getFullYear()," Starpack APS  MKaan"]})]}),d.jsxs("div",{className:"glass-links",children:[d.jsx(dt,{to:"/om-os",children:"Om os"}),d.jsx(dt,{to:"/kontakt",children:"Kontakt"}),d.jsx(dt,{to:"/privacy",children:"Privacy Policy"})]})]})})}const YN=()=>{};var zT={};const XS=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QN=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[i++],u=t[i++],m=t[i++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=t[i++],u=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,m=u?t[o+1]:0,g=o+2<t.length,y=g?t[o+2]:0,v=c>>2,T=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,w=y&63;g||(w=64,u||(S=64)),r.push(i[v],i[T],i[S],i[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const c=i[t.charAt(o++)],m=o<t.length?i[t.charAt(o)]:0;++o;const y=o<t.length?i[t.charAt(o)]:64;++o;const T=o<t.length?i[t.charAt(o)]:64;if(++o,c==null||m==null||y==null||T==null)throw new XN;const S=c<<2|m>>4;if(r.push(S),y!==64){const w=m<<4&240|y>>2;if(r.push(w),T!==64){const D=y<<6&192|T;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(t){const e=XS(t);return $S.encodeByteArray(e,!0)},Hh=function(t){return $N(t).replace(/\./g,"")},ZN=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JN=()=>WN().__FIREBASE_DEFAULTS__,e2=()=>{if(typeof process>"u"||typeof zT>"u")return;const t=zT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZN(t[1]);return e&&JSON.parse(e)},Ng=()=>{try{return YN()||JN()||e2()||t2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n2=t=>Ng()?.emulatorHosts?.[t],i2=t=>{const e=n2(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},ZS=()=>Ng()?.config;class s2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function jg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r2(t){return(await fetch(t,{credentials:"include"})).ok}function a2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hh(JSON.stringify(i)),Hh(JSON.stringify(u)),""].join(".")}const ic={};function o2(){const t={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?t.emulator.push(e):t.prod.push(e);return t}function l2(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let BT=!1;function c2(t,e){if(typeof window>"u"||typeof document>"u"||!jg(window.location.host)||ic[t]===e||ic[t]||BT)return;ic[t]=e;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=o2().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{BT=!0,u()},S}function v(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=l2(r),w=i("text"),D=document.getElementById(w)||document.createElement("span"),V=i("learnmore"),M=document.getElementById(V)||document.createElement("a"),k=i("preprendIcon"),q=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;m(H),v(M,V);const de=y();g(q,k),H.append(q,D,M,de),document.body.appendChild(H)}c?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function u2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){const t=Ng()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d2(){return!h2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f2(){try{return typeof indexedDB=="object"}catch{return!1}}function m2(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const p2="FirebaseError";class Uo extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=p2,Object.setPrototypeOf(this,Uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,WS.prototype.create)}}class WS{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?g2(c,r):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Uo(o,m,r)}}function g2(t,e){return t.replace(y2,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const y2=/\{\$([^}]+)}/g;function Gh(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=t[o],u=e[o];if(qT(c)&&qT(u)){if(!Gh(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function qT(t){return t!==null&&typeof t=="object"}function rs(t){return t&&t._delegate?t._delegate:t}class pc{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class v2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new s2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T2(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&u.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _2(t){return t===ma?void 0:t}function T2(t){return t.instantiationMode==="EAGER"}class E2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new v2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const x2={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},S2=Qe.INFO,b2={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},A2=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=b2[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class JS{constructor(e){this.name=e,this._logLevel=S2,this._logHandler=A2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const w2=(t,e)=>e.some(i=>t instanceof i);let FT,HT;function R2(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C2(){return HT||(HT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eb=new WeakMap,Cp=new WeakMap,tb=new WeakMap,Zm=new WeakMap,Dg=new WeakMap;function N2(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{i(Er(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(i=>{i instanceof IDBCursor&&eb.set(i,t)}).catch(()=>{}),Dg.set(e,t),e}function j2(t){if(Cp.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{i(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Cp.set(t,e)}let Np={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tb.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D2(t){Np=t(Np)}function V2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(Wm(this),e,...i);return tb.set(r,e.sort?e.sort():[e]),Er(r)}:C2().includes(t)?function(...e){return t.apply(Wm(this),e),Er(eb.get(this))}:function(...e){return Er(t.apply(Wm(this),e))}}function I2(t){return typeof t=="function"?V2(t):(t instanceof IDBTransaction&&j2(t),w2(t,R2())?new Proxy(t,Np):t)}function Er(t){if(t instanceof IDBRequest)return N2(t);if(Zm.has(t))return Zm.get(t);const e=I2(t);return e!==t&&(Zm.set(t,e),Dg.set(e,t)),e}const Wm=t=>Dg.get(t);function M2(t,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),m=Er(u);return r&&u.addEventListener("upgradeneeded",g=>{r(Er(u.result),g.oldVersion,g.newVersion,Er(u.transaction),g)}),i&&u.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const k2=["get","getKey","getAll","getAllKeys","count"],P2=["put","add","delete","clear"],Jm=new Map;function GT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=P2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||k2.includes(i)))return;const c=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&g.done]))[0]};return Jm.set(e,c),c}D2(t=>({...t,get:(e,i,r)=>GT(e,i)||t.get(e,i,r),has:(e,i)=>!!GT(e,i)||t.has(e,i)}));class O2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L2(t){return t.getComponent()?.type==="VERSION"}const jp="@firebase/app",KT="0.14.6";const Ms=new JS("@firebase/app"),U2="@firebase/app-compat",z2="@firebase/analytics-compat",B2="@firebase/analytics",q2="@firebase/app-check-compat",F2="@firebase/app-check",H2="@firebase/auth",G2="@firebase/auth-compat",K2="@firebase/database",Y2="@firebase/data-connect",Q2="@firebase/database-compat",X2="@firebase/functions",$2="@firebase/functions-compat",Z2="@firebase/installations",W2="@firebase/installations-compat",J2="@firebase/messaging",ej="@firebase/messaging-compat",tj="@firebase/performance",nj="@firebase/performance-compat",ij="@firebase/remote-config",sj="@firebase/remote-config-compat",rj="@firebase/storage",aj="@firebase/storage-compat",oj="@firebase/firestore",lj="@firebase/ai",cj="@firebase/firestore-compat",uj="firebase",hj="12.6.0";const Dp="[DEFAULT]",dj={[jp]:"fire-core",[U2]:"fire-core-compat",[B2]:"fire-analytics",[z2]:"fire-analytics-compat",[F2]:"fire-app-check",[q2]:"fire-app-check-compat",[H2]:"fire-auth",[G2]:"fire-auth-compat",[K2]:"fire-rtdb",[Y2]:"fire-data-connect",[Q2]:"fire-rtdb-compat",[X2]:"fire-fn",[$2]:"fire-fn-compat",[Z2]:"fire-iid",[W2]:"fire-iid-compat",[J2]:"fire-fcm",[ej]:"fire-fcm-compat",[tj]:"fire-perf",[nj]:"fire-perf-compat",[ij]:"fire-rc",[sj]:"fire-rc-compat",[rj]:"fire-gcs",[aj]:"fire-gcs-compat",[oj]:"fire-fst",[cj]:"fire-fst-compat",[lj]:"fire-vertex","fire-js":"fire-js",[uj]:"fire-js-all"};const Kh=new Map,fj=new Map,Vp=new Map;function YT(t,e){try{t.container.addComponent(e)}catch(i){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Yh(t){const e=t.name;if(Vp.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,t);for(const i of Kh.values())YT(i,t);for(const i of fj.values())YT(i,t);return!0}function mj(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function pj(t){return t==null?!1:t.settings!==void 0}const gj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new WS("app","Firebase",gj);class yj{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const vj=hj;function nb(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r={name:Dp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(i||(i=ZS()),!i)throw xr.create("no-options");const c=Kh.get(o);if(c){if(Gh(i,c.options)&&Gh(r,c.config))return c;throw xr.create("duplicate-app",{appName:o})}const u=new E2(o);for(const g of Vp.values())u.addComponent(g);const m=new yj(i,r,u);return Kh.set(o,m),m}function _j(t=Dp){const e=Kh.get(t);if(!e&&t===Dp&&ZS())return nb();if(!e)throw xr.create("no-app",{appName:t});return e}function Ro(t,e,i){let r=dj[t]??t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(u.join(" "));return}Yh(new pc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Tj="firebase-heartbeat-database",Ej=1,gc="firebase-heartbeat-store";let ep=null;function ib(){return ep||(ep=M2(Tj,Ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gc)}catch(i){console.warn(i)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),ep}async function xj(t){try{const i=(await ib()).transaction(gc),r=await i.objectStore(gc).get(sb(t));return await i.done,r}catch(e){if(e instanceof Uo)Ms.warn(e.message);else{const i=xr.create("idb-get",{originalErrorMessage:e?.message});Ms.warn(i.message)}}}async function QT(t,e){try{const r=(await ib()).transaction(gc,"readwrite");await r.objectStore(gc).put(e,sb(t)),await r.done}catch(i){if(i instanceof Uo)Ms.warn(i.message);else{const r=xr.create("idb-set",{originalErrorMessage:i?.message});Ms.warn(r.message)}}}function sb(t){return`${t.name}!${t.options.appId}`}const Sj=1024,bj=30;class Aj{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Rj(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=XT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>bj){const o=Cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XT(),{heartbeatsToSend:i,unsentEntries:r}=wj(this._heartbeatsCache.heartbeats),o=Hh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ms.warn(e),""}}}function XT(){return new Date().toISOString().substring(0,10)}function wj(t,e=Sj){const i=[];let r=t.slice();for(const o of t){const c=i.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),$T(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$T(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f2()?m2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xj(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $T(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}function Cj(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}function Nj(t){Yh(new pc("platform-logger",e=>new O2(e),"PRIVATE")),Yh(new pc("heartbeat",e=>new Aj(e),"PRIVATE")),Ro(jp,KT,t),Ro(jp,KT,"esm2020"),Ro("fire-js","")}Nj("");var ZT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,rb;(function(){var t;function e(C,A){function j(){}j.prototype=A.prototype,C.F=A.prototype,C.prototype=new j,C.prototype.constructor=C,C.D=function(L,P,F){for(var I=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)I[Ue-2]=arguments[Ue];return A.prototype[P].apply(L,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,j){j||(j=0);const L=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)L[P]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(P=0;P<16;++P)L[P]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=C.g[0],j=C.g[1],P=C.g[2];let F=C.g[3],I;I=A+(F^j&(P^F))+L[0]+3614090360&4294967295,A=j+(I<<7&4294967295|I>>>25),I=F+(P^A&(j^P))+L[1]+3905402710&4294967295,F=A+(I<<12&4294967295|I>>>20),I=P+(j^F&(A^j))+L[2]+606105819&4294967295,P=F+(I<<17&4294967295|I>>>15),I=j+(A^P&(F^A))+L[3]+3250441966&4294967295,j=P+(I<<22&4294967295|I>>>10),I=A+(F^j&(P^F))+L[4]+4118548399&4294967295,A=j+(I<<7&4294967295|I>>>25),I=F+(P^A&(j^P))+L[5]+1200080426&4294967295,F=A+(I<<12&4294967295|I>>>20),I=P+(j^F&(A^j))+L[6]+2821735955&4294967295,P=F+(I<<17&4294967295|I>>>15),I=j+(A^P&(F^A))+L[7]+4249261313&4294967295,j=P+(I<<22&4294967295|I>>>10),I=A+(F^j&(P^F))+L[8]+1770035416&4294967295,A=j+(I<<7&4294967295|I>>>25),I=F+(P^A&(j^P))+L[9]+2336552879&4294967295,F=A+(I<<12&4294967295|I>>>20),I=P+(j^F&(A^j))+L[10]+4294925233&4294967295,P=F+(I<<17&4294967295|I>>>15),I=j+(A^P&(F^A))+L[11]+2304563134&4294967295,j=P+(I<<22&4294967295|I>>>10),I=A+(F^j&(P^F))+L[12]+1804603682&4294967295,A=j+(I<<7&4294967295|I>>>25),I=F+(P^A&(j^P))+L[13]+4254626195&4294967295,F=A+(I<<12&4294967295|I>>>20),I=P+(j^F&(A^j))+L[14]+2792965006&4294967295,P=F+(I<<17&4294967295|I>>>15),I=j+(A^P&(F^A))+L[15]+1236535329&4294967295,j=P+(I<<22&4294967295|I>>>10),I=A+(P^F&(j^P))+L[1]+4129170786&4294967295,A=j+(I<<5&4294967295|I>>>27),I=F+(j^P&(A^j))+L[6]+3225465664&4294967295,F=A+(I<<9&4294967295|I>>>23),I=P+(A^j&(F^A))+L[11]+643717713&4294967295,P=F+(I<<14&4294967295|I>>>18),I=j+(F^A&(P^F))+L[0]+3921069994&4294967295,j=P+(I<<20&4294967295|I>>>12),I=A+(P^F&(j^P))+L[5]+3593408605&4294967295,A=j+(I<<5&4294967295|I>>>27),I=F+(j^P&(A^j))+L[10]+38016083&4294967295,F=A+(I<<9&4294967295|I>>>23),I=P+(A^j&(F^A))+L[15]+3634488961&4294967295,P=F+(I<<14&4294967295|I>>>18),I=j+(F^A&(P^F))+L[4]+3889429448&4294967295,j=P+(I<<20&4294967295|I>>>12),I=A+(P^F&(j^P))+L[9]+568446438&4294967295,A=j+(I<<5&4294967295|I>>>27),I=F+(j^P&(A^j))+L[14]+3275163606&4294967295,F=A+(I<<9&4294967295|I>>>23),I=P+(A^j&(F^A))+L[3]+4107603335&4294967295,P=F+(I<<14&4294967295|I>>>18),I=j+(F^A&(P^F))+L[8]+1163531501&4294967295,j=P+(I<<20&4294967295|I>>>12),I=A+(P^F&(j^P))+L[13]+2850285829&4294967295,A=j+(I<<5&4294967295|I>>>27),I=F+(j^P&(A^j))+L[2]+4243563512&4294967295,F=A+(I<<9&4294967295|I>>>23),I=P+(A^j&(F^A))+L[7]+1735328473&4294967295,P=F+(I<<14&4294967295|I>>>18),I=j+(F^A&(P^F))+L[12]+2368359562&4294967295,j=P+(I<<20&4294967295|I>>>12),I=A+(j^P^F)+L[5]+4294588738&4294967295,A=j+(I<<4&4294967295|I>>>28),I=F+(A^j^P)+L[8]+2272392833&4294967295,F=A+(I<<11&4294967295|I>>>21),I=P+(F^A^j)+L[11]+1839030562&4294967295,P=F+(I<<16&4294967295|I>>>16),I=j+(P^F^A)+L[14]+4259657740&4294967295,j=P+(I<<23&4294967295|I>>>9),I=A+(j^P^F)+L[1]+2763975236&4294967295,A=j+(I<<4&4294967295|I>>>28),I=F+(A^j^P)+L[4]+1272893353&4294967295,F=A+(I<<11&4294967295|I>>>21),I=P+(F^A^j)+L[7]+4139469664&4294967295,P=F+(I<<16&4294967295|I>>>16),I=j+(P^F^A)+L[10]+3200236656&4294967295,j=P+(I<<23&4294967295|I>>>9),I=A+(j^P^F)+L[13]+681279174&4294967295,A=j+(I<<4&4294967295|I>>>28),I=F+(A^j^P)+L[0]+3936430074&4294967295,F=A+(I<<11&4294967295|I>>>21),I=P+(F^A^j)+L[3]+3572445317&4294967295,P=F+(I<<16&4294967295|I>>>16),I=j+(P^F^A)+L[6]+76029189&4294967295,j=P+(I<<23&4294967295|I>>>9),I=A+(j^P^F)+L[9]+3654602809&4294967295,A=j+(I<<4&4294967295|I>>>28),I=F+(A^j^P)+L[12]+3873151461&4294967295,F=A+(I<<11&4294967295|I>>>21),I=P+(F^A^j)+L[15]+530742520&4294967295,P=F+(I<<16&4294967295|I>>>16),I=j+(P^F^A)+L[2]+3299628645&4294967295,j=P+(I<<23&4294967295|I>>>9),I=A+(P^(j|~F))+L[0]+4096336452&4294967295,A=j+(I<<6&4294967295|I>>>26),I=F+(j^(A|~P))+L[7]+1126891415&4294967295,F=A+(I<<10&4294967295|I>>>22),I=P+(A^(F|~j))+L[14]+2878612391&4294967295,P=F+(I<<15&4294967295|I>>>17),I=j+(F^(P|~A))+L[5]+4237533241&4294967295,j=P+(I<<21&4294967295|I>>>11),I=A+(P^(j|~F))+L[12]+1700485571&4294967295,A=j+(I<<6&4294967295|I>>>26),I=F+(j^(A|~P))+L[3]+2399980690&4294967295,F=A+(I<<10&4294967295|I>>>22),I=P+(A^(F|~j))+L[10]+4293915773&4294967295,P=F+(I<<15&4294967295|I>>>17),I=j+(F^(P|~A))+L[1]+2240044497&4294967295,j=P+(I<<21&4294967295|I>>>11),I=A+(P^(j|~F))+L[8]+1873313359&4294967295,A=j+(I<<6&4294967295|I>>>26),I=F+(j^(A|~P))+L[15]+4264355552&4294967295,F=A+(I<<10&4294967295|I>>>22),I=P+(A^(F|~j))+L[6]+2734768916&4294967295,P=F+(I<<15&4294967295|I>>>17),I=j+(F^(P|~A))+L[13]+1309151649&4294967295,j=P+(I<<21&4294967295|I>>>11),I=A+(P^(j|~F))+L[4]+4149444226&4294967295,A=j+(I<<6&4294967295|I>>>26),I=F+(j^(A|~P))+L[11]+3174756917&4294967295,F=A+(I<<10&4294967295|I>>>22),I=P+(A^(F|~j))+L[2]+718787259&4294967295,P=F+(I<<15&4294967295|I>>>17),I=j+(F^(P|~A))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const j=A-this.blockSize,L=this.C;let P=this.h,F=0;for(;F<A;){if(P==0)for(;F<=j;)o(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<A;)if(L[P++]=C.charCodeAt(F++),P==this.blockSize){o(this,L),P=0;break}}else for(;F<A;)if(L[P++]=C[F++],P==this.blockSize){o(this,L),P=0;break}}this.h=P,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var j=C.length-8;j<C.length;++j)C[j]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,j=0;j<4;++j)for(let L=0;L<32;L+=8)C[A++]=this.g[j]>>>L&255;return C};function c(C,A){var j=m;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=A(C)}function u(C,A){this.h=A;const j=[];let L=!0;for(let P=C.length-1;P>=0;P--){const F=C[P]|0;L&&F==A||(j[P]=F,L=!1)}this.g=j}var m={};function g(C){return-128<=C&&C<128?c(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return M(y(-C));const A=[];let j=1;for(let L=0;C>=j;L++)A[L]=C/j|0,j*=4294967296;return new u(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return M(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(A,8));let L=T;for(let F=0;F<C.length;F+=8){var P=Math.min(8,C.length-F);const I=parseInt(C.substring(F,F+P),A);P<8?(P=y(Math.pow(A,P)),L=L.j(P).add(y(I))):(L=L.j(j),L=L.add(y(I)))}return L}var T=g(0),S=g(1),w=g(16777216);t=u.prototype,t.m=function(){if(V(this))return-M(this).m();let C=0,A=1;for(let j=0;j<this.g.length;j++){const L=this.i(j);C+=(L>=0?L:4294967296+L)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(V(this))return"-"+M(this).toString(C);const A=y(Math.pow(C,6));var j=this;let L="";for(;;){const P=de(j,A).g;j=k(j,P.j(A));let F=((j.g.length>0?j.g[0]:j.h)>>>0).toString(C);if(j=P,D(j))return F+L;for(;F.length<6;)F="0"+F;L=F+L}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function V(C){return C.h==-1}t.l=function(C){return C=k(this,C),V(C)?-1:D(C)?0:1};function M(C){const A=C.g.length,j=[];for(let L=0;L<A;L++)j[L]=~C.g[L];return new u(j,~C.h).add(S)}t.abs=function(){return V(this)?M(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),j=[];let L=0;for(let P=0;P<=A;P++){let F=L+(this.i(P)&65535)+(C.i(P)&65535),I=(F>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);L=I>>>16,F&=65535,I&=65535,j[P]=I<<16|F}return new u(j,j[j.length-1]&-2147483648?-1:0)};function k(C,A){return C.add(M(A))}t.j=function(C){if(D(this)||D(C))return T;if(V(this))return V(C)?M(this).j(M(C)):M(M(this).j(C));if(V(C))return M(this.j(M(C)));if(this.l(w)<0&&C.l(w)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,j=[];for(var L=0;L<2*A;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<C.g.length;P++){const F=this.i(L)>>>16,I=this.i(L)&65535,Ue=C.i(P)>>>16,ve=C.i(P)&65535;j[2*L+2*P]+=I*ve,q(j,2*L+2*P),j[2*L+2*P+1]+=F*ve,q(j,2*L+2*P+1),j[2*L+2*P+1]+=I*Ue,q(j,2*L+2*P+1),j[2*L+2*P+2]+=F*Ue,q(j,2*L+2*P+2)}for(C=0;C<A;C++)j[C]=j[2*C+1]<<16|j[2*C];for(C=A;C<2*A;C++)j[C]=0;return new u(j,0)};function q(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function H(C,A){this.g=C,this.h=A}function de(C,A){if(D(A))throw Error("division by zero");if(D(C))return new H(T,T);if(V(C))return A=de(M(C),A),new H(M(A.g),M(A.h));if(V(A))return A=de(C,M(A)),new H(M(A.g),A.h);if(C.g.length>30){if(V(C)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var j=S,L=A;L.l(C)<=0;)j=ee(j),L=ee(L);var P=ue(j,1),F=ue(L,1);for(L=ue(L,2),j=ue(j,2);!D(L);){var I=F.add(L);I.l(C)<=0&&(P=P.add(j),F=I),L=ue(L,1),j=ue(j,1)}return A=k(C,P.j(A)),new H(P,A)}for(P=T;C.l(A)>=0;){for(j=Math.max(1,Math.floor(C.m()/A.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),F=y(j),I=F.j(A);V(I)||I.l(C)>0;)j-=L,F=y(j),I=F.j(A);D(F)&&(F=S),P=P.add(F),C=k(C,I)}return new H(P,C)}t.B=function(C){return de(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),j=[];for(let L=0;L<A;L++)j[L]=this.i(L)&C.i(L);return new u(j,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),j=[];for(let L=0;L<A;L++)j[L]=this.i(L)|C.i(L);return new u(j,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),j=[];for(let L=0;L<A;L++)j[L]=this.i(L)^C.i(L);return new u(j,this.h^C.h)};function ee(C){const A=C.g.length+1,j=[];for(let L=0;L<A;L++)j[L]=C.i(L)<<1|C.i(L-1)>>>31;return new u(j,C.h)}function ue(C,A){const j=A>>5;A%=32;const L=C.g.length-j,P=[];for(let F=0;F<L;F++)P[F]=A>0?C.i(F+j)>>>A|C.i(F+j+1)<<32-A:C.i(F+j);return new u(P,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,Sr=u}).apply(typeof ZT<"u"?ZT:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ab,Zl,ob,Vh,Ip,lb,cb,ub;(function(){var t,e=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=i(this);function o(h,_){if(_)e:{var x=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var K=h[R];if(!(K in x))break e;x=x[K]}h=h[h.length-1],R=x[h],_=_(R),_!=R&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var x=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&x.push([R,_[R]]);return x}});var c=c||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,x){return h.call.apply(h.bind,arguments)}function y(h,_,x){return y=g,y.apply(null,arguments)}function v(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function T(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(R,K,W){for(var me=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)me[ke-2]=arguments[ke];return _.prototype[K].apply(R,me)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const x=Array(_);for(let R=0;R<_;R++)x[R]=h[R];return x}return[]}function D(h,_){for(let R=1;R<arguments.length;R++){const K=arguments[R];var x=typeof K;if(x=x!="object"?x:K?Array.isArray(K)?"array":x:"null",x=="array"||x=="object"&&typeof K.length=="number"){x=h.length||0;const W=K.length||0;h.length=x+W;for(let me=0;me<W;me++)h[x+me]=K[me]}else h.push(K)}}class V{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){u.setTimeout(()=>{throw h},0)}function k(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,x){const R=H.get();R.set(_,x),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new V(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ue=!1,C=new q,A=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(j)}};function j(){for(var h;h=k();){try{h.h.call(h.g)}catch(x){M(x)}var _=H;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ue=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,_),u.removeEventListener("test",x,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Ue(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}T(Ue,P),Ue.prototype.init=function(h,_){const x=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),Z=0;function he(h,_,x,R,K){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!R,this.ha=K,this.key=++Z,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h,_,x){for(const R in h)_.call(x,h[R],R,h)}function Ce(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function z(h){const _={};for(const x in h)_[x]=h[x];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,_){let x,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(x in R)h[x]=R[x];for(let W=0;W<ne.length;W++)x=ne[W],Object.prototype.hasOwnProperty.call(R,x)&&(h[x]=R[x])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,x,R,K){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const me=fe(h,_,R,K);return me>-1?(_=h[me],x||(_.fa=!1)):(_=new he(_,this.src,W,!!R,K),_.fa=x,h.push(_)),_};function ce(h,_){const x=_.type;if(x in h.g){var R=h.g[x],K=Array.prototype.indexOf.call(R,_,void 0),W;(W=K>=0)&&Array.prototype.splice.call(R,K,1),W&&(ge(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function fe(h,_,x,R){for(let K=0;K<h.length;++K){const W=h[K];if(!W.da&&W.listener==_&&W.capture==!!x&&W.ha==R)return K}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),De={};function Oe(h,_,x,R,K){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Oe(h,_[W],x,R,K);return null}return x=Or(x),h&&h[ve]?h.J(_,x,m(R)?!!R.capture:!1,K):jt(h,_,x,!1,R,K)}function jt(h,_,x,R,K,W){if(!_)throw Error("Invalid event type");const me=m(K)?!!K.capture:!!K;let ke=Ri(h);if(ke||(h[Re]=ke=new oe(h)),x=ke.add(_,x,R,me,W),x.proxy)return x;if(R=Yt(),x.proxy=R,R.src=h,R.listener=x,h.addEventListener)F||(K=me),K===void 0&&(K=!1),h.addEventListener(_.toString(),R,K);else if(h.attachEvent)h.attachEvent(yn(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Yt(){function h(x){return _.call(h.src,h.listener,x)}const _=wi;return h}function un(h,_,x,R,K){if(Array.isArray(_))for(var W=0;W<_.length;W++)un(h,_[W],x,R,K);else R=m(R)?!!R.capture:!!R,x=Or(x),h&&h[ve]?(h=h.i,W=String(_).toString(),W in h.g&&(_=h.g[W],x=fe(_,x,R,K),x>-1&&(ge(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[W],h.h--)))):h&&(h=Ri(h))&&(_=h.g[_.toString()],h=-1,_&&(h=fe(_,x,R,K)),(x=h>-1?_[h]:null)&&gn(x))}function gn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ve])ce(_.i,h);else{var x=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(x,R,h.capture):_.detachEvent?_.detachEvent(yn(x),R):_.addListener&&_.removeListener&&_.removeListener(R),(x=Ri(_))?(ce(x,h),x.h==0&&(x.src=null,_[Re]=null)):ge(h)}}}function yn(h){return h in De?De[h]:De[h]="on"+h}function wi(h,_){if(h.da)h=!0;else{_=new Ue(_,this);const x=h.listener,R=h.ha||h.src;h.fa&&gn(h),h=x.call(R,_)}return h}function Ri(h){return h=h[Re],h instanceof oe?h:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(h){return typeof h=="function"?h:(h[Pr]||(h[Pr]=function(_){return h.handleEvent(_)}),h[Pr])}function _t(){L.call(this),this.i=new oe(this),this.M=this,this.G=null}T(_t,L),_t.prototype[ve]=!0,_t.prototype.removeEventListener=function(h,_,x,R){un(this,h,_,x,R)};function bt(h,_){var x,R=h.G;if(R)for(x=[];R;R=R.G)x.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var K=_;_=new P(R,h),U(_,K)}K=!0;let W,me;if(x)for(me=x.length-1;me>=0;me--)W=_.g=x[me],K=Ci(W,R,!0,_)&&K;if(W=_.g=h,K=Ci(W,R,!0,_)&&K,K=Ci(W,R,!1,_)&&K,x)for(me=0;me<x.length;me++)W=_.g=x[me],K=Ci(W,R,!1,_)&&K}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let R=0;R<x.length;R++)ge(x[R]);delete h.g[_],h.h--}}this.G=null},_t.prototype.J=function(h,_,x,R){return this.i.add(String(h),_,!1,x,R)},_t.prototype.K=function(h,_,x,R){return this.i.add(String(h),_,!0,x,R)};function Ci(h,_,x,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let W=0;W<_.length;++W){const me=_[W];if(me&&!me.da&&me.capture==x){const ke=me.listener,wt=me.ha||me.src;me.fa&&ce(h.i,me),K=ke.call(wt,R)!==!1&&K}}return K&&!R.defaultPrevented}function X(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function re(h){h.g=X(()=>{h.g=null,h.i&&(h.i=!1,re(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class pe extends L{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(h){L.call(this),this.h=h,this.g={}}T(_e,L);var Dt=[];function Ra(h){be(h.g,function(_,x){this.g.hasOwnProperty(x)&&gn(_)},h),h.g={}}_e.prototype.N=function(){_e.Z.N.call(this),Ra(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=u.JSON.stringify,Ni=u.JSON.parse,Ca=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Lr(){}function qn(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){P.call(this,"d")}T(Jt,P);function Fn(){P.call(this,"c")}T(Fn,P);var At={},Hc=null;function Na(){return Hc=Hc||new _t}At.Ia="serverreachability";function Gc(h){P.call(this,At.Ia,h)}T(Gc,P);function ji(h){const _=Na();bt(_,new Gc(_))}At.STAT_EVENT="statevent";function Ur(h,_){P.call(this,At.STAT_EVENT,h),this.stat=_}T(Ur,P);function Vt(h){const _=Na();bt(_,new Ur(_,h))}At.Ja="timingevent";function Di(h,_){P.call(this,At.Ja,h),this.size=_}T(Di,P);function Vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Kd(h,_,x,R,K,W){h.info(function(){if(h.g)if(W){var me="",ke=W.split("&");for(let Ze=0;Ze<ke.length;Ze++){var wt=ke[Ze].split("=");if(wt.length>1){const mt=wt[0];wt=wt[1];const Yn=mt.split("_");me=Yn.length>=2&&Yn[1]=="type"?me+(mt+"="+wt+"&"):me+(mt+"=redacted&")}}}else me=null;else me=W;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+_+`
`+x+`
`+me})}function Kc(h,_,x,R,K,W,me){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+_+`
`+x+`
`+W+" "+me})}function Ii(h,_,x,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Yd(h,x)+(R?" "+R:"")})}function zr(h,_){h.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function Yd(h,_){if(!h.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var x=W[h];if(!(x.length<2)){var R=x[1];if(Array.isArray(R)&&!(R.length<1)){var K=R[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<R.length;me++)R[me]=""}}}}return us(W)}catch{return _}}var Br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xo;function qr(){}T(qr,Lr),qr.prototype.g=function(){return new XMLHttpRequest},Xo=new qr;function hs(h){return encodeURIComponent(String(h))}function Yc(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function hi(h,_,x,R){this.j=h,this.i=_,this.l=x,this.S=R||1,this.V=new _e(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var It={},Qt={};function Mi(h,_,x){h.M=1,h.A=Fr(kt(_)),h.u=x,h.R=!0,ja(h,null)}function ja(h,_){h.F=Date.now(),ki(h),h.B=kt(h.A);var x=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Ma(x.i,"t",R),h.C=0,x=h.j.L,h.h=new di,h.g=lu(h.j,x?_:null,!h.u),h.P>0&&(h.O=new pe(y(h.Y,h,h.g),h.P)),_=h.V,x=h.g,R=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Dt[0]=K.toString()),K=Dt);for(let W=0;W<K.length;W++){const me=Oe(x,K[W],R||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),ji(),Kd(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&pi(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const ke=pi(this.g),wt=this.g.ya(),Ze=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||ke!=4||wt==7||(wt==8||Ze<=0?ji(3):ji(2)),Pi(this);var _=this.g.ca();this.X=_;var x=Qd(this);if(this.o=_==200,Kc(this.i,this.v,this.B,this.l,this.S,ke,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,K=this.g;if((R=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(R)){var W=R;break t}}W=null}if(h=W)Ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,Vt(12),Vn(this),Hn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<x.length;)if(mt=Xc(this,x),mt==Qt){ke==4&&(this.m=4,Vt(14),h=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,Vt(15),Ii(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ii(this.i,this.l,mt,null),Oi(this,mt);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||x.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Ii(this.i,this.l,x,"[Invalid Chunked Response]"),Vn(this),Hn(this);else if(x.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ul(me),me.P=!0,Vt(11))}}else Ii(this.i,this.l,x,null),Oi(this,x);ke==4&&Vn(this),this.o&&!this.K&&(ke==4?su(this.j,this):(this.o=!1,ki(this)))}else fs(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Vn(this),Hn(this)}}}catch{}finally{}};function Qd(h){if(!Qc(h))return h.g.la();const _=en(h.g);if(_==="")return"";let x="";const R=_.length,K=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Hn(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<R;W++)h.h.h=!0,x+=h.h.i.decode(_[W],{stream:!(K&&W==R-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function Qc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xc(h,_){var x=h.C,R=_.indexOf(`
`,x);return R==-1?Qt:(x=Number(_.substring(x,R)),isNaN(x)?It:(R+=1,R+x>_.length?Qt:(_=_.slice(R,R+x),h.C=R+x,_)))}hi.prototype.cancel=function(){this.K=!0,Vn(this)};function ki(h){h.T=Date.now()+h.H,Da(h,h.H)}function Da(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Vi(y(h.aa,h),_)}function Pi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(ji(),Vt(17)),Vn(this),this.m=2,Hn(this)):Da(this,this.T-h)};function Hn(h){h.j.I==0||h.K||su(h.j,h)}function Vn(h){Pi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Ra(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Oi(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||Ui(x.h,h))){if(!h.L&&Ui(x.h,h)&&x.I==3){try{var R=x.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)Ua(x),Qs(x);else break e;$r(x),Vt(18)}}else x.xa=K[1],0<x.xa-x.K&&K[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Vi(y(x.Va,x),6e3));Li(x.h)<=1&&x.ta&&(x.ta=void 0)}else Gi(x,11)}else if((h.L||x.g==h)&&Ua(x),!I(_))for(K=x.Ba.g.parse(_),_=0;_<K.length;_++){let Ze=K[_];const mt=Ze[0];if(!(mt<=x.K))if(x.K=mt,Ze=Ze[1],x.I==2)if(Ze[0]=="c"){x.M=Ze[1],x.ba=Ze[2];const Yn=Ze[3];Yn!=null&&(x.ka=Yn,x.j.info("VER="+x.ka));const Ki=Ze[4];Ki!=null&&(x.za=Ki,x.j.info("SVER="+x.za));const gi=Ze[5];gi!=null&&typeof gi=="number"&&gi>0&&(R=1.5*gi,x.O=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const yi=h.g;if(yi){const Zr=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var W=R.h;W.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Wo(W,W.h),W.h=null))}if(R.G){const za=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(R.wa=za,et(R.J,R.G,za))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),R=x;var me=h;if(R.na=ou(R,R.L?R.ba:null,R.W),me.L){Jo(R.h,me);var ke=me,wt=R.O;wt&&(ke.H=wt),ke.D&&(Pi(ke),ki(ke)),R.g=me}else nu(R);x.i.length>0&&Hi(x)}else Ze[0]!="stop"&&Ze[0]!="close"||Gi(x,7);else x.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Gi(x,7):ll(x):Ze[0]!="noop"&&x.l&&x.l.qa(Ze),x.A=0)}}ji(4)}catch{}}var Mt=class{constructor(h,_){this.g=h,this.map=_}};function $o(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Li(h){return h.h?1:h.g?h.g.size:0}function Ui(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Wo(h,_){h.g?h.g.add(_):h.h=_}function Jo(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}$o.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function el(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return w(h.i)}var $c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const R=h[x].indexOf("=");let K,W=null;R>=0?(K=h[x].substring(0,R),W=h[x].substring(R+1)):K=h[x],_(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function In(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof In?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,Bs(this,h.u),this.h=h.h,tl(this,eu(h.i)),this.m=h.m):h&&(_=String(h).match($c))?(this.l=!1,Xt(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),Bs(this,_[4]),this.h=zi(_[5]||"",!0),tl(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Fs(null,this.l))}In.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Hr(_,Ia,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Hr(_,Ia,!0),"@"),h.push(hs(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Hr(x,x.charAt(0)=="/"?nl:Zc,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Hr(x,Wc)),h.join("")},In.prototype.resolve=function(h){const _=kt(this);let x=!!h.j;x?Xt(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var R=h.h;if(x)Bs(_,h.u);else if(x=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var K=_.h.lastIndexOf("/");K!=-1&&(R=_.h.slice(0,K+1)+R)}if(K=R,K==".."||K==".")R="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){R=K.lastIndexOf("/",0)==0,K=K.split("/");const W=[];for(let me=0;me<K.length;){const ke=K[me++];ke=="."?R&&me==K.length&&W.push(""):ke==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&me==K.length&&W.push("")):(W.push(ke),R=!0)}R=W.join("/")}else R=K}return x?_.h=R:x=h.i.toString()!=="",x?tl(_,eu(h.i)):x=!!h.m,x&&(_.m=h.m),_};function kt(h){return new In(h)}function Xt(h,_,x){h.j=x?zi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Bs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function tl(h,_,x){_ instanceof Fs?(h.i=_,ka(h.i,h.l)):(x||(_=Hr(_,qs)),h.i=new Fs(_,h.l))}function et(h,_,x){h.i.set(_,x)}function Fr(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hr(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,xn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ia=/[#\/\?@]/g,Zc=/[#\?:]/g,nl=/[#\?]/g,qs=/[#\?@]/g,Wc=/#/g;function Fs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&Va(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=Fs.prototype,t.add=function(h,_){Sn(this),this.i=null,h=Hs(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function Jc(h,_){Sn(h),_=Hs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function il(h,_){return Sn(h),_=Hs(h,_),h.g.has(_)}t.forEach=function(h,_){Sn(this),this.g.forEach(function(x,R){x.forEach(function(K){h.call(_,K,R,this)},this)},this)};function sl(h,_){Sn(h);let x=[];if(typeof _=="string")il(h,_)&&(x=x.concat(h.g.get(Hs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}t.set=function(h,_){return Sn(this),this.i=null,h=Hs(this,h),il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=sl(this,h),h.length>0?String(h[0]):_):_};function Ma(h,_,x){Jc(h,_),x.length>0&&(h.i=null,h.g.set(Hs(h,_),w(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var x=_[R];const K=hs(x);x=sl(this,x);for(let W=0;W<x.length;W++){let me=K;x[W]!==""&&(me+="="+hs(x[W])),h.push(me)}}return this.i=h.join("&")};function eu(h){const _=new Fs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Hs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ka(h,_){_&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(x,R){const K=R.toLowerCase();R!=K&&(Jc(this,R),Ma(this,K,x))},h)),h.j=_}function fi(h,_){const x=new ui;if(u.Image){const R=new Image;R.onload=v(Gn,x,"TestLoadImage: loaded",!0,_,R),R.onerror=v(Gn,x,"TestLoadImage: error",!1,_,R),R.onabort=v(Gn,x,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(Gn,x,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function rl(h,_){const x=new ui,R=new AbortController,K=setTimeout(()=>{R.abort(),Gn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(K),W.ok?Gn(x,"TestPingServer: ok",!0,_):Gn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Gn(x,"TestPingServer: error",!1,_)})}function Gn(h,_,x,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(x)}catch{}}function Gs(){this.g=new Ca}function Bi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Bi,Lr),Bi.prototype.g=function(){return new Gr(this.i,this.h)};function Gr(h,_){_t.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Gr,_t),t=Gr.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ks(this):mi(this),this.readyState==3&&Pa(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ks(this))},t.Na=function(h){this.g&&(this.response=h,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let _="";return be(h,function(x,R){_+=R,_+=":",_+=x,_+=`\r
`}),_}function Kr(h,_,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=Kn(x),typeof h=="string"?x!=null&&hs(x):et(h,_,x))}function it(h){_t.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(it,_t);var qi=/^https?$/i,al=["POST","PUT"];t=it.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(W){Yr(this,W);return}if(h=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)x.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())x.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(al,_,void 0)>=0)||R||K||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of x)this.g.setRequestHeader(W,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Yr(this,W)}};function Yr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,ol(h),ds(h)}function ol(h){h.A||(h.A=!0,bt(h,"complete"),bt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,bt(this,"complete"),bt(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},t.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof c<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(bt(h,"readystatechange"),pi(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var R;if(R=W===0){let me=String(h.D).match($c)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),R=!qi.test(me?me.toLowerCase():"")}x=R}if(x)bt(h,"complete"),bt(h,"success");else{h.o=6;try{var K=pi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",ol(h)}}finally{ds(h)}}}}function ds(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||bt(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ni(_)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const _={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(I(h[R]))continue;var x=Yc(h[R]);const K=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=_[K]||[];_[K]=W,W.push(x)}Ce(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Ys(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(h&&h.concurrentRequestLimit),this.Ba=new Gs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ys.prototype,t.ka=8,t.I=1,t.connect=function(h,_,x,R){Vt(0),this.W=h,this.H=_||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.J=ou(this,null,this.W),Hi(this)};function ll(h){if(Oa(h),h.I==3){var _=h.V++,x=kt(h.J);if(et(x,"SID",h.M),et(x,"RID",_),et(x,"TYPE","terminate"),Xr(h,x),_=new hi(h,h.j,_),_.M=2,_.A=Fr(kt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=_.A,x=!0),x||(_.g=lu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ki(_)}au(h)}function Qs(h){h.g&&(ul(h),h.g.cancel(),h.g=null)}function Oa(h){Qs(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ua(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Hi(h){if(!Zo(h.h)&&!h.m){h.m=!0;var _=h.Ea;ee||A(),ue||(ee(),ue=!0),C.add(_,h),h.D=0}}function La(h,_){return Li(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Vi(y(h.Ea,h,_),ru(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new hi(this,this.j,h);let W=this.o;if(this.U&&(W?(W=z(W),U(W,this.U)):W=this.U),this.u!==null||this.R||(K.J=W,W=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=tu(this,K,_),x=kt(this.J),et(x,"RID",h),et(x,"CVER",22),this.G&&et(x,"X-HTTP-Session-Id",this.G),Xr(this,x),W&&(this.R?_="headers="+hs(Kn(W))+"&"+_:this.u&&Kr(x,this.u,W)),Wo(this.h,K),this.Ra&&et(x,"TYPE","init"),this.S?(et(x,"$req",_),et(x,"SID","null"),K.U=!0,Mi(K,x,null)):Mi(K,x,_),this.I=2}}else this.I==3&&(h?cl(this,h):this.i.length==0||Zo(this.h)||cl(this))};function cl(h,_){var x;_?x=_.l:x=h.V++;const R=kt(h.J);et(R,"SID",h.M),et(R,"RID",x),et(R,"AID",h.K),Xr(h,R),h.u&&h.o&&Kr(R,h.u,h.o),x=new hi(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=tu(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wo(h.h,x),Mi(x,R,_)}function Xr(h,_){h.H&&be(h.H,function(x,R){et(_,R,x)}),h.l&&be({},function(x,R){et(_,R,x)})}function tu(h,_,x){x=Math.min(h.i.length,x);const R=h.l?y(h.l.Ka,h.l,h):null;e:{var K=h.i;let ke=-1;for(;;){const wt=["count="+x];ke==-1?x>0?(ke=K[0].g,wt.push("ofs="+ke)):ke=0:wt.push("ofs="+ke);let Ze=!0;for(let mt=0;mt<x;mt++){var W=K[mt].g;const Yn=K[mt].map;if(W-=ke,W<0)ke=Math.max(0,K[mt].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var me=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ki,gi]of me){let yi=gi;m(gi)&&(yi=us(gi)),wt.push(W+Ki+"="+encodeURIComponent(yi))}}catch(Ki){throw wt.push(W+"type="+encodeURIComponent("_badmap")),Ki}}catch{R&&R(Yn)}}if(Ze){me=wt.join("&");break e}}me=void 0}return h=h.i.splice(0,x),_.G=h,me}function nu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ee||A(),ue||(ee(),ue=!0),C.add(_,h),h.A=0}}function $r(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Vi(y(h.Da,h),ru(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Vi(y(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Qs(this),iu(this))};function ul(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function iu(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=kt(h.na);et(_,"RID","rpc"),et(_,"SID",h.M),et(_,"AID",h.K),et(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(_,"TO",h.ia),et(_,"TYPE","xmlhttp"),Xr(h,_),h.u&&h.o&&Kr(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Fr(kt(_)),x.u=null,x.R=!0,ja(x,h)}t.Va=function(){this.C!=null&&(this.C=null,Qs(this),$r(this),Vt(19))};function Ua(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function su(h,_){var x=null;if(h.g==_){Ua(h),ul(h),h.g=null;var R=2}else if(Ui(h.h,_))x=_.G,Jo(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;R=Na(),bt(R,new Di(R,x)),Hi(h)}else nu(h);else if(K=_.m,K==3||K==0&&_.X>0||!(R==1&&La(h,_)||R==2&&$r(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),K){case 1:Gi(h,5);break;case 4:Gi(h,10);break;case 3:Gi(h,6);break;default:Gi(h,2)}}}function ru(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function Gi(h,_){if(h.j.info("Error code "+_),_==2){var x=y(h.bb,h),R=h.Ua;const K=!R;R=new In(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xt(R,"https"),Fr(R),K?fi(R.toString(),x):rl(R.toString(),x)}else Vt(2);h.I=0,h.l&&h.l.pa(_),au(h),Oa(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function au(h){if(h.I=0,h.ja=[],h.l){const _=el(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function ou(h,_,x){var R=x instanceof In?kt(x):new In(x);if(R.g!="")_&&(R.g=_+"."+R.g),Bs(R,R.u);else{var K=u.location;R=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const W=new In(null);R&&Xt(W,R),_&&(W.g=_),K&&Bs(W,K),x&&(W.h=x),R=W}return x=h.G,_=h.wa,x&&_&&et(R,x,_),et(R,"VER",h.ka),Xr(h,R),R}function lu(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new it(new Bi({ab:x})):new it(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}t=cu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xs(){}Xs.prototype.g=function(h,_){return new vn(h,_)};function vn(h,_){_t.call(this),this.g=new Ys(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ms(this)}T(vn,_t),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ll(this.g)},vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=us(h),h=x);_.i.push(new Mt(_.Ya++,h)),_.I==3&&Hi(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,vn.Z.N.call(this)};function uu(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}T(uu,Jt);function hu(){Fn.call(this),this.status=1}T(hu,Fn);function ms(h){this.g=h}T(ms,cu),ms.prototype.ra=function(){bt(this.g,"a")},ms.prototype.qa=function(h){bt(this.g,new uu(h))},ms.prototype.pa=function(h){bt(this.g,new hu)},ms.prototype.oa=function(){bt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,ub=function(){return new Xs},cb=function(){return Na()},lb=At,Ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Vh=Br,Qo.COMPLETE="complete",ob=Qo,qn.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Zl=qn,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,ab=it}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const WT="@firebase/firestore",JT="4.9.3";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let zo="12.7.0";const xa=new JS("@firebase/firestore");function yo(){return xa.logLevel}function Te(t,...e){if(xa.logLevel<=Qe.DEBUG){const i=e.map(Vg);xa.debug(`Firestore (${zo}): ${t}`,...i)}}function ks(t,...e){if(xa.logLevel<=Qe.ERROR){const i=e.map(Vg);xa.error(`Firestore (${zo}): ${t}`,...i)}}function jo(t,...e){if(xa.logLevel<=Qe.WARN){const i=e.map(Vg);xa.warn(`Firestore (${zo}): ${t}`,...i)}}function Vg(t){if(typeof t=="string")return t;try{return(function(i){return JSON.stringify(i)})(t)}catch{return t}}function je(t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,hb(t,r,i)}function hb(t,e,i){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ks(r),new Error(r)}function Je(t,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,t||hb(e,o,r)}function Me(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Uo{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class db{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class Dj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Vj{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ds,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ds)}}),0),u()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new db(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class Ij{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mj{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Ij(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kj{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pj(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=c=>{c.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new eE(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Pj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<t;r++)i[r]=Math.floor(256*Math.random());return i}class Ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Pj(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Mp(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.charAt(r),c=e.charAt(r);if(o!==c)return tp(o)===tp(c)?He(o,c):tp(o)?1:-1}return He(t.length,e.length)}const Oj=55296,Lj=57343;function tp(t){const e=t.charCodeAt(0);return e>=Oj&&e<=Lj}function Do(t,e,i){return t.length===e.length&&t.every(((r,o)=>i(r,e[o])))}const tE="__name__";class Zi{constructor(e,i,r){i===void 0?i=0:i>e.length&&je(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&je(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const r=Zi.isNumericId(e),o=Zi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Zi.extractNumericId(e).compare(Zi.extractNumericId(i)):Mp(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class ct extends Zi{construct(e,i,r){return new ct(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ct(i)}static emptyPath(){return new ct([])}}const Uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Zi{construct(e,i,r){return new ln(e,i,r)}static isValidIdentifier(e){return Uj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new ln([tE])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(r+=m,o++):(c(),o++)}if(c(),u)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(ct.fromString(e))}static fromName(e){return new we(ct.fromString(e).popFirst(5))}static empty(){return new we(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ct(e.slice()))}}function fb(t,e,i){if(!i)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zj(t,e,i,r){if(e===!0&&r===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function nE(t){if(!we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iE(t){if(we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yd(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function Bj(t,e){if(e<=0)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Ft(t,e){const i={typeString:t};return e&&(i.value=e),i}function Mc(t,e){if(!mb(t))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){i=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ye(se.INVALID_ARGUMENT,i);return!0}const sE=-62135596800,rE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*rE);return new ot(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<sE)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ft("string",ot._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new ot(0,0))}static max(){return new Ve(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yc=-1;function qj(t,e){const i=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new ot(i+1,0):new ot(i,r));return new Ar(o,we.empty(),e)}function Fj(t){return new Ar(t.readTime,t.key,yc)}class Ar{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ar(Ve.min(),we.empty(),yc)}static max(){return new Ar(Ve.max(),we.empty(),yc)}}function Hj(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(t.documentKey,e.documentKey),i!==0?i:He(t.largestBatchId,e.largestBatchId))}const Gj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bo(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==Gj)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new le(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof le?i:le.resolve(i)}catch(i){return le.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):le.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):le.reject(i)}static resolve(e){return new le(((i,r)=>{i(e)}))}static reject(e){return new le(((i,r)=>{r(e)}))}static waitFor(e){return new le(((i,r)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&i()}),(g=>r(g)))})),u=!0,c===o&&i()}))}static or(e){let i=le.resolve(!1);for(const r of e)i=i.next((o=>o?le.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new le(((r,o)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((v=>{u[y]=v,++m,m===c&&r(u)}),(v=>o(v)))}}))}static doWhile(e,i){return new le(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function Yj(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qo(t){return t.name==="IndexedDbTransactionError"}class vd{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;const Mg=-1;function _d(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function Qj(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const pb="";function Xj(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=aE(e)),e=$j(t.get(i),e);return aE(e)}function $j(t,e){let i=e;const r=t.length;for(let o=0;o<r;o++){const c=t.charAt(o);switch(c){case"\0":i+="";break;case pb:i+="";break;default:i+=c}}return i}function aE(t){return t+pb+""}function oE(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Ir(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new on(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new lE(this.data.getIterator())}getIteratorFrom(e){return new lE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Kt(this.comparator);return i.data=e,i}}class lE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Bn([])}unionWith(e){let i=new Kt(ln.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new yb("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Zj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const i=Zj.exec(t);if(Je(!!i,46558,{timestamp:t}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}const vb="server_timestamp",_b="__type__",Tb="__previous_value__",Eb="__local_write_time__";function kg(t){return(t?.mapValue?.fields||{})[_b]?.stringValue===vb}function Td(t){const e=t.mapValue.fields[Tb];return kg(e)?Td(e):e}function vc(t){const e=wr(t.mapValue.fields[Eb].timestampValue);return new ot(e.seconds,e.nanos)}class Wj{constructor(e,i,r,o,c,u,m,g,y,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const Xh="(default)";class _c{constructor(e,i){this.projectId=e,this.database=i||Xh}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}const xb="__type__",Jj="__max__",vh={mapValue:{}},Sb="__vector__",$h="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kg(t)?4:tD(t)?9007199254740991:eD(t)?10:11:je(28295,{value:t})}function as(t,e){if(t===e)return!0;const i=Cr(t);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=wr(o.timestampValue),m=wr(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(t,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Nt(o.doubleValue),m=Nt(c.doubleValue);return u===m?Qh(u)===Qh(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(oE(u)!==oE(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!as(u[g],m[g])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Tc(t,e){return(t.values||[]).find((i=>as(i,e)))!==void 0}function Vo(t,e){if(t===e)return 0;const i=Cr(t),r=Cr(e);if(i!==r)return He(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Nt(c.integerValue||c.doubleValue),g=Nt(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return cE(t.timestampValue,e.timestampValue);case 4:return cE(vc(t),vc(e));case 5:return Mp(t.stringValue,e.stringValue);case 6:return(function(c,u){const m=Rr(c),g=Rr(u);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let y=0;y<m.length&&y<g.length;y++){const v=He(m[y],g[y]);if(v!==0)return v}return He(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=He(Nt(c.latitude),Nt(u.latitude));return m!==0?m:He(Nt(c.longitude),Nt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uE(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},g=u.fields||{},y=m[$h]?.arrayValue,v=g[$h]?.arrayValue,T=He(y?.values?.length||0,v?.values?.length||0);return T!==0?T:uE(y,v)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===vh.mapValue&&u===vh.mapValue)return 0;if(c===vh.mapValue)return 1;if(u===vh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=u.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const S=Mp(g[T],v[T]);if(S!==0)return S;const w=Vo(m[g[T]],y[v[T]]);if(w!==0)return w}return He(g.length,v.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:i})}}function cE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const i=wr(t),r=wr(e),o=He(i.seconds,r.seconds);return o!==0?o:He(i.nanos,r.nanos)}function uE(t,e){const i=t.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Vo(i[o],r[o]);if(c)return c}return He(i.length,r.length)}function Io(t){return kp(t)}function kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(i){const r=wr(i);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(i){return Rr(i).toBase64()})(t.bytesValue):"referenceValue"in t?(function(i){return we.fromName(i).toString()})(t.referenceValue):"geoPointValue"in t?(function(i){return`geo(${i.latitude},${i.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=kp(c);return r+"]"})(t.arrayValue):"mapValue"in t?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${kp(i.fields[u])}`;return o+"}"})(t.mapValue):je(61005,{value:t})}function Ih(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(t);return e?16+Ih(e):16;case 5:return 2*t.stringValue.length;case 6:return Rr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ih(c)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Ir(r.fields,((c,u)=>{o+=c.length+Ih(u)})),o})(t.mapValue);default:throw je(13486,{value:t})}}function hE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pp(t){return!!t&&"integerValue"in t}function Pg(t){return!!t&&"arrayValue"in t}function dE(t){return!!t&&"nullValue"in t}function fE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mh(t){return!!t&&"mapValue"in t}function eD(t){return(t?.mapValue?.fields||{})[xb]?.stringValue===Sb}function sc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ir(t.mapValue.fields,((i,r)=>e.mapValue.fields[i]=sc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=sc(t.arrayValue.values[i]);return e}return{...t}}function tD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Jj}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Mh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(i)}setAll(e){let i=ln.emptyPath(),r={},o=[];e.forEach(((u,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=m.popLast()}u?r[m.lastSegment()]=sc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Mh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ir(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new jn(sc(this.value))}}function bb(t){const e=[];return Ir(t.fields,((i,r)=>{const o=new ln([i]);if(Mh(r)){const c=bb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Bn(e)}class mn{constructor(e,i,r,o,c,u,m){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,Ve.min(),Ve.min(),Ve.min(),jn.empty(),0)}static newFoundDocument(e,i,r,o){return new mn(e,1,i,Ve.min(),r,o,0)}static newNoDocument(e,i){return new mn(e,2,i,Ve.min(),Ve.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Ve.min(),Ve.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zh{constructor(e,i){this.position=e,this.inclusive=i}}function mE(t,e,i){let r=0;for(let o=0;o<t.position.length;o++){const c=e[o],u=t.position[o];if(c.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),i.key):r=Vo(u,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function pE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!as(t.position[i],e.position[i]))return!1;return!0}class Ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function nD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Ab{}class qt extends Ab{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new sD(e,i,r):i==="array-contains"?new oD(e,r):i==="in"?new lD(e,r):i==="not-in"?new cD(e,r):i==="array-contains-any"?new uD(e,r):new qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new rD(e,r):new aD(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vo(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Vo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends Ab{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ai(e,i)}matches(e){return wb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wb(t){return t.op==="and"}function Rb(t){return iD(t)&&wb(t)}function iD(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function Op(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(Rb(t))return t.filters.map((e=>Op(e))).join(",");{const e=t.filters.map((i=>Op(i))).join(",");return`${t.op}(${e})`}}function Cb(t,e){return t instanceof qt?(function(r,o){return o instanceof qt&&r.op===o.op&&r.field.isEqual(o.field)&&as(r.value,o.value)})(t,e):t instanceof Ai?(function(r,o){return o instanceof Ai&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,m)=>c&&Cb(u,o.filters[m])),!0):!1})(t,e):void je(19439)}function Nb(t){return t instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Io(i.value)}`})(t):t instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(Nb).join(" ,")+"}"})(t):"Filter"}class sD extends qt{constructor(e,i,r){super(e,i,r),this.key=we.fromName(r.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class rD extends qt{constructor(e,i){super(e,"in",i),this.keys=jb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class aD extends qt{constructor(e,i){super(e,"not-in",i),this.keys=jb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jb(t,e){return(e.arrayValue?.values||[]).map((i=>we.fromName(i.referenceValue)))}class oD extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pg(i)&&Tc(i.arrayValue,this.value)}}class lD extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Tc(this.value.arrayValue,i)}}class cD extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Tc(this.value.arrayValue,i)}}class uD extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Tc(this.value.arrayValue,r)))}}class hD{constructor(e,i=null,r=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function gE(t,e=null,i=[],r=[],o=null,c=null,u=null){return new hD(t,e,i,r,o,c,u)}function Og(t){const e=Me(t);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Op(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_d(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Io(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Io(r))).join(",")),e.Te=i}return e.Te}function Lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!nD(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!Cb(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pE(t.startAt,e.startAt)&&pE(t.endAt,e.endAt)}function Lp(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Fo{constructor(e,i=null,r=[],o=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dD(t,e,i,r,o,c,u,m){return new Fo(t,e,i,r,o,c,u,m)}function Ed(t){return new Fo(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Db(t){return t.collectionGroup!==null}function rc(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Kt(ln.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ec(c,r))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new Ec(ln.keyField(),r))}return e.Ie}function Ji(t){const e=Me(t);return e.Ee||(e.Ee=fD(e,rc(t))),e.Ee}function fD(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ec(o.field,c)}));const i=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}}function Up(t,e){const i=t.filters.concat([e]);return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function Wh(t,e,i){return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function xd(t,e){return Lg(Ji(t),Ji(e))&&t.limitType===e.limitType}function Vb(t){return`${Og(Ji(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Nb(o))).join(", ")}]`),_d(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Io(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Io(o))).join(",")),`Target(${r})`})(Ji(t))}; limitType=${t.limitType})`}function Sd(t,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):we.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(t,e)&&(function(r,o){for(const c of rc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,m,g){const y=mE(u,m,g);return u.inclusive?y<=0:y<0})(r.startAt,rc(r),o)||r.endAt&&!(function(u,m,g){const y=mE(u,m,g);return u.inclusive?y>=0:y>0})(r.endAt,rc(r),o))})(t,e)}function mD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ib(t){return(e,i)=>{let r=!1;for(const o of rc(t)){const c=pD(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function pD(t,e,i){const r=t.field.isKeyField()?we.comparator(e.key,i.key):(function(c,u,m){const g=u.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Vo(g,y):je(42886)})(t.field,e,i);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}class ba{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return gb(this.inner)}size(){return this.innerSize}}const gD=new vt(we.comparator);function Ps(){return gD}const Mb=new vt(we.comparator);function Wl(...t){let e=Mb;for(const i of t)e=e.insert(i.key,i);return e}function kb(t){let e=Mb;return t.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ga(){return ac()}function Pb(){return ac()}function ac(){return new ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yD=new vt(we.comparator),vD=new Kt(we.comparator);function Ge(...t){let e=vD;for(const i of t)e=e.add(i);return e}const _D=new Kt(He);function TD(){return _D}function Ug(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function Ob(t){return{integerValue:""+t}}function ED(t,e){return Qj(e)?Ob(e):Ug(t,e)}class bd{constructor(){this._=void 0}}function xD(t,e,i){return t instanceof xc?(function(o,c){const u={fields:{[_b]:{stringValue:vb},[Eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&kg(c)&&(c=Td(c)),c&&(u.fields[Tb]=c),{mapValue:u}})(i,e):t instanceof Sc?Ub(t,e):t instanceof bc?zb(t,e):(function(o,c){const u=Lb(o,c),m=vE(u)+vE(o.Ae);return Pp(u)&&Pp(o.Ae)?Ob(m):Ug(o.serializer,m)})(t,e)}function SD(t,e,i){return t instanceof Sc?Ub(t,e):t instanceof bc?zb(t,e):i}function Lb(t,e){return t instanceof Jh?(function(r){return Pp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class xc extends bd{}class Sc extends bd{constructor(e){super(),this.elements=e}}function Ub(t,e){const i=Bb(e);for(const r of t.elements)i.some((o=>as(o,r)))||i.push(r);return{arrayValue:{values:i}}}class bc extends bd{constructor(e){super(),this.elements=e}}function zb(t,e){let i=Bb(e);for(const r of t.elements)i=i.filter((o=>!as(o,r)));return{arrayValue:{values:i}}}class Jh extends bd{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function vE(t){return Nt(t.integerValue||t.doubleValue)}function Bb(t){return Pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bD{constructor(e,i){this.field=e,this.transform=i}}function AD(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Sc&&o instanceof Sc||r instanceof bc&&o instanceof bc?Do(r.elements,o.elements,as):r instanceof Jh&&o instanceof Jh?as(r.Ae,o.Ae):r instanceof xc&&o instanceof xc})(t.transform,e.transform)}class wD{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ad{}function qb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zg(t.key,ai.none()):new kc(t.key,t.data,ai.none());{const i=t.data,r=jn.empty();let o=new Kt(ln.comparator);for(let c of e.fields)if(!o.has(c)){let u=i.field(c);u===null&&c.length>1&&(c=c.popLast(),u=i.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Mr(t.key,r,new Bn(o.toArray()),ai.none())}}function RD(t,e,i){t instanceof kc?(function(o,c,u){const m=o.value.clone(),g=TE(o.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,i):t instanceof Mr?(function(o,c,u){if(!kh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=TE(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(Fb(o)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(t,e,i):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,i)}function oc(t,e,i,r){return t instanceof kc?(function(c,u,m,g){if(!kh(c.precondition,u))return m;const y=c.value.clone(),v=EE(c.fieldTransforms,g,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,i,r):t instanceof Mr?(function(c,u,m,g){if(!kh(c.precondition,u))return m;const y=EE(c.fieldTransforms,g,u),v=u.data;return v.setAll(Fb(c)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,i,r):(function(c,u,m){return kh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,i)}function CD(t,e){let i=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),c=Lb(r.transform,o||null);c!=null&&(i===null&&(i=jn.empty()),i.set(r.field,c))}return i||null}function _E(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Do(r,o,((c,u)=>AD(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kc extends Ad{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends Ad{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=t.data.field(i);e.set(i,r)}})),e}function TE(t,e,i){const r=new Map;Je(t.length===i.length,32656,{Re:i.length,Ve:t.length});for(let o=0;o<i.length;o++){const c=t[o],u=c.transform,m=e.data.field(c.field);r.set(c.field,SD(u,m,i[o]))}return r}function EE(t,e,i){const r=new Map;for(const o of t){const c=o.transform,u=i.data.field(o.field);r.set(o.field,xD(c,u,e))}return r}class zg extends Ad{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ND extends Ad{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jD{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&RD(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=oc(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=oc(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Pb();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=i.has(o.key)?null:m;const g=qb(u,m);g!==null&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((i,r)=>_E(i,r)))&&Do(this.baseMutations,e.baseMutations,((i,r)=>_E(i,r)))}}class Bg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return yD})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new Bg(e,i,r,o)}}class DD{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VD{constructor(e,i){this.count=e,this.unchangedNames=i}}var zt,Ye;function ID(t){switch(t){case se.OK:return je(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function Hb(t){if(t===void 0)return ks("GRPC error has no .code"),se.UNKNOWN;switch(t){case zt.OK:return se.OK;case zt.CANCELLED:return se.CANCELLED;case zt.UNKNOWN:return se.UNKNOWN;case zt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case zt.INTERNAL:return se.INTERNAL;case zt.UNAVAILABLE:return se.UNAVAILABLE;case zt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case zt.NOT_FOUND:return se.NOT_FOUND;case zt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case zt.ABORTED:return se.ABORTED;case zt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case zt.DATA_LOSS:return se.DATA_LOSS;default:return je(39323,{code:t})}}(Ye=zt||(zt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function MD(){return new TextEncoder}const kD=new Sr([4294967295,4294967295],0);function xE(t){const e=MD().encode(t),i=new rb;return i.update(e),new Uint8Array(i.digest())}function SE(t){const e=new DataView(t.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sr([i,r],0),new Sr([o,c],0)]}class qg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Sr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Sr.fromNumber(r)));return o.compare(kD)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=xE(e),[r,o]=SE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new qg(c,o,i);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const i=xE(e),[r,o]=SE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.Se(u)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wd{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wd(Ve.min(),o,new vt(He),Ps(),Ge())}}class Pc{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Pc(r,i,Ge(),Ge(),Ge())}}class Ph{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Gb{constructor(e,i){this.targetId=e,this.Ce=i}}class Kb{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class bE{constructor(){this.ve=0,this.Fe=AE(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),r=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:je(38017,{changeType:c})}})),new Pc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=AE()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ps(),this.Je=_h(),this.He=_h(),this.Ye=new vt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Lp(c))if(r===0){const u=new we(c.path);this.et(i,u,mn.newNoDocument(u,Ve.min()))}else Je(r===1,20013,{expectedCount:r});else{const u=this._t(i);if(u!==r){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let u,m;try{u=Rr(r).toUint8Array()}catch(g){if(g instanceof yb)return jo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new qg(u,o,c)}catch(g){return jo(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Lp(m.target)){const g=new we(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,mn.newNoDocument(g,e))}c.Be&&(i.set(u,c.ke()),c.qe())}}));let r=Ge();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new wd(e,i,this.Ye,this.je,r);return this.je=Ps(),this.Je=_h(),this.He=_h(),this.Ye=new vt(He),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new bE,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Kt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Kt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||Te("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bE),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function _h(){return new vt(we.comparator)}function AE(){return new vt(we.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},LD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class zD{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function zp(t,e){return t.useProto3Json||_d(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BD(t,e){return ed(t,e.toTimestamp())}function es(t){return Je(!!t,49232),Ve.fromTimestamp((function(i){const r=wr(i);return new ot(r.seconds,r.nanos)})(t))}function Fg(t,e){return Bp(t,e).canonicalString()}function Bp(t,e){const i=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?i:i.child(e)}function Qb(t){const e=ct.fromString(t);return Je(Jb(e),10190,{key:e.toString()}),e}function qp(t,e){return Fg(t.databaseId,e.path)}function np(t,e){const i=Qb(e);if(i.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new we($b(i))}function Xb(t,e){return Fg(t.databaseId,e)}function qD(t){const e=Qb(t);return e.length===4?ct.emptyPath():$b(e)}function Fp(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $b(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wE(t,e,i){return{name:qp(t,e),fields:i.value.mapValue.fields}}function FD(t,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:je(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(Je(v===void 0||typeof v=="string",58123),cn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),cn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(y){const v=y.code===void 0?se.UNKNOWN:Hb(y.code);return new ye(v,y.message||"")})(u);i=new Kb(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=np(t,r.document.name),c=es(r.document.updateTime),u=r.document.createTime?es(r.document.createTime):Ve.min(),m=new jn({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,c,u,m),y=r.targetIds||[],v=r.removedTargetIds||[];i=new Ph(y,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=np(t,r.document),c=r.readTime?es(r.readTime):Ve.min(),u=mn.newNoDocument(o,c),m=r.removedTargetIds||[];i=new Ph([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=np(t,r.document),c=r.removedTargetIds||[];i=new Ph([],c,o,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new VD(o,c),m=r.targetId;i=new Gb(m,u)}}return i}function HD(t,e){let i;if(e instanceof kc)i={update:wE(t,e.key,e.value)};else if(e instanceof zg)i={delete:qp(t,e.key)};else if(e instanceof Mr)i={update:wE(t,e.key,e.data),updateMask:JD(e.fieldMask)};else{if(!(e instanceof ND))return je(16599,{Vt:e.type});i={verify:qp(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const m=u.transform;if(m instanceof xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Sc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jh)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw je(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:je(27497)})(t,e.precondition)),i}function GD(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((i=>(function(o,c){let u=o.updateTime?es(o.updateTime):es(c);return u.isEqual(Ve.min())&&(u=es(c)),new wD(u,o.transformResults||[])})(i,e)))):[]}function KD(t,e){return{documents:[Xb(t,e.path)]}}function YD(t,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Xb(t,o);const c=(function(y){if(y.length!==0)return Wb(Ai.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:_o(S.field),direction:$D(S.dir)}})(v)))})(e.orderBy);u&&(i.structuredQuery.orderBy=u);const m=zp(t,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function QD(t){let e=qD(t.parent);const i=t.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Je(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];i.where&&(c=(function(T){const S=Zb(T);return S instanceof Ai&&Rb(S)?S.getFilters():[S]})(i.where));let u=[];i.orderBy&&(u=(function(T){return T.map((S=>(function(D){return new Ec(To(D.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,_d(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(T){const S=!!T.before,w=T.values||[];return new Zh(w,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(T){const S=!T.before,w=T.values||[];return new Zh(w,S)})(i.endAt)),dD(e,o,u,c,m,"F",g,y)}function XD(t,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Zb(t){return t.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=To(i.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=To(i.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=To(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=To(i.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(i){return qt.create(To(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((r=>Zb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(i.compositeFilter.op))})(t):je(30097,{filter:t})}function $D(t){return OD[t]}function ZD(t){return LD[t]}function WD(t){return UD[t]}function _o(t){return{fieldPath:t.canonicalString()}}function To(t){return ln.fromServerFormat(t.fieldPath)}function Wb(t){return t instanceof qt?(function(i){if(i.op==="=="){if(fE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NAN"}};if(dE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NOT_NAN"}};if(dE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(i.field),op:ZD(i.op),value:i.value}}})(t):t instanceof Ai?(function(i){const r=i.getFilters().map((o=>Wb(o)));return r.length===1?r[0]:{compositeFilter:{op:WD(i.op),filters:r}}})(t):je(54877,{filter:t})}function JD(t){const e=[];return t.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Jb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class _r{constructor(e,i,r,o,c=Ve.min(),u=Ve.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eV{constructor(e){this.yt=e}}function tV(t){const e=QD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wh(e,e.limit,"L"):e}class nV{constructor(){this.Cn=new iV}addToCollectionParentIndex(e,i){return this.Cn.add(i),le.resolve()}getCollectionParents(e,i){return le.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return le.resolve()}deleteFieldIndex(e,i){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,i){return le.resolve()}getDocumentsMatchingTarget(e,i){return le.resolve(null)}getIndexType(e,i){return le.resolve(0)}getFieldIndexes(e,i){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,i){return le.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return le.resolve(Ar.min())}updateCollectionGroup(e,i,r){return le.resolve()}updateIndexEntries(e,i){return le.resolve()}}class iV{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Kt(ct.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kt(ct.comparator)).toArray()}}const RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(e1,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}const CE="LruGarbageCollector",sV=1048576;function NE([t,e],[i,r]){const o=He(t,i);return o===0?He(e,r):o}class rV{constructor(e){this.Ir=e,this.buffer=new Kt(NE),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();NE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aV{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(CE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qo(i)?Te(CE,"Ignoring IndexedDB error during garbage collection: ",i):await Bo(i)}await this.Vr(3e5)}))}}class oV{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return le.resolve(vd.ce);const r=new rV(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(RE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RE):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,u,m,g,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,i)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),yo()<=Qe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function lV(t,e){return new oV(t,e)}class cV{constructor(){this.changes=new ba((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?le.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uV{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hV{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&oc(r.mutation,o,Bn.empty(),ot.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ge()){const o=ga();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let u=Wl();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,i){const r=ga();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ge())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{i.set(u,m)}))}))}computeViews(e,i,r,o){let c=Ps();const u=ac(),m=(function(){return ac()})();return i.forEach(((g,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Mr)?c=c.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),oc(v.mutation,y,v.mutation.getFieldMask(),ot.now())):u.set(y.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,v)=>u.set(y,v))),i.forEach(((y,v)=>m.set(y,new uV(v,u.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,i){const r=ac();let o=new vt(((u,m)=>u-m)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((u=>{for(const m of u)m.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let v=r.get(g)||Bn.empty();v=m.applyToLocalView(y,v),r.set(g,v);const T=(o.get(m.batchId)||Ge()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,v=g.value,T=Pb();v.forEach((S=>{if(!c.has(S)){const w=qb(i.get(S),r.get(S));w!==null&&T.set(S,w),c=c.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,T))}return le.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Db(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):le.resolve(ga());let m=yc,g=c;return u.next((y=>le.forEach(y,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ge()))).next((v=>({batchId:m,changes:kb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next((r=>{let o=Wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let u=Wl();return this.indexManager.getCollectionParents(e,c).next((m=>le.forEach(m,(g=>{const y=(function(T,S){return new Fo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((T,S)=>{u=u.insert(T,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((u=>{c.forEach(((g,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,mn.newInvalidDocument(v)))}));let m=Wl();return u.forEach(((g,y)=>{const v=c.get(g);v!==void 0&&oc(v.mutation,y,Bn.empty(),ot.now()),Sd(i,y)&&(m=m.insert(g,y))})),m}))}}class dV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return le.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}})(i)),le.resolve()}getNamedQuery(e,i){return le.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:tV(o.bundledQuery),readTime:es(o.readTime)}})(i)),le.resolve()}}class fV{constructor(){this.overlays=new vt(we.comparator),this.qr=new Map}getOverlay(e,i){return le.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ga();return le.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),le.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,i,r){const o=ga(),c=i.length+1,u=new we(i.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return le.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new vt(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let v=c.get(y.largestBatchId);v===null&&(v=ga(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=ga(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>m.set(y,v))),!(m.size()>=o)););return le.resolve(m)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new DD(i,r));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class mV{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,le.resolve()}}class Hg{constructor(){this.Qr=new Kt(Zt.$r),this.Ur=new Kt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Zt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Zt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new we(new ct([])),r=new Zt(i,e),o=new Zt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new ct([])),r=new Zt(i,e),o=new Zt(i,e+1);let c=Ge();return this.Ur.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const i=new Zt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}class pV{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Zt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new jD(c,i,r,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Zt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,i){return le.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Mg:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Kt(He);return i.forEach((o=>{const c=new Zt(o,0),u=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{r=r.add(m.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;we.isDocumentKey(c)||(c=c.child(""));const u=new Zt(new we(c),0);let m=new Kt(He);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),u),le.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(i.mutations,(o=>{const c=new Zt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Zt(i,0),o=this.Zr.firstAfterOrEqual(r);return le.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gV{constructor(e){this.ri=e,this.docs=(function(){return new vt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,u=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return le.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let r=Ps();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),le.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Ps();const u=i.path,m=new we(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||Hj(Fj(v),r)<=0||(o.has(v.key)||Sd(i,v))&&(c=c.insert(v.key,v.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,i,r,o){je(9500)}ii(e,i){return le.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new yV(this)}getSize(e){return le.resolve(this.size)}}class yV extends cV{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),le.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class vV{constructor(e){this.persistence=e,this.si=new ba((i=>Og(i)),Lg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Hg,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),le.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Mo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,le.resolve()}updateTargetData(e,i){return this.Pr(i),le.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),le.waitFor(c).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return le.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),le.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),le.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),le.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return le.resolve(r)}containsKey(e,i){return le.resolve(this._i.containsKey(i))}}class t1{constructor(e,i){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new mV,this.referenceDelegate=e(this),this.Pi=new vV(this),this.indexManager=new nV,this.remoteDocumentCache=(function(o){return new gV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eV(i),this.Ii=new dV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fV,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new pV(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){Te("MemoryPersistence","Starting transaction:",e);const o=new _V(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class _V extends Kj{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new Hg,this.Vi=null}static mi(e){return new Gg(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),le.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),le.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const o=we.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return le.or([()=>le.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class td{constructor(e,i){this.persistence=e,this.pi=new ba((r=>Xj(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=lV(this,i)}static mi(e,i){return new td(e,i)}Ei(){}di(e){return le.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return le.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?le.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,i).next((m=>{m||(r++,c.removeEntry(u,Ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ih(e.data.value)),i}br(e,i,r){return le.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return le.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ge(),o=Ge();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Kg(e,i.fromCache,r,o)}}class TV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return d2()?8:Yj(u2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new TV;return this.Ss(e,i,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,i,u,m.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(yo()<=Qe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",vo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(yo()<=Qe.DEBUG&&Te("QueryEngine","Query:",vo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(yo()<=Qe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",vo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(i))):le.resolve())}ys(e,i){if(yE(i))return le.resolve(null);let r=Ji(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Wh(i,null,"F"),r=Ji(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Ge(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(i,m);return this.Cs(i,y,u,g.readTime)?this.ys(e,Wh(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,r,o){return yE(i)||o.isEqual(Ve.min())?le.resolve(null):this.ps.getDocuments(e,r).next((c=>{const u=this.Ds(i,c);return this.Cs(i,u,r,o)?le.resolve(null):(yo()<=Qe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(i)),this.vs(e,u,i,qj(o,yc)).next((m=>m)))}))}Ds(e,i){let r=new Kt(Ib(e));return i.forEach(((o,c)=>{Sd(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return yo()<=Qe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",vo(i)),this.ps.getDocumentsMatchingQuery(e,i,Ar.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Yg="LocalStore",xV=3e8;class SV{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new vt(He),this.xs=new ba((c=>Og(c)),Lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bV(t,e,i,r){return new SV(t,e,i,r)}async function n1(t,e){const i=Me(t);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],m=[];let g=Ge();for(const y of o){u.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:m})))}))}))}function AV(t,e){const i=Me(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,v){const T=y.batch,S=T.keys();let w=le.resolve();return S.forEach((D=>{w=w.next((()=>v.getEntry(g,D))).next((V=>{const M=y.docVersions.get(D);Je(M!==null,48541),V.version.compareTo(M)<0&&(T.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),v.addEntry(V)))}))})),w.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Ge();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function i1(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function wV(t,e){const i=Me(t),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(i.Pi.removeMatchingKeys(c,v.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(c,v.addedDocuments,T))));let w=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(cn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),o=o.insert(T,w),(function(V,M,k){return V.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=xV?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(S,w,v)&&m.push(i.Pi.updateTargetData(c,w))}));let g=Ps(),y=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,v))})),m.push(RV(c,u,e.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!r.isEqual(Ve.min())){const v=i.Pi.getLastRemoteSnapshotVersion(c).next((T=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(v)}return le.waitFor(m).next((()=>u.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function RV(t,e,i){let r=Ge(),o=Ge();return i.forEach((c=>r=r.add(c))),e.getEntries(t,r).next((c=>{let u=Ps();return i.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ve.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):Te(Yg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function CV(t,e){const i=Me(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Mg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NV(t,e){const i=Me(t);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,le.resolve(o)):i.Pi.allocateTargetId(r).next((u=>(o=new _r(e,u,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Hp(t,e,i){const r=Me(t),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!qo(u))throw u;Te(Yg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function jE(t,e,i){const r=Me(t);let o=Ve.min(),c=Ge();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,v){const T=Me(g),S=T.xs.get(v);return S!==void 0?le.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,v)})(r,u,Ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,i?o:Ve.min(),i?c:Ge()))).next((m=>(jV(r,mD(e),m),{documents:m,Qs:c})))))}function jV(t,e,i){let r=t.Os.get(e)||Ve.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),t.Os.set(e,r)}class DE{constructor(){this.activeTargetIds=TD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DV{constructor(){this.Mo=new DE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DE,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VV{Oo(e){}shutdown(){}}const VE="ConnectivityMonitor";class IE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(VE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(VE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function Gp(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const ip="RestConnection",IV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const u=Gp(),m=this.zo(e,i.toUriEncodedString());Te(ip,`Sending RPC '${e}' ${u}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),v=jg(y);return this.Jo(e,m,g,r,v).then((T=>(Te(ip,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw jo(ip,`RPC '${e}' ${u} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(e,i,r,o,c,u){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=IV[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class kV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class PV extends MV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const u=Gp();return new Promise(((m,g)=>{const y=new ab;y.setWithCredentials(!0),y.listenOnce(ob.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vh.NO_ERROR:const T=y.getResponseJson();Te(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),m(T);break;case Vh.TIMEOUT:Te(dn,`RPC '${e}' ${u} timed out`),g(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const S=y.getStatus();if(Te(dn,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let w=y.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const V=(function(k){const q=k.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN})(D.status);g(new ye(V,D.message))}else g(new ye(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ye(se.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Te(dn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);Te(dn,`RPC '${e}' ${u} sending request:`,o),y.send(i,"POST",v,r,15)}))}T_(e,i,r){const o=Gp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ub(),m=cb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=c.join("");Te(dn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=u.createWebChannel(v,g);this.I_(T);let S=!1,w=!1;const D=new kV({Yo:M=>{w?Te(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(S||(Te(dn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),Te(dn,`RPC '${e}' stream ${o} sending:`,M),T.send(M))},Zo:()=>T.close()}),V=(M,k,q)=>{M.listen(k,(H=>{try{q(H)}catch(de){setTimeout((()=>{throw de}),0)}}))};return V(T,Zl.EventType.OPEN,(()=>{w||(Te(dn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),V(T,Zl.EventType.CLOSE,(()=>{w||(w=!0,Te(dn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(T))})),V(T,Zl.EventType.ERROR,(M=>{w||(w=!0,jo(dn,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),D.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),V(T,Zl.EventType.MESSAGE,(M=>{if(!w){const k=M.data[0];Je(!!k,16349);const q=k,H=q?.error||q[0]?.error;if(H){Te(dn,`RPC '${e}' stream ${o} received error:`,H);const de=H.status;let ee=(function(A){const j=zt[A];if(j!==void 0)return Hb(j)})(de),ue=H.message;ee===void 0&&(ee=se.INTERNAL,ue="Unknown error status: "+de+" with message "+H.message),w=!0,D.a_(new ye(ee,ue)),T.close()}else Te(dn,`RPC '${e}' stream ${o} received:`,k),D.u_(k)}})),V(m,lb.STAT_EVENT,(M=>{M.stat===Ip.PROXY?Te(dn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Ip.NOPROXY&&Te(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function sp(){return typeof document<"u"?document:null}function Rd(t){return new zD(t,!0)}class s1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ME="PersistentStream";class r1{constructor(e,i,r,o,c,u,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===se.RESOURCE_EXHAUSTED?(ks(i.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ye(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(Te(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OV extends r1{constructor(e,i,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,u),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=FD(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ve.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?es(u.readTime):Ve.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Fp(this.serializer),i.addTarget=(function(c,u){let m;const g=u.target;if(m=Lp(g)?{documents:KD(c,g)}:{query:YD(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Yb(c,u.resumeToken);const y=zp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ve.min())>0){m.readTime=ed(c,u.snapshotVersion.toTimestamp());const y=zp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=XD(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Fp(this.serializer),i.removeTarget=e,this.q_(i)}}class LV extends r1{constructor(e,i,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GD(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Fp(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>HD(this.serializer,r)))};this.q_(i)}}class UV{}class zV extends UV{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Bp(i,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(se.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Bp(i,r),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BV{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(i),this.aa=!1):Te("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sa="RemoteStore";class qV{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Aa(this)&&(Te(Sa,"Restarting streams for network reachability change."),await(async function(g){const y=Me(g);y.Ea.add(4),await Oc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Cd(y)})(this))}))})),this.Ra=new BV(r,o)}}async function Cd(t){if(Aa(t))for(const e of t.da)await e(!0)}async function Oc(t){for(const e of t.da)await e(!1)}function a1(t,e){const i=Me(t);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zg(i)?$g(i):Ho(i).O_()&&Xg(i,e))}function Qg(t,e){const i=Me(t),r=Ho(i);i.Ia.delete(e),r.O_()&&o1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Aa(i)&&i.Ra.set("Unknown"))}function Xg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ho(t).Y_(e)}function o1(t,e){t.Va.Ue(e),Ho(t).Z_(e)}function $g(t){t.Va=new PD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.Ra.ua()}function Zg(t){return Aa(t)&&!Ho(t).x_()&&t.Ia.size>0}function Aa(t){return Me(t).Ea.size===0}function l1(t){t.Va=void 0}async function FV(t){t.Ra.set("Online")}async function HV(t){t.Ia.forEach(((e,i)=>{Xg(t,e)}))}async function GV(t,e){l1(t),Zg(t)?(t.Ra.ha(e),$g(t)):t.Ra.set("Unknown")}async function KV(t,e,i){if(t.Ra.set("Online"),e instanceof Kb&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(t,e)}catch(r){Te(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nd(t,r)}else if(e instanceof Ph?t.Va.Ze(e):e instanceof Gb?t.Va.st(e):t.Va.tt(e),!i.isEqual(Ve.min()))try{const r=await i1(t.localStore);i.compareTo(r)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,y)=>{const v=c.Ia.get(g);if(!v)return;c.Ia.set(g,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),o1(c,g);const T=new _r(v.target,g,y,v.sequenceNumber);Xg(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(t,i)}catch(r){Te(Sa,"Failed to raise snapshot:",r),await nd(t,r)}}async function nd(t,e,i){if(!qo(e))throw e;t.Ea.add(1),await Oc(t),t.Ra.set("Offline"),i||(i=()=>i1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(Sa,"Retrying IndexedDB access"),await i(),t.Ea.delete(1),await Cd(t)}))}function c1(t,e){return e().catch((i=>nd(t,i,e)))}async function Nd(t){const e=Me(t),i=Nr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mg;for(;YV(e);)try{const o=await CV(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,QV(e,o)}catch(o){await nd(e,o)}u1(e)&&h1(e)}function YV(t){return Aa(t)&&t.Ta.length<10}function QV(t,e){t.Ta.push(e);const i=Nr(t);i.O_()&&i.X_&&i.ea(e.mutations)}function u1(t){return Aa(t)&&!Nr(t).x_()&&t.Ta.length>0}function h1(t){Nr(t).start()}async function XV(t){Nr(t).ra()}async function $V(t){const e=Nr(t);for(const i of t.Ta)e.ea(i.mutations)}async function ZV(t,e,i){const r=t.Ta.shift(),o=Bg.from(r,e,i);await c1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Nd(t)}async function WV(t,e){e&&Nr(t).X_&&await(async function(r,o){if((function(u){return ID(u)&&u!==se.ABORTED})(o.code)){const c=r.Ta.shift();Nr(r).B_(),await c1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nd(r)}})(t,e),u1(t)&&h1(t)}async function kE(t,e){const i=Me(t);i.asyncQueue.verifyOperationInProgress(),Te(Sa,"RemoteStore received new credentials");const r=Aa(i);i.Ea.add(3),await Oc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Cd(i)}async function JV(t,e){const i=Me(t);e?(i.Ea.delete(2),await Cd(i)):e||(i.Ea.add(2),await Oc(i),i.Ra.set("Unknown"))}function Ho(t){return t.ma||(t.ma=(function(i,r,o){const c=Me(i);return c.sa(),new OV(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:FV.bind(null,t),t_:HV.bind(null,t),r_:GV.bind(null,t),H_:KV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Zg(t)?$g(t):t.Ra.set("Unknown")):(await t.ma.stop(),l1(t))}))),t.ma}function Nr(t){return t.fa||(t.fa=(function(i,r,o){const c=Me(i);return c.sa(),new LV(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XV.bind(null,t),r_:WV.bind(null,t),ta:$V.bind(null,t),na:ZV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nd(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(Sa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Wg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const u=Date.now()+r,m=new Wg(e,i,u,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(t,e){if(ks("AsyncQueue",`${e}: ${t}`),qo(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||we.comparator(i.key,r.key):(i,r)=>we.comparator(i.key,r.key),this.keyedMap=Wl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class PE{constructor(){this.ga=new vt(we.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class ko{constructor(e,i,r,o,c,u,m,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const u=[];return i.forEach((m=>{u.push({type:0,doc:m})})),new ko(e,i,Co.emptySet(i),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tI{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Me(i),c=o.queries;o.queries=OE(),c.forEach(((u,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function OE(){return new ba((t=>Vb(t)),xd)}async function ey(t,e){const i=Me(t);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new eI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(u){const m=Jg(u,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ny(i)}async function ty(t,e){const i=Me(t),r=e.query;let o=3;const c=i.queries.get(r);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function nI(t,e){const i=Me(t);let r=!1;for(const o of e){const c=o.query,u=i.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(r=!0);u.wa=o}}r&&ny(i)}function iI(t,e,i){const r=Me(t),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function ny(t){t.Ca.forEach((e=>{e.next()}))}var Kp,LE;(LE=Kp||(Kp={})).Ma="default",LE.Cache="cache";class iy{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kp.Cache}}class d1{constructor(e){this.key=e}}class f1{constructor(e){this.key=e}}class sI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Ib(e),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new PE,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const S=o.get(v),w=Sd(this.query,T)?T:null,D=!!S&&this.mutatedKeys.has(S.key),V=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let M=!1;S&&w?S.data.isEqual(w.data)?D!==V&&(r.track({type:3,doc:w}),M=!0):this.su(S,w)||(r.track({type:2,doc:w}),M=!0,(g&&this.eu(w,g)>0||y&&this.eu(w,y)<0)&&(m=!0)):!S&&w?(r.track({type:0,doc:w}),M=!0):S&&!w&&(r.track({type:1,doc:S}),M=!0,(g||y)&&(m=!0)),M&&(w?(u=u.add(w),c=V?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:m,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,T)=>(function(w,D){const V=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:M})}};return V(w)-V(D)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new ko(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new f1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new d1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sy="SyncEngine";class rI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class aI{constructor(e){this.key=e,this.hu=!1}}class oI{constructor(e,i,r,o,c,u){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ba((m=>Vb(m)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new vt(we.comparator),this.Au=new Map,this.Ru=new Hg,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lI(t,e,i=!0){const r=_1(t);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await m1(r,e,i,!0),o}async function cI(t,e){const i=_1(t);await m1(i,e,!0,!1)}async function m1(t,e,i,r){const o=await NV(t.localStore,Ji(e)),c=o.targetId,u=t.sharedClientState.addLocalQueryTarget(c,i);let m;return r&&(m=await uI(t,e,c,u==="current",o.resumeToken)),t.isPrimaryClient&&i&&a1(t.remoteStore,o),m}async function uI(t,e,i,r,o){t.pu=(T,S,w)=>(async function(V,M,k,q){let H=M.view.ru(k);H.Cs&&(H=await jE(V.localStore,M.query,!1).then((({documents:C})=>M.view.ru(C,H))));const de=q&&q.targetChanges.get(M.targetId),ee=q&&q.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(H,V.isPrimaryClient,de,ee);return zE(V,M.targetId,ue.au),ue.snapshot})(t,T,S,w);const c=await jE(t.localStore,e,!0),u=new sI(e,c.Qs),m=u.ru(c.documents),g=Pc.createSynthesizedTargetChangeForCurrentChange(i,r&&t.onlineState!=="Offline",o),y=u.applyChanges(m,t.isPrimaryClient,g);zE(t,i,y.au);const v=new rI(e,i,u);return t.Tu.set(e,v),t.Iu.has(i)?t.Iu.get(i).push(e):t.Iu.set(i,[e]),y.snapshot}async function hI(t,e,i){const r=Me(t),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!xd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Hp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Qg(r.remoteStore,o.targetId),Yp(r,o.targetId)})).catch(Bo)):(Yp(r,o.targetId),await Hp(r.localStore,o.targetId,!0))}async function dI(t,e){const i=Me(t),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Qg(i.remoteStore,r.targetId))}async function fI(t,e,i){const r=TI(t);try{const o=await(function(u,m){const g=Me(u),y=ot.now(),v=m.reduce(((w,D)=>w.add(D.key)),Ge());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=Ps(),V=Ge();return g.Ns.getEntries(w,v).next((M=>{D=M,D.forEach(((k,q)=>{q.isValidDocument()||(V=V.add(k))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,D))).next((M=>{T=M;const k=[];for(const q of m){const H=CD(q,T.get(q.key).overlayedDocument);H!=null&&k.push(new Mr(q.key,H,bb(H.value.mapValue),ai.exists(!0)))}return g.mutationQueue.addMutationBatch(w,y,k,m)})).next((M=>{S=M;const k=M.applyToLocalDocumentSet(T,V);return g.documentOverlayCache.saveOverlays(w,M.batchId,k)}))})).then((()=>({batchId:S.batchId,changes:kb(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new vt(He)),y=y.insert(m,g),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,i),await Lc(r,o.changes),await Nd(r.remoteStore)}catch(o){const c=Jg(o,"Failed to persist write");i.reject(c)}}async function p1(t,e){const i=Me(t);try{const r=await wV(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=i.Au.get(c);u&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Je(u.hu,14607):o.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Lc(i,r,e)}catch(r){await Bo(r)}}function UE(t,e,i){const r=Me(t);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=Me(u);g.onlineState=m;let y=!1;g.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(m)&&(y=!0)})),y&&ny(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mI(t,e,i){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new vt(we.comparator);u=u.insert(c,mn.newNoDocument(c,Ve.min()));const m=Ge().add(c),g=new wd(Ve.min(),new Map,new vt(He),u,m);await p1(r,g),r.du=r.du.remove(c),r.Au.delete(e),ry(r)}else await Hp(r.localStore,e,!1).then((()=>Yp(r,e,i))).catch(Bo)}async function pI(t,e){const i=Me(t),r=e.batch.batchId;try{const o=await AV(i.localStore,e);y1(i,r,null),g1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(i,o)}catch(o){await Bo(o)}}async function gI(t,e,i){const r=Me(t);try{const o=await(function(u,m){const g=Me(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Je(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);y1(r,e,i),g1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Lc(r,o)}catch(o){await Bo(o)}}function g1(t,e){(t.mu.get(e)||[]).forEach((i=>{i.resolve()})),t.mu.delete(e)}function y1(t,e,i){const r=Me(t);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Yp(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),i&&t.Pu.yu(r,i);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||v1(t,r)}))}function v1(t,e){t.Eu.delete(e.path.canonicalString());const i=t.du.get(e);i!==null&&(Qg(t.remoteStore,i),t.du=t.du.remove(e),t.Au.delete(i),ry(t))}function zE(t,e,i){for(const r of i)r instanceof d1?(t.Ru.addReference(r.key,e),yI(t,r)):r instanceof f1?(Te(sy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||v1(t,r.key)):je(19791,{wu:r})}function yI(t,e){const i=e.key,r=i.path.canonicalString();t.du.get(i)||t.Eu.has(r)||(Te(sy,"New document in limbo: "+i),t.Eu.add(r),ry(t))}function ry(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const i=new we(ct.fromString(e)),r=t.fu.next();t.Au.set(r,new aI(i)),t.du=t.du.insert(i,r),a1(t.remoteStore,new _r(Ji(Ed(i.path)),r,"TargetPurposeLimboResolution",vd.ce))}}async function Lc(t,e,i){const r=Me(t),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{u.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const v=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Kg.As(g.targetId,y);c.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(g,y){const v=Me(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>le.forEach(y,(S=>le.forEach(S.Es,(w=>v.persistence.referenceDelegate.addReference(T,S.targetId,w))).next((()=>le.forEach(S.ds,(w=>v.persistence.referenceDelegate.removeReference(T,S.targetId,w)))))))))}catch(T){if(!qo(T))throw T;Te(Yg,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const w=v.Ms.get(S),D=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(S,V)}}})(r.localStore,c))}async function vI(t,e){const i=Me(t);if(!i.currentUser.isEqual(e)){Te(sy,"User change. New user:",e.toKey());const r=await n1(i.localStore,e);i.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new ye(se.CANCELLED,u))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(i,r.Ls)}}function _I(t,e){const i=Me(t),r=i.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const c=i.Iu.get(e);if(!c)return o;for(const u of c){const m=i.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function _1(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mI.bind(null,e),e.Pu.H_=nI.bind(null,e.eventManager),e.Pu.yu=iI.bind(null,e.eventManager),e}function TI(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bV(this.persistence,new EV,e.initialUser,this.serializer)}Cu(e){return new t1(Gg.mi,this.serializer)}Du(e){return new DV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class EI extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof td,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aV(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new t1((r=>td.mi(r,i)),this.serializer)}}class Qp{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await JV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tI})()}createDatastore(e){const i=Rd(e.databaseInfo.databaseId),r=(function(c){return new PV(c)})(e.databaseInfo);return(function(c,u,m,g){return new zV(c,u,m,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,u,m){return new qV(r,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>UE(this.syncEngine,i,0)),(function(){return IE.v()?new IE:new VV})())}createSyncEngine(e,i){return(function(o,c,u,m,g,y,v){const T=new oI(o,c,u,m,g,y);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Me(i);Te(Sa,"RemoteStore shutting down."),r.Ea.add(5),await Oc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qp.provider={build:()=>new Qp};class ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const jr="FirestoreClient";class xI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{Te(jr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Te(jr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Jg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rp(t,e){t.asyncQueue.verifyOperationInProgress(),Te(jr,"Initializing OfflineComponentProvider");const i=t.configuration;await e.initialize(i);let r=i.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await n1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BE(t,e){t.asyncQueue.verifyOperationInProgress();const i=await SI(t);Te(jr,"Initializing OnlineComponentProvider"),await e.initialize(i,t.configuration),t.setCredentialChangeListener((r=>kE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>kE(e.remoteStore,o))),t._onlineComponents=e}async function SI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(jr,"Using user provided OfflineComponentProvider");try{await rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;jo("Error using user provided cache. Falling back to memory cache: "+i),await rp(t,new id)}}else Te(jr,"Using default OfflineComponentProvider"),await rp(t,new EI(void 0));return t._offlineComponents}async function T1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(jr,"Using user provided OnlineComponentProvider"),await BE(t,t._uninitializedComponentsProvider._online)):(Te(jr,"Using default OnlineComponentProvider"),await BE(t,new Qp))),t._onlineComponents}function bI(t){return T1(t).then((e=>e.syncEngine))}async function sd(t){const e=await T1(t),i=e.eventManager;return i.onListen=lI.bind(null,e.syncEngine),i.onUnlisten=hI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),i}function AI(t,e,i={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const v=new ay({next:S=>{v.Nu(),u.enqueueAndForget((()=>ty(c,T)));const w=S.docs.has(m);!w&&S.fromCache?y.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&g&&g.source==="server"?y.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new iy(Ed(m.path),v,{includeMetadataChanges:!0,qa:!0});return ey(c,T)})(await sd(t),t.asyncQueue,e,i,r))),r.promise}function wI(t,e,i={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const v=new ay({next:S=>{v.Nu(),u.enqueueAndForget((()=>ty(c,T))),S.fromCache&&g.source==="server"?y.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new iy(m,v,{includeMetadataChanges:!0,qa:!0});return ey(c,T)})(await sd(t),t.asyncQueue,e,i,r))),r.promise}function E1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const qE=new Map;const x1="firestore.googleapis.com",FE=!0;class HE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x1,this.ssl=FE}else this.host=e.host,this.ssl=e.ssl??FE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sV)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jj;switch(r.type){case"firstParty":return new Mj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=qE.get(i);r&&(Te("ComponentProvider","Removing Datastore"),qE.delete(i),r.terminate())})(this),Promise.resolve()}}function RI(t,e,i,r={}){t=Dn(t,jd);const o=jg(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${i}`;o&&(r2(`https://${m}`),c2("Firestore",!0)),c.host!==x1&&c.host!==m&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!Gh(g,u)&&(t._setSettings(g),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=fn.MOCK_USER;else{y=a2(r.mockUserToken,t._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(T)}t._authCredentials=new Dj(new db(y,v))}}class zs{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class St{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Mc(i,St._jsonSchema))return new St(e,r||null,new we(ct.fromString(i.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Ft("string",St._jsonSchemaVersion),referencePath:Ft("string")};class br extends zs{constructor(e,i,r){super(e,i,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new we(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function wa(t,e,...i){if(t=rs(t),fb("collection","path",e),t instanceof jd){const r=ct.fromString(e,...i);return iE(r),new br(t,null,r)}{if(!(t instanceof St||t instanceof br))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...i));return iE(r),new br(t.firestore,null,r)}}function li(t,e,...i){if(t=rs(t),arguments.length===1&&(e=Ig.newId()),fb("doc","path",e),t instanceof jd){const r=ct.fromString(e,...i);return nE(r),new St(t,null,new we(r))}{if(!(t instanceof St||t instanceof br))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...i));return nE(r),new St(t.firestore,t instanceof br?t.converter:null,new we(r))}}const GE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s1(this,"async_queue_retry"),this._c=()=>{const r=sp();r&&Te(GE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=sp();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;Te(GE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",YE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Wg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&je(47125,{Pc:YE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function YE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function QE(t){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(t,["next","error","complete"])}class Os extends jd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new KE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function CI(t,e){const i=typeof t=="object"?t:_j(),r=typeof t=="string"?t:Xh,o=mj(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=i2("firestore");c&&RI(o,...c)}return o}function Dd(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NI(t),t._firestoreClient}function NI(t){const e=t._freezeSettings(),i=(function(o,c,u,m){return new Wj(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,E1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xI(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(t._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(cn.fromBase64String(e))}catch(i){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Ft("string",si._jsonSchemaVersion),bytes:Ft("string")};class Vd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Id{constructor(e){this._methodName=e}}class ts{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Ft("string",ts._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class ns{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ns(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Ft("string",ns._jsonSchemaVersion),vectorValues:Ft("object")};const jI=/^__.*__$/;class DI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new kc(e,this.data,i,this.fieldTransforms)}}class S1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function b1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class oy{constructor(e,i,r,o,c,u){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b1(this.Ac)&&jI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Rd(e)}Cc(e,i,r,o=!1){return new oy({Ac:e,methodName:i,Dc:r,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(t){const e=t._freezeSettings(),i=Rd(t._databaseId);return new VI(t._databaseId,!!e.ignoreUndefinedProperties,i)}function A1(t,e,i,r,o,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,i,o);cy("Data must be an object, but it was:",u,r);const m=w1(r,u);let g,y;if(c.merge)g=new Bn(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const T of c.mergeFields){const S=Xp(e,T,i);if(!u.contains(S))throw new ye(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);C1(v,S)||v.push(S)}g=new Bn(v),y=u.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=u.fieldTransforms;return new DI(new jn(m),g,y)}class kd extends Id{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}class ly extends Id{_toFieldTransform(e){return new bD(e.path,new xc)}isEqual(e){return e instanceof ly}}function II(t,e,i,r){const o=t.Cc(1,e,i);cy("Data must be an object, but it was:",o,r);const c=[],u=jn.empty();Ir(r,((g,y)=>{const v=uy(e,g,i);y=rs(y);const T=o.yc(v);if(y instanceof kd)c.push(v);else{const S=Uc(y,T);S!=null&&(c.push(v),u.set(v,S))}}));const m=new Bn(c);return new S1(u,m,o.fieldTransforms)}function MI(t,e,i,r,o,c){const u=t.Cc(1,e,i),m=[Xp(e,r,i)],g=[o];if(c.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(Xp(e,c[S])),g.push(c[S+1]);const y=[],v=jn.empty();for(let S=m.length-1;S>=0;--S)if(!C1(y,m[S])){const w=m[S];let D=g[S];D=rs(D);const V=u.yc(w);if(D instanceof kd)y.push(w);else{const M=Uc(D,V);M!=null&&(y.push(w),v.set(w,M))}}const T=new Bn(y);return new S1(v,T,u.fieldTransforms)}function kI(t,e,i,r=!1){return Uc(i,t.Cc(r?4:3,e))}function Uc(t,e){if(R1(t=rs(t)))return cy("Unsupported field value:",e,t),w1(t,e);if(t instanceof Id)return(function(r,o){if(!b1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const m of r){let g=Uc(m,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(t,e)}return(function(r,o){if((r=rs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ED(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:ed(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(o.serializer,c)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:Yb(o.serializer,r._byteString)};if(r instanceof St){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ns)return(function(u,m){return{mapValue:{fields:{[xb]:{stringValue:Sb},[$h]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ug(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${yd(r)}`)})(t,e)}function w1(t,e){const i={};return gb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(t,((r,o)=>{const c=Uc(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function R1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ts||t instanceof si||t instanceof St||t instanceof Id||t instanceof ns)}function cy(t,e,i){if(!R1(i)||!mb(i)){const r=yd(i);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Xp(t,e,i){if((e=rs(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return uy(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,i)}const PI=new RegExp("[~\\*/\\[\\]]");function uy(t,e,i){if(e.search(PI)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new Vd(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function rd(t,e,i,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new ye(se.INVALID_ARGUMENT,m+t+g)}function C1(t,e){return t.some((i=>i.isEqual(e)))}class N1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Pd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OI extends N1{data(){return super.data()}}function Pd(t,e){return typeof e=="string"?uy(t,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}function j1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hy{}class dy extends hy{}function is(t,e,...i){let r=[];e instanceof hy&&r.push(e),r=r.concat(i),(function(c){const u=c.filter((g=>g instanceof fy)).length,m=c.filter((g=>g instanceof Od)).length;if(u>1||u>0&&m>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Od extends dy{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Od(e,i,r)}_apply(e){const i=this._parse(e);return V1(e._query,i),new zs(e.firestore,e.converter,Up(e._query,i))}_parse(e){const i=Md(e.firestore);return(function(c,u,m,g,y,v,T){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){$E(T,v);const D=[];for(const V of T)D.push(XE(g,c,V));S={arrayValue:{values:D}}}else S=XE(g,c,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||$E(T,v),S=kI(m,u,T,v==="in"||v==="not-in");return qt.create(y,v,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function D1(t,e,i){const r=e,o=Pd("where",t);return Od._create(o,r,i)}class fy extends hy{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new fy(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const g of m)V1(u,g),u=Up(u,g)})(e._query,i),new zs(e.firestore,e.converter,Up(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class my extends dy{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new my(e,i)}_apply(e){const i=(function(o,c,u){if(o.startAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ec(c,u)})(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new Fo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Ld(t,e="asc"){const i=e,r=Pd("orderBy",t);return my._create(r,i)}class py extends dy{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new py(e,i,r)}_apply(e){return new zs(e.firestore,e.converter,Wh(e._query,this._limit,this._limitType))}}function LI(t){return Bj("limit",t),py._create("limit",t,"F")}function XE(t,e,i){if(typeof(i=rs(i))=="string"){if(i==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Db(e)&&i.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ct.fromString(i));if(!we.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hE(t,new we(r))}if(i instanceof St)return hE(t,i._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(i)}.`)}function $E(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V1(t,e){const i=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class UI{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ir(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[$h].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new ns(i)}convertGeoPoint(e){return new ts(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Td(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const i=wr(e);return new ot(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ct.fromString(e);Je(Jb(r),9688,{name:e});const o=new _c(r.get(1),r.get(3)),c=new we(r.popFirst(5));return o.isEqual(i)||ks(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function I1(t,e,i){let r;return r=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,r}class ec{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends N1{constructor(e,i,r,o,c,u){super(e,i,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_a._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Ft("string",_a._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Oh extends _a{data(e={}){return super.data(e)}}class Ta{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Oh(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ec(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ec(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:zI(m.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}function gy(t){t=Dn(t,St);const e=Dn(t.firestore,Os);return AI(Dd(e),t._key).then((i=>P1(e,t,i)))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Ft("string",Ta._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class yy extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,i)}}function Ud(t){t=Dn(t,zs);const e=Dn(t.firestore,Os),i=Dd(e),r=new yy(e);return j1(t._query),wI(i,t._query).then((o=>new Ta(e,r,t,o)))}function vy(t,e,i){t=Dn(t,St);const r=Dn(t.firestore,Os),o=I1(t.converter,e,i);return zd(r,[A1(Md(r),"setDoc",t._key,o,t.converter!==null,i).toMutation(t._key,ai.none())])}function _y(t,e,i,...r){t=Dn(t,St);const o=Dn(t.firestore,Os),c=Md(o);let u;return u=typeof(e=rs(e))=="string"||e instanceof Vd?MI(c,"updateDoc",t._key,e,i,r):II(c,"updateDoc",t._key,e),zd(o,[u.toMutation(t._key,ai.exists(!0))])}function M1(t){return zd(Dn(t.firestore,Os),[new zg(t._key,ai.none())])}function k1(t,e){const i=Dn(t.firestore,Os),r=li(t),o=I1(t.converter,e);return zd(i,[A1(Md(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then((()=>r))}function BI(t,...e){t=rs(t);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||QE(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(QE(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,u,m;if(t instanceof St)u=Dn(t.firestore,Os),m=Ed(t._key.path),c={next:g=>{e[r]&&e[r](P1(u,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Dn(t,zs);u=Dn(g.firestore,Os),m=g._query;const y=new yy(u);c={next:v=>{e[r]&&e[r](new Ta(u,y,g,v))},error:e[r+1],complete:e[r+2]},j1(t._query)}return(function(y,v,T,S){const w=new ay(S),D=new iy(v,w,T);return y.asyncQueue.enqueueAndForget((async()=>ey(await sd(y),D))),()=>{w.Nu(),y.asyncQueue.enqueueAndForget((async()=>ty(await sd(y),D)))}})(Dd(u),m,o,c)}function zd(t,e){return(function(r,o){const c=new Ds;return r.asyncQueue.enqueueAndForget((async()=>fI(await bI(r),o,c))),c.promise})(Dd(t),e)}function P1(t,e,i){const r=i.docs.get(e._key),o=new yy(t);return new _a(t,o,e._key,r,new ec(i.hasPendingWrites,i.fromCache),e.converter)}function ad(){return new ly("serverTimestamp")}(function(e,i=!0){(function(o){zo=o})(vj),Yh(new pc("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),m=new Os(new Vj(r.getProvider("auth-internal")),new kj(u,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(y.options.projectId,v)})(u,o),u);return c={useFetchStreams:i,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Ro(WT,JT,e),Ro(WT,JT,"esm2020")})();var qI="firebase",FI="12.7.0";Ro(qI,FI,"app");const HI={apiKey:"AIzaSyBLudSWDzq8_frN8BRVTHXJKMih7QnHFN8",authDomain:"xantos-pizza-grill.firebaseapp.com",projectId:"xantos-pizza-grill",storageBucket:"xantos-pizza-grill.firebasestorage.app",messagingSenderId:"500986013090",appId:"1:500986013090:web:1664fe5fc1f014b62d3efb"},GI=nb(HI),Wt=CI(GI);async function $p(){try{const t=is(wa(Wt,"products"),Ld("category"));return(await Ud(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error fetching products:",t),t}}async function KI(t){try{const e=await k1(wa(Wt,"products"),t);return await Ty(),e.id}catch(e){throw console.error("Error creating product:",e),e}}async function YI(t,e){try{const i=li(Wt,"products",t);await _y(i,e),await Ty()}catch(i){throw console.error("Error updating product:",i),i}}async function QI(t){try{const e=li(Wt,"products",t);await M1(e),await Ty()}catch(e){throw console.error("Error deleting product:",e),e}}async function lc(){try{const t=li(Wt,"metadata","products"),e=await gy(t);if(e.exists()){const r=e.data().lastUpdated;if(r)return r.toDate?r.toDate():new Date(r)}return null}catch(t){return console.error("Error fetching products metadata:",t),null}}async function Ty(){try{const t=li(Wt,"metadata","products");await vy(t,{lastUpdated:ad()},{merge:!0})}catch(t){console.error("Error updating products metadata:",t)}}async function ZE(t){try{const e=li(Wt,"metadata","products");await vy(e,{mostPopularProductIds:t,mostPopularLastUpdated:ad(),lastUpdated:ad()},{merge:!0})}catch(e){throw console.error("Error setting most popular product IDs:",e),e}}async function od(){try{const t=li(Wt,"metadata","products"),e=await gy(t);if(e.exists()){const i=e.data(),r=i.mostPopularProductIds||[];let o=null;const c=i.mostPopularLastUpdated;return c&&(c.toDate?o=c.toDate():o=new Date(c)),{lastUpdated:o,productIds:r}}return{lastUpdated:null,productIds:[]}}catch(t){return console.error("Error fetching most popular metadata and IDs:",t),{lastUpdated:null,productIds:[]}}}const Ey=N.createContext({});function Bd(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const O1=typeof window<"u",xy=O1?N.useLayoutEffect:N.useEffect,qd=N.createContext(null);function Sy(t,e){t.indexOf(e)===-1&&t.push(e)}function by(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const os=(t,e,i)=>i>e?e:i<t?t:i;let Ay=()=>{};const Ls={},L1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function U1(t){return typeof t=="object"&&t!==null}const z1=t=>/^0[^.\s]+$/u.test(t);function wy(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,XI=(t,e)=>i=>e(t(i)),zc=(...t)=>t.reduce(XI),Ac=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class Ry{constructor(){this.subscriptions=[]}add(e){return Sy(this.subscriptions,e),()=>by(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=t=>t*1e3,ri=t=>t/1e3;function B1(t,e){return e?t*(1e3/e):0}const q1=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,$I=1e-7,ZI=12;function WI(t,e,i,r,o){let c,u,m=0;do u=e+(i-e)/2,c=q1(u,r,o)-t,c>0?i=u:e=u;while(Math.abs(c)>$I&&++m<ZI);return u}function Bc(t,e,i,r){if(t===e&&i===r)return oi;const o=c=>WI(c,0,1,t,i);return c=>c===0||c===1?c:q1(o(c),e,r)}const F1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,H1=t=>e=>1-t(1-e),G1=Bc(.33,1.53,.69,.99),Cy=H1(G1),K1=F1(Cy),Y1=t=>(t*=2)<1?.5*Cy(t):.5*(2-Math.pow(2,-10*(t-1))),Ny=t=>1-Math.sin(Math.acos(t)),Q1=H1(Ny),X1=F1(Ny),JI=Bc(.42,0,1,1),eM=Bc(0,0,.58,1),$1=Bc(.42,0,.58,1),tM=t=>Array.isArray(t)&&typeof t[0]!="number",Z1=t=>Array.isArray(t)&&typeof t[0]=="number",nM={linear:oi,easeIn:JI,easeInOut:$1,easeOut:eM,circIn:Ny,circInOut:X1,circOut:Q1,backIn:Cy,backInOut:K1,backOut:G1,anticipate:Y1},iM=t=>typeof t=="string",WE=t=>{if(Z1(t)){Ay(t.length===4);const[e,i,r,o]=t;return Bc(e,i,r,o)}else if(iM(t))return nM[t];return t},Eh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sM(t,e){let i=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(v){u.has(v)&&(y.schedule(v),t()),v(m)}const y={schedule:(v,T=!1,S=!1)=>{const D=S&&o?i:r;return T&&u.add(v),D.has(v)||D.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(m=v,o){c=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),i.clear(),o=!1,c&&(c=!1,y.process(v))}};return y}const rM=40;function W1(t,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,u=Eh.reduce((H,de)=>(H[de]=sM(c),H),{}),{setup:m,read:g,resolveKeyframes:y,preUpdate:v,update:T,preRender:S,render:w,postRender:D}=u,V=()=>{const H=Ls.useManualTiming?o.timestamp:performance.now();i=!1,Ls.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(H-o.timestamp,rM),1)),o.timestamp=H,o.isProcessing=!0,m.process(o),g.process(o),y.process(o),v.process(o),T.process(o),S.process(o),w.process(o),D.process(o),o.isProcessing=!1,i&&e&&(r=!1,t(V))},M=()=>{i=!0,r=!0,o.isProcessing||t(V)};return{schedule:Eh.reduce((H,de)=>{const ee=u[de];return H[de]=(ue,C=!1,A=!1)=>(i||M(),ee.schedule(ue,C,A)),H},{}),cancel:H=>{for(let de=0;de<Eh.length;de++)u[Eh[de]].cancel(H)},state:o,steps:u}}const{schedule:ft,cancel:Dr,state:an,steps:ap}=W1(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Lh;function aM(){Lh=void 0}const Tn={now:()=>(Lh===void 0&&Tn.set(an.isProcessing||Ls.useManualTiming?an.timestamp:performance.now()),Lh),set:t=>{Lh=t,queueMicrotask(aM)}},J1=t=>e=>typeof e=="string"&&e.startsWith(t),eA=J1("--"),oM=J1("var(--"),jy=t=>oM(t)?lM.test(t.split("/*")[0].trim()):!1,lM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function JE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wc={...Go,transform:t=>os(0,1,t)},xh={...Go,default:1},cc=t=>Math.round(t*1e5)/1e5,Dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cM(t){return t==null}const uM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vy=(t,e)=>i=>!!(typeof i=="string"&&uM.test(i)&&i.startsWith(t)||e&&!cM(i)&&Object.prototype.hasOwnProperty.call(i,e)),tA=(t,e,i)=>r=>{if(typeof r!="string")return r;const[o,c,u,m]=r.match(Dy);return{[t]:parseFloat(o),[e]:parseFloat(c),[i]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},hM=t=>os(0,255,t),op={...Go,transform:t=>Math.round(hM(t))},ya={test:Vy("rgb","red"),parse:tA("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+op.transform(t)+", "+op.transform(e)+", "+op.transform(i)+", "+cc(wc.transform(r))+")"};function dM(t){let e="",i="",r="",o="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Zp={test:Vy("#"),parse:dM,transform:ya.transform},qc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=qc("deg"),ss=qc("%"),Ee=qc("px"),fM=qc("vh"),mM=qc("vw"),ex={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},xo={test:Vy("hsl","hue"),parse:tA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+ss.transform(cc(e))+", "+ss.transform(cc(i))+", "+cc(wc.transform(r))+")"},Bt={test:t=>ya.test(t)||Zp.test(t)||xo.test(t),parse:t=>ya.test(t)?ya.parse(t):xo.test(t)?xo.parse(t):Zp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ya.transform(t):xo.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},pM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gM(t){return isNaN(t)&&typeof t=="string"&&(t.match(Dy)?.length||0)+(t.match(pM)?.length||0)>0}const nA="number",iA="color",yM="var",vM="var(",tx="${}",_M=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rc(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let c=0;const m=e.replace(_M,g=>(Bt.test(g)?(r.color.push(c),o.push(iA),i.push(Bt.parse(g))):g.startsWith(vM)?(r.var.push(c),o.push(yM),i.push(g)):(r.number.push(c),o.push(nA),i.push(parseFloat(g))),++c,tx)).split(tx);return{values:i,split:m,indexes:r,types:o}}function sA(t){return Rc(t).values}function rA(t){const{split:e,types:i}=Rc(t),r=e.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=e[u],o[u]!==void 0){const m=i[u];m===nA?c+=cc(o[u]):m===iA?c+=Bt.transform(o[u]):c+=o[u]}return c}}const TM=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function EM(t){const e=sA(t);return rA(t)(e.map(TM))}const Vr={test:gM,parse:sA,createTransformer:rA,getAnimatableNone:EM};function lp(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function xM({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let o=0,c=0,u=0;if(!e)o=c=u=i;else{const m=i<.5?i*(1+e):i+e-i*e,g=2*i-m;o=lp(g,m,t+1/3),c=lp(g,m,t),u=lp(g,m,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function ld(t,e){return i=>i>0?e:t}const gt=(t,e,i)=>t+(e-t)*i,cp=(t,e,i)=>{const r=t*t,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},SM=[Zp,ya,xo],bM=t=>SM.find(e=>e.test(t));function nx(t){const e=bM(t);if(!e)return!1;let i=e.parse(t);return e===xo&&(i=xM(i)),i}const ix=(t,e)=>{const i=nx(t),r=nx(e);if(!i||!r)return ld(t,e);const o={...i};return c=>(o.red=cp(i.red,r.red,c),o.green=cp(i.green,r.green,c),o.blue=cp(i.blue,r.blue,c),o.alpha=gt(i.alpha,r.alpha,c),ya.transform(o))},Wp=new Set(["none","hidden"]);function AM(t,e){return Wp.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function wM(t,e){return i=>gt(t,e,i)}function Iy(t){return typeof t=="number"?wM:typeof t=="string"?jy(t)?ld:Bt.test(t)?ix:NM:Array.isArray(t)?aA:typeof t=="object"?Bt.test(t)?ix:RM:ld}function aA(t,e){const i=[...t],r=i.length,o=t.map((c,u)=>Iy(c)(c,e[u]));return c=>{for(let u=0;u<r;u++)i[u]=o[u](c);return i}}function RM(t,e){const i={...t,...e},r={};for(const o in i)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Iy(t[o])(t[o],e[o]));return o=>{for(const c in r)i[c]=r[c](o);return i}}function CM(t,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][r[c]],m=t.values[u]??0;i[o]=m,r[c]++}return i}const NM=(t,e)=>{const i=Vr.createTransformer(e),r=Rc(t),o=Rc(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Wp.has(t)&&!o.values.length||Wp.has(e)&&!r.values.length?AM(t,e):zc(aA(CM(r,o),o.values),i):ld(t,e)};function oA(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?gt(t,e,i):Iy(t)(t,e)}const jM=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ft.update(e,i),stop:()=>Dr(e),now:()=>an.isProcessing?an.timestamp:Tn.now()}},lA=(t,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let c=0;c<o;c++)r+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cd=2e4;function My(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<cd;)e+=i,r=t.next(e);return e>=cd?1/0:e}function DM(t,e=100,i){const r=i({...t,keyframes:[0,e]}),o=Math.min(My(r),cd);return{type:"keyframes",ease:c=>r.next(o*c).value/e,duration:ri(o)}}const VM=5;function cA(t,e,i){const r=Math.max(e-VM,0);return B1(i-t(r),e-r)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},up=.001;function IM({duration:t=xt.duration,bounce:e=xt.bounce,velocity:i=xt.velocity,mass:r=xt.mass}){let o,c,u=1-e;u=os(xt.minDamping,xt.maxDamping,u),t=os(xt.minDuration,xt.maxDuration,ri(t)),u<1?(o=y=>{const v=y*u,T=v*t,S=v-i,w=Jp(y,u),D=Math.exp(-T);return up-S/w*D},c=y=>{const T=y*u*t,S=T*i+i,w=Math.pow(u,2)*Math.pow(y,2)*t,D=Math.exp(-T),V=Jp(Math.pow(y,2),u);return(-o(y)+up>0?-1:1)*((S-w)*D)/V}):(o=y=>{const v=Math.exp(-y*t),T=(y-i)*t+1;return-up+v*T},c=y=>{const v=Math.exp(-y*t),T=(i-y)*(t*t);return v*T});const m=5/t,g=kM(o,c,m);if(t=Vs(t),isNaN(g))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const y=Math.pow(g,2)*r;return{stiffness:y,damping:u*2*Math.sqrt(r*y),duration:t}}}const MM=12;function kM(t,e,i){let r=i;for(let o=1;o<MM;o++)r=r-t(r)/e(r);return r}function Jp(t,e){return t*Math.sqrt(1-e*e)}const PM=["duration","bounce"],OM=["stiffness","damping","mass"];function sx(t,e){return e.some(i=>t[i]!==void 0)}function LM(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!sx(t,OM)&&sx(t,PM))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,c=2*os(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:xt.mass,stiffness:o,damping:c}}else{const i=IM(t);e={...e,...i,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function ud(t=xt.visualDuration,e=xt.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=i;const c=i.keyframes[0],u=i.keyframes[i.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:y,mass:v,duration:T,velocity:S,isResolvedFromDuration:w}=LM({...i,velocity:-ri(i.velocity||0)}),D=S||0,V=y/(2*Math.sqrt(g*v)),M=u-c,k=ri(Math.sqrt(g/v)),q=Math.abs(M)<5;r||(r=q?xt.restSpeed.granular:xt.restSpeed.default),o||(o=q?xt.restDelta.granular:xt.restDelta.default);let H;if(V<1){const ee=Jp(k,V);H=ue=>{const C=Math.exp(-V*k*ue);return u-C*((D+V*k*M)/ee*Math.sin(ee*ue)+M*Math.cos(ee*ue))}}else if(V===1)H=ee=>u-Math.exp(-k*ee)*(M+(D+k*M)*ee);else{const ee=k*Math.sqrt(V*V-1);H=ue=>{const C=Math.exp(-V*k*ue),A=Math.min(ee*ue,300);return u-C*((D+V*k*M)*Math.sinh(A)+ee*M*Math.cosh(A))/ee}}const de={calculatedDuration:w&&T||null,next:ee=>{const ue=H(ee);if(w)m.done=ee>=T;else{let C=ee===0?D:0;V<1&&(C=ee===0?Vs(D):cA(H,ee,ue));const A=Math.abs(C)<=r,j=Math.abs(u-ue)<=o;m.done=A&&j}return m.value=m.done?u:ue,m},toString:()=>{const ee=Math.min(My(de),cd),ue=lA(C=>de.next(ee*C).value,ee,30);return ee+"ms "+ue},toTransition:()=>{}};return de}ud.applyToOptions=t=>{const e=DM(t,100,ud);return t.ease=e.ease,t.duration=Vs(e.duration),t.type="keyframes",t};function eg({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:y=.5,restSpeed:v}){const T=t[0],S={done:!1,value:T},w=A=>m!==void 0&&A<m||g!==void 0&&A>g,D=A=>m===void 0?g:g===void 0||Math.abs(m-A)<Math.abs(g-A)?m:g;let V=i*e;const M=T+V,k=u===void 0?M:u(M);k!==M&&(V=k-T);const q=A=>-V*Math.exp(-A/r),H=A=>k+q(A),de=A=>{const j=q(A),L=H(A);S.done=Math.abs(j)<=y,S.value=S.done?k:L};let ee,ue;const C=A=>{w(S.value)&&(ee=A,ue=ud({keyframes:[S.value,D(S.value)],velocity:cA(H,A,S.value),damping:o,stiffness:c,restDelta:y,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let j=!1;return!ue&&ee===void 0&&(j=!0,de(A),C(A)),ee!==void 0&&A>=ee?ue.next(A-ee):(!j&&de(A),S)}}}function UM(t,e,i){const r=[],o=i||Ls.mix||oA,c=t.length-1;for(let u=0;u<c;u++){let m=o(t[u],t[u+1]);if(e){const g=Array.isArray(e)?e[u]||oi:e;m=zc(g,m)}r.push(m)}return r}function zM(t,e,{clamp:i=!0,ease:r,mixer:o}={}){const c=t.length;if(Ay(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=UM(e,r,o),g=m.length,y=v=>{if(u&&v<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const S=Ac(t[T],t[T+1],v);return m[T](S)};return i?v=>y(os(t[0],t[c-1],v)):y}function BM(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const o=Ac(0,e,r);t.push(gt(i,1,o))}}function qM(t){const e=[0];return BM(e,t.length-1),e}function FM(t,e){return t.map(i=>i*e)}function HM(t,e){return t.map(()=>e||$1).splice(0,t.length-1)}function uc({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=tM(r)?r.map(WE):WE(r),c={done:!1,value:e[0]},u=FM(i&&i.length===e.length?i:qM(e),t),m=zM(u,e,{ease:Array.isArray(o)?o:HM(e,o)});return{calculatedDuration:t,next:g=>(c.value=m(g),c.done=g>=t,c)}}const GM=t=>t!==null;function ky(t,{repeat:e,repeatType:i="loop"},r,o=1){const c=t.filter(GM),m=o<0||e&&i!=="loop"&&e%2===1?0:c.length-1;return!m||r===void 0?c[m]:r}const KM={decay:eg,inertia:eg,tween:uc,keyframes:uc,spring:ud};function uA(t){typeof t.type=="string"&&(t.type=KM[t.type])}class Py{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const YM=t=>t/100;class Oy extends Py{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uA(e);const{type:i=uc,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:m}=e;const g=i||uc;g!==uc&&typeof m[0]!="number"&&(this.mixKeyframes=zc(YM,oA(m[0],m[1])),m=[0,100]);const y=g({...e,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=My(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:v,repeat:T,repeatType:S,repeatDelay:w,type:D,onUpdate:V,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const k=this.currentTime-y*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?k<0:k>o;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let H=this.currentTime,de=r;if(T){const A=Math.min(this.currentTime,o)/m;let j=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&j--,j=Math.min(j,T+1),!!(j%2)&&(S==="reverse"?(L=1-L,w&&(L-=w/m)):S==="mirror"&&(de=u)),H=os(0,1,L)*m}const ee=q?{done:!1,value:v[0]}:de.next(H);c&&(ee.value=c(ee.value));let{done:ue}=ee;!q&&g!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return C&&D!==eg&&(ee.value=ky(v,this.options,M,this.speed)),V&&V(ee.value),C&&this.finish(),ee}then(e,i){return this.finished.then(e,i)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(this.currentTime)}set time(e){e=Vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=jM,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function QM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const va=t=>t*180/Math.PI,tg=t=>{const e=va(Math.atan2(t[1],t[0]));return ng(e)},XM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tg,rotateZ:tg,skewX:t=>va(Math.atan(t[1])),skewY:t=>va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ng=t=>(t=t%360,t<0&&(t+=360),t),rx=tg,ax=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ox=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$M={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ax,scaleY:ox,scale:t=>(ax(t)+ox(t))/2,rotateX:t=>ng(va(Math.atan2(t[6],t[5]))),rotateY:t=>ng(va(Math.atan2(-t[2],t[0]))),rotateZ:rx,rotate:rx,skewX:t=>va(Math.atan(t[4])),skewY:t=>va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ig(t){return t.includes("scale")?1:0}function sg(t,e){if(!t||t==="none")return ig(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=$M,o=i;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XM,o=m}if(!o)return ig(e);const c=r[e],u=o[1].split(",").map(WM);return typeof c=="function"?c(u):u[c]}const ZM=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return sg(i,e)};function WM(t){return parseFloat(t.trim())}const Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Ko),lx=t=>t===Go||t===Ee,JM=new Set(["x","y","z"]),e4=Ko.filter(t=>!JM.has(t));function t4(t){const e=[];return e4.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const Tr={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sg(e,"x"),y:(t,{transform:e})=>sg(e,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const Ea=new Set;let rg=!1,ag=!1,og=!1;function hA(){if(ag){const t=Array.from(Ea).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=t4(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ag=!1,rg=!1,Ea.forEach(t=>t.complete(og)),Ea.clear()}function dA(){Ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ag=!0)})}function n4(){og=!0,dA(),hA(),og=!1}class Ly{constructor(e,i,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ea.add(this),rg||(rg=!0,ft.read(dA),ft.resolveKeyframes(hA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&i){const m=r.readValue(i,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}QM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ea.delete(this)}cancel(){this.state==="scheduled"&&(Ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const i4=t=>t.startsWith("--");function s4(t,e,i){i4(e)?t.style.setProperty(e,i):t.style[e]=i}const r4=wy(()=>window.ScrollTimeline!==void 0),a4={};function o4(t,e){const i=wy(t);return()=>a4[e]??i()}const fA=o4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tc=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,cx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tc([0,.65,.55,1]),circOut:tc([.55,0,1,.45]),backIn:tc([.31,.01,.66,-.59]),backOut:tc([.33,1.53,.69,.99])};function mA(t,e){if(t)return typeof t=="function"?fA()?lA(t,e):"ease-out":Z1(t)?tc(t):Array.isArray(t)?t.map(i=>mA(i,e)||cx.easeOut):cx[t]}function l4(t,e,i,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},y=void 0){const v={[e]:i};g&&(v.offset=g);const T=mA(m,o);Array.isArray(T)&&(v.easing=T);const S={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),t.animate(v,S)}function pA(t){return typeof t=="function"&&"applyToOptions"in t}function c4({type:t,...e}){return pA(t)&&fA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class u4 extends Py{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,Ay(typeof e.type!="string");const y=c4(e);this.animation=l4(i,r,o,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const v=ky(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):s4(i,r,v),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&r4()?(this.animation.timeline=e,oi):i(this)}}const gA={anticipate:Y1,backInOut:K1,circInOut:X1};function h4(t){return t in gA}function d4(t){typeof t.ease=="string"&&h4(t.ease)&&(t.ease=gA[t.ease])}const hp=10;class f4 extends u4{constructor(e){d4(e),uA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const m=new Oy({...u,autoplay:!1}),g=Math.max(hp,Tn.now()-this.startTime),y=os(0,hp,g-hp);i.setWithVelocity(m.sample(Math.max(0,g-y)).value,m.sample(g).value,y),m.stop()}}const ux=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vr.test(t)||t==="0")&&!t.startsWith("url("));function m4(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function p4(t,e,i,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=ux(o,e),m=ux(c,e);return!u||!m?!1:m4(t)||(i==="spring"||pA(i))&&r}function lg(t){t.duration=0,t.type="keyframes"}const g4=new Set(["opacity","clipPath","filter","transform"]),y4=wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function v4(t){const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=e.owner.getProps();return y4()&&i&&g4.has(i)&&(i!=="transform"||!y)&&!g&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const _4=40;class T4 extends Py{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:y,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const S={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:c,repeatType:u,name:g,motionValue:y,element:v,...T},w=v?.KeyframeResolver||Ly;this.keyframeResolver=new w(m,(D,V,M)=>this.onKeyframesResolved(D,V,S,!M),g,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:y,onUpdate:v}=r;this.resolvedAt=Tn.now(),p4(e,c,u,m)||((Ls.instantAnimations||!g)&&v?.(ky(e,r,i)),e[0]=e[e.length-1],lg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>_4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},w=!y&&v4(S)?new f4({...S,element:S.motionValue.owner.current}):new Oy(S);w.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),n4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const E4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x4(t){const e=E4.exec(t);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function yA(t,e,i=1){const[r,o]=x4(t);if(!r)return;const c=window.getComputedStyle(e).getPropertyValue(r);if(c){const u=c.trim();return L1(u)?parseFloat(u):u}return jy(o)?yA(o,e,i+1):o}function Uy(t,e){return t?.[e]??t?.default??t}const S4={type:"spring",stiffness:500,damping:25,restSpeed:10},b4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A4={type:"keyframes",duration:.8},w4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R4=(t,{keyframes:e})=>e.length>2?A4:Yo.has(t)?t.startsWith("scale")?b4(e[1]):S4:w4;function C4({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:y,...v}){return!!Object.keys(v).length}const N4=t=>t!==null;function j4(t,{repeat:e,repeatType:i="loop"},r){const o=t.filter(N4),c=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[c]}function vA(t,e,i,r=0,o=1){const c=Array.from(t).sort((y,v)=>y.sortNodePosition(v)).indexOf(e),u=t.size,m=(u-1)*r;return typeof i=="function"?i(c,u):o===1?c*r:m-c*r}const zy=(t,e,i,r={},o,c)=>u=>{const m=Uy(r,t)||{},g=m.delay||r.delay||0;let{elapsed:y=0}=r;y=y-Vs(g);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-y,onUpdate:S=>{e.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:c?void 0:o};C4(m)||Object.assign(v,R4(t,v)),v.duration&&(v.duration=Vs(v.duration)),v.repeatDelay&&(v.repeatDelay=Vs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(lg(v),v.delay===0&&(T=!0)),(Ls.instantAnimations||Ls.skipAnimations)&&(T=!0,lg(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,T&&!c&&e.get()!==void 0){const S=j4(v.keyframes,m);if(S!==void 0){ft.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new Oy(v):new T4(v)},_A=new Set(["width","height","top","left","right","bottom",...Ko]),hx=30,D4=t=>!isNaN(parseFloat(t));class V4{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=D4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Ry);const r=this.events[e].add(i);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hx)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,hx);return B1(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(t,e){return new V4(t,e)}function dx(t){const e=[{},{}];return t?.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function By(t,e,i,r){if(typeof e=="function"){const[o,c]=dx(r);e=e(i!==void 0?i:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=dx(r);e=e(i!==void 0?i:t.custom,o,c)}return e}function No(t,e,i){const r=t.getProps();return By(r,e,i!==void 0?i:r.custom,t)}const cg=t=>Array.isArray(t);function I4(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Po(i))}function M4(t){return cg(t)?t[t.length-1]||0:t}function qy(t,e){const i=No(t,e);let{transitionEnd:r={},transition:o={},...c}=i||{};c={...c,...r};for(const u in c){const m=M4(c[u]);I4(t,u,m)}}const pn=t=>!!(t&&t.getVelocity);function k4(t){return!!(pn(t)&&t.add)}function ug(t,e){const i=t.getValue("willChange");if(k4(i))return i.add(e);if(!i&&Ls.WillChange){const r=new Ls.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Fy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const P4="framerAppearId",TA="data-"+Fy(P4);function EA(t){return t.props[TA]}function O4({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function xA(t,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...m}=e;r&&(c=r);const g=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const v in m){const T=t.getValue(v,t.latestValues[v]??null),S=m[v];if(S===void 0||y&&O4(y,v))continue;const w={delay:i,...Uy(c||{},v)},D=T.get();if(D!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===D&&!w.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const k=EA(t);if(k){const q=window.MotionHandoffAnimation(k,v,ft);q!==null&&(w.startTime=q,V=!0)}}ug(t,v),T.start(zy(v,T,S,t.shouldReduceMotion&&_A.has(v)?{type:!1}:w,t,V));const M=T.animation;M&&g.push(M)}return u&&Promise.all(g).then(()=>{ft.update(()=>{u&&qy(t,u)})}),g}function hg(t,e,i={}){const r=No(t,e,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const c=r?()=>Promise.all(xA(t,r,i)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:T}=o;return L4(t,e,g,y,v,T,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,y]=m==="beforeChildren"?[c,u]:[u,c];return g().then(()=>y())}else return Promise.all([c(),u(i.delay)])}function L4(t,e,i=0,r=0,o=0,c=1,u){const m=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),m.push(hg(g,e,{...u,delay:i+(typeof r=="function"?0:r)+vA(t.variantChildren,g,r,o,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function SA(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(c=>hg(t,c,i));r=Promise.all(o)}else if(typeof e=="string")r=hg(t,e,i);else{const o=typeof e=="function"?No(t,e,i.custom):e;r=Promise.all(xA(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}const U4={test:t=>t==="auto",parse:t=>t},bA=t=>e=>e.test(t),AA=[Go,Ee,ss,vr,mM,fM,U4],fx=t=>AA.find(bA(t));function z4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||z1(t):!0}const B4=new Set(["brightness","contrast","saturate","opacity"]);function q4(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(Dy)||[];if(!r)return t;const o=i.replace(r,"");let c=B4.has(e)?1:0;return r!==i&&(c*=100),e+"("+c+o+")"}const F4=/\b([a-z-]*)\(.*?\)/gu,dg={...Vr,getAnimatableNone:t=>{const e=t.match(F4);return e?e.map(q4).join(" "):t}},mx={...Go,transform:Math.round},H4={rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:xh,scaleX:xh,scaleY:xh,scaleZ:xh,skew:vr,skewX:vr,skewY:vr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:wc,originX:ex,originY:ex,originZ:Ee},Hy={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,inset:Ee,insetBlock:Ee,insetBlockStart:Ee,insetBlockEnd:Ee,insetInline:Ee,insetInlineStart:Ee,insetInlineEnd:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,paddingBlock:Ee,paddingBlockStart:Ee,paddingBlockEnd:Ee,paddingInline:Ee,paddingInlineStart:Ee,paddingInlineEnd:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,marginBlock:Ee,marginBlockStart:Ee,marginBlockEnd:Ee,marginInline:Ee,marginInlineStart:Ee,marginInlineEnd:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...H4,zIndex:mx,fillOpacity:wc,strokeOpacity:wc,numOctaves:mx},G4={...Hy,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:dg,WebkitFilter:dg},wA=t=>G4[t];function RA(t,e){let i=wA(t);return i!==dg&&(i=Vr),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const K4=new Set(["auto","none","0"]);function Y4(t,e,i){let r=0,o;for(;r<t.length&&!o;){const c=t[r];typeof c=="string"&&!K4.has(c)&&Rc(c).values.length&&(o=t[r]),r++}if(o&&i)for(const c of e)t[c]=RA(i,o)}class Q4 extends Ly{constructor(e,i,r,o,c){super(e,i,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let T=e[v];if(typeof T=="string"&&(T=T.trim(),jy(T))){const S=yA(T,i.current);S!==void 0&&(e[v]=S),v===e.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!_A.has(r)||e.length!==2)return;const[o,c]=e,u=fx(o),m=fx(c),g=JE(o),y=JE(c);if(g!==y&&Tr[r]){this.needsMeasurement=!0;return}if(u!==m)if(lx(u)&&lx(m))for(let v=0;v<e.length;v++){const T=e[v];typeof T=="string"&&(e[v]=parseFloat(T))}else Tr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||z4(e[o]))&&r.push(o);r.length&&Y4(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=Tr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function X4(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=i?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const CA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NA(t){return U1(t)&&"offsetHeight"in t}const{schedule:Gy}=W1(queueMicrotask,!1),Si={x:!1,y:!1};function jA(){return Si.x||Si.y}function $4(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function DA(t,e){const i=X4(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function px(t){return!(t.pointerType==="touch"||jA())}function Z4(t,e,i={}){const[r,o,c]=DA(t,i),u=m=>{if(!px(m))return;const{target:g}=m,y=e(g,m);if(typeof y!="function"||!g)return;const v=T=>{px(T)&&(y(T),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",u,o)}),c}const VA=(t,e)=>e?t===e?!0:VA(t,e.parentElement):!1,Ky=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,W4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IA(t){return W4.has(t.tagName)||t.isContentEditable===!0}const Uh=new WeakSet;function gx(t){return e=>{e.key==="Enter"&&t(e)}}function dp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const J4=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=gx(()=>{if(Uh.has(i))return;dp(i,"down");const o=gx(()=>{dp(i,"up")}),c=()=>dp(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",c,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function yx(t){return Ky(t)&&!jA()}function ek(t,e,i={}){const[r,o,c]=DA(t,i),u=m=>{const g=m.currentTarget;if(!yx(m))return;Uh.add(g);const y=e(g,m),v=(w,D)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Uh.has(g)&&Uh.delete(g),yx(w)&&typeof y=="function"&&y(w,{success:D})},T=w=>{v(w,g===window||g===document||i.useGlobalTarget||VA(g,w.target))},S=w=>{v(w,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),NA(m)&&(m.addEventListener("focus",y=>J4(y,o)),!IA(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function MA(t){return U1(t)&&"ownerSVGElement"in t}function tk(t){return MA(t)&&t.tagName==="svg"}const nk=[...AA,Bt,Vr],ik=t=>nk.find(bA(t)),vx=()=>({translate:0,scale:1,origin:0,originPoint:0}),So=()=>({x:vx(),y:vx()}),_x=()=>({min:0,max:0}),Gt=()=>({x:_x(),y:_x()}),fg={current:null},kA={current:!1},sk=typeof window<"u";function rk(){if(kA.current=!0,!!sk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fg.current=t.matches;t.addEventListener("change",e),e()}else fg.current=!1}const ak=new WeakMap;function Fd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cc(t){return typeof t=="string"||Array.isArray(t)}const Yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qy=["initial",...Yy];function Hd(t){return Fd(t.animate)||Qy.some(e=>Cc(t[e]))}function PA(t){return!!(Hd(t)||t.variants)}function ok(t,e,i){for(const r in e){const o=e[r],c=i[r];if(pn(o))t.addValue(r,o);else if(pn(c))t.addValue(r,Po(o,{owner:t}));else if(c!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,Po(u!==void 0?u:o,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const Tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hd={};function OA(t){hd=t}function lk(){return hd}class ck{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Tn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ft.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=y,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Hd(i),this.isVariantNode=PA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in T){const w=T[S];g[S]!==void 0&&pn(w)&&w.set(g[S])}}mount(e){this.current=e,ak.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(kA.current||rk(),this.shouldReduceMotion=fg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dr(this.notifyUpdate),Dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yo.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hd){const i=hd[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<Tx.length;r++){const o=Tx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=ok(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=Po(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(L1(r)||z1(r))?r=parseFloat(r):!ik(r)&&Vr.test(i)&&(r=RA(e,i)),this.setBaseTarget(e,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=By(this.props,i,this.presenceContext?.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!pn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Ry),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){Gy.render(this.render)}}class kr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class LA extends ck{constructor(){super(...arguments),this.KeyframeResolver=Q4}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){const r=e.style;return r?r[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function UA({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function uk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hk(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function fp(t){return t===void 0||t===1}function mg({scale:t,scaleX:e,scaleY:i}){return!fp(t)||!fp(e)||!fp(i)}function pa(t){return mg(t)||zA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zA(t){return Ex(t.x)||Ex(t.y)}function Ex(t){return t&&t!=="0%"}function dd(t,e,i){const r=t-i,o=e*r;return i+o}function xx(t,e,i,r,o){return o!==void 0&&(t=dd(t,o,r)),dd(t,i,r)+e}function pg(t,e=0,i=1,r,o){t.min=xx(t.min,e,i,r,o),t.max=xx(t.max,e,i,r,o)}function BA(t,{x:e,y:i}){pg(t.x,e.translate,e.scale,e.originPoint),pg(t.y,i.translate,i.scale,i.originPoint)}const Sx=.999999999999,bx=1.0000000000001;function dk(t,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let c,u;for(let m=0;m<o;m++){c=i[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ao(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,BA(t,u)),r&&pa(c.latestValues)&&Ao(t,c.latestValues))}e.x<bx&&e.x>Sx&&(e.x=1),e.y<bx&&e.y>Sx&&(e.y=1)}function bo(t,e){t.min=t.min+e,t.max=t.max+e}function Ax(t,e,i,r,o=.5){const c=gt(t.min,t.max,o);pg(t,e,i,c,r)}function Ao(t,e){Ax(t.x,e.x,e.scaleX,e.scale,e.originX),Ax(t.y,e.y,e.scaleY,e.scale,e.originY)}function qA(t,e){return UA(hk(t.getBoundingClientRect(),e))}function fk(t,e,i){const r=qA(t,i),{scroll:o}=e;return o&&(bo(r.x,o.offset.x),bo(r.y,o.offset.y)),r}const mk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pk=Ko.length;function gk(t,e,i){let r="",o=!0;for(let c=0;c<pk;c++){const u=Ko[c],m=t[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||i){const y=CA(m,Hy[u]);if(!g){o=!1;const v=mk[u]||u;r+=`${v}(${y}) `}i&&(e[u]=y)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function Xy(t,e,i){const{style:r,vars:o,transformOrigin:c}=t;let u=!1,m=!1;for(const g in e){const y=e[g];if(Yo.has(g)){u=!0;continue}else if(eA(g)){o[g]=y;continue}else{const v=CA(y,Hy[g]);g.startsWith("origin")?(m=!0,c[g]=v):r[g]=v}}if(e.transform||(u||i?r.transform=gk(e,t.transform,i):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:y="50%",originZ:v=0}=c;r.transformOrigin=`${g} ${y} ${v}`}}function FA(t,{style:e,vars:i},r,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,r);for(u in i)c.setProperty(u,i[u])}function wx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $l={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const i=wx(t,e.target.x),r=wx(t,e.target.y);return`${i}% ${r}%`}},yk={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,o=Vr.parse(t);if(o.length>5)return r;const c=Vr.createTransformer(t),u=typeof o[0]!="number"?1:0,m=i.x.scale*e.x,g=i.y.scale*e.y;o[0+u]/=m,o[1+u]/=g;const y=gt(m,g,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),c(o)}},gg={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:yk};function HA(t,{layout:e,layoutId:i}){return Yo.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!gg[t]||t==="opacity")}function $y(t,e,i){const r=t.style,o=e?.style,c={};if(!r)return c;for(const u in r)(pn(r[u])||o&&pn(o[u])||HA(u,t)||i?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function vk(t){return window.getComputedStyle(t)}class _k extends LA{constructor(){super(...arguments),this.type="html",this.renderInstance=FA}readValueFromInstance(e,i){if(Yo.has(i))return this.projection?.isProjecting?ig(i):ZM(e,i);{const r=vk(e),o=(eA(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:i}){return qA(e,i)}build(e,i,r){Xy(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return $y(e,i,r)}}const Tk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ek={offset:"strokeDashoffset",array:"strokeDasharray"};function xk(t,e,i=1,r=0,o=!0){t.pathLength=1;const c=o?Tk:Ek;t[c.offset]=Ee.transform(-r);const u=Ee.transform(e),m=Ee.transform(i);t[c.array]=`${u} ${m}`}const Sk=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function GA(t,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...m},g,y,v){if(Xy(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete T.transformBox);for(const w of Sk)T[w]!==void 0&&(S[w]=T[w],delete T[w]);e!==void 0&&(T.x=e),i!==void 0&&(T.y=i),r!==void 0&&(T.scale=r),o!==void 0&&xk(T,o,c,u,!1)}const KA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),YA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bk(t,e,i,r){FA(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(KA.has(o)?o:Fy(o),e.attrs[o])}function QA(t,e,i){const r=$y(t,e,i);for(const o in t)if(pn(t[o])||pn(e[o])){const c=Ko.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=t[o]}return r}class Ak extends LA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(Yo.has(i)){const r=wA(i);return r&&r.default||0}return i=KA.has(i)?i:Fy(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return QA(e,i,r)}build(e,i,r){GA(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){bk(e,i,r,o)}mount(e){this.isSVGTag=YA(e.tagName),super.mount(e)}}const wk=Qy.length;function XA(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?XA(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<wk;i++){const r=Qy[i],o=t.props[r];(Cc(o)||o===!1)&&(e[r]=o)}return e}function $A(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const Rk=[...Yy].reverse(),Ck=Yy.length;function Nk(t){return e=>Promise.all(e.map(({animation:i,options:r})=>SA(t,i,r)))}function jk(t){let e=Nk(t),i=Rx(),r=!0;const o=g=>(y,v)=>{const T=No(t,v,g==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:w,...D}=T;y={...y,...D,...w}}return y};function c(g){e=g(t)}function u(g){const{props:y}=t,v=XA(t.parent)||{},T=[],S=new Set;let w={},D=1/0;for(let M=0;M<Ck;M++){const k=Rk[M],q=i[k],H=y[k]!==void 0?y[k]:v[k],de=Cc(H),ee=k===g?q.isActive:null;ee===!1&&(D=M);let ue=H===v[k]&&H!==y[k]&&de;if(ue&&r&&t.manuallyAnimateOnMount&&(ue=!1),q.protectedKeys={...w},!q.isActive&&ee===null||!H&&!q.prevProp||Fd(H)||typeof H=="boolean")continue;const C=Dk(q.prevProp,H);let A=C||k===g&&q.isActive&&!ue&&de||M>D&&de,j=!1;const L=Array.isArray(H)?H:[H];let P=L.reduce(o(k),{});ee===!1&&(P={});const{prevResolvedValues:F={}}=q,I={...F,...P},Ue=he=>{A=!0,S.has(he)&&(j=!0,S.delete(he)),q.needsAnimating[he]=!0;const ge=t.getValue(he);ge&&(ge.liveStyle=!1)};for(const he in I){const ge=P[he],be=F[he];if(w.hasOwnProperty(he))continue;let Ce=!1;cg(ge)&&cg(be)?Ce=!$A(ge,be):Ce=ge!==be,Ce?ge!=null?Ue(he):S.add(he):ge!==void 0&&S.has(he)?Ue(he):q.protectedKeys[he]=!0}q.prevProp=H,q.prevResolvedValues=P,q.isActive&&(w={...w,...P}),r&&t.blockInitialAnimation&&(A=!1);const ve=ue&&C;A&&(!ve||j)&&T.push(...L.map(he=>{const ge={type:k};if(typeof he=="string"&&r&&!ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Ce=No(be,he);if(be.enteringChildren&&Ce){const{delayChildren:z}=Ce.transition||{};ge.delay=vA(be.enteringChildren,t,z)}}return{animation:he,options:ge}}))}if(S.size){const M={};if(typeof y.initial!="boolean"){const k=No(t,Array.isArray(y.initial)?y.initial[0]:y.initial);k&&k.transition&&(M.transition=k.transition)}S.forEach(k=>{const q=t.getBaseTarget(k),H=t.getValue(k);H&&(H.liveStyle=!0),M[k]=q??null}),T.push({animation:M})}let V=!!T.length;return r&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(T):Promise.resolve()}function m(g,y){if(i[g].isActive===y)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(g,y)),i[g].isActive=y;const v=u(g);for(const T in i)i[T].protectedKeys={};return v}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>i,reset:()=>{i=Rx()}}}function Dk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$A(e,t):!1}function fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rx(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}const ZA=1e-4,Vk=1-ZA,Ik=1+ZA,WA=.01,Mk=0-WA,kk=0+WA;function En(t){return t.max-t.min}function Pk(t,e,i){return Math.abs(t-e)<=i}function Cx(t,e,i,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=En(i)/En(e),t.translate=gt(i.min,i.max,t.origin)-t.originPoint,(t.scale>=Vk&&t.scale<=Ik||isNaN(t.scale))&&(t.scale=1),(t.translate>=Mk&&t.translate<=kk||isNaN(t.translate))&&(t.translate=0)}function hc(t,e,i,r){Cx(t.x,e.x,i.x,r?r.originX:void 0),Cx(t.y,e.y,i.y,r?r.originY:void 0)}function Nx(t,e,i){t.min=i.min+e.min,t.max=t.min+En(e)}function Ok(t,e,i){Nx(t.x,e.x,i.x),Nx(t.y,e.y,i.y)}function jx(t,e,i){t.min=e.min-i.min,t.max=t.min+En(e)}function fd(t,e,i){jx(t.x,e.x,i.x),jx(t.y,e.y,i.y)}function Dx(t,e,i,r,o){return t-=e,t=dd(t,1/i,r),o!==void 0&&(t=dd(t,1/o,r)),t}function Lk(t,e=0,i=1,r=.5,o,c=t,u=t){if(ss.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=gt(c.min,c.max,r);t===c&&(m-=e),t.min=Dx(t.min,e,i,m,o),t.max=Dx(t.max,e,i,m,o)}function Vx(t,e,[i,r,o],c,u){Lk(t,e[i],e[r],e[o],e.scale,c,u)}const Uk=["x","scaleX","originX"],zk=["y","scaleY","originY"];function Ix(t,e,i,r){Vx(t.x,e,Uk,i?i.x:void 0,r?r.x:void 0),Vx(t.y,e,zk,i?i.y:void 0,r?r.y:void 0)}function Mx(t,e){t.min=e.min,t.max=e.max}function Ei(t,e){Mx(t.x,e.x),Mx(t.y,e.y)}function kx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Px(t){return t.translate===0&&t.scale===1}function JA(t){return Px(t.x)&&Px(t.y)}function Ox(t,e){return t.min===e.min&&t.max===e.max}function Bk(t,e){return Ox(t.x,e.x)&&Ox(t.y,e.y)}function Lx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ew(t,e){return Lx(t.x,e.x)&&Lx(t.y,e.y)}function Ux(t){return En(t.x)/En(t.y)}function zx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ii(t){return[t("x"),t("y")]}function qk(t,e,i){let r="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=i?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:y,rotate:v,rotateX:T,rotateY:S,skewX:w,skewY:D}=i;y&&(r=`perspective(${y}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),S&&(r+=`rotateY(${S}deg) `),w&&(r+=`skewX(${w}deg) `),D&&(r+=`skewY(${D}deg) `)}const m=t.x.scale*e.x,g=t.y.scale*e.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const tw=["TopLeft","TopRight","BottomLeft","BottomRight"],Fk=tw.length,Bx=t=>typeof t=="string"?parseFloat(t):t,qx=t=>typeof t=="number"||Ee.test(t);function Hk(t,e,i,r,o,c){o?(t.opacity=gt(0,i.opacity??1,Gk(r)),t.opacityExit=gt(e.opacity??1,0,Kk(r))):c&&(t.opacity=gt(e.opacity??1,i.opacity??1,r));for(let u=0;u<Fk;u++){const m=`border${tw[u]}Radius`;let g=Fx(e,m),y=Fx(i,m);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||qx(g)===qx(y)?(t[m]=Math.max(gt(Bx(g),Bx(y),r),0),(ss.test(y)||ss.test(g))&&(t[m]+="%")):t[m]=y}(e.rotate||i.rotate)&&(t.rotate=gt(e.rotate||0,i.rotate||0,r))}function Fx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Gk=nw(0,.5,Q1),Kk=nw(.5,.95,oi);function nw(t,e,i){return r=>r<t?0:r>e?1:i(Ac(t,e,r))}function Yk(t,e){const i=Tn.now(),r=({timestamp:o})=>{const c=o-i;c>=e&&(Dr(r),t(c-e))};return ft.setup(r,!0),()=>Dr(r)}function Nc(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}function zh(t){return pn(t)?t.get():t}function Qk(t,e,i){const r=pn(t)?t:Po(t);return r.start(zy("",r,e,i)),r.animation}const Xk=(t,e)=>t.depth-e.depth;class $k{constructor(){this.children=[],this.isDirty=!1}add(e){Sy(this.children,e),this.isDirty=!0}remove(e){by(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xk),this.isDirty=!1,this.children.forEach(e)}}class Zk{constructor(){this.members=[]}add(e){Sy(this.members,e),e.scheduleRender()}remove(e){if(by(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Bh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mp=["","X","Y","Z"],Wk=1e3;let Jk=0;function pp(t,e,i,r){const{latestValues:o}=e;o[t]&&(i[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function iw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=EA(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ft,!(o||c))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&iw(r)}function sw({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},m=e?.()){this.id=Jk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nP),this.nodes.forEach(aP),this.nodes.forEach(oP),this.nodes.forEach(iP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new $k)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ry),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=MA(u)&&!tk(u),this.instance=u;const{layoutId:m,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),t){let v,T=0;const S=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{T=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==T&&(T=w,this.root.updateBlockedByResize=!0,v&&v(),v=Yk(S,250),Bh.hasAnimatedSinceResize&&(Bh.hasAnimatedSinceResize=!1,this.nodes.forEach(Kx)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||y.getDefaultTransition()||dP,{onLayoutAnimationStart:V,onLayoutAnimationComplete:M}=y.getProps(),k=!this.targetLayout||!ew(this.targetLayout,w),q=!T&&S;if(this.options.layoutRoot||this.resumeFrom||q||T&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Uy(D,"layout"),onPlay:V,onComplete:M};(y.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,q)}else T||Kx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rP),this.nodes.forEach(eP),this.nodes.forEach(tP)):this.nodes.forEach(Gx),this.clearAllSnapshots();const m=Tn.now();an.delta=os(0,1e3/60,m-an.timestamp),an.timestamp=m,an.isProcessing=!0,ap.update.process(an),ap.preRender.process(an),ap.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sP),this.sharedNodes.forEach(cP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!JA(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;u&&this.instance&&(m||pa(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),fP(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mP))){const{scroll:y}=this.root;y&&(bo(m.x,y.offset.x),bo(m.y,y.offset.y))}return m}removeElementScroll(u){const m=Gt();if(Ei(m,u),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:v,options:T}=y;y!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&Ei(m,u),bo(m.x,v.offset.x),bo(m.y,v.offset.y))}return m}applyTransform(u,m=!1){const g=Gt();Ei(g,u);for(let y=0;y<this.path.length;y++){const v=this.path[y];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ao(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),pa(v.latestValues)&&Ao(g,v.latestValues)}return pa(this.latestValues)&&Ao(g,this.latestValues),g}removeTransform(u){const m=Gt();Ei(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!pa(y.latestValues))continue;mg(y.latestValues)&&y.updateSnapshot();const v=Gt(),T=y.measurePageBox();Ei(v,T),Ix(m,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return pa(this.latestValues)&&Ix(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=an.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ok(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),BA(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mg(this.parent.latestValues)||zA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),fd(this.relativeTargetOrigin,m,g),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===an.timestamp&&(g=!1),g)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Ei(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;dk(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kx(this.prevProjectionDelta.x,this.projectionDelta.x),kx(this.prevProjectionDelta.y,this.projectionDelta.y)),hc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=So(),this.projectionDelta=So(),this.projectionDeltaWithTransform=So()}setAnimationOrigin(u,m=!1){const g=this.snapshot,y=g?g.latestValues:{},v={...this.latestValues},T=So();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Gt(),w=g?g.source:void 0,D=this.layout?this.layout.source:void 0,V=w!==D,M=this.getStack(),k=!M||M.members.length<=1,q=!!(V&&!k&&this.options.crossfade===!0&&!this.path.some(hP));this.animationProgress=0;let H;this.mixTargetDelta=de=>{const ee=de/1e3;Yx(T.x,u.x,ee),Yx(T.y,u.y,ee),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fd(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uP(this.relativeTarget,this.relativeTargetOrigin,S,ee),H&&Bk(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Gt()),Ei(H,this.relativeTarget)),V&&(this.animationValues=v,Hk(v,y,this.latestValues,ee,q,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Bh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Po(0)),this.currentAnimation=Qk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:y,latestValues:v}=u;if(!(!m||!g||!y)){if(this!==u&&this.layout&&y&&rw(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||Gt();const T=En(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+T;const S=En(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+S}Ei(m,g),Ao(m,v),hc(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Zk),this.sharedNodes.get(u).add(m);const y=m.options.initialPromotionConfig;m.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const y={};g.z&&pp("z",u,y,this.animationValues);for(let v=0;v<mp.length;v++)pp(`rotate${mp[v]}`,u,y,this.animationValues),pp(`skew${mp[v]}`,u,y,this.animationValues);u.render();for(const v in y)u.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=zh(m?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=zh(m?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let T=qk(this.projectionDeltaWithTransform,this.treeScale,v);g&&(T=g(v,T)),u.transform=T;const{x:S,y:w}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,y.animationValues?u.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in gg){if(v[D]===void 0)continue;const{correct:V,applyTo:M,isCSSVariable:k}=gg[D],q=T==="none"?v[D]:V(v[D],y);if(M){const H=M.length;for(let de=0;de<H;de++)u[M[de]]=q}else k?this.options.visualElement.renderState.vars[D]=q:u[D]=q}this.options.layoutId&&(u.pointerEvents=y===this?zh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Hx),this.root.sharedNodes.clear()}}}function eP(t){t.updateLayout()}function tP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?ii(v=>{const T=c?e.measuredBox[v]:e.layoutBox[v],S=En(T);T.min=i[v].min,T.max=T.min+S}):rw(o,e.layoutBox,i)&&ii(v=>{const T=c?e.measuredBox[v]:e.layoutBox[v],S=En(i[v]);T.max=T.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const u=So();hc(u,i,e.layoutBox);const m=So();c?hc(m,t.applyTransform(r,!0),e.measuredBox):hc(m,i,e.layoutBox);const g=!JA(u);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:S}=v;if(T&&S){const w=Gt();fd(w,e.layoutBox,T.layoutBox);const D=Gt();fd(D,i,S.layoutBox),ew(w,D)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function nP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sP(t){t.clearSnapshot()}function Hx(t){t.clearMeasurements()}function Gx(t){t.isLayoutDirty=!1}function rP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aP(t){t.resolveTargetDelta()}function oP(t){t.calcProjection()}function lP(t){t.resetSkewAndRotation()}function cP(t){t.removeLeadSnapshot()}function Yx(t,e,i){t.translate=gt(e.translate,0,i),t.scale=gt(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Qx(t,e,i,r){t.min=gt(e.min,i.min,r),t.max=gt(e.max,i.max,r)}function uP(t,e,i,r){Qx(t.x,e.x,i.x,r),Qx(t.y,e.y,i.y,r)}function hP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dP={duration:.45,ease:[.4,0,.1,1]},Xx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$x=Xx("applewebkit/")&&!Xx("chrome/")?Math.round:oi;function Zx(t){t.min=$x(t.min),t.max=$x(t.max)}function fP(t){Zx(t.x),Zx(t.y)}function rw(t,e,i){return t==="position"||t==="preserve-aspect"&&!Pk(Ux(e),Ux(i),.2)}function mP(t){return t!==t.root&&t.scroll?.wasRoot}const pP=sw({attachResizeListener:(t,e)=>Nc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gp={current:void 0},aw=sw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gp.current){const t=new pP({});t.mount(window),t.setOptions({layoutScroll:!0}),gp.current=t}return gp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zy=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Wx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gP(...t){return e=>{let i=!1;const r=t.map(o=>{const c=Wx(o,e);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Wx(t[o],null)}}}}function yP(...t){return N.useCallback(gP(...t),t)}class vP extends N.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=NA(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _P({children:t,isPresent:e,anchorX:i,root:r}){const o=N.useId(),c=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=N.useContext(Zy),g=t.props?.ref??t?.ref,y=yP(c,g);return N.useInsertionEffect(()=>{const{width:v,height:T,top:S,left:w,right:D}=u.current;if(e||!c.current||!v||!T)return;const V=i==="left"?`left: ${w}`:`right: ${D}`;c.current.dataset.motionPopId=o;const M=document.createElement("style");m&&(M.nonce=m);const k=r??document.head;return k.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${T}px !important;
            ${V}px !important;
            top: ${S}px !important;
          }
        `),()=>{k.contains(M)&&k.removeChild(M)}},[e]),d.jsx(vP,{isPresent:e,childRef:c,sizeRef:u,children:N.cloneElement(t,{ref:y})})}const TP=({children:t,initial:e,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const y=Bd(EP),v=N.useId();let T=!0,S=N.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:i,custom:o,onExitComplete:w=>{y.set(w,!0);for(const D of y.values())if(!D)return;r&&r()},register:w=>(y.set(w,!1),()=>y.delete(w))}),[i,y,r]);return c&&T&&(S={...S}),N.useMemo(()=>{y.forEach((w,D)=>y.set(D,!1))},[i]),N.useEffect(()=>{!i&&!y.size&&r&&r()},[i]),u==="popLayout"&&(t=d.jsx(_P,{isPresent:i,anchorX:m,root:g,children:t})),d.jsx(qd.Provider,{value:S,children:t})};function EP(){return new Map}function ow(t=!0){const e=N.useContext(qd);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,c=N.useId();N.useEffect(()=>{if(t)return o(c)},[t]);const u=N.useCallback(()=>t&&r&&r(c),[c,r,t]);return!i&&r?[!1,u]:[!0]}const Sh=t=>t.key||"";function Jx(t){const e=[];return N.Children.forEach(t,i=>{N.isValidElement(i)&&e.push(i)}),e}const xP=({children:t,custom:e,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[y,v]=ow(u),T=N.useMemo(()=>Jx(t),[t]),S=u&&!y?[]:T.map(Sh),w=N.useRef(!0),D=N.useRef(T),V=Bd(()=>new Map),M=N.useRef(new Set),[k,q]=N.useState(T),[H,de]=N.useState(T);xy(()=>{w.current=!1,D.current=T;for(let C=0;C<H.length;C++){const A=Sh(H[C]);S.includes(A)?(V.delete(A),M.current.delete(A)):V.get(A)!==!0&&V.set(A,!1)}},[H,S.length,S.join("-")]);const ee=[];if(T!==k){let C=[...T];for(let A=0;A<H.length;A++){const j=H[A],L=Sh(j);S.includes(L)||(C.splice(A,0,j),ee.push(j))}return c==="wait"&&ee.length&&(C=ee),de(Jx(C)),q(T),null}const{forceRender:ue}=N.useContext(Ey);return d.jsx(d.Fragment,{children:H.map(C=>{const A=Sh(C),j=u&&!y?!1:T===H||S.includes(A),L=()=>{if(M.current.has(A))return;if(M.current.add(A),V.has(A))V.set(A,!0);else return;let P=!0;V.forEach(F=>{F||(P=!1)}),P&&(ue?.(),de(D.current),u&&v?.(),r&&r())};return d.jsx(TP,{isPresent:j,initial:!w.current||i?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:g,onExitComplete:j?void 0:L,anchorX:m,children:C},A)})})},lw=N.createContext({strict:!1}),eS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let tS=!1;function SP(){if(tS)return;const t={};for(const e in eS)t[e]={isEnabled:i=>eS[e].some(r=>!!i[r])};OA(t),tS=!0}function cw(){return SP(),lk()}function bP(t){const e=cw();for(const i in t)e[i]={...e[i],...t[i]};OA(e)}const AP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function md(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AP.has(t)}let uw=t=>!md(t);function wP(t){typeof t=="function"&&(uw=e=>e.startsWith("on")?!md(e):t(e))}try{wP(require("@emotion/is-prop-valid").default)}catch{}function RP(t,e,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(uw(o)||i===!0&&md(o)||!e&&!md(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Gd=N.createContext({});function CP(t,e){if(Hd(t)){const{initial:i,animate:r}=t;return{initial:i===!1||Cc(i)?i:void 0,animate:Cc(r)?r:void 0}}return t.inherit!==!1?e:{}}function NP(t){const{initial:e,animate:i}=CP(t,N.useContext(Gd));return N.useMemo(()=>({initial:e,animate:i}),[nS(e),nS(i)])}function nS(t){return Array.isArray(t)?t.join(" "):t}const Wy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hw(t,e,i){for(const r in e)!pn(e[r])&&!HA(r,i)&&(t[r]=e[r])}function jP({transformTemplate:t},e){return N.useMemo(()=>{const i=Wy();return Xy(i,e,t),Object.assign({},i.vars,i.style)},[e])}function DP(t,e){const i=t.style||{},r={};return hw(r,i,t),Object.assign(r,jP(t,e)),r}function VP(t,e){const i={},r=DP(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const dw=()=>({...Wy(),attrs:{}});function IP(t,e,i,r){const o=N.useMemo(()=>{const c=dw();return GA(c,e,YA(r),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};hw(c,t.style,t),o.style={...c,...o.style}}return o}const MP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jy(t){return typeof t!="string"||t.includes("-")?!1:!!(MP.indexOf(t)>-1||/[A-Z]/u.test(t))}function kP(t,e,i,{latestValues:r},o,c=!1,u){const g=(u??Jy(t)?IP:VP)(e,r,o,t),y=RP(e,typeof t=="string",c),v=t!==N.Fragment?{...y,...g,ref:i}:{},{children:T}=e,S=N.useMemo(()=>pn(T)?T.get():T,[T]);return N.createElement(t,{...v,children:S})}function PP({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,o){return{latestValues:OP(i,r,o,t),renderState:e()}}function OP(t,e,i,r){const o={},c=r(t,{});for(const S in c)o[S]=zh(c[S]);let{initial:u,animate:m}=t;const g=Hd(t),y=PA(t);e&&y&&!g&&t.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let v=i?i.initial===!1:!1;v=v||u===!1;const T=v?m:u;if(T&&typeof T!="boolean"&&!Fd(T)){const S=Array.isArray(T)?T:[T];for(let w=0;w<S.length;w++){const D=By(t,S[w]);if(D){const{transitionEnd:V,transition:M,...k}=D;for(const q in k){let H=k[q];if(Array.isArray(H)){const de=v?H.length-1:0;H=H[de]}H!==null&&(o[q]=H)}for(const q in V)o[q]=V[q]}}}return o}const fw=t=>(e,i)=>{const r=N.useContext(Gd),o=N.useContext(qd),c=()=>PP(t,e,r,o);return i?c():Bd(c)},LP=fw({scrapeMotionValuesFromProps:$y,createRenderState:Wy}),UP=fw({scrapeMotionValuesFromProps:QA,createRenderState:dw}),zP=Symbol.for("motionComponentSymbol");function BP(t,e,i){const r=N.useRef(i);N.useInsertionEffect(()=>{r.current=i});const o=N.useRef(null);return N.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const u=r.current;if(typeof u=="function")if(c){const m=u(c);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[e])}const mw=N.createContext({});function nc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qP(t,e,i,r,o,c){const{visualElement:u}=N.useContext(Gd),m=N.useContext(lw),g=N.useContext(qd),y=N.useContext(Zy).reducedMotion,v=N.useRef(null);r=r||m.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:u,props:i,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y,isSVG:c}));const T=v.current,S=N.useContext(mw);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&FP(v.current,i,o,S);const w=N.useRef(!1);N.useInsertionEffect(()=>{T&&w.current&&T.update(i,g)});const D=i[TA],V=N.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return xy(()=>{T&&(w.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),V.current&&T.animationState&&T.animationState.animateChanges())}),N.useEffect(()=>{T&&(!V.current&&T.animationState&&T.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),V.current=!1),T.enteringChildren=void 0)}),T}function FP(t,e,i,r){const{layoutId:o,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:y,layoutCrossfade:v}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:pw(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||m&&nc(m),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:y})}function pw(t){if(t)return t.options.allowProjection!==!1?t.projection:pw(t.parent)}function yp(t,{forwardMotionProps:e=!1,type:i}={},r,o){r&&bP(r);const c=i?i==="svg":Jy(t),u=c?UP:LP;function m(y,v){let T;const S={...N.useContext(Zy),...y,layoutId:HP(y)},{isStatic:w}=S,D=NP(y),V=u(y,w);if(!w&&O1){GP();const M=KP(S);T=M.MeasureLayout,D.visualElement=qP(t,V,S,o,M.ProjectionNode,c)}return d.jsxs(Gd.Provider,{value:D,children:[T&&D.visualElement?d.jsx(T,{visualElement:D.visualElement,...S}):null,kP(t,y,BP(V,D.visualElement,v),V,w,e,c)]})}m.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const g=N.forwardRef(m);return g[zP]=t,g}function HP({layoutId:t}){const e=N.useContext(Ey).id;return e&&t!==void 0?e+"-"+t:t}function GP(t,e){N.useContext(lw).strict}function KP(t){const e=cw(),{drag:i,layout:r}=e;if(!i&&!r)return{};const o={...i,...r};return{MeasureLayout:i?.isEnabled(t)||r?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function YP(t,e){if(typeof Proxy>"u")return yp;const i=new Map,r=(c,u)=>yp(c,u,t,e),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(i.has(u)||i.set(u,yp(u,void 0,t,e)),i.get(u))})}const QP=(t,e)=>e.isSVG??Jy(t)?new Ak(e):new _k(e,{allowProjection:t!==N.Fragment});class XP extends kr{constructor(e){super(e),e.animationState||(e.animationState=jk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $P=0;class ZP extends kr{constructor(){super(...arguments),this.id=$P++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const WP={animation:{Feature:XP},exit:{Feature:ZP}};function Fc(t){return{point:{x:t.pageX,y:t.pageY}}}const JP=t=>e=>Ky(e)&&t(e,Fc(e));function dc(t,e,i,r){return Nc(t,e,JP(i),r)}const gw=({current:t})=>t?t.ownerDocument.defaultView:null,iS=(t,e)=>Math.abs(t-e);function eO(t,e){const i=iS(t.x,e.x),r=iS(t.y,e.y);return Math.sqrt(i**2+r**2)}const sS=new Set(["auto","scroll"]);class yw{constructor(e,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_p(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,V=eO(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!V)return;const{point:M}=w,{timestamp:k}=an;this.history.push({...M,timestamp:k});const{onStart:q,onMove:H}=this.handlers;D||(q&&q(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,w)},this.handlePointerMove=(w,D)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=vp(D,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(w,D)=>{this.end();const{onEnd:V,onSessionEnd:M,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=_p(w.type==="pointercancel"?this.lastMoveEventInfo:vp(D,this.transformPagePoint),this.history);this.startEvent&&V&&V(w,q),M&&M(w,q)},!Ky(e))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const g=Fc(e),y=vp(g,this.transformPagePoint),{point:v}=y,{timestamp:T}=an;this.history=[{...v,timestamp:T}];const{onSessionStart:S}=i;S&&S(e,_p(y,this.history)),this.removeListeners=zc(dc(this.contextWindow,"pointermove",this.handlePointerMove),dc(this.contextWindow,"pointerup",this.handlePointerUp),dc(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let i=e.parentElement;for(;i;){const r=getComputedStyle(i);(sS.has(r.overflowX)||sS.has(r.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const i=this.scrollPositions.get(e);if(!i)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:o.x-i.x,y:o.y-i.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,o),ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Dr(this.updatePoint)}}function vp(t,e){return e?{point:e(t.point)}:t}function rS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _p({point:t},e){return{point:t,delta:rS(t,vw(e)),offset:rS(t,tO(e)),velocity:nO(e,.1)}}function tO(t){return t[0]}function vw(t){return t[t.length-1]}function nO(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=vw(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>Vs(e)));)i--;if(!r)return{x:0,y:0};const c=ri(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function iO(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?gt(i,t,r.max):Math.min(t,i)),t}function aS(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function sO(t,{top:e,left:i,bottom:r,right:o}){return{x:aS(t.x,i,o),y:aS(t.y,e,r)}}function oS(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function rO(t,e){return{x:oS(t.x,e.x),y:oS(t.y,e.y)}}function aO(t,e){let i=.5;const r=En(t),o=En(e);return o>r?i=Ac(e.min,e.max-r,t.min):r>o&&(i=Ac(t.min,t.max-o,e.min)),os(0,1,i)}function oO(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const yg=.35;function lO(t=yg){return t===!1?t=0:t===!0&&(t=yg),{x:lS(t,"left","right"),y:lS(t,"top","bottom")}}function lS(t,e,i){return{min:cS(t,e),max:cS(t,i)}}function cS(t,e){return typeof t=="number"?t:t[e]||0}const cO=new WeakMap;class uO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=T=>{i?(this.stopAnimation(),this.snapToCursor(Fc(T).point)):this.pauseAnimation()},u=(T,S)=>{this.stopAnimation();const{drag:w,dragPropagation:D,onDragStart:V}=this.getProps();if(w&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$4(w),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(k=>{let q=this.getAxisMotionValue(k).get()||0;if(ss.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const de=H.layout.layoutBox[k];de&&(q=En(de)*(parseFloat(q)/100))}}this.originPoint[k]=q}),V&&ft.postRender(()=>V(T,S)),ug(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},m=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:w,dragDirectionLock:D,onDirectionLock:V,onDrag:M}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=S;if(D&&this.currentDirection===null){this.currentDirection=hO(k),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",S.point,k),this.updateAxis("y",S.point,k),this.visualElement.render(),M&&M(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>ii(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new yw(e,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:gw(this.visualElement),element:this.visualElement.current})}stop(e,i){const r=e||this.latestPointerEvent,o=i||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&ft.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!bh(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=iO(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&nc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=sO(r.layoutBox,e):this.constraints=!1,this.elastic=lO(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ii(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=oO(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!nc(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=fk(r,o.root,this.visualElement.getTransformPagePoint());let u=rO(o.layout.layoutBox,c);if(i){const m=i(uk(u));this.hasMutatedConstraints=!!m,m&&(u=UA(m))}return u}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},y=ii(v=>{if(!bh(v,i,this.currentDirection))return;let T=g&&g[v]||{};u&&(T={min:0,max:0});const S=o?200:1e6,w=o?40:1e7,D={type:"inertia",velocity:r?e[v]:0,bounceStiffness:S,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(v,D)});return Promise.all(y).then(m)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return ug(this.visualElement,e),r.start(zy(e,r,0,i,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ii(i=>{const{drag:r}=this.getProps();if(!bh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(i);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[i],g=c.get()||0;c.set(e[i]-gt(u,m,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!nc(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ii(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();o[u]=aO({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ii(u=>{if(!bh(u,e,null))return;const m=this.getAxisMotionValue(u),{min:g,max:y}=this.constraints[u];m.set(gt(g,y,o[u]))})}addListeners(){if(!this.visualElement.current)return;cO.set(this.visualElement,this);const e=this.visualElement.current,i=dc(e,"pointerdown",g=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&!IA(g.target)&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();nc(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ft.read(r);const u=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(ii(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=g[v].translate,T.set(T.get()+g[v].translate))}),this.visualElement.render())}));return()=>{u(),i(),c(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=yg,dragMomentum:m=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function bh(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function hO(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class dO extends kr{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new uO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};e!==i&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const uS=t=>(e,i)=>{t&&ft.postRender(()=>t(e,i))};class fO extends kr{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new yw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:uS(e),onStart:uS(i),onMove:r,onEnd:(c,u)=>{delete this.session,o&&ft.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=dc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Tp=!1;class mO extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=e;c&&(i.group&&i.group.add(c),r&&r.register&&o&&r.register(c),Tp&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Bh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,Tp=!0,o||e.layoutDependency!==i||i===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||ft.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;Tp=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _w(t){const[e,i]=ow(),r=N.useContext(Ey);return d.jsx(mO,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(mw),isPresent:e,safeToRemove:i})}const pO={pan:{Feature:fO},drag:{Feature:dO,ProjectionNode:aw,MeasureLayout:_w}};function hS(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,c=r[o];c&&ft.postRender(()=>c(e,Fc(e)))}class gO extends kr{mount(){const{current:e}=this.node;e&&(this.unmount=Z4(e,(i,r)=>(hS(this.node,r,"Start"),o=>hS(this.node,o,"End"))))}unmount(){}}class yO extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dS(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),c=r[o];c&&ft.postRender(()=>c(e,Fc(e)))}class vO extends kr{mount(){const{current:e}=this.node;e&&(this.unmount=ek(e,(i,r)=>(dS(this.node,r,"Start"),(o,{success:c})=>dS(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vg=new WeakMap,Ep=new WeakMap,_O=t=>{const e=vg.get(t.target);e&&e(t)},TO=t=>{t.forEach(_O)};function EO({root:t,...e}){const i=t||document;Ep.has(i)||Ep.set(i,{});const r=Ep.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(TO,{root:t,...e})),r[o]}function xO(t,e,i){const r=EO(e);return vg.set(t,i),r.observe(t),()=>{vg.delete(t),r.unobserve(t)}}const SO={some:0,all:1};class bO extends kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:c}=e,u={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:SO[o]},m=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=y?v:T;S&&S(g)};return xO(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(AO(e,i))&&this.startObserver()}unmount(){}}function AO({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const wO={inView:{Feature:bO},tap:{Feature:vO},focus:{Feature:yO},hover:{Feature:gO}},RO={layout:{ProjectionNode:aw,MeasureLayout:_w}},CO={...WP,...wO,...pO,...RO},Tw=YP(CO,QP);function NO(t){t.values.forEach(e=>e.stop())}function _g(t,e){[...e].reverse().forEach(r=>{const o=t.getVariant(r);o&&qy(t,o),t.variantChildren&&t.variantChildren.forEach(c=>{_g(c,e)})})}function jO(t,e){if(Array.isArray(e))return _g(t,e);if(typeof e=="string")return _g(t,[e]);qy(t,e)}function DO(){const t=new Set,e={subscribe(i){return t.add(i),()=>void t.delete(i)},start(i,r){const o=[];return t.forEach(c=>{o.push(SA(c,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return t.forEach(r=>{jO(r,i)})},stop(){t.forEach(i=>{NO(i)})},mount(){return()=>{e.stop()}}};return e}function VO(){const t=Bd(DO);return xy(t.mount,[]),t}const IO=VO;var Tg=new Map,Ah=new WeakMap,fS=0,MO;function kO(t){return t?(Ah.has(t)||(fS+=1,Ah.set(t,fS.toString())),Ah.get(t)):"0"}function PO(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?kO(t.root):t[e]}`).toString()}function OO(t){const e=PO(t);let i=Tg.get(e);if(!i){const r=new Map;let o;const c=new IntersectionObserver(u=>{u.forEach(m=>{var g;const y=m.isIntersecting&&o.some(v=>m.intersectionRatio>=v);t.trackVisibility&&typeof m.isVisible>"u"&&(m.isVisible=y),(g=r.get(m.target))==null||g.forEach(v=>{v(y,m)})})},t);o=c.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),i={id:e,observer:c,elements:r},Tg.set(e,i)}return i}function LO(t,e,i={},r=MO){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const g=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof i.threshold=="number"?i.threshold:0,time:0,boundingClientRect:g,intersectionRect:g,rootBounds:g}),()=>{}}const{id:o,observer:c,elements:u}=OO(i),m=u.get(t)||[];return u.has(t)||u.set(t,m),m.push(e),c.observe(t),function(){m.splice(m.indexOf(e),1),m.length===0&&(u.delete(t),c.unobserve(t)),u.size===0&&(c.disconnect(),Tg.delete(o))}}function UO({threshold:t,delay:e,trackVisibility:i,rootMargin:r,root:o,triggerOnce:c,skip:u,initialInView:m,fallbackInView:g,onChange:y}={}){var v;const[T,S]=N.useState(null),w=N.useRef(y),D=N.useRef(m),[V,M]=N.useState({inView:!!m,entry:void 0});w.current=y,N.useEffect(()=>{if(D.current===void 0&&(D.current=m),u||!T)return;let de;return de=LO(T,(ee,ue)=>{const C=D.current;D.current=ee,!(C===void 0&&!ee)&&(M({inView:ee,entry:ue}),w.current&&w.current(ee,ue),ue.isIntersecting&&c&&de&&(de(),de=void 0))},{root:o,rootMargin:r,threshold:t,trackVisibility:i,delay:e},g),()=>{de&&de()}},[Array.isArray(t)?t.toString():t,T,o,r,c,u,i,g,e]);const k=(v=V.entry)==null?void 0:v.target,q=N.useRef(void 0);!T&&k&&!c&&!u&&q.current!==k&&(q.current=k,M({inView:!!m,entry:void 0}),D.current=m);const H=[S,V.inView,V.entry];return H.ref=H[0],H.inView=H[1],H.entry=H[2],H}const Wi=({children:t,delay:e=0})=>{const i=IO(),{ref:r,inView:o}=UO({triggerOnce:!0,threshold:.15});return N.useEffect(()=>{o&&i.start("visible")},[o,i]),d.jsx(Tw.div,{ref:r,initial:"hidden",animate:i,transition:{duration:.6,delay:e,ease:"easeOut"},variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},style:{width:"100%"},children:t})},Ew="xanthos_products",xw="xanthos_products_lastUpdated",Sw="xanthos_mostPopularProductIds",bw="xanthos_mostPopular_lastUpdated";function mS(){try{const t=localStorage.getItem(Ew);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function pS(t){try{localStorage.setItem(Ew,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function zO(){try{const t=localStorage.getItem(xw);if(t)return new Date(t)}catch(t){console.error("Error reading lastUpdated from localStorage:",t)}return null}function gS(t){try{localStorage.setItem(xw,t.toISOString())}catch(e){console.error("Error saving lastUpdated to localStorage:",e)}}function yS(){try{const t=localStorage.getItem(Sw);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function vS(t){try{localStorage.setItem(Sw,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function BO(){try{const t=localStorage.getItem(bw);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function _S(t){try{localStorage.setItem(bw,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}const Aw=[{id:"p-margherita",category:"Pizza",name:"Margherita",desc:"Tomato, mozzarella, basil",price:79,image:"margherita.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Basil",extraPrice:5},{name:"Garlic",extraPrice:5}]},{id:"p-pepperoni",category:"Pizza",name:"Pepperoni",desc:"Spicy pepperoni, mozzarella",price:89,image:"pepperoni.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Chili flakes"},{name:"Garlic",extraPrice:5}]},{id:"p-hawaiian",category:"Pizza",name:"Hawaiian",desc:"Tomato sauce, mozzarella, ham, pineapple",price:95,image:"hawaiian.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Pineapple",extraPrice:8},{name:"Ham",extraPrice:12}]},{id:"p-veggie",category:"Pizza",name:"Veggie Deluxe",desc:"Mozzarella, peppers, mushrooms, onions, olives",price:92,image:"veggie.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Mushrooms",extraPrice:6},{name:"Olives",extraPrice:5}]},{id:"p-meatlover",category:"Pizza",name:"Meat Lover",desc:"Pepperoni, minced beef, ham, bacon",price:109,image:"meatlover.jpg",ingredients:[{name:"Extra bacon",extraPrice:12},{name:"Extra cheese",extraPrice:10},{name:"Chili oil",extraPrice:5}]},{id:"g-chicken",category:"Grill",name:"Grilled Chicken",desc:"Herb marinated chicken breast",price:99,image:"chicken.jpg",ingredients:[{name:"Extra sauce",extraPrice:8},{name:"Side salad",extraPrice:12}]},{id:"g-ribs",category:"Grill",name:"BBQ Ribs",desc:"Slow-cooked pork ribs",price:129,image:"ribs.jpg",ingredients:[{name:"Extra BBQ sauce",extraPrice:8},{name:"Corn on the cob",extraPrice:10}]},{id:"g-steak",category:"Grill",name:"Beef Steak",desc:"200g grilled steak with seasoning",price:149,image:"steak.jpg",ingredients:[{name:"Pepper sauce",extraPrice:10},{name:"Garlic butter",extraPrice:6}]},{id:"g-burger",category:"Grill",name:"Classic Burger",desc:"Beef patty, cheddar, lettuce, tomato",price:89,image:"burger.jpg",ingredients:[{name:"Extra cheese",extraPrice:8},{name:"Bacon",extraPrice:10},{name:"Jalapeos",extraPrice:5}]},{id:"s-fries",category:"Sides",name:"Pommes Frites",desc:"Crispy golden fries",price:29,image:"fries.jpg",ingredients:[{name:"Dip  Garlic",extraPrice:5},{name:"Dip  Chili Mayo",extraPrice:5}]},{id:"s-salad",category:"Sides",name:"Side Salad",desc:"Fresh greens, cucumber, tomato",price:24,image:"salad.jpg",ingredients:[{name:"Feta",extraPrice:8},{name:"Olives",extraPrice:6}]},{id:"d-cola",category:"Drinks",name:"Coca-Cola",desc:"330ml",price:19,image:"cocacola.jpg",ingredients:[]},{id:"d-water",category:"Drinks",name:"Mineral Water",desc:"500ml",price:14,image:"water.jpg",ingredients:[]},{id:"d-fanta",category:"Drinks",name:"Fanta",desc:"330ml",price:19,image:"fanta.jpg",ingredients:[]},{id:"d-sprite",category:"Drinks",name:"Sprite",desc:"330ml",price:19,image:"sprite.jpg",ingredients:[]}];function qO({item:t}){const{addItem:e}=Ic();return d.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:t.name}),d.jsx("p",{className:"text-sm text-gray-600",children:t.desc})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-bold",children:[t.price,",-"]}),d.jsx("button",{onClick:i=>{i.stopPropagation(),e(t)},className:"mt-2 bg-red-600 text-white px-3 py-1 rounded",children:"Add"})]})]})})}function FO({item:t,onClose:e,onConfirm:i}){const[r,o]=N.useState([]),[c,u]=N.useState(!1),[m,g]=N.useState(!1),[y,v]=N.useState(1),T=()=>v(k=>k+1),S=()=>v(k=>k>1?k-1:1),w=k=>{o(q=>q.includes(k)?q.filter(H=>H!==k):[...q,k])},D=()=>{u(!0),setTimeout(()=>{u(!1),i(r,y)},600)},V=()=>{m||(g(!0),setTimeout(()=>{e()},200))},M=r.reduce((k,q)=>k+(q.extraPrice||0),0);return N.useEffect(()=>{const k=q=>{q.key==="Escape"&&!m&&V()};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[m]),d.jsx("div",{className:`modal-overlay ${m?"modal-closing":""}`,onClick:V,children:d.jsxs("div",{className:`modal-box ${m?"modal-closing":""}`,onClick:k=>k.stopPropagation(),children:[d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-image-wrapper",children:[d.jsx("img",{className:"modalImage",src:`./assets/${t.image}`,alt:t.image}),d.jsxs("div",{className:"modal-price-badge",children:[t.price," kr"]})]}),d.jsxs("div",{className:"modal-header-section",children:[d.jsxs("h3",{className:"modal-title-text",children:["Tilpas din ",t.name]}),t.desc&&d.jsx("p",{className:"modal-item-desc",children:t.desc})]}),t.ingredients&&t.ingredients.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-section-divider"}),d.jsx("p",{className:"modal-desc",children:"Vlg tilvalg:"}),d.jsx("div",{className:"modal-ingredients",children:t.ingredients.map(k=>d.jsxs("label",{className:"modal-ingredient",children:[d.jsx("input",{type:"checkbox",checked:r.includes(k),onChange:()=>w(k)}),d.jsx("span",{className:"custom-checkbox"}),d.jsxs("span",{className:"ingredient-label",children:[d.jsx("span",{className:"ingredient-name",children:k.name}),k.extraPrice?d.jsxs("span",{className:"ingredient-price",children:["+",k.extraPrice," kr"]}):null]})]},k.name))})]})]}),d.jsx("button",{onClick:V,className:"modal-cancel",children:d.jsx(QS,{width:20,height:20})}),d.jsxs("div",{className:"modal-buttons",children:[d.jsxs("div",{className:"modal-qty",children:[d.jsx("button",{onClick:S,disabled:y<=1,"aria-label":"Decrease quantity",children:""}),d.jsx("span",{children:y}),d.jsx("button",{onClick:T,"aria-label":"Increase quantity",children:"+"})]}),d.jsxs("div",{className:"modal-add-wrapper",children:[d.jsx("button",{onClick:D,className:"modal-confirm",children:d.jsxs("span",{children:["Tilfj til ",window.innerWidth<720?"":"kurv"," "," ",(t.price+M)*y," kr"]})}),c&&d.jsx("div",{className:"add-notify",children:"Tilfjet!"})]})]})]})})}function TS(){const[t,e]=N.useState(""),[i,r]=N.useState(!1),[o,c]=N.useState("Most Popular"),[u,m]=N.useState(null),[g,y]=N.useState([]),[v,T]=N.useState(!0),[S,w]=N.useState(null),[D,V]=N.useState(!1),[M,k]=N.useState([]),q=N.useRef({}),H=N.useRef(null),de=N.useRef({}),{addItem:ee,items:ue,updateQty:C,removeItem:A,clear:j,total:L}=Ic(),[P,F]=N.useState(!1),I=N.useRef(ue.length);N.useEffect(()=>{const U=window.innerWidth<720,oe=ue.length>I.current;U&&oe&&ue.length>0&&!D&&V(!0),I.current=ue.length},[ue.length,D]),N.useEffect(()=>{async function U(){try{T(!0),w(null);const ce=mS(),fe=zO();if(ce&&ce.length>0){const Re=ce.map(Oe=>({...Oe,id:Oe.id||""}));y(Re),T(!1);const De=await lc();if(De&&(!fe||De.getTime()>fe.getTime())){const Yt=(await $p()).map(un=>({...un,id:un.id||""}));y(Yt),pS(Yt),gS(De)}}else{const De=(await $p()).map(jt=>({...jt,id:jt.id||""}));y(De),pS(De);const Oe=await lc();Oe&&gS(Oe)}}catch(ce){console.error("Error loading products:",ce),w("Kunne ikke indlse produkter. Prv venligst igen.");const fe=mS();if(fe&&fe.length>0){const Re=fe.map(De=>({...De,id:De.id||""}));y(Re)}}finally{T(!1)}}U();async function oe(){try{const ce=yS(),fe=BO();if(ce&&ce.length>=0&&fe){k(ce);const{lastUpdated:Re,productIds:De}=await od();Re&&(!fe||Re.getTime()>fe.getTime())&&(k(De),vS(De),_S(Re))}else{const{lastUpdated:Re,productIds:De}=await od();k(De),vS(De),Re&&_S(Re)}}catch(ce){console.error("Error loading most popular product IDs:",ce);const fe=yS();fe&&k(fe)}}oe()},[]);const Ue=M.length>0?["Most Popular",...new Set(g.map(U=>U.category))]:[...new Set(g.map(U=>U.category))],ve=U=>{m(U)},Z=()=>{m(null)},he=(U,oe,ce)=>{ee({...U,selectedIngredients:oe,qty:ce}),m(null)};N.useEffect(()=>(u?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[u]),N.useEffect(()=>(D?document.body.classList.add("cart-drawer-open"):document.body.classList.remove("cart-drawer-open"),()=>{document.body.classList.remove("cart-drawer-open")}),[D]),N.useEffect(()=>(i?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[i]),N.useEffect(()=>{const U=()=>{Object.values(de.current).forEach(ce=>{if(!ce)return;const fe=ce.getBoundingClientRect();fe.top<=0&&fe.bottom>0?ce.classList.add("is-sticky"):ce.classList.remove("is-sticky")})},oe=setTimeout(()=>{U()},100);return window.addEventListener("scroll",U,{passive:!0}),()=>{clearTimeout(oe),window.removeEventListener("scroll",U)}},[g]),N.useEffect(()=>{if(v||g.length===0)return;const U=()=>{const ce=document.querySelector(".menu-filters")?.querySelector(".categoriesContainer"),fe=document.querySelector(".categoriesContainer-revealOnScroll");if(!ce||!fe)return;ce.getBoundingClientRect().top<=0?fe.classList.add("is-visible"):fe.classList.remove("is-visible")};return window.addEventListener("scroll",U,{passive:!0}),window.addEventListener("resize",U,{passive:!0}),()=>{window.removeEventListener("scroll",U),window.removeEventListener("resize",U)}},[v,g.length]);const ge=g.filter(U=>U.name.toLowerCase().includes(t.toLowerCase())||U.desc.toLowerCase().includes(t.toLowerCase())||U.tags?.some(ce=>ce.toLowerCase().includes(t.toLowerCase()))||U.category.toLowerCase().includes(t.toLowerCase())),be=ge.filter(U=>U.id&&M.includes(U.id)),Ce=N.useRef(!1),z=N.useRef(!1),ne=U=>{Ce.current=!0,c(U);const oe=U==="Most Popular"?H.current:q.current[U];oe&&oe.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{Ce.current=!1},1e3)};return N.useEffect(()=>{z.current||v||g.length===0||window.scrollY>0||M.length>0&&be.length>0&&(o!=="Most Popular"?(z.current=!0,c("Most Popular")):z.current=!0)},[v,g.length,M.length,be.length,o]),N.useEffect(()=>{if(v||g.length===0||!o)return;const U=document.querySelector(".categoriesContainer-revealOnScroll");if(!U||!U.classList.contains("is-visible"))return;const oe=U.querySelectorAll("button");let ce=null;if(oe.forEach(fe=>{fe.textContent?.trim()===o&&(ce=fe)}),ce&&U){const fe=U.getBoundingClientRect(),Re=ce.getBoundingClientRect(),De=U.scrollLeft+(Re.left-fe.left)-fe.width/2+Re.width/2;U.scrollTo({left:De,behavior:"smooth"})}},[o,v,g.length]),N.useEffect(()=>{if(v||g.length===0)return;const U=()=>{if(Ce.current||!z.current)return;const fe=window.scrollY||window.pageYOffset,De=window.innerHeight*.3;let Oe=null,jt=1/0;if(H.current){const Yt=H.current.getBoundingClientRect(),un=Yt.top+fe,gn=Math.abs(fe+De-un);Yt.top<=De&&Yt.bottom>0&&gn<jt&&(jt=gn,Oe="Most Popular")}Object.entries(q.current).forEach(([Yt,un])=>{if(!un)return;const gn=un.getBoundingClientRect(),yn=gn.top+fe,wi=Math.abs(fe+De-yn);gn.top<=De&&gn.bottom>0&&wi<jt&&(jt=wi,Oe=Yt)}),Oe&&Oe!==o&&c(Oe)};let oe=!1;const ce=()=>{oe||(window.requestAnimationFrame(()=>{U(),oe=!1}),oe=!0)};return window.addEventListener("scroll",ce,{passive:!0}),window.addEventListener("resize",U,{passive:!0}),U(),()=>{window.removeEventListener("scroll",ce),window.removeEventListener("resize",U)}},[v,g.length,o]),v?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{children:"Indlser menuen..."})})}):S?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{style:{color:"red"},children:S})})}):d.jsxs("main",{className:"menuPageContainer max-w-7xl",children:[d.jsxs("div",{className:"menu-header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-subtitle",children:"Vlg en kategori for at se vores retter."}),d.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2 mb-0",children:[d.jsx("span",{role:"img","aria-label":"bestik",className:"menu-header-icon",children:""}),"Bestil takeaway"]})]}),d.jsxs("button",{className:"allergen-btn",onClick:()=>r(!0),children:[d.jsx("span",{className:"allergen-btn-text",children:"Allergener"}),d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2L2 20h20L12 2z"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),d.jsx("circle",{cx:"12",cy:"17",r:"1"})]})]})]}),i&&d.jsx("div",{className:"allergen-modal",onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>r(!1),400)},children:d.jsxs("div",{className:"max-w-6xl modal-content",onClick:U=>U.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Allergener & Kontakt"}),d.jsx("p",{className:"modal-text",children:"Kontakt os hvis du har sprgsml om allergener, ingredienser eller bestilling."}),d.jsxs("div",{className:"contact-box",children:[d.jsx("p",{className:"contact-header",children:"Kontakt os direkte"}),d.jsx("a",{href:"tel:YOUR_PHONE_NUMBER",className:"contact-btn call",children:" Ring: YOUR_PHONE_NUMBER"}),d.jsx("a",{href:"sms:YOUR_PHONE_NUMBER",className:"contact-btn sms",children:" Send SMS"}),d.jsx("a",{href:"https://wa.me/yourphonenumber",className:"contact-btn whatsapp",target:"_blank",children:" WhatsApp"})]}),d.jsxs("div",{className:"hours-box",children:[d.jsx("h4",{className:"hours-title",children:"bningstider"}),d.jsx("p",{className:"hours-text",children:"YOUR_OPENING_HOURS"})]}),d.jsxs("div",{className:"allergen-box",children:[d.jsx("h4",{className:"allergen-title",children:"Almindelige allergener"}),d.jsxs("ul",{className:"allergen-list",children:[d.jsx("li",{children:" Gluten"}),d.jsx("li",{children:" Laktose"}),d.jsx("li",{children:" g"}),d.jsx("li",{children:" Ndder"}),d.jsx("li",{children:" Fisk"}),d.jsx("li",{children:" Skaldyr"}),d.jsx("li",{children:" Rejer"}),d.jsx("li",{children:" Sulfitter"})]}),d.jsx("p",{className:"modal-note",children:"Kontakt os for detaljer om specifikke retter."})]}),d.jsx("div",{className:"modal-close-btn",children:d.jsx("button",{onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>r(!1),400)},"aria-label":"Close",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"custom-x-icon",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]})}),d.jsxs("div",{className:"menu-grid",children:[d.jsxs("aside",{className:"menu-sidebar",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:U=>e(U.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]}),d.jsx("div",{className:"categoriesContainer",children:Ue.map(U=>d.jsx("button",{className:U===o?"solid":"ghost",onClick:()=>ne(U),children:U},U))})]}),d.jsx("div",{className:"categoriesContainer-revealOnScroll",children:Ue.map(U=>d.jsx("button",{className:U===o?"solid":"ghost",onClick:()=>ne(U),children:U},U))}),d.jsxs("section",{className:"menu-products",children:[d.jsxs("div",{className:"menu-filters",children:[d.jsx(Wi,{children:d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:U=>e(U.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]})}),d.jsx(Wi,{children:d.jsx("div",{className:"categoriesContainer",children:Ue.map(U=>d.jsx("button",{className:U===o?"solid":"ghost",onClick:()=>ne(U),children:U},U))})})]}),d.jsx(Wi,{children:M.length>0&&be.length>0&&d.jsxs("div",{className:"menu-category-block menu-popular-block",ref:U=>{H.current=U},children:[d.jsx("h3",{className:"menu-category-title",ref:U=>{de.current["Most Popular"]=U},children:"Most Popular"}),d.jsx("div",{className:"menu-products-grid",children:be.map(U=>d.jsxs("div",{className:"menu-item-simple",onClick:oe=>{oe.stopPropagation(),U.ingredients&&U.ingredients.length>0&&ve(U)},children:[d.jsx("img",{src:`./assets/${U.image}`,alt:U.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:U.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[U.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:U.desc}),U.tags&&U.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:U.tags.slice(0,2).map(oe=>d.jsx("span",{className:"menu-item-simple-tag",children:oe},oe))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:oe=>{oe.stopPropagation(),U.ingredients&&U.ingredients.length>0?ve(U):he(U,[],1)},children:"+"})]},U.id))})]})}),Array.from(new Set(g.map(U=>U.category))).map(U=>{const oe=ge.filter(ce=>ce.category===U);return oe.length===0?null:d.jsxs("div",{className:"menu-category-block",ref:ce=>{q.current[U]=ce},children:[d.jsx("h3",{className:"menu-category-title",ref:ce=>{de.current[U]=ce},children:U}),d.jsx("div",{className:"menu-products-grid",children:oe.map(ce=>d.jsxs("div",{className:"menu-item-simple",onClick:fe=>{fe.stopPropagation(),ce.ingredients&&ce.ingredients.length>0&&ve(ce)},children:[d.jsx("img",{src:`./assets/${ce.image}`,alt:ce.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:ce.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[ce.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:ce.desc}),ce.tags&&ce.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:ce.tags.slice(0,2).map(fe=>d.jsx("span",{className:"menu-item-simple-tag",children:fe},fe))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:fe=>{fe.stopPropagation(),ce.ingredients&&ce.ingredients.length>0?ve(ce):he(ce,[],1)},children:"+"})]},ce.id))})]},U)}),u&&d.jsx(FO,{item:u,onClose:Z,onConfirm:(U,oe)=>he(u,U,oe)}),ge.length===0&&d.jsx("p",{className:"no-results",children:"Ingen resultater fundet "})]}),d.jsx("div",{className:`cart-drawer-overlay ${D?"cart-drawer-open":""}`,onClick:()=>V(!1),children:d.jsxs("div",{className:`cart-drawer ${D?"cart-drawer-open":""}`,onClick:U=>U.stopPropagation(),children:[d.jsxs("div",{className:"cart-drawer-header",children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("div",{className:"cart-drawer-header-actions",children:[ue.length>0&&d.jsxs("button",{className:`cart-clear-btn ${P?"active":""}`,onClick:()=>F(!0),"aria-label":"Tm kurv",children:[d.jsx(Eo,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]}),d.jsx("button",{className:"cart-drawer-close",onClick:()=>V(!1),"aria-label":"Luk kurv",children:d.jsx(QS,{width:24,height:24})})]})]}),ue.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"menu-cart-items",children:[P&&d.jsxs("div",{className:"cart-confirm-box mb-0",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>F(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{j(),F(!1)},children:"Ja, tm kurv"})]})]}),ue.map(U=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:U.name}),U.selectedIngredients&&U.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:U.selectedIngredients.map((oe,ce)=>d.jsxs("span",{children:[oe.name,oe.extraPrice?` (+${oe.extraPrice} kr)`:"",ce<U.selectedIngredients.length-1?", ":""]},ce))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(U.price*U.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>{U.qty==1?A(U.id):C(U.id,Math.max(1,U.qty-1))},"aria-label":"Fjern en",children:""}),d.jsx("span",{children:U.qty}),d.jsx("button",{onClick:()=>C(U.id,U.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>A(U.id),children:d.jsx(Eo,{className:"clear-cart-icon"})})]})]},U.id))]}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",L.toFixed(2)]})]}),d.jsx(dt,{to:"/checkout",className:"nav-cta menu-cart-cta",onClick:()=>V(!1),children:"G til checkout"})]})]})}),d.jsxs("button",{className:"mobile-cart-button",onClick:()=>V(!0),"aria-label":"bn kurv",children:[d.jsx(mc,{}),ue.length>0&&d.jsx("span",{className:"mobile-cart-badge",children:ue.reduce((U,oe)=>U+oe.qty,0)})]}),d.jsxs("aside",{className:"menu-cart-panel",children:[d.jsxs("div",{className:"menu-cart-header",children:[d.jsxs("div",{children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("span",{className:"menu-cart-count",children:[ue.length," varer"]})]}),ue.length>0&&d.jsxs("button",{className:`cart-clear-btn ${P?"active":""}`,onClick:()=>F(!0),"aria-label":"Tm kurv",children:[d.jsx(Eo,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),ue.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"menu-cart-items",children:[P&&d.jsxs("div",{className:"cart-confirm-box mb-0",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>F(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{j(),F(!1)},children:"Ja, tm kurv"})]})]}),ue.map(U=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:U.name}),U.selectedIngredients&&U.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:U.selectedIngredients.map((oe,ce)=>d.jsxs("span",{children:[oe.name,oe.extraPrice?` (+${oe.extraPrice} kr)`:"",ce<U.selectedIngredients.length-1?", ":""]},ce))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(U.price*U.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>{U.qty==1?A(U.id):C(U.id,Math.max(1,U.qty-1))},"aria-label":"Fjern en",children:""}),d.jsx("span",{children:U.qty}),d.jsx("button",{onClick:()=>C(U.id,U.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>A(U.id),children:d.jsx(Eo,{className:"clear-cart-icon"})})]})]},U.id))]}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",L.toFixed(2)]})]}),d.jsx(dt,{to:"/checkout",className:"nav-cta menu-cart-cta",children:"G til checkout"})]})]})]})]})}async function Eg(t,e=!1){try{let i=is(wa(Wt,"reviews"),Ld("createdAt","desc"));t&&(i=is(i,LI(t)));const o=(await Ud(i)).docs.map(c=>{const u=c.data(),m=u.createdAt;return{id:c.id,...u,createdAt:m?.toDate?m.toDate():new Date(m)}});return e?o:o.filter(c=>c.approved!==!1)}catch(i){throw console.error("Error fetching reviews:",i),i}}async function ES(t,e){try{const i=li(Wt,"reviews",t);await _y(i,e),await ww()}catch(i){throw console.error("Error updating review:",i),i}}async function wo(){try{const t=li(Wt,"metadata","reviews"),e=await gy(t);if(e.exists()){const r=e.data().lastUpdated;if(r)return r.toDate?r.toDate():new Date(r)}return null}catch(t){return console.error("Error fetching reviews metadata:",t),null}}async function ww(){try{const t=li(Wt,"metadata","reviews");await vy(t,{lastUpdated:ad()},{merge:!0})}catch(t){console.error("Error updating reviews metadata:",t)}}async function HO(t){try{const e=li(Wt,"reviews",t);await M1(e),await ww()}catch(e){throw console.error("Error deleting review:",e),e}}const Rw="xanthos_reviews",Cw="xanthos_reviews_lastUpdated";function xS(){try{const t=localStorage.getItem(Rw);if(t)return JSON.parse(t).map(i=>({...i,createdAt:i.createdAt?new Date(i.createdAt):new Date}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function SS(t){try{const e=t.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt}));localStorage.setItem(Rw,JSON.stringify(e))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function GO(){try{const t=localStorage.getItem(Cw);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function bS(t){try{localStorage.setItem(Cw,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}const AS=[{id:1,title:"BBQ Ribs Combo",description:"Saftiga ribs med vr hemlagade BBQ-ss + liten Cola",price:"159,-",image:"./assets/pepperoni.jpg"},{id:2,title:"Pepperoni Pizza Deal",description:"Stor pepperoni pizza + valgfri dip",price:"119,-",image:"./assets/pepperoni.jpg"},{id:3,title:"Mixed Grill Plate",description:"Kebabspyd, plser & pommes frites",price:"169,-",image:"./assets/pepperoni.jpg"}];function KO(){const t=new Date().getDate()%AS.length,e=AS[t],[i,r]=N.useState({name:"",email:"",message:""}),[o,c]=N.useState([]),[u,m]=N.useState(!0),[g,y]=N.useState(4.6),[v,T]=N.useState(500);function S(){const V=new Date,M=V.getHours(),k=V.getMinutes(),q=M+k/60;return q>=11&&q<22}function w(V){V.preventDefault(),alert("Tak for din besked! Vi vender tilbage snarest."),r({name:"",email:"",message:""})}N.useEffect(()=>{async function V(){try{m(!0);const M=xS(),k=GO();if(M&&M.length>0){c(M);const q=M.reduce((de,ee)=>de+ee.rating,0)/M.length;y(Math.round(q*10)/10),T(M.length),m(!1);const H=await wo();if(H&&(!k||H.getTime()>k.getTime())){const ee=await Eg(6);if(c(ee),SS(ee),bS(H),ee.length>0){const ue=ee.reduce((C,A)=>C+A.rating,0)/ee.length;y(Math.round(ue*10)/10),T(ee.length)}}}else{const q=await Eg(6);if(c(q),SS(q),q.length>0){const de=q.reduce((ee,ue)=>ee+ue.rating,0)/q.length;y(Math.round(de*10)/10),T(q.length)}const H=await wo();H&&bS(H)}}catch(M){console.error("Error loading reviews:",M);const k=xS();if(k&&k.length>0){c(k);const q=k.reduce((H,de)=>H+de.rating,0)/k.length;y(Math.round(q*10)/10),T(k.length)}}finally{m(!1)}}V()},[]);function D(V){const M=Math.floor(V),k=V%1>=.5,q=5-M-(k?1:0);return d.jsxs(d.Fragment,{children:["".repeat(M),k&&"","".repeat(q)]})}return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"hero-section",children:[d.jsx("div",{className:"hero-overlay"}),d.jsxs("div",{className:"hero-container",children:[d.jsxs("div",{className:"hero-content",children:[d.jsxs("div",{className:"hero-badge",children:[d.jsx("span",{className:S()?"open-dot":"closed-dot"}),S()?"ben nu":"Lukket  bner kl. 11:00"]}),d.jsxs("h1",{className:"hero-title",children:[d.jsx(Rp,{}),"Velkommen til Xanthos Pizza & Grill"]}),d.jsx("p",{className:"hero-subtitle",children:"Autentiske pizzor och grillfavoriter. Bestll enkelt online och hmta eller f hemleverans."}),d.jsxs("div",{className:"hero-features",children:[d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Pickup"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Levering"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"4.6/5 (500+ anmeldelser)"]})]}),d.jsxs("div",{className:"hero-cta",children:[d.jsxs(dt,{to:"/bestil",className:"btn-primary",children:["Bestil takeaway",d.jsx(Fh,{})]}),d.jsx(dt,{to:"/menu",className:"btn-secondary",children:"Se menu"})]})]}),d.jsx(Wi,{children:d.jsx("div",{className:"hero-special",children:d.jsxs("div",{className:"special-card",children:[d.jsx("span",{className:"special-badge",children:"Dagens tilbud"}),d.jsx("div",{className:"special-image",children:d.jsx("img",{src:e.image,alt:e.title})}),d.jsx("h3",{className:"special-title",children:e.title}),d.jsx("p",{className:"special-desc",children:e.description}),d.jsx("p",{className:"special-price",children:e.price})]})})})]})]}),d.jsxs("main",{className:"home-main",children:[d.jsx("section",{className:"trust-section",children:d.jsxs("div",{className:"trust-grid",children:[d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Levering"}),d.jsx("p",{children:"Hurtig & varm"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Afhentning"}),d.jsx("p",{children:"Klar p 15 min"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Sikker betaling"}),d.jsx("p",{children:"Kort & MobilePay"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"4.6 stjerner"}),d.jsx("p",{children:"500+ anmeldelser"})]})})]})}),d.jsxs("section",{className:"section about-section",children:[d.jsx(Wi,{children:d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Om os"}),d.jsx("p",{className:"section-subtitle",children:"Din lokale pizzabar og grill"})]})}),d.jsx(Wi,{children:d.jsxs("div",{className:"about-content",children:[d.jsxs("div",{className:"about-text",children:[d.jsx("p",{children:"Xanthos Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]}),d.jsx("div",{className:"about-image",children:d.jsx("div",{className:"about-image-placeholder",children:d.jsx(Rp,{})})})]})})]}),d.jsxs("section",{className:"section popular-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Populre retter"}),d.jsx("p",{className:"section-subtitle",children:"Kundernas favoriter just nu"})]}),d.jsx("div",{className:"popular-grid",children:Aw.slice(0,3).map(V=>d.jsx(qO,{item:V},V.id))})]}),d.jsx("section",{className:"section info-section",children:d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-card hours-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"bningstider"})]}),d.jsxs("div",{className:"hours-list",children:[d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Mandag  Torsdag"}),d.jsx("span",{className:"hours-time",children:"11:00  21:00"})]}),d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Fredag  Sndag"}),d.jsx("span",{className:"hours-time",children:"11:00  23:00"})]})]}),d.jsxs("div",{className:`hours-status ${S()?"open":"closed"}`,children:[d.jsx("span",{className:"status-dot"}),S()?"ben nu":"Lukket"]})]}),d.jsxs("div",{className:"info-card contact-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"Kontakt os"})]}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("a",{href:"tel:70123456",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Telefon:"}),d.jsx("span",{className:"contact-value",children:"70 12 34 56"})]}),d.jsxs("a",{href:"mailto:info@pizza-grill.dk",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"E-mail:"}),d.jsx("span",{className:"contact-value",children:"info@pizza-grill.dk"})]}),d.jsxs("div",{className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Adresse:"}),d.jsx("span",{className:"contact-value",children:"Hovedgade 123, 1234 By"})]})]})]})]})}),d.jsxs("section",{className:"section reviews-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Hvad vores kunder siger"}),d.jsx("p",{className:"section-subtitle",children:"Anmeldelser fra vores glade kunder"})]}),u?d.jsx("div",{className:"reviews-loading",children:"Indlser anmeldelser..."}):o.length===0?d.jsx("div",{className:"reviews-empty",children:d.jsx("p",{children:"Ingen anmeldelser endnu. Vr den frste til at anmelde!"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"reviews-grid",children:o.slice(0,3).map(V=>d.jsxs("div",{className:"review-card",children:[d.jsx("div",{className:"review-stars",children:D(V.rating)}),d.jsxs("p",{className:"review-text",children:['"',V.text,'"']}),d.jsxs("p",{className:"review-author",children:[" ",V.author]})]},V.id))}),d.jsxs("p",{className:"reviews-average",children:[" ",g.toFixed(1)," gennemsnitlig vurdering fra"," ",v," anmeldelse",v!==1?"r":""]})]})]}),d.jsxs("section",{className:"section contact-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Skriv til os"}),d.jsx("p",{className:"section-subtitle",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."})]}),d.jsxs("form",{className:"contact-form",onSubmit:w,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Navn"}),d.jsx("input",{type:"text",id:"name",value:i.name,onChange:V=>r({...i,name:V.target.value}),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"E-mail"}),d.jsx("input",{type:"email",id:"email",value:i.email,onChange:V=>r({...i,email:V.target.value}),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"message",children:"Besked"}),d.jsx("textarea",{id:"message",rows:5,value:i.message,onChange:V=>r({...i,message:V.target.value}),required:!0})]}),d.jsx("button",{type:"submit",className:"btn-primary btn-submit",children:"Send besked"})]})]}),d.jsx("section",{className:"section cta-section",children:d.jsxs("div",{className:"cta-content",children:[d.jsx("h2",{className:"cta-title",children:"Klar til at bestille?"}),d.jsx("p",{className:"cta-subtitle",children:"Udforsk vores menu og bestil dine favoritter nu"}),d.jsx(dt,{to:"/bestil",className:"btn-primary btn-large",children:"Bestil nu "})]})})]})]})}function YO(){const t=bg(),{items:e,updateQty:i,removeItem:r,clear:o,total:c}=Ic(),[u,m]=N.useState(!1),g=.25,y=Math.round(c*g/(1+g)),v=c-y,T=e.reduce((S,w)=>S+w.qty,0);return d.jsx("main",{className:"cart-page",children:d.jsxs("div",{className:"cart-page-container",children:[d.jsxs("div",{className:"cart-page-header",children:[d.jsxs("div",{className:"cart-page-title-section",children:[d.jsxs("h1",{className:"cart-page-title",children:[d.jsx(mc,{className:"cart-page-icon"}),"Din kurv"]}),e.length>0&&d.jsxs("p",{className:"cart-page-subtitle",children:[T," ",T===1?"vare":"varer"]})]}),e.length>0&&d.jsxs("button",{className:`cart-clear-btn ${u?"active":""}`,onClick:()=>m(!0),"aria-label":"Tm kurv",children:[d.jsx(Eo,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),u&&d.jsxs("div",{className:"cart-confirm-box",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>m(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{o(),m(!1)},children:"Ja, tm kurv"})]})]}),e.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"}),d.jsx(dt,{to:"/menu",className:"cart-empty-cta",children:"Se menu"})]}):d.jsxs("div",{className:"cart-content",children:[d.jsxs("div",{className:"cart-items-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Varer"}),d.jsx("div",{className:"cart-items-list",children:e.map(S=>{const w=S.selectedIngredients?.reduce((k,q)=>k+(q.extraPrice||0),0)||0,D=S.price-w,V=S.price,M=V*S.qty;return d.jsxs("div",{className:"cart-item-card",children:[d.jsx("div",{className:"cart-item-image-wrapper",children:S.image&&d.jsx("img",{src:`./assets/${S.image}`,alt:S.name,className:"cart-item-image",onError:k=>{k.target.src="./assets/pizza-placeholder.jpg"}})}),d.jsxs("div",{className:"cart-item-info",children:[d.jsxs("div",{className:"cart-item-header",children:[d.jsx("h3",{className:"cart-item-name",children:S.name}),d.jsx("button",{className:"cart-item-remove",onClick:()=>r(S.id),"aria-label":"Fjern vare",children:d.jsx(Eo,{})})]}),S.desc&&d.jsx("p",{className:"cart-item-description",children:S.desc}),d.jsxs("div",{className:"cart-item-pricing",children:[d.jsxs("div",{className:"cart-item-base-price",children:[d.jsx("span",{children:"Basispris:"}),d.jsxs("span",{children:[D," kr"]})]}),w>0&&d.jsxs("div",{className:"cart-item-extras-price",children:[d.jsx("span",{children:"Tilvalg:"}),d.jsxs("span",{children:["+",w," kr"]})]}),d.jsxs("div",{className:"cart-item-unit-price",children:[d.jsx("span",{children:"Pris pr. stk:"}),d.jsxs("strong",{children:[V," kr"]})]})]}),S.selectedIngredients&&S.selectedIngredients.length>0&&d.jsxs("div",{className:"cart-item-ingredients",children:[d.jsx("p",{className:"cart-ingredients-label",children:"Tilvalg:"}),d.jsx("div",{className:"cart-ingredients-list",children:S.selectedIngredients.map((k,q)=>d.jsxs("span",{className:"cart-ingredient-tag",children:[k.name,k.extraPrice&&d.jsxs("span",{className:"cart-ingredient-price",children:["+",k.extraPrice," kr"]})]},q))})]}),d.jsxs("div",{className:"cart-item-footer",children:[d.jsxs("div",{className:"cart-item-qty",children:[d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(S.id,Math.max(1,S.qty-1)),disabled:S.qty<=1,"aria-label":"Reducer antal",children:""}),d.jsx("span",{className:"cart-qty-value",children:S.qty}),d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(S.id,S.qty+1),"aria-label":"g antal",children:"+"})]}),d.jsxs("div",{className:"cart-item-total",children:[d.jsx("span",{className:"cart-item-total-label",children:"I alt:"}),d.jsxs("span",{className:"cart-item-total-price",children:[M," kr"]})]})]})]})]},S.id)})})]}),d.jsxs("div",{className:"cart-summary-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Ordreoversigt"}),d.jsxs("div",{className:"cart-summary-card",children:[d.jsxs("div",{className:"cart-summary-details",children:[d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Antal varer"}),d.jsxs("span",{children:[T," ",T===1?"vare":"varer"]})]}),d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Subtotal (ekskl. moms)"}),d.jsxs("span",{children:[v," kr"]})]}),d.jsxs("div",{className:"cart-summary-row cart-summary-vat",children:[d.jsx("span",{children:"Moms (25%)"}),d.jsxs("span",{children:[y," kr"]})]}),d.jsx("div",{className:"cart-summary-divider"}),d.jsxs("div",{className:"cart-summary-total",children:[d.jsx("span",{children:"Total inkl. moms"}),d.jsxs("strong",{children:[c," kr"]})]})]}),d.jsxs("div",{className:"cart-summary-actions",children:[d.jsx(dt,{to:"/menu",className:"cart-continue-shopping",children:"Fortst shopping"}),d.jsxs("button",{onClick:()=>t("/checkout"),className:"cart-checkout-btn",children:["G til betaling",d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})]})]})})}async function QO(t){try{return(await k1(wa(Wt,"orders"),{...t,createdAt:ot.now()})).id}catch(e){throw console.error("Error creating order:",e),e}}async function wS(t=!1,e=!1){try{let i=is(wa(Wt,"orders"));if(t){const c=new Date;c.setHours(0,0,0,0);const u=ot.fromDate(c);i=is(i,D1("createdAt",">=",u))}i=is(i,Ld("createdAt","desc"));let o=(await Ud(i)).docs.map(c=>({id:c.id,...c.data(),createdAt:c.data().createdAt?.toDate()||new Date}));return e&&(o=o.filter(c=>c.status!=="ready")),o}catch(i){throw console.error("Error fetching orders:",i),i}}async function XO(t,e){try{const i=li(Wt,"orders",t);await _y(i,{status:e})}catch(i){throw console.error("Error updating order status:",i),i}}async function $O(t){try{const e=is(wa(Wt,"orders")),r=(await Ud(e)).docs.find(o=>o.id===t);return r?{id:r.id,...r.data(),createdAt:r.data().createdAt?.toDate()||new Date}:null}catch(e){throw console.error("Error fetching order:",e),e}}function ZO(t,e,i=!1,r=!1){try{let o=is(wa(Wt,"orders"));if(i){const u=new Date;u.setHours(0,0,0,0);const m=ot.fromDate(u);o=is(o,D1("createdAt",">=",m))}return o=is(o,Ld("createdAt","desc")),BI(o,u=>{let m=u.docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate()||new Date}));r&&(m=m.filter(g=>g.status!=="ready")),t(m)},u=>{console.error("Error in orders subscription:",u),e&&e(u)})}catch(o){return console.error("Error setting up orders subscription:",o),e&&e(o),()=>{}}}const RS=30;function WO(){const{items:t,total:e,clear:i}=Ic(),[r,o]=N.useState(""),[c,u]=N.useState(""),[m,g]=N.useState(""),[y,v]=N.useState("pickup"),[T,S]=N.useState(""),[w,D]=N.useState("card"),[V,M]=N.useState(""),[k,q]=N.useState(""),[H,de]=N.useState(""),[ee,ue]=N.useState(""),[C,A]=N.useState(!1),j=bg(),L=y==="delivery"?e+RS:e,P=y==="delivery";function F(ve){const Z=ve.replace(/\s+/g,"").replace(/[^0-9]/gi,""),he=Z.match(/\d{4,16}/g),ge=he&&he[0]||"",be=[];for(let Ce=0,z=ge.length;Ce<z;Ce+=4)be.push(ge.substring(Ce,Ce+4));return be.length?be.join(" "):Z}function I(ve){const Z=ve.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return Z.length>=2?Z.substring(0,2)+"/"+Z.substring(2,4):Z}async function Ue(ve){if(ve.preventDefault(),P&&w==="card"){if(!V||!k||!H||!ee){alert("Udfyld venligst alle betalingsoplysninger");return}if(V.replace(/\s/g,"").length<16){alert("Ugyldigt kortnummer");return}}A(!0);try{P&&w==="card"&&await new Promise(he=>setTimeout(he,2e3));const Z=await QO({items:t,total:L,name:r,phone:c,address:y==="delivery"?m:null,method:y,note:T,paymentMethod:P?w:"cash",paymentStatus:P&&w==="card"?"paid":"pending",status:"pending"});i(),A(!1),j("/confirmation/"+Z)}catch(Z){console.error("Error placing order:",Z),alert("Der opstod en fejl ved placering af ordren. Prv venligst igen."),A(!1)}}return d.jsx("main",{className:"checkout-page",children:d.jsxs("div",{className:"checkout-container",children:[d.jsxs("h2",{className:"checkout-title",children:[d.jsx(mc,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Gennemfr bestilling"]}),t.length===0?d.jsxs("div",{className:"checkout-empty",children:[d.jsx("p",{children:"Din kurv er tom "}),d.jsx(dt,{to:"/bestil",className:"checkout-link",children:"Se menuen"})]}):d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("form",{onSubmit:Ue,className:"checkout-form",children:[d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Kontaktoplysninger"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn"}),d.jsx("input",{type:"text",required:!0,value:r,onChange:ve=>o(ve.target.value),className:"form-input",placeholder:"Indtast dit navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[d.jsx(wp,{style:{marginRight:"0.35rem",verticalAlign:"middle"}}),"Telefonnummer"]}),d.jsx("input",{type:"tel",required:!0,value:c,onChange:ve=>u(ve.target.value),className:"form-input",placeholder:"+45 12 34 56 78"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Afhentning eller levering"}),d.jsxs("div",{className:"method-selector",children:[d.jsxs("label",{className:`method-option ${y==="pickup"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"pickup",checked:y==="pickup",onChange:ve=>v(ve.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Afhentning"}),d.jsx("div",{className:"method-desc",children:"Hent din bestilling i butikken"})]})]})]}),d.jsxs("label",{className:`method-option ${y==="delivery"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"delivery",checked:y==="delivery",onChange:ve=>v(ve.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Levering"}),d.jsx("div",{className:"method-desc",children:"Vi bringer det til dig"})]})]})]})]}),y==="delivery"&&d.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[d.jsx("label",{className:"form-label",children:"Leveringsadresse"}),d.jsx("input",{type:"text",required:y==="delivery",value:m,onChange:ve=>g(ve.target.value),className:"form-input",placeholder:"Gadenavn og nummer"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Bemrkninger (valgfrit)"}),d.jsx("div",{className:"form-group",children:d.jsx("textarea",{value:T,onChange:ve=>S(ve.target.value),className:"form-textarea",placeholder:"Har du nogen srlige nsker eller allergener?",rows:4})})]}),P&&d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:" Betalingsmetode"}),d.jsxs("div",{className:"payment-methods",children:[d.jsxs("label",{className:`payment-method-option ${w==="card"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"card",checked:w==="card",onChange:ve=>D(ve.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"Kortbetaling"}),d.jsx("div",{className:"payment-method-desc",children:"Visa, Mastercard, Dankort"})]})]})]}),d.jsxs("label",{className:`payment-method-option ${w==="mobilepay"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"mobilepay",checked:w==="mobilepay",onChange:ve=>D(ve.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"MobilePay"}),d.jsx("div",{className:"payment-method-desc",children:"Betal med MobilePay"})]})]})]})]}),w==="card"&&d.jsxs("div",{className:"payment-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn p kort"}),d.jsx("input",{type:"text",required:w==="card",value:k,onChange:ve=>q(ve.target.value),className:"form-input",placeholder:"Fulde navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Kortnummer"}),d.jsx("input",{type:"text",required:w==="card",value:V,onChange:ve=>M(F(ve.target.value)),className:"form-input",placeholder:"1234 5678 9012 3456",maxLength:19})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"Udlbsdato"}),d.jsx("input",{type:"text",required:w==="card",value:H,onChange:ve=>de(I(ve.target.value)),className:"form-input",placeholder:"MM/",maxLength:5})]}),d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"CVV"}),d.jsx("input",{type:"text",required:w==="card",value:ee,onChange:ve=>ue(ve.target.value.replace(/\D/g,"").slice(0,3)),className:"form-input",placeholder:"123",maxLength:3})]})]})]}),w==="mobilepay"&&d.jsx("div",{className:"mobilepay-info",children:d.jsx("p",{children:"Du vil blive omdirigeret til MobilePay for at gennemfre betalingen."})})]}),d.jsxs("div",{className:"checkout-actions",children:[d.jsx("button",{type:"button",onClick:()=>j("/cart"),className:"btn-secondary",disabled:C,children:"Tilbage"}),d.jsx("button",{type:"submit",className:"btn-primary",disabled:C,children:C?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Behandler..."]}):d.jsxs(d.Fragment,{children:[P?"Betal og placer ordre":"Placer ordre",d.jsx(Fh,{style:{marginLeft:"0.5rem",verticalAlign:"middle"}})]})})]}),d.jsx("p",{className:"checkout-note",children:P?" Din betaling er sikker og krypteret. Vi ringer til dig, nr din bestilling er klar!":" Betaling sker ved afhentning. Vi ringer til dig, nr din bestilling er klar!"})]}),d.jsxs("aside",{className:"checkout-summary",children:[d.jsxs("div",{className:"summary-header",children:[d.jsx("h3",{children:"Din bestilling"}),d.jsxs("span",{className:"summary-count",children:[t.length," ",t.length===1?"vare":"varer"]})]}),d.jsx("div",{className:"summary-items",children:t.map(ve=>d.jsxs("div",{className:"summary-item",children:[d.jsxs("div",{className:"summary-item-info",children:[d.jsx("span",{className:"summary-item-name",children:ve.name}),d.jsxs("span",{className:"summary-item-qty",children:["x",ve.qty]})]}),d.jsxs("span",{className:"summary-item-price",children:["DKK ",(ve.price*ve.qty).toFixed(2)]})]},ve.id))}),d.jsxs("div",{className:"summary-total",children:[d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["DKK ",e.toFixed(2)]})]}),y==="delivery"&&d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Leveringsgebyr"}),d.jsxs("span",{children:["DKK ",RS.toFixed(2)]})]}),d.jsxs("div",{className:"summary-total-row summary-total-final",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",L.toFixed(2)]})]})]})]})]})]})})}function JO({orderId:t}){const[e,i]=N.useState(null),[r,o]=N.useState(!0);return N.useEffect(()=>{async function c(){try{const u=await $O(t);i(u)}catch(u){console.error("Error loading order:",u)}finally{o(!1)}}c()},[t]),r?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow text-center",children:"Indlser ordre..."})}):e?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded shadow p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thanks  your order is placed!"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Order #",e.id]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:"Items"}),d.jsx("ul",{className:"mt-2",children:e.items.map(c=>d.jsxs("li",{children:[c.qty,"  ",c.name,"  ",c.price*c.qty,",-"]},c.id))})]}),d.jsxs("div",{className:"mt-4",children:["Total: ",d.jsxs("strong",{children:[e.total,",-"]})]}),d.jsxs("div",{className:"mt-4",children:["We will call you at ",d.jsx("strong",{children:e.phone})," when your order is ready."]})]})}):d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow",children:"Ordre ikke fundet."})})}async function e3(){try{console.log("Initializing products in Firebase...");for(const t of Aw)await KI({category:t.category,name:t.name,desc:t.desc,price:t.price,image:t.image,ingredients:t.ingredients||[]}),console.log(`Created product: ${t.name}`);console.log("All products initialized successfully!")}catch(t){throw console.error("Error initializing products:",t),t}}const ev="admin_products",tv="admin_products_lastUpdated",Nw="admin_reviews",jw="admin_reviews_lastUpdated",Dw="xanthos_mostPopularProductIds",Vw="xanthos_mostPopular_lastUpdated";function CS(){try{const t=localStorage.getItem(ev);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function xp(t){try{localStorage.setItem(ev,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function t3(){try{const t=localStorage.getItem(tv);if(t)return new Date(t)}catch(t){console.error("Error reading products lastUpdated from localStorage:",t)}return null}function Sp(t){try{localStorage.setItem(tv,t.toISOString())}catch(e){console.error("Error saving products lastUpdated to localStorage:",e)}}function NS(){try{const t=localStorage.getItem(Dw);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function wh(t){try{localStorage.setItem(Dw,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function n3(){try{const t=localStorage.getItem(Vw);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function Rh(t){try{localStorage.setItem(Vw,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}function jS(){try{const t=localStorage.getItem(Nw);if(t)return JSON.parse(t).map(i=>({...i,createdAt:new Date(i.createdAt)}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function Ch(t){try{localStorage.setItem(Nw,JSON.stringify(t))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function i3(){try{const t=localStorage.getItem(jw);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function Nh(t){try{localStorage.setItem(jw,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}function s3(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),i=t.createGain();e.connect(i),i.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1e3,t.currentTime+.1),e.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}catch(t){console.error("Error playing notification sound:",t)}}function r3(){const[t,e]=N.useState("orders"),[i,r]=N.useState([]),[o,c]=N.useState(!0),[u,m]=N.useState(null),g=N.useRef(new Set),y=N.useRef(null),v=N.useRef(!0),[T,S]=N.useState([]),[w,D]=N.useState(!1),[V,M]=N.useState(!1),[k,q]=N.useState([]),[H,de]=N.useState(!0),[ee,ue]=N.useState(null),[C,A]=N.useState(""),[j,L]=N.useState(null),[P,F]=N.useState(!1),[I,Ue]=N.useState(!1),[ve,Z]=N.useState([]),[he,ge]=N.useState(!1),[be,Ce]=N.useState([]),[z,ne]=N.useState(!0),[U,oe]=N.useState(null),ce=()=>{try{const X=localStorage.getItem("admin_todays_orders");if(!X)return null;const re=JSON.parse(X),pe=new Date(re.date),_e=new Date;return pe.getDate()!==_e.getDate()||pe.getMonth()!==_e.getMonth()||pe.getFullYear()!==_e.getFullYear()?null:re.orders}catch(X){return console.error("Error reading today's orders from localStorage:",X),null}},fe=X=>{try{localStorage.setItem("admin_todays_orders",JSON.stringify({date:new Date().toISOString(),orders:X}))}catch(re){console.error("Error saving today's orders to localStorage:",re)}},Re=(X,re)=>{try{const pe=ce();if(pe){const _e=pe.map(Dt=>Dt.id===X?{...Dt,status:re}:Dt);fe(_e),V&&S(_e)}}catch(pe){console.error("Error updating stored order status:",pe)}};async function De(X=!1){try{c(!0),m(null);const re=await wS(!0,!0);r(re),X&&g.current.clear(),re.forEach(pe=>{pe.id&&g.current.add(pe.id)})}catch(re){console.error("Error loading orders:",re),m("Kunne ikke indlse ordrer. Prv venligst igen.")}finally{c(!1)}}async function Oe(){try{D(!0);const X=ce();if(X&&X.length>0){S(X),D(!1);return}const re=await wS(!0,!1);S(re),fe(re)}catch(X){console.error("Error loading all today's orders:",X),alert("Kunne ikke indlse alle dagens ordrer. Prv venligst igen.")}finally{D(!1)}}async function jt(){try{de(!0),ue(null);const X=await lc(),re=t3(),pe=CS();if(pe&&re&&X&&Math.abs(X.getTime()-re.getTime())<1e3){console.log("Using cached products (metadata unchanged)"),q(pe),de(!1),await Yt();return}console.log("Fetching products from Firebase (metadata changed or no cache)");const _e=await $p();q(_e),xp(_e),X&&Sp(X),await Yt()}catch(X){console.error("Error loading products:",X),ue("Kunne ikke indlse produkter. Prv venligst igen.");const re=CS();re&&(console.log("Using cached products as fallback"),q(re))}finally{de(!1)}}async function Yt(){try{const X=NS(),re=n3();if(X&&re){Z(X);const{lastUpdated:pe,productIds:_e}=await od();pe&&pe.getTime()>re.getTime()&&(Z(_e),wh(_e),Rh(pe))}else{const{lastUpdated:pe,productIds:_e}=await od();Z(_e),wh(_e),pe&&Rh(pe)}}catch(X){console.error("Error loading most popular product IDs:",X);const re=NS();re&&Z(re)}}async function un(X){try{ge(!0);const pe=ve.includes(X)?ve.filter(_e=>_e!==X):[...ve,X];await ZE(pe),Z(pe),wh(pe),Rh(new Date)}catch(re){console.error("Error updating most popular products:",re),alert("Kunne ikke opdatere mest populre produkter. Prv venligst igen.")}finally{ge(!1)}}async function gn(){if(confirm("Er du sikker p, at du vil fjerne alle produkter fra 'Most Popular'?"))try{ge(!0),await ZE([]),Z([]),alert("Alle produkter fjernet fra 'Most Popular'!"),wh([]),Rh(new Date)}catch(X){console.error("Error clearing most popular products:",X),alert("Kunne ikke fjerne produkter. Prv venligst igen.")}finally{ge(!1)}}async function yn(){try{ne(!0),oe(null);const X=await wo(),re=i3(),pe=jS();if(pe&&re&&X&&Math.abs(X.getTime()-re.getTime())<1e3){console.log("Using cached reviews (metadata unchanged)"),Ce(pe),ne(!1);return}console.log("Fetching reviews from Firebase (metadata changed or no cache)");const _e=await Eg(void 0,!0);Ce(_e),Ch(_e),X&&Nh(X)}catch(X){console.error("Error loading reviews:",X),oe("Kunne ikke indlse anmeldelser. Prv venligst igen.");const re=jS();re&&(console.log("Using cached reviews as fallback"),Ce(re))}finally{ne(!1)}}N.useEffect(()=>(t==="orders"?(De(),v.current=!0,y.current=ZO(X=>{if(v.current)r(X),X.forEach(re=>{re.id&&g.current.add(re.id)}),v.current=!1,c(!1);else{const re=g.current,pe=X.filter(_e=>_e.id&&!re.has(_e.id));pe.length>0&&(document.hidden||s3(),r(_e=>{const Dt=new Set(_e.map(Ni=>Ni.id));return[...pe.filter(Ni=>Ni.id&&!Dt.has(Ni.id)),..._e].sort((Ni,Ca)=>{const Lr=qn=>qn.createdAt instanceof Date?qn.createdAt.getTime():qn.createdAt&&typeof qn.createdAt=="object"&&"toDate"in qn.createdAt?qn.createdAt.toDate().getTime():new Date(qn.createdAt).getTime();return Lr(Ca)-Lr(Ni)})}),pe.forEach(_e=>{_e.id&&g.current.add(_e.id)}))}},X=>{console.error("Error in orders subscription:",X),m("Fejl ved real-time opdatering af ordrer.")},!0,!0)):t==="products"?jt():t==="reviews"&&yn(),()=>{y.current&&(y.current(),y.current=null)}),[t]),N.useEffect(()=>()=>{y.current&&(y.current(),y.current=null)},[]);async function wi(){if(confirm("Er du sikker p, at du vil initialisere alle produkter? Dette kan oprette dubletter hvis produkter allerede findes.")){F(!0),Ue(!1),ue(null);try{await e3(),Ue(!0),localStorage.removeItem(ev),localStorage.removeItem(tv),await jt(),setTimeout(()=>Ue(!1),5e3)}catch(X){console.error("Error initializing products:",X),ue("Kunne ikke initialisere produkter. Tjek konsollen for detaljer.")}finally{F(!1)}}}async function Ri(X,re){try{await XO(X,re),r(re==="ready"?pe=>pe.filter(_e=>_e.id!==X):pe=>pe.map(_e=>_e.id===X?{..._e,status:re}:_e)),Re(X,re),V&&S(pe=>pe.map(_e=>_e.id===X?{..._e,status:re}:_e))}catch(pe){console.error("Error updating order status:",pe),alert("Kunne ikke opdatere ordrestatus. Prv venligst igen.")}}async function Pr(X,re){try{await YI(X,re);const pe=k.map(Dt=>Dt.id===X?{...Dt,...re}:Dt);q(pe),xp(pe);const _e=await lc();_e&&Sp(_e),L(null),alert("Produkt opdateret med succes!")}catch(pe){console.error("Error updating product:",pe),alert("Kunne ikke opdatere produkt. Prv venligst igen.")}}async function Or(X){if(confirm("Er du sikker p, at du vil slette dette produkt?"))try{await QI(X);const re=k.filter(_e=>_e.id!==X);q(re),xp(re);const pe=await lc();pe&&Sp(pe),alert("Produkt slettet!")}catch(re){console.error("Error deleting product:",re),alert("Kunne ikke slette produkt. Prv venligst igen.")}}async function _t(X){try{await ES(X,{approved:!0});const re=be.map(_e=>_e.id===X?{..._e,approved:!0}:_e);Ce(re),Ch(re);const pe=await wo();pe&&Nh(pe),alert("Anmeldelse godkendt!")}catch(re){console.error("Error approving review:",re),alert("Kunne ikke godkende anmeldelse. Prv venligst igen.")}}async function bt(X){if(confirm("Er du sikker p, at du vil afvise denne anmeldelse?"))try{await ES(X,{approved:!1});const re=be.map(_e=>_e.id===X?{..._e,approved:!1}:_e);Ce(re),Ch(re);const pe=await wo();pe&&Nh(pe),alert("Anmeldelse afvist!")}catch(re){console.error("Error rejecting review:",re),alert("Kunne ikke afvise anmeldelse. Prv venligst igen.")}}async function Ci(X){if(confirm("Er du sikker p, at du vil slette denne anmeldelse?"))try{await HO(X);const re=be.filter(_e=>_e.id!==X);Ce(re),Ch(re);const pe=await wo();pe&&Nh(pe),alert("Anmeldelse slettet!")}catch(re){console.error("Error deleting review:",re),alert("Kunne ikke slette anmeldelse. Prv venligst igen.")}}return d.jsx("main",{className:"admin-page",children:d.jsxs("div",{className:"admin-container",children:[d.jsx("h1",{className:"admin-title",children:"Admin Panel"}),d.jsxs("div",{className:"admin-tabs",children:[d.jsxs("button",{className:`admin-tab ${t==="orders"?"active":""}`,onClick:()=>e("orders"),children:[" Ordrer (",i.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="products"?"active":""}`,onClick:()=>e("products"),children:[" Produkter (",k.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="reviews"?"active":""}`,onClick:()=>e("reviews"),children:[" Anmeldelser (",be.length,")"]})]}),t==="orders"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Ordre Administration"}),d.jsx("button",{onClick:()=>De(!0),className:"btn-refresh",disabled:o,children:o?"Indlser...":" Opdater"})]}),d.jsxs("div",{className:"todays-orders-subsection",children:[d.jsxs("div",{className:"todays-orders-header",children:[d.jsxs("h3",{className:"todays-orders-title",children:["Alle Dagens Ordrer (",T.length,")"]}),d.jsxs("div",{className:"todays-orders-actions",children:[V&&d.jsx("button",{onClick:()=>{localStorage.removeItem("admin_todays_orders"),Oe()},className:"btn-refresh btn-small",disabled:w,children:w?"Indlser...":" Opdater"}),d.jsx("button",{onClick:()=>{V?M(!1):(M(!0),Oe())},className:"btn-refresh btn-small",disabled:w,children:V?" Skjul":" Vis Alle Dagens Ordrer"})]})]}),V&&d.jsx("div",{children:w?d.jsx("div",{className:"loading-state",children:"Indlser alle dagens ordrer..."}):T.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer i dag endnu."}):d.jsx("div",{className:"orders-list",children:T.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:re=>Ri(X.id,re.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(re=>d.jsxs("li",{children:[re.qty,"  ",re.name,"  DKK"," ",(re.price*re.qty).toFixed(2)]},re.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})})]}),u&&d.jsx("div",{className:"alert alert-error",children:u}),o?d.jsx("div",{className:"loading-state",children:"Indlser ordrer..."}):i.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer endnu."}):d.jsx("div",{className:"orders-list",children:i.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:re=>Ri(X.id,re.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(re=>d.jsxs("li",{children:[re.qty,"  ",re.name,"  DKK"," ",(re.price*re.qty).toFixed(2)]},re.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})]}),t==="products"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Produkt Administration"}),d.jsx("div",{className:"section-actions",children:d.jsx("button",{onClick:jt,className:"btn-refresh",disabled:H,children:H?"Indlser...":" Opdater"})})]}),I&&d.jsx("div",{className:"alert alert-success",children:" Produkter blev initialiseret med succes!"}),ee&&d.jsx("div",{className:"alert alert-error",children:ee}),H?d.jsx("div",{className:"loading-state",children:"Indlser produkter..."}):k.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"Ingen produkter endnu."}),d.jsx("button",{onClick:wi,className:"btn-init",disabled:P,children:P?"Initialiserer...":"Initialiser Produkter"})]}):d.jsxs(d.Fragment,{children:[j&&d.jsx(a3,{product:j,onSave:X=>Pr(j.id,X),onCancel:()=>L(null)}),d.jsxs("div",{className:"most-popular-selector",children:[d.jsxs("div",{className:"most-popular-header",children:[d.jsx("label",{className:"most-popular-label",children:" Mest Populre Produkter:"}),ve.length>0&&d.jsxs("button",{onClick:gn,className:"btn-clear-popular",disabled:he,title:"Fjern alle produkter fra Most Popular",children:[" Fjern Alle (",ve.length,")"]})]}),he&&d.jsx("div",{className:"saving-indicator",children:"Gemmer..."}),d.jsx("p",{className:"most-popular-info",children:'Vlg produkter der skal vises i "Most Popular" sektionen p menuen. Klik p et produkt for at tilfje/fjerne det.'}),d.jsx("div",{className:"most-popular-products-grid",children:k.map(X=>{const re=ve.includes(X.id||"");return d.jsxs("div",{className:`most-popular-product-card ${re?"is-popular":""}`,onClick:()=>!he&&un(X.id),children:[d.jsx("div",{className:"most-popular-product-checkbox",children:re?"":""}),d.jsx("img",{src:`./assets/${X.image}`,alt:X.name,className:"most-popular-product-image"}),d.jsxs("div",{className:"most-popular-product-info",children:[d.jsx("div",{className:"most-popular-product-name",children:X.name}),d.jsx("div",{className:"most-popular-product-category",children:X.category})]})]},X.id)})}),ve.length>0&&d.jsxs("div",{className:"most-popular-summary",children:[d.jsx("strong",{children:ve.length})," produkt",ve.length!==1?"er":"",' valgt til "Most Popular"']})]}),d.jsxs("div",{className:"products-search-container",children:[d.jsx("input",{type:"text",placeholder:" Sg efter produkter (navn, kategori, beskrivelse, tags, ingredienser)...",value:C,onChange:X=>A(X.target.value),className:"products-search-input"}),C&&d.jsx("button",{onClick:()=>A(""),className:"products-search-clear",title:"Ryd sgning",children:""})]}),(()=>{const X=k.filter(re=>{if(!C.trim())return!0;const pe=C.toLowerCase();return[re.name,re.category,re.desc,...re.tags||[],...re.ingredients?.map(Dt=>Dt.name)||[]].join(" ").toLowerCase().includes(pe)});return X.length===0&&C?d.jsxs("div",{className:"empty-state",children:[d.jsxs("p",{children:['Ingen produkter fundet for "',C,'"']}),d.jsx("button",{onClick:()=>A(""),className:"btn-refresh",children:"Ryd sgning"})]}):d.jsx("div",{className:"products-grid",children:X.map(re=>d.jsxs("div",{className:"product-card",children:[d.jsxs("div",{className:"product-header",children:[d.jsx("img",{src:`./assets/${re.image}`,alt:re.name}),d.jsxs("div",{children:[d.jsx("div",{className:"product-name",children:re.name}),d.jsx("div",{className:"product-category",children:re.category})]}),d.jsxs("div",{className:"product-price",children:["DKK ",re.price.toFixed(2)]})]}),d.jsx("div",{className:"product-desc",children:re.desc}),re.ingredients&&re.ingredients.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tilvalg:"}),d.jsx("ul",{children:re.ingredients.map((pe,_e)=>d.jsxs("li",{children:[pe.name,pe.extraPrice&&` (+DKK ${pe.extraPrice})`]},_e))})]}),re.tags&&re.tags.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tags:"}),d.jsx("ul",{children:re.tags.map((pe,_e)=>d.jsx("li",{children:pe},_e))})]}),d.jsxs("div",{className:"product-actions",children:[d.jsx("button",{onClick:()=>L(re),className:"btn-edit",children:" Rediger"}),d.jsx("button",{onClick:()=>Or(re.id),className:"btn-delete",children:" Slet"})]})]},re.id))})})(),C&&d.jsxs("div",{className:"products-search-results-info",children:["Viser"," ",k.filter(X=>{const re=C.toLowerCase();return[X.name,X.category,X.desc,...X.tags||[],...X.ingredients?.map(_e=>_e.name)||[]].join(" ").toLowerCase().includes(re)}).length," ","af ",k.length," produkter"]})]})]}),t==="reviews"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Anmeldelses Administration"}),d.jsx("button",{onClick:yn,className:"btn-refresh",disabled:z,children:z?"Indlser...":" Opdater"})]}),U&&d.jsx("div",{className:"alert alert-error",children:U}),z?d.jsx("div",{className:"loading-state",children:"Indlser anmeldelser..."}):be.length===0?d.jsx("div",{className:"empty-state",children:"Ingen anmeldelser endnu."}):d.jsx("div",{className:"reviews-list",children:be.map(X=>d.jsxs("div",{className:`review-card-admin ${X.approved===!1?"review-rejected":X.approved===!0?"review-approved":"review-pending"}`,children:[d.jsxs("div",{className:"review-card-header",children:[d.jsxs("div",{className:"review-info",children:[d.jsx("div",{className:"review-author",children:X.author}),d.jsxs("div",{className:"review-rating",children:["".repeat(X.rating),"".repeat(5-X.rating)]}),d.jsx("div",{className:"review-date",children:X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")})]}),d.jsx("div",{className:"review-status",children:X.approved===!0?d.jsx("span",{className:"status-badge status-approved",children:" Godkendt"}):X.approved===!1?d.jsx("span",{className:"status-badge status-rejected",children:" Afvist"}):d.jsx("span",{className:"status-badge status-pending",children:" Afventer"})})]}),d.jsxs("div",{className:"review-text-admin",children:['"',X.text,'"']}),d.jsxs("div",{className:"review-actions",children:[X.approved!==!0&&d.jsx("button",{onClick:()=>_t(X.id),className:"btn-approve",children:" Godkend"}),X.approved!==!1&&d.jsx("button",{onClick:()=>bt(X.id),className:"btn-reject",children:" Afvis"}),d.jsx("button",{onClick:()=>Ci(X.id),className:"btn-delete",children:" Slet"})]})]},X.id))})]})]})})}function a3({product:t,onSave:e,onCancel:i}){const[r,o]=N.useState(t.name),[c,u]=N.useState(t.desc),[m,g]=N.useState(t.price.toString()),[y,v]=N.useState(t.category),[T,S]=N.useState(t.image),[w,D]=N.useState(t.tags||[]),[V,M]=N.useState(t.ingredients||[]);function k(ee){ee.preventDefault(),e({name:r,desc:c,price:parseFloat(m),category:y,image:T,tags:w.length>0?w:[],ingredients:V.length>0?V:[]})}function q(){M([...V,{name:"",extraPrice:void 0}])}function H(ee){M(V.filter((ue,C)=>C!==ee))}function de(ee,ue,C){const A=[...V];A[ee]={...A[ee],[ue]:ue==="extraPrice"?C===""?void 0:Number(C):C},M(A)}return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-backdrop",onClick:i}),d.jsxs("div",{className:"product-edit-form",children:[d.jsx("h3",{children:"Rediger Produkt"}),d.jsxs("form",{onSubmit:k,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Navn"}),d.jsx("input",{type:"text",value:r,onChange:ee=>o(ee.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Kategori"}),d.jsxs("select",{value:y,onChange:ee=>v(ee.target.value),required:!0,children:[d.jsx("option",{value:"Pizza",children:"Pizza"}),d.jsx("option",{value:"Grill",children:"Grill"}),d.jsx("option",{value:"Sides",children:"Sides"}),d.jsx("option",{value:"Drinks",children:"Drinks"})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Beskrivelse"}),d.jsx("textarea",{value:c,onChange:ee=>u(ee.target.value),required:!0,rows:3})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("div",{className:"form-group-header",children:[d.jsx("label",{children:"Tilvalg (Ingredienser)"}),d.jsx("button",{type:"button",onClick:q,className:"btn-add-small",children:"+ Tilfj tilvalg"})]}),V.length===0?d.jsx("p",{className:"form-hint",children:'Ingen tilvalg tilfjet. Klik p "Tilfj tilvalg" for at tilfje.'}):d.jsx("div",{className:"ingredients-list",children:V.map((ee,ue)=>d.jsxs("div",{className:"ingredient-item",children:[d.jsx("input",{type:"text",placeholder:"Navn p tilvalg",value:ee.name,onChange:C=>de(ue,"name",C.target.value),className:"ingredient-name"}),d.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ekstra pris (valgfrit)",value:ee.extraPrice||"",onChange:C=>de(ue,"extraPrice",C.target.value),className:"ingredient-price"}),d.jsx("button",{type:"button",onClick:()=>H(ue),className:"btn-remove",children:""})]},ue))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tags"}),d.jsx("div",{className:"tags-checkbox-group",children:[{value:"vegetarian",label:" Vegetar"},{value:"vegan",label:" Vegansk"},{value:"spicy",label:" Strk"},{value:"glutenfree",label:" Glutenfri"},{value:"halal",label:" Halal"},{value:"popular",label:" Populr"}].map(ee=>d.jsxs("label",{className:"tag-checkbox-label",children:[d.jsx("input",{type:"checkbox",value:ee.value,checked:w.includes(ee.value),onChange:ue=>{ue.target.checked?D([...w,ee.value]):D(w.filter(C=>C!==ee.value))},className:"tag-checkbox"}),d.jsx("span",{className:"tag-checkbox-text",children:ee.label})]},ee.value))}),w.length>0&&d.jsxs("div",{className:"selected-tags",children:[d.jsx("strong",{children:"Valgte tags:"})," ",w.join(", ")]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Pris (DKK)"}),d.jsx("input",{type:"number",step:"0.01",value:m,onChange:ee=>g(ee.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Billede filnavn"}),d.jsx("input",{type:"text",value:T,onChange:ee=>S(ee.target.value),required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Gem"}),d.jsx("button",{type:"button",onClick:i,className:"btn-cancel",children:"Annuller"})]})]})]})]})}function o3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Om os"}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{className:"text-gray-700",children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]})})}function l3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Kontakt"}),d.jsx("p",{className:"mb-4 text-gray-700",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kontaktoplysninger"}),d.jsxs("p",{className:"text-gray-700",children:["Telefon: ",d.jsx("strong",{children:"70 12 34 56"})]}),d.jsxs("p",{className:"text-gray-700",children:["E-mail: ",d.jsx("strong",{children:"info@pizza-grill.dk"})]}),d.jsxs("p",{className:"text-gray-700",children:["Adresse: ",d.jsx("strong",{children:"Hovedgade 123, 1234 By"})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Skriv til os"}),d.jsxs("form",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Navn"}),d.jsx("input",{className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"E-mail"}),d.jsx("input",{type:"email",className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Besked"}),d.jsx("textarea",{rows:4,className:"w-full p-2 border rounded"})]}),d.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",children:"Send besked"})]})]})]})})}function c3(){return d.jsx("main",{className:"privacy-policy-page",children:d.jsxs("div",{className:"privacy-policy-container",children:[d.jsx("h1",{className:"privacy-policy-title",children:"Privatlivspolitik"}),d.jsxs("p",{className:"privacy-policy-updated",children:["Sidst opdateret: ",new Date().toLocaleDateString("da-DK",{year:"numeric",month:"long",day:"numeric"})]}),d.jsxs("div",{className:"privacy-policy-content",children:[d.jsx("section",{className:"privacy-section",children:d.jsx("p",{className:"privacy-intro",children:'Denne privatlivspolitik forklarer, hvordan Xanthos Pizza & Grill ("vi", "os" eller "vores") indsamler, bruger og beskytter dine personoplysninger, nr du bruger vores hjemmeside og bestiller gennem vores tjenester. Vi respekterer dit privatliv og er forpligtet til at beskytte dine personoplysninger i overensstemmelse med GDPR (Generel Dataforordning).'})}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"1. Hvilke oplysninger indsamler vi?"}),d.jsx("p",{children:"Vi indsamler kun de oplysninger, der er ndvendige for at behandle og levere din bestilling:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Kontaktoplysninger:"})," Navn, telefonnummer, e-mailadresse og leveringsadresse"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Bestillingsoplysninger:"})," Detaljer om dine bestilte produkter, antal og srlige instruktioner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsoplysninger:"})," Betalingsmetode (kort eller MobilePay) - betalingsoplysninger behandles sikkert af vores betalingsudbyder og gemmes aldrig p vores servere"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Tekniske oplysninger:"})," IP-adresse, browser-type og enhedsoplysninger (automatisk indsamlet)"]})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"2. Hvordan bruger vi dine oplysninger?"}),d.jsx("p",{children:"Vi bruger dine personoplysninger til flgende forml:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"At behandle og levere din bestilling"}),d.jsx("li",{children:"At kommunikere med dig vedrrende din bestilling (bekrftelse, opdateringer, problemer)"}),d.jsx("li",{children:"At hndtere betalinger gennem vores betalingsudbydere"}),d.jsx("li",{children:"At opfylde juridiske forpligtelser (f.eks. regnskabsfring)"}),d.jsx("li",{children:"At forbedre vores tjenester og brugeroplevelse"}),d.jsx("li",{children:"At hndtere klager og henvendelser"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"3. Cookies og lokal lagring"}),d.jsx("p",{children:"Vi bruger ikke tracking- eller marketingcookies. Vi bruger kun ndvendige cookies og lokal lagring for at sikre, at hjemmesiden fungerer korrekt:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Session cookies:"})," For at huske din indkbskurv under din besg"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Lokal lagring:"})," For at gemme din kurv, s den ikke forsvinder, hvis du lukker browseren"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Produktcache:"})," For at forbedre indlsningstiden ved at cache produktdata lokalt"]})]}),d.jsx("p",{children:"Du kan til enhver tid slette cookies og lokal lagring gennem dine browserindstillinger. Dette kan pvirke funktionaliteten af hjemmesiden."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"4. Deling af oplysninger"}),d.jsx("p",{children:"Vi deler kun dine oplysninger med:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsudbydere:"})," For at behandle betalinger (kortoplysninger behandles sikkert og gemmes ikke hos os)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Leveringspartnere:"})," Hvis du vlger levering, deler vi din adresse med vores leveringspartner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Juridiske myndigheder:"})," Hvis det er pkrvet ved lov eller retslig ordre"]})]}),d.jsx("p",{children:"Vi slger eller udlejer aldrig dine personoplysninger til tredjeparter til markedsfringsforml."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"5. Databehandling og opbevaring"}),d.jsx("p",{children:"Vi opbevarer dine personoplysninger kun s lnge, det er ndvendigt for at:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Opfylde din bestilling og levere tjenesten"}),d.jsx("li",{children:"Opfylde juridiske forpligtelser (f.eks. regnskabsfring i 5 r)"}),d.jsx("li",{children:"Hndtere eventuelle klager eller retskrav"})]}),d.jsx("p",{children:"Efter opbevaringsperioden slettes eller anonymiseres dine personoplysninger sikkert."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"6. Dine rettigheder"}),d.jsx("p",{children:"I henhold til GDPR har du flgende rettigheder:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigt:"})," Du kan anmode om at se, hvilke personoplysninger vi har om dig"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til berigtigelse:"})," Du kan anmode om rettelse af forkerte eller ufuldstndige oplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til sletning:"})," Du kan anmode om sletning af dine personoplysninger (med visse undtagelser)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til dataportabilitet:"})," Du kan anmode om at modtage dine data i et struktureret format"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigelse:"})," Du kan gre indsigelse mod behandling af dine personoplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til begrnsning:"})," Du kan anmode om begrnsning af behandlingen af dine oplysninger"]})]}),d.jsxs("p",{children:["For at udve disse rettigheder, kontakt os p"," ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"7. Datasikkerhed"}),d.jsx("p",{children:"Vi implementerer passende tekniske og organisatoriske foranstaltninger for at beskytte dine personoplysninger mod uautoriseret adgang, tab, delggelse eller ndring:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Krypteret datatransmission (HTTPS/SSL)"}),d.jsx("li",{children:"Sikker betalingsbehandling gennem certificerede betalingsudbydere"}),d.jsx("li",{children:"Begrnset adgang til personoplysninger (kun autoriseret personale)"}),d.jsx("li",{children:"Regelmssige sikkerhedsopdateringer og -revisioner"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"8. Brns privatliv"}),d.jsx("p",{children:"Vores tjenester er ikke mlrettet brn under 18 r. Vi indsamler bevidst ikke personoplysninger fra brn. Hvis du er forlder eller vrge og opdager, at dit barn har givet os personoplysninger, kontakt os, s vi kan slette disse oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"9. ndringer i privatlivspolitikken"}),d.jsx("p",{children:"Vi kan opdatere denne privatlivspolitik fra tid til tid. Vsentlige ndringer vil blive meddelt p hjemmesiden eller via e-mail. Vi opfordrer dig til at gennemg denne side jvnligt for at holde dig informeret om, hvordan vi beskytter dine oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"10. Kontakt os"}),d.jsx("p",{children:"Hvis du har sprgsml, bekymringer eller nsker at udve dine rettigheder vedrrende denne privatlivspolitik, kan du kontakte os:"}),d.jsxs("div",{className:"privacy-contact",children:[d.jsx("p",{children:d.jsx("strong",{children:"Xanthos Pizza & Grill"})}),d.jsxs("p",{children:["E-mail: ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]}),d.jsxs("p",{children:["Telefon: ",d.jsx("a",{href:"tel:+4570123456",className:"privacy-link",children:"70 12 34 56"})]})]}),d.jsx("p",{children:"Du har ogs ret til at klage til Datatilsynet, hvis du mener, at vi behandler dine personoplysninger i strid med gldende lovgivning."})]})]})]})})}function u3(){const t=cs();return N.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t.pathname]),null}const xi=({children:t})=>{const e=cs();return N.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e.pathname]),d.jsx(Tw.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},style:{position:"relative",width:"100%"},children:t},e.pathname)};function h3(){const t=cs();return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(GN,{}),d.jsxs("div",{className:"flex-1 app-bg",children:[d.jsx(u3,{}),d.jsx(xP,{mode:"wait",initial:!1,children:d.jsxs(cN,{location:t,children:[d.jsx(ni,{path:"/",element:d.jsx(xi,{children:d.jsx(KO,{})})}),d.jsx(ni,{path:"/menu",element:d.jsx(xi,{children:d.jsx(TS,{})})}),d.jsx(ni,{path:"/bestil",element:d.jsx(xi,{children:d.jsx(TS,{})})}),d.jsx(ni,{path:"/om-os",element:d.jsx(xi,{children:d.jsx(o3,{})})}),d.jsx(ni,{path:"/kontakt",element:d.jsx(xi,{children:d.jsx(l3,{})})}),d.jsx(ni,{path:"/privacy",element:d.jsx(xi,{children:d.jsx(c3,{})})}),d.jsx(ni,{path:"/cart",element:d.jsx(xi,{children:d.jsx(YO,{})})}),d.jsx(ni,{path:"/checkout",element:d.jsx(xi,{children:d.jsx(WO,{})})}),d.jsx(ni,{path:"/confirmation/:orderId",element:d.jsx(xi,{children:d.jsx(f3,{})})}),d.jsx(ni,{path:"/admin",element:d.jsx(xi,{children:d.jsx(r3,{})})}),d.jsx(ni,{path:"*",element:d.jsx(xi,{children:d.jsx(m3,{})})})]},t.pathname)})]}),d.jsx(KN,{})]})}function d3(){return d.jsx(VN,{basename:"/xantos-pizza-grill/",children:d.jsx(qN,{children:d.jsx(h3,{})})})}function f3(){const t=window.location.pathname.split("/"),e=t[t.length-1];return d.jsx(JO,{orderId:e})}function m3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow",children:["Page not found  ",d.jsx(dt,{to:"/",children:"Go home"})]})})}vC.createRoot(document.getElementById("root")).render(d.jsx(N.StrictMode,{children:d.jsx(d3,{})}));
