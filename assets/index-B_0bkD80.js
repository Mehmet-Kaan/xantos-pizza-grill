(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var ad={exports:{}},Jl={};var hv;function F1(){if(hv)return Jl;hv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Jl.Fragment=t,Jl.jsx=i,Jl.jsxs=i,Jl}var fv;function Q1(){return fv||(fv=1,ad.exports=F1()),ad.exports}var m=Q1(),rd={exports:{}},xe={};var dv;function K1(){if(dv)return xe;dv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,U={};function J(D,X,le){this.props=D,this.context=X,this.refs=U,this.updater=le||P}J.prototype.isReactComponent={},J.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function ae(D,X,le){this.props=D,this.context=X,this.refs=U,this.updater=le||P}var ye=ae.prototype=new ne;ye.constructor=ae,q(ye,J.prototype),ye.isPureReactComponent=!0;var se=Array.isArray;function ge(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(D,X,le){var fe=le.ref;return{$$typeof:a,type:D,key:X,ref:fe!==void 0?fe:null,props:le}}function M(D,X){return C(D.type,X,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function k(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return X[le]})}var x=/\/+/g;function be(D,X){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):X.toString(36)}function oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ge,ge):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Q(D,X,le,fe,Se){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ue=!1;if(D===null)Ue=!0;else switch(De){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(D.$$typeof){case a:case t:Ue=!0;break;case T:return Ue=D._init,Q(Ue(D._payload),X,le,fe,Se)}}if(Ue)return Se=Se(D),Ue=fe===""?"."+be(D,0):fe,se(Se)?(le="",Ue!=null&&(le=Ue.replace(x,"$&/")+"/"),Q(Se,X,le,"",function($a){return $a})):Se!=null&&(I(Se)&&(Se=M(Se,le+(Se.key==null||D&&D.key===Se.key?"":(""+Se.key).replace(x,"$&/")+"/")+Ue)),X.push(Se)),1;Ue=0;var jt=fe===""?".":fe+":";if(se(D))for(var rt=0;rt<D.length;rt++)fe=D[rt],De=jt+be(fe,rt),Ue+=Q(fe,X,le,De,Se);else if(rt=O(D),typeof rt=="function")for(D=rt.call(D),rt=0;!(fe=D.next()).done;)fe=fe.value,De=jt+be(fe,rt++),Ue+=Q(fe,X,le,De,Se);else if(De==="object"){if(typeof D.then=="function")return Q(oe(D),X,le,fe,Se);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function re(D,X,le){if(D==null)return D;var fe=[],Se=0;return Q(D,fe,"","",function(De){return X.call(le,De,Se++)}),fe}function de(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var Re=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},$={map:re,forEach:function(D,X,le){re(D,function(){X.apply(this,arguments)},le)},count:function(D){var X=0;return re(D,function(){X++}),X},toArray:function(D){return re(D,function(X){return X})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return xe.Activity=S,xe.Children=$,xe.Component=J,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=ae,xe.StrictMode=s,xe.Suspense=v,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(D,X,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var fe=q({},D.props),Se=D.key;if(X!=null)for(De in X.key!==void 0&&(Se=""+X.key),X)!w.call(X,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&X.ref===void 0||(fe[De]=X[De]);var De=arguments.length-2;if(De===1)fe.children=le;else if(1<De){for(var Ue=Array(De),jt=0;jt<De;jt++)Ue[jt]=arguments[jt+2];fe.children=Ue}return C(D.type,Se,fe)},xe.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},xe.createElement=function(D,X,le){var fe,Se={},De=null;if(X!=null)for(fe in X.key!==void 0&&(De=""+X.key),X)w.call(X,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=X[fe]);var Ue=arguments.length-2;if(Ue===1)Se.children=le;else if(1<Ue){for(var jt=Array(Ue),rt=0;rt<Ue;rt++)jt[rt]=arguments[rt+2];Se.children=jt}if(D&&D.defaultProps)for(fe in Ue=D.defaultProps,Ue)Se[fe]===void 0&&(Se[fe]=Ue[fe]);return C(D,De,Se)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:p,render:D}},xe.isValidElement=I,xe.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:de}},xe.memo=function(D,X){return{$$typeof:y,type:D,compare:X===void 0?null:X}},xe.startTransition=function(D){var X=N.T,le={};N.T=le;try{var fe=D(),Se=N.S;Se!==null&&Se(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ge,Re)}catch(De){Re(De)}finally{X!==null&&le.types!==null&&(X.types=le.types),N.T=X}},xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},xe.use=function(D){return N.H.use(D)},xe.useActionState=function(D,X,le){return N.H.useActionState(D,X,le)},xe.useCallback=function(D,X){return N.H.useCallback(D,X)},xe.useContext=function(D){return N.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,X){return N.H.useDeferredValue(D,X)},xe.useEffect=function(D,X){return N.H.useEffect(D,X)},xe.useEffectEvent=function(D){return N.H.useEffectEvent(D)},xe.useId=function(){return N.H.useId()},xe.useImperativeHandle=function(D,X,le){return N.H.useImperativeHandle(D,X,le)},xe.useInsertionEffect=function(D,X){return N.H.useInsertionEffect(D,X)},xe.useLayoutEffect=function(D,X){return N.H.useLayoutEffect(D,X)},xe.useMemo=function(D,X){return N.H.useMemo(D,X)},xe.useOptimistic=function(D,X){return N.H.useOptimistic(D,X)},xe.useReducer=function(D,X,le){return N.H.useReducer(D,X,le)},xe.useRef=function(D){return N.H.useRef(D)},xe.useState=function(D){return N.H.useState(D)},xe.useSyncExternalStore=function(D,X,le){return N.H.useSyncExternalStore(D,X,le)},xe.useTransition=function(){return N.H.useTransition()},xe.version="19.2.0",xe}var mv;function Kd(){return mv||(mv=1,rd.exports=K1()),rd.exports}var L=Kd(),sd={exports:{}},Wl={},ld={exports:{}},od={};var gv;function Y1(){return gv||(gv=1,(function(a){function t(Q,re){var de=Q.length;Q.push(re);e:for(;0<de;){var Re=de-1>>>1,$=Q[Re];if(0<o($,re))Q[Re]=re,Q[de]=$,de=Re;else break e}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var re=Q[0],de=Q.pop();if(de!==re){Q[0]=de;e:for(var Re=0,$=Q.length,D=$>>>1;Re<D;){var X=2*(Re+1)-1,le=Q[X],fe=X+1,Se=Q[fe];if(0>o(le,de))fe<$&&0>o(Se,le)?(Q[Re]=Se,Q[fe]=de,Re=fe):(Q[Re]=le,Q[X]=de,Re=X);else if(fe<$&&0>o(Se,de))Q[Re]=Se,Q[fe]=de,Re=fe;else break e}}return re}function o(Q,re){var de=Q.sortIndex-re.sortIndex;return de!==0?de:Q.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],y=[],T=1,S=null,R=3,O=!1,P=!1,q=!1,U=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ye(Q){for(var re=i(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=Q)s(y),re.sortIndex=re.expirationTime,t(v,re);else break;re=i(y)}}function se(Q){if(q=!1,ye(Q),!P)if(i(v)!==null)P=!0,ge||(ge=!0,k());else{var re=i(y);re!==null&&oe(se,re.startTime-Q)}}var ge=!1,N=-1,w=5,C=-1;function M(){return U?!0:!(a.unstable_now()-C<w)}function I(){if(U=!1,ge){var Q=a.unstable_now();C=Q;var re=!0;try{e:{P=!1,q&&(q=!1,ne(N),N=-1),O=!0;var de=R;try{t:{for(ye(Q),S=i(v);S!==null&&!(S.expirationTime>Q&&M());){var Re=S.callback;if(typeof Re=="function"){S.callback=null,R=S.priorityLevel;var $=Re(S.expirationTime<=Q);if(Q=a.unstable_now(),typeof $=="function"){S.callback=$,ye(Q),re=!0;break t}S===i(v)&&s(v),ye(Q)}else s(v);S=i(v)}if(S!==null)re=!0;else{var D=i(y);D!==null&&oe(se,D.startTime-Q),re=!1}}break e}finally{S=null,R=de,O=!1}re=void 0}}finally{re?k():ge=!1}}}var k;if(typeof ae=="function")k=function(){ae(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,be=x.port2;x.port1.onmessage=I,k=function(){be.postMessage(null)}}else k=function(){J(I,0)};function oe(Q,re){N=J(function(){Q(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(Q){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var de=R;R=re;try{return Q()}finally{R=de}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=R;R=Q;try{return re()}finally{R=de}},a.unstable_scheduleCallback=function(Q,re,de){var Re=a.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Re+de:Re):de=Re,Q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=de+$,Q={id:T++,callback:re,priorityLevel:Q,startTime:de,expirationTime:$,sortIndex:-1},de>Re?(Q.sortIndex=de,t(y,Q),i(v)===null&&Q===i(y)&&(q?(ne(N),N=-1):q=!0,oe(se,de-Re))):(Q.sortIndex=$,t(v,Q),P||O||(P=!0,ge||(ge=!0,k()))),Q},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(Q){var re=R;return function(){var de=R;R=re;try{return Q.apply(this,arguments)}finally{R=de}}}})(od)),od}var pv;function X1(){return pv||(pv=1,ld.exports=Y1()),ld.exports}var ud={exports:{}},Yt={};var yv;function $1(){if(yv)return Yt;yv=1;var a=Kd();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,T)},Yt.flushSync=function(v){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=y,s.p=T,s.d.f()}},Yt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Yt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Yt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:O}):T==="script"&&s.d.X(v,{crossOrigin:S,integrity:R,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Yt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);s.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Yt.requestFormReset=function(v){s.d.r(v)},Yt.unstable_batchedUpdates=function(v,y){return v(y)},Yt.useFormState=function(v,y,T){return d.H.useFormState(v,y,T)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.0",Yt}var vv;function Z1(){if(vv)return ud.exports;vv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ud.exports=$1(),ud.exports}var _v;function J1(){if(_v)return Wl;_v=1;var a=X1(),t=Kd(),i=Z1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var _=!1,b=h.child;b;){if(b===r){_=!0,r=h,l=f;break}if(b===l){_=!0,l=h,r=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===r){_=!0,r=f,l=h;break}if(b===l){_=!0,l=f,r=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case J:return"Profiler";case U:return"StrictMode";case se:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case ae:return e.displayName||"Context";case ne:return(e._context.displayName||"Context")+".Consumer";case ye:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:be(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return be(e(n))}catch{}}return null}var oe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Re=[],$=-1;function D(e){return{current:e}}function X(e){0>$||(e.current=Re[$],Re[$]=null,$--)}function le(e,n){$++,Re[$]=e.current,e.current=n}var fe=D(null),Se=D(null),De=D(null),Ue=D(null);function jt(e,n){switch(le(De,n),le(Se,e),le(fe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?My(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=My(n),e=Oy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(fe),le(fe,e)}function rt(){X(fe),X(Se),X(De)}function $a(e){e.memoizedState!==null&&le(Ue,e);var n=fe.current,r=Oy(n,e.type);n!==r&&(le(Se,e),le(fe,r))}function Or(e){Se.current===e&&(X(fe),X(Se)),Ue.current===e&&(X(Ue),Yl._currentValue=de)}var kr,Lr;function Wn(e){if(kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",Lr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+e+Lr}var Ys=!1;function Za(e,n){if(!e||Ys)return"";Ys=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var F=Y}Reflect.construct(e,[],te)}else{try{te.call()}catch(Y){F=Y}e.call(te.prototype)}}else{try{throw Error()}catch(Y){F=Y}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var j=_.split(`
`),G=b.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===G.length)for(l=j.length-1,h=G.length-1;1<=l&&0<=h&&j[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==G[h]){var Z=`
`+j[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ys=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function Xs(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return Za(e.type,!1);case 11:return Za(e.type.render,!1);case 1:return Za(e.type,!0);case 31:return Wn("Activity");default:return""}}function $s(e){try{var n="",r=null;do n+=Xs(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,It=a.unstable_scheduleCallback,ia=a.unstable_cancelCallback,rh=a.unstable_shouldYield,Io=a.unstable_requestPaint,Jt=a.unstable_now,Ja=a.unstable_getCurrentPriorityLevel,Zs=a.unstable_ImmediatePriority,Js=a.unstable_UserBlockingPriority,aa=a.unstable_NormalPriority,sh=a.unstable_LowPriority,Vo=a.unstable_IdlePriority,Mo=a.log,Oo=a.unstable_setDisableYieldValue,zn=null,Ut=null;function Sn(e){if(typeof Mo=="function"&&Oo(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(zn,e)}catch{}}var ft=Math.clz32?Math.clz32:Lo,ko=Math.log,zr=Math.LN2;function Lo(e){return e>>>=0,e===0?32:31-(ko(e)/zr|0)|0}var ei=256,Wa=262144,Et=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ti(l):(_&=b,_!==0?h=ti(_):r||(r=b&~e,r!==0&&(h=ti(r))))):(b=l&~f,b!==0?h=ti(b):_!==0?h=ti(_):r||(r=l&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var e=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oh(e,n,r,l,h,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,j=e.expirationTimes,G=e.hiddenUpdates;for(r=_&~r;0<r;){var Z=31-ft(r),te=1<<Z;b[Z]=0,j[Z]=-1;var F=G[Z];if(F!==null)for(G[Z]=null,Z=0;Z<F.length;Z++){var Y=F[Z];Y!==null&&(Y.lane&=-536870913)}r&=~te}l!==0&&tr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function tr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ft(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Ws(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-ft(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function el(e,n){var r=n&-n;return r=(r&42)!==0?1:nr(r),(r&(e.suspendedLanes|n))!==0?0:r}function nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uo(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:av(e.type))}function Pn(e,n){var r=re.p;try{return re.p=e,n()}finally{re.p=r}}var Bn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Bn,Ot="__reactProps$"+Bn,ai="__reactContainer$"+Bn,Ur="__reactEvents$"+Bn,uh="__reactListeners$"+Bn,Po="__reactHandles$"+Bn,Bo="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Pr(e){delete e[Tt],delete e[Ot],delete e[Ur],delete e[uh],delete e[Po]}function si(e){var n=e[Tt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ai]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=qy(e);e!==null;){if(r=e[Tt])return r;e=qy(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[Tt]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function li(e){var n=e[Bo];return n||(n=e[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(e){e[ri]=!0}var tl=new Set,nl={};function oi(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(nl[e]=n,e=0;e<n.length;e++)tl.add(n[e])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},rl={};function qo(e){return _t.call(rl,e)?!0:_t.call(al,e)?!1:il.test(e)?rl[e]=!0:(al[e]=!0,!1)}function Br(e,n,r){if(qo(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function bt(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ra(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ke(e){if(!e._valueTracker){var n=ra(e)?"checked":"value";e._valueTracker=sl(e,n,""+e[n])}}function ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=ra(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ar=/[\n"\\]/g;function nn(e){return e.replace(ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qr(e,n,r,l,h,f,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+kt(n)):e.value!==""+kt(n)&&(e.value=""+kt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?ll(e,_,kt(n)):r!=null?ll(e,_,kt(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+kt(b):e.removeAttribute("name")}function Ho(e,n,r,l,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(e);return}r=r!=null?""+kt(r):"",n=n!=null?""+kt(n):r,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ke(e)}function ll(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sa(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+kt(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Go(e,n,r){if(n!=null&&(n=""+kt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+kt(r):""}function la(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=kt(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Ke(e)}function an(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Fo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||Fo.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function ul(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&ol(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ol(e,f,n[f])}function Hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(e){return oa.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var cl=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,hi=null;function rr(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[Ot]||null;e:switch(e=n.stateNode,n.type){case"input":if(qr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Ot]||null;if(!h)throw Error(s(90));qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&ir(l)}break e;case"textarea":Go(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&sa(e,!!r.multiple,n,!1)}}}var Fr=!1;function ca(e,n,r){if(Fr)return e(n,r);Fr=!0;try{var l=e(n);return l}finally{if(Fr=!1,(ua!==null||hi!==null)&&(Uu(),ua&&(n=ua,e=hi,hi=ua=null,rr(n),e)))for(n=0;n<e.length;n++)rr(e[n])}}function Hn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Ot]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(xn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){sr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{sr=!1}var fi=null,hl=null,lr=null;function fl(){if(lr)return lr;var e,n=hl,r=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var _=r-e;for(l=1;l<=_&&n[r-l]===h[f-l];l++);return lr=h.slice(e,1<l?1-l:void 0)}function or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Gn(){return!1}function Pt(e){function n(r,l,h,f,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Pt(ji),ha=S({},ji,{view:0,detail:0}),dl=Pt(ha),fa,Qr,mi,Kr=S({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(fa=e.screenX-mi.screenX,Qr=e.screenY-mi.screenY):Qr=fa=0,mi=e),fa)},movementY:function(e){return"movementY"in e?e.movementY:Qr}}),ml=Pt(Kr),ur=S({},Kr,{dataTransfer:0}),Ko=Pt(ur),Yo=S({},ha,{relatedTarget:0}),cr=Pt(Yo),gl=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=Pt(gl),Yr=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$o=Pt(Yr),Zo=S({},ji,{data:0}),gi=Pt(Zo),Jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=eu[e])?!!n[e]:!1}function da(){return tu}var Wt=S({},ha,{key:function(e){if(e.key){var n=Jo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nu=Pt(Wt),iu=S({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=Pt(iu),u=S({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),g=Pt(u),E=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Pt(E),B=S({},Kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Pt(B),ue=S({},ji,{newState:0,oldState:0}),Ne=Pt(ue),dt=[9,13,27,32],Ge=xn&&"CompositionEvent"in window,st=null;xn&&"documentMode"in document&&(st=document.documentMode);var wn=xn&&"TextEvent"in window&&!st,pi=xn&&(!Ge||st&&8<st&&11>=st),Fn=" ",Qn=!1;function hr(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function gT(e,n){switch(e){case"compositionend":return Xr(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function pT(e,n){if($r)return e==="compositionend"||!Ge&&hr(e,n)?(e=fl(),lr=hl=fi=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!yT[e.type]:n==="textarea"}function Qm(e,n,r,l){ua?hi?hi.push(l):hi=[l]:ua=l,n=Qu(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var pl=null,yl=null;function vT(e){Ny(e,0)}function au(e){var n=fn(e);if(ir(n))return e}function Km(e,n){if(e==="change")return n}var Ym=!1;if(xn){var ch;if(xn){var hh="oninput"in document;if(!hh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),hh=typeof Xm.oninput=="function"}ch=hh}else ch=!1;Ym=ch&&(!document.documentMode||9<document.documentMode)}function $m(){pl&&(pl.detachEvent("onpropertychange",Zm),yl=pl=null)}function Zm(e){if(e.propertyName==="value"&&au(yl)){var n=[];Qm(n,yl,e,An(e)),ca(vT,n)}}function _T(e,n,r){e==="focusin"?($m(),pl=n,yl=r,pl.attachEvent("onpropertychange",Zm)):e==="focusout"&&$m()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(yl)}function TT(e,n){if(e==="click")return au(n)}function ST(e,n){if(e==="input"||e==="change")return au(n)}function bT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:bT;function vl(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_t.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,n){var r=Jm(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jm(r)}}function eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var AT=xn&&"documentMode"in document&&11>=document.documentMode,Zr=null,dh=null,_l=null,mh=!1;function ng(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mh||Zr==null||Zr!==ci(l)||(l=Zr,"selectionStart"in l&&fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=Qu(dh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Zr)))}function fr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Jr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},gh={},ig={};xn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function dr(e){if(gh[e])return gh[e];if(!Jr[e])return e;var n=Jr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ig)return gh[e]=n[r];return e}var ag=dr("animationend"),rg=dr("animationiteration"),sg=dr("animationstart"),xT=dr("transitionrun"),wT=dr("transitionstart"),RT=dr("transitioncancel"),lg=dr("transitionend"),og=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Kn(e,n){og.set(e,n),oi(n,[e])}var ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],Wr=0,yh=0;function su(){for(var e=Wr,n=yh=Wr=0;n<e;){var r=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&ug(r,h,f)}}function lu(e,n,r,l){Rn[Wr++]=e,Rn[Wr++]=n,Rn[Wr++]=r,Rn[Wr++]=l,yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vh(e,n,r,l){return lu(e,n,r,l),ou(e)}function mr(e,n){return lu(e,null,null,n),ou(e)}function ug(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ft(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function ou(e){if(50<Bl)throw Bl=0,Nf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var es={};function NT(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,r,l){return new NT(e,n,r,l)}function _h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=gn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function cg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function uu(e,n,r,l,h,f){var _=0;if(l=e,typeof e=="function")_h(e)&&(_=1);else if(typeof e=="string")_=V1(e,r,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case C:return e=gn(31,r,n,h),e.elementType=C,e.lanes=f,e;case q:return gr(r.children,h,f,n);case U:_=8,h|=24;break;case J:return e=gn(12,r,n,h|2),e.elementType=J,e.lanes=f,e;case se:return e=gn(13,r,n,h),e.elementType=se,e.lanes=f,e;case ge:return e=gn(19,r,n,h),e.elementType=ge,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:_=10;break e;case ne:_=9;break e;case ye:_=11;break e;case N:_=14;break e;case w:_=16,l=null;break e}_=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=gn(_,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function gr(e,n,r,l){return e=gn(7,e,l,n),e.lanes=r,e}function Eh(e,n,r){return e=gn(6,e,null,n),e.lanes=r,e}function hg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Th(e,n,r){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var fg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var r=fg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:$s(n)},fg.set(e,n),n)}return{value:e,source:n,stack:$s(n)}}var ts=[],ns=0,cu=null,El=0,Cn=[],Dn=0,ma=null,yi=1,vi="";function Mi(e,n){ts[ns++]=El,ts[ns++]=cu,cu=e,El=n}function dg(e,n,r){Cn[Dn++]=yi,Cn[Dn++]=vi,Cn[Dn++]=ma,ma=e;var l=yi;e=vi;var h=32-ft(l)-1;l&=~(1<<h),r+=1;var f=32-ft(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,yi=1<<32-ft(n)+h|r<<h|l,vi=f+e}else yi=1<<f|r<<h|l,vi=e}function Sh(e){e.return!==null&&(Mi(e,1),dg(e,1,0))}function bh(e){for(;e===cu;)cu=ts[--ns],ts[ns]=null,El=ts[--ns],ts[ns]=null;for(;e===ma;)ma=Cn[--Dn],Cn[Dn]=null,vi=Cn[--Dn],Cn[Dn]=null,yi=Cn[--Dn],Cn[Dn]=null}function mg(e,n){Cn[Dn++]=yi,Cn[Dn++]=vi,Cn[Dn++]=ma,yi=n.id,vi=n.overflow,ma=e}var Bt=null,it=null,ze=!1,ga=null,jn=!1,Ah=Error(s(519));function pa(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(Nn(n,e)),Ah}function gg(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Tt]=e,n[Ot]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<Hl.length;r++)Ve(Hl[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),Ho(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),la(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Iy(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||pa(e,!0)}function pg(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Bt=Bt.return}}function is(e){if(e!==Bt)return!1;if(!ze)return pg(e),ze=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Hf(e.type,e.memoizedProps)),r=!r),r&&it&&pa(e),pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=By(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=By(e)}else n===27?(n=it,Da(e.type)?(e=Yf,Yf=null,it=e):it=n):it=Bt?Vn(e.stateNode.nextSibling):null;return!0}function pr(){it=Bt=null,ze=!1}function xh(){var e=ga;return e!==null&&(on===null?on=e:on.push.apply(on,e),ga=null),e}function Tl(e){ga===null?ga=[e]:ga.push(e)}var wh=D(null),yr=null,Oi=null;function ya(e,n,r){le(wh,n._currentValue),n._currentValue=r}function ki(e){e._currentValue=wh.current,X(wh)}function Rh(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Nh(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var j=0;j<n.length;j++)if(b.context===n[j]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),Rh(f.return,r,e),l||(_=null);break e}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Rh(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function as(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;mn(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}h=h.return}e!==null&&Nh(n,e,r,l),n.flags|=262144}function hu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vr(e){yr=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return yg(yr,e)}function fu(e,n){return yr===null&&vr(e),yg(e,n)}function yg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Oi=Oi.next=n;return r}var CT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},DT=a.unstable_scheduleCallback,jT=a.unstable_NormalPriority,At={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new CT,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&DT(jT,function(){e.controller.abort()})}var bl=null,Dh=0,rs=0,ss=null;function IT(e,n){if(bl===null){var r=bl=[];Dh=0,rs=Mf(),ss={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Dh++,n.then(vg,vg),n}function vg(){if(--Dh===0&&bl!==null){ss!==null&&(ss.status="fulfilled");var e=bl;bl=null,rs=0,ss=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function VT(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var _g=Q.S;Q.S=function(e,n){ny=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IT(e,n),_g!==null&&_g(e,n)};var _r=D(null);function jh(){var e=_r.current;return e!==null?e:et.pooledCache}function du(e,n){n===null?le(_r,_r.current):le(_r,n.pool)}function Eg(){var e=jh();return e===null?null:{parent:At._currentValue,pool:e}}var ls=Error(s(460)),Ih=Error(s(474)),mu=Error(s(542)),gu={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(qn,qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ag(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ag(e),e}throw Tr=n,ls}}function Er(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Tr=r,ls):r}}var Tr=null;function bg(){if(Tr===null)throw Error(s(459));var e=Tr;return Tr=null,e}function Ag(e){if(e===ls||e===mu)throw Error(s(483))}var os=null,Al=0;function pu(e){var n=Al;return Al+=1,os===null&&(os=[]),Sg(os,e,n)}function xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function yu(e,n){throw n.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function xg(e){function n(z,V){if(e){var H=z.deletions;H===null?(z.deletions=[V],z.flags|=16):H.push(V)}}function r(z,V){if(!e)return null;for(;V!==null;)n(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=Vi(z,V),z.index=0,z.sibling=null,z}function f(z,V,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<V?(z.flags|=67108866,V):H):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function _(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function b(z,V,H,W){return V===null||V.tag!==6?(V=Eh(H,z.mode,W),V.return=z,V):(V=h(V,H),V.return=z,V)}function j(z,V,H,W){var ve=H.type;return ve===q?Z(z,V,H.props.children,W,H.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&Er(ve)===V.type)?(V=h(V,H.props),xl(V,H),V.return=z,V):(V=uu(H.type,H.key,H.props,null,z.mode,W),xl(V,H),V.return=z,V)}function G(z,V,H,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Th(H,z.mode,W),V.return=z,V):(V=h(V,H.children||[]),V.return=z,V)}function Z(z,V,H,W,ve){return V===null||V.tag!==7?(V=gr(H,z.mode,W,ve),V.return=z,V):(V=h(V,H),V.return=z,V)}function te(z,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Eh(""+V,z.mode,H),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return H=uu(V.type,V.key,V.props,null,z.mode,H),xl(H,V),H.return=z,H;case P:return V=Th(V,z.mode,H),V.return=z,V;case w:return V=Er(V),te(z,V,H)}if(oe(V)||k(V))return V=gr(V,z.mode,H,null),V.return=z,V;if(typeof V.then=="function")return te(z,pu(V),H);if(V.$$typeof===ae)return te(z,fu(z,V),H);yu(z,V)}return null}function F(z,V,H,W){var ve=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:b(z,V,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===ve?j(z,V,H,W):null;case P:return H.key===ve?G(z,V,H,W):null;case w:return H=Er(H),F(z,V,H,W)}if(oe(H)||k(H))return ve!==null?null:Z(z,V,H,W,null);if(typeof H.then=="function")return F(z,V,pu(H),W);if(H.$$typeof===ae)return F(z,V,fu(z,H),W);yu(z,H)}return null}function Y(z,V,H,W,ve){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,b(V,z,""+W,ve);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return z=z.get(W.key===null?H:W.key)||null,j(V,z,W,ve);case P:return z=z.get(W.key===null?H:W.key)||null,G(V,z,W,ve);case w:return W=Er(W),Y(z,V,H,W,ve)}if(oe(W)||k(W))return z=z.get(H)||null,Z(V,z,W,ve,null);if(typeof W.then=="function")return Y(z,V,H,pu(W),ve);if(W.$$typeof===ae)return Y(z,V,H,fu(V,W),ve);yu(V,W)}return null}function me(z,V,H,W){for(var ve=null,qe=null,pe=V,je=V=0,Oe=null;pe!==null&&je<H.length;je++){pe.index>je?(Oe=pe,pe=null):Oe=pe.sibling;var He=F(z,pe,H[je],W);if(He===null){pe===null&&(pe=Oe);break}e&&pe&&He.alternate===null&&n(z,pe),V=f(He,V,je),qe===null?ve=He:qe.sibling=He,qe=He,pe=Oe}if(je===H.length)return r(z,pe),ze&&Mi(z,je),ve;if(pe===null){for(;je<H.length;je++)pe=te(z,H[je],W),pe!==null&&(V=f(pe,V,je),qe===null?ve=pe:qe.sibling=pe,qe=pe);return ze&&Mi(z,je),ve}for(pe=l(pe);je<H.length;je++)Oe=Y(pe,z,je,H[je],W),Oe!==null&&(e&&Oe.alternate!==null&&pe.delete(Oe.key===null?je:Oe.key),V=f(Oe,V,je),qe===null?ve=Oe:qe.sibling=Oe,qe=Oe);return e&&pe.forEach(function(Oa){return n(z,Oa)}),ze&&Mi(z,je),ve}function Ee(z,V,H,W){if(H==null)throw Error(s(151));for(var ve=null,qe=null,pe=V,je=V=0,Oe=null,He=H.next();pe!==null&&!He.done;je++,He=H.next()){pe.index>je?(Oe=pe,pe=null):Oe=pe.sibling;var Oa=F(z,pe,He.value,W);if(Oa===null){pe===null&&(pe=Oe);break}e&&pe&&Oa.alternate===null&&n(z,pe),V=f(Oa,V,je),qe===null?ve=Oa:qe.sibling=Oa,qe=Oa,pe=Oe}if(He.done)return r(z,pe),ze&&Mi(z,je),ve;if(pe===null){for(;!He.done;je++,He=H.next())He=te(z,He.value,W),He!==null&&(V=f(He,V,je),qe===null?ve=He:qe.sibling=He,qe=He);return ze&&Mi(z,je),ve}for(pe=l(pe);!He.done;je++,He=H.next())He=Y(pe,z,je,He.value,W),He!==null&&(e&&He.alternate!==null&&pe.delete(He.key===null?je:He.key),V=f(He,V,je),qe===null?ve=He:qe.sibling=He,qe=He);return e&&pe.forEach(function(G1){return n(z,G1)}),ze&&Mi(z,je),ve}function We(z,V,H,W){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var ve=H.key;V!==null;){if(V.key===ve){if(ve=H.type,ve===q){if(V.tag===7){r(z,V.sibling),W=h(V,H.props.children),W.return=z,z=W;break e}}else if(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&Er(ve)===V.type){r(z,V.sibling),W=h(V,H.props),xl(W,H),W.return=z,z=W;break e}r(z,V);break}else n(z,V);V=V.sibling}H.type===q?(W=gr(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=uu(H.type,H.key,H.props,null,z.mode,W),xl(W,H),W.return=z,z=W)}return _(z);case P:e:{for(ve=H.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){r(z,V.sibling),W=h(V,H.children||[]),W.return=z,z=W;break e}else{r(z,V);break}else n(z,V);V=V.sibling}W=Th(H,z.mode,W),W.return=z,z=W}return _(z);case w:return H=Er(H),We(z,V,H,W)}if(oe(H))return me(z,V,H,W);if(k(H)){if(ve=k(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Ee(z,V,H,W)}if(typeof H.then=="function")return We(z,V,pu(H),W);if(H.$$typeof===ae)return We(z,V,fu(z,H),W);yu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(r(z,V.sibling),W=h(V,H),W.return=z,z=W):(r(z,V),W=Eh(H,z.mode,W),W.return=z,z=W),_(z)):r(z,V)}return function(z,V,H,W){try{Al=0;var ve=We(z,V,H,W);return os=null,ve}catch(pe){if(pe===ls||pe===mu)throw pe;var qe=gn(29,pe,null,z.mode);return qe.lanes=W,qe.return=z,qe}finally{}}}var Sr=xg(!0),wg=xg(!1),va=!1;function Vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ea(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ou(e),ug(e,null,r),n}return lu(e,l,n,r),ou(e)}function wl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Ws(e,r)}}function Oh(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var kh=!1;function Rl(){if(kh){var e=ss;if(e!==null)throw e}}function Nl(e,n,r,l){kh=!1;var h=e.updateQueue;va=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var j=b,G=j.next;j.next=null,_===null?f=G:_.next=G,_=j;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=j))}if(f!==null){var te=h.baseState;_=0,Z=G=j=null,b=f;do{var F=b.lane&-536870913,Y=F!==b.lane;if(Y?(Me&F)===F:(l&F)===F){F!==0&&F===rs&&(kh=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=e,Ee=b;F=n;var We=r;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){te=me.call(We,te,F);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,F=typeof me=="function"?me.call(We,te,F):me,F==null)break e;te=S({},te,F);break e;case 2:va=!0}}F=b.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=Y,j=te):Z=Z.next=Y,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(j=te),h.baseState=j,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),xa|=_,e.lanes=_,e.memoizedState=te}}function Rg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ng(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Rg(r[e],n)}var us=D(null),vu=D(0);function Cg(e,n){e=Fi,le(vu,e),le(us,n),Fi=e|n.baseLanes}function Lh(){le(vu,Fi),le(us,us.current)}function zh(){Fi=vu.current,X(us),X(vu)}var pn=D(null),In=null;function Ta(e){var n=e.alternate;le(mt,mt.current&1),le(pn,e),In===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(In=e)}function Uh(e){le(mt,mt.current),le(pn,e),In===null&&(In=e)}function Dg(e){e.tag===22?(le(mt,mt.current),le(pn,e),In===null&&(In=e)):Sa()}function Sa(){le(mt,mt.current),le(pn,pn.current)}function yn(e){X(pn),In===e&&(In=null),X(mt)}var mt=D(0);function _u(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qf(r)||Kf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Ce=null,Ze=null,xt=null,Eu=!1,cs=!1,br=!1,Tu=0,Cl=0,hs=null,MT=0;function ct(){throw Error(s(321))}function Ph(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function Bh(e,n,r,l,h,f){return Li=f,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?dp:nf,br=!1,f=r(l,h),br=!1,cs&&(f=Ig(n,r,l,h)),jg(e),f}function jg(e){Q.H=Il;var n=Ze!==null&&Ze.next!==null;if(Li=0,xt=Ze=Ce=null,Eu=!1,Cl=0,hs=null,n)throw Error(s(300));e===null||wt||(e=e.dependencies,e!==null&&hu(e)&&(wt=!0))}function Ig(e,n,r,l){Ce=e;var h=0;do{if(cs&&(hs=null),Cl=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,xt=Ze=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=mp,f=n(r,l)}while(cs);return f}function OT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Dl(n):n,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ce.flags|=1024),n}function qh(){var e=Tu!==0;return Tu=0,e}function Hh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Gh(e){if(Eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Eu=!1}Li=0,xt=Ze=Ce=null,cs=!1,Cl=Tu=0,hs=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ce.memoizedState=xt=e:xt=xt.next=e,xt}function gt(){if(Ze===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=xt===null?Ce.memoizedState:xt.next;if(n!==null)xt=n,Ze=e;else{if(e===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xt===null?Ce.memoizedState=xt=e:xt=xt.next=e}return xt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(e){var n=Cl;return Cl+=1,hs===null&&(hs=[]),e=Sg(hs,e,n),n=Ce,(xt===null?n.memoizedState:xt.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?dp:nf),e}function bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dl(e);if(e.$$typeof===ae)return qt(e)}throw Error(s(438,String(e)))}function Fh(e){var n=null,r=Ce.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Su(),Ce.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=M;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function Au(e){var n=gt();return Qh(n,Ze,e)}function Qh(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var b=_=null,j=null,G=n,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Me&te)===te:(Li&te)===te){var F=G.revertLane;if(F===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===rs&&(Z=!0);else if((Li&F)===F){G=G.next,F===rs&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(b=j=te,_=f):j=j.next=te,Ce.lanes|=F,xa|=F;te=G.action,br&&r(f,te),f=G.hasEagerState?G.eagerState:r(f,te)}else F={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(b=j=F,_=f):j=j.next=F,Ce.lanes|=te,xa|=te;G=G.next}while(G!==null&&G!==n);if(j===null?_=f:j.next=b,!mn(f,e.memoizedState)&&(wt=!0,Z&&(r=ss,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=j,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kh(e){var n=gt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);mn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Vg(e,n,r){var l=Ce,h=gt(),f=ze;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!mn((Ze||h).memoizedState,r);if(_&&(h.memoizedState=r,wt=!0),h=h.queue,$h(kg.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,fs(9,{destroy:void 0},Og.bind(null,l,h,r,n),null),et===null)throw Error(s(349));f||(Li&127)!==0||Mg(l,n,r)}return r}function Mg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ce.updateQueue,n===null?(n=Su(),Ce.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Og(e,n,r,l){n.value=r,n.getSnapshot=l,Lg(n)&&zg(e)}function kg(e,n,r){return r(function(){Lg(n)&&zg(e)})}function Lg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function zg(e){var n=mr(e,2);n!==null&&un(n,e,2)}function Yh(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),br){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function Ug(e,n,r,l){return e.baseState=r,Qh(e,Ze,typeof l=="function"?l:zi)}function kT(e,n,r,l,h){if(Ru(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Pg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Pg(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=Q.T,_={};Q.T=_;try{var b=r(h,l),j=Q.S;j!==null&&j(_,b),Bg(e,n,b)}catch(G){Xh(e,n,G)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=r(h,l),Bg(e,n,f)}catch(G){Xh(e,n,G)}}function Bg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){qg(e,n,l)},function(l){return Xh(e,n,l)}):qg(e,n,r)}function qg(e,n,r){n.status="fulfilled",n.value=r,Hg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Pg(e,r)))}function Xh(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Hg(n),n=n.next;while(n!==l)}e.action=null}function Hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gg(e,n){return n}function Fg(e,n){if(ze){var r=et.formState;if(r!==null){e:{var l=Ce;if(ze){if(it){t:{for(var h=it,f=jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Vn(h.nextSibling),l=h.data==="F!";break e}}pa(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:n},r.queue=l,r=cp.bind(null,Ce,l),l.dispatch=r,l=Yh(!1),f=tf.bind(null,Ce,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=kT.bind(null,Ce,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function Qg(e){var n=gt();return Kg(n,Ze,e)}function Kg(e,n,r){if(n=Qh(e,n,Gg)[0],e=Au(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(_){throw _===ls?mu:_}else l=n;n=gt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ce.flags|=2048,fs(9,{destroy:void 0},LT.bind(null,h,r),null)),[l,f,e]}function LT(e,n){e.action=n}function Yg(e){var n=gt(),r=Ze;if(r!==null)return Kg(n,r,e);gt(),n=n.memoizedState,r=gt();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function fs(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Su(),Ce.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Xg(){return gt().memoizedState}function xu(e,n,r,l){var h=en();Ce.flags|=e,h.memoizedState=fs(1|n,{destroy:void 0},r,l===void 0?null:l)}function wu(e,n,r,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&Ph(l,Ze.memoizedState.deps)?h.memoizedState=fs(n,f,r,l):(Ce.flags|=e,h.memoizedState=fs(1|n,f,r,l))}function $g(e,n){xu(8390656,8,e,n)}function $h(e,n){wu(2048,8,e,n)}function zT(e){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=Su(),Ce.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Zg(e){var n=gt().memoizedState;return zT({ref:n,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Jg(e,n){return wu(4,2,e,n)}function Wg(e,n){return wu(4,4,e,n)}function ep(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tp(e,n,r){r=r!=null?r.concat([e]):null,wu(4,4,ep.bind(null,n,e),r)}function Zh(){}function np(e,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ph(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function ip(e,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ph(n,l[1]))return l[0];if(l=e(),br){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[l,n],l}function Jh(e,n,r){return r===void 0||(Li&1073741824)!==0&&(Me&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=ay(),Ce.lanes|=e,xa|=e,r)}function ap(e,n,r,l){return mn(r,n)?r:us.current!==null?(e=Jh(e,r,l),mn(e,n)||(wt=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Me&261930)===0?(wt=!0,e.memoizedState=r):(e=ay(),Ce.lanes|=e,xa|=e,n)}function rp(e,n,r,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var _=Q.T,b={};Q.T=b,tf(e,!1,n,r);try{var j=h(),G=Q.S;if(G!==null&&G(b,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=VT(j,l);jl(e,n,Z,En(e))}else jl(e,n,l,En(e))}catch(te){jl(e,n,{then:function(){},status:"rejected",reason:te},En())}finally{re.p=f,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function UT(){}function Wh(e,n,r,l){if(e.tag!==5)throw Error(s(476));var h=sp(e).queue;rp(e,h,n,de,r===null?UT:function(){return lp(e),r(l)})}function sp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lp(e){var n=sp(e);n.next===null&&(n=e.alternate.memoizedState),jl(e,n.next.queue,{},En())}function ef(){return qt(Yl)}function op(){return gt().memoizedState}function up(){return gt().memoizedState}function PT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=_a(r);var l=Ea(n,e,r);l!==null&&(un(l,n,r),wl(l,n,r)),n={cache:Ch()},e.payload=n;return}n=n.return}}function BT(e,n,r){var l=En();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ru(e)?hp(n,r):(r=vh(e,n,r,l),r!==null&&(un(r,e,l),fp(r,n,l)))}function cp(e,n,r){var l=En();jl(e,n,r,l)}function jl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ru(e))hp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,b=f(_,r);if(h.hasEagerState=!0,h.eagerState=b,mn(b,_))return lu(e,n,h,0),et===null&&su(),!1}catch{}finally{}if(r=vh(e,n,h,l),r!==null)return un(r,e,l),fp(r,n,l),!0}return!1}function tf(e,n,r,l){if(l={lane:2,revertLane:Mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(e)){if(n)throw Error(s(479))}else n=vh(e,r,l,2),n!==null&&un(n,e,2)}function Ru(e){var n=e.alternate;return e===Ce||n!==null&&n===Ce}function hp(e,n){cs=Eu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function fp(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Ws(e,r)}}var Il={readContext:qt,use:bu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Il.useEffectEvent=ct;var dp={readContext:qt,use:bu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:$g,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,xu(4194308,4,ep.bind(null,n,e),r)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var l=e();if(br){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=en();if(r!==void 0){var h=r(n);if(br){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=BT.bind(null,Ce,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Yh(e);var n=e.queue,r=cp.bind(null,Ce,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Zh,useDeferredValue:function(e,n){var r=en();return Jh(r,e,n)},useTransition:function(){var e=Yh(!1);return e=rp.bind(null,Ce,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Ce,h=en();if(ze){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),et===null)throw Error(s(349));(Me&127)!==0||Mg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,$g(kg.bind(null,l,f,e),[e]),l.flags|=2048,fs(9,{destroy:void 0},Og.bind(null,l,f,r,n),null),r},useId:function(){var e=en(),n=et.identifierPrefix;if(ze){var r=vi,l=yi;r=(l&~(1<<32-ft(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Tu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=MT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ef,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=tf.bind(null,Ce,!0,r),r.dispatch=n,[e,n]},useMemoCache:Fh,useCacheRefresh:function(){return en().memoizedState=PT.bind(null,Ce)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},nf={readContext:qt,use:bu,useCallback:np,useContext:qt,useEffect:$h,useImperativeHandle:tp,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Au,useRef:Xg,useState:function(){return Au(zi)},useDebugValue:Zh,useDeferredValue:function(e,n){var r=gt();return ap(r,Ze.memoizedState,e,n)},useTransition:function(){var e=Au(zi)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:Dl(e),n]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:ef,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,n){var r=gt();return Ug(r,Ze,e,n)},useMemoCache:Fh,useCacheRefresh:up};nf.useEffectEvent=Zg;var mp={readContext:qt,use:bu,useCallback:np,useContext:qt,useEffect:$h,useImperativeHandle:tp,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Kh,useRef:Xg,useState:function(){return Kh(zi)},useDebugValue:Zh,useDeferredValue:function(e,n){var r=gt();return Ze===null?Jh(r,e,n):ap(r,Ze.memoizedState,e,n)},useTransition:function(){var e=Kh(zi)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:Dl(e),n]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:ef,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,n){var r=gt();return Ze!==null?Ug(r,Ze,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:up};mp.useEffectEvent=Zg;function af(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=En(),h=_a(l);h.payload=n,r!=null&&(h.callback=r),n=Ea(e,h,l),n!==null&&(un(n,e,l),wl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=En(),h=_a(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ea(e,h,l),n!==null&&(un(n,e,l),wl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),l=_a(r);l.tag=2,n!=null&&(l.callback=n),n=Ea(e,l,r),n!==null&&(un(n,e,r),wl(n,e,r))}};function gp(e,n,r,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!vl(r,l)||!vl(h,f):!0}function pp(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&rf.enqueueReplaceState(n,n.state,null)}function Ar(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function yp(e){ru(e)}function vp(e){console.error(e)}function _p(e){ru(e)}function Nu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ep(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(e,n,r){return r=_a(r),r.tag=3,r.payload={element:null},r.callback=function(){Nu(e,n)},r}function Tp(e){return e=_a(e),e.tag=3,e}function Sp(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Ep(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Ep(n,r,l),typeof h!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function qT(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&as(n,r,h,!0),r=pn.current,r!==null){switch(r.tag){case 31:case 13:return In===null?Pu():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===gu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),jf(e,l,h)),!1;case 22:return r.flags|=65536,l===gu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),jf(e,l,h)),!1}throw Error(s(435,r.tag))}return jf(e,l,h),Pu(),!1}if(ze)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ah&&(e=Error(s(422),{cause:l}),Tl(Nn(e,r)))):(l!==Ah&&(n=Error(s(423),{cause:l}),Tl(Nn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,r),h=sf(e.stateNode,l,h),Oh(e,h),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:l});if(f=Nn(f,r),Pl===null?Pl=[f]:Pl.push(f),ht!==4&&(ht=2),n===null)return!0;l=Nn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=sf(r.stateNode,l,e),Oh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wa===null||!wa.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Tp(h),Sp(h,e,r,l),Oh(r,h),!1}r=r.return}while(r!==null);return!1}var lf=Error(s(461)),wt=!1;function Ht(e,n,r,l){n.child=e===null?wg(n,null,r,l):Sr(n,e.child,r,l)}function bp(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return vr(n),l=Bh(e,n,r,_,f,h),b=qh(),e!==null&&!wt?(Hh(e,n,h),Ui(e,n,h)):(ze&&b&&Sh(n),n.flags|=1,Ht(e,n,l,h),n.child)}function Ap(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!_h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,xp(e,n,f,l,h)):(e=uu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!gf(e,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:vl,r(_,l)&&e.ref===n.ref)return Ui(e,n,h)}return n.flags|=1,e=Vi(f,l),e.ref=n.ref,e.return=n,n.child=e}function xp(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(vl(f,l)&&e.ref===n.ref)if(wt=!1,n.pendingProps=l=f,gf(e,h))(e.flags&131072)!==0&&(wt=!0);else return n.lanes=e.lanes,Ui(e,n,h)}return of(e,n,r,l,h)}function wp(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Rp(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&du(n,f!==null?f.cachePool:null),f!==null?Cg(n,f):Lh(),Dg(n);else return l=n.lanes=536870912,Rp(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(du(n,f.cachePool),Cg(n,f),Sa(),n.memoizedState=null):(e!==null&&du(n,null),Lh(),Sa());return Ht(e,n,h,r),n.child}function Vl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Rp(e,n,r,l,h){var f=jh();return f=f===null?null:{parent:At._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&du(n,null),Lh(),Dg(n),e!==null&&as(e,n,l,!0),n.childLanes=h,null}function Cu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Np(e,n,r){return Sr(n,e.child,null,r),e=Cu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function HT(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ze){if(l.mode==="hidden")return e=Cu(n,l),n.lanes=536870912,Vl(null,e);if(Uh(n),(e=it)?(e=Py(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ma!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=hg(e),r.return=n,n.child=r,Bt=n,it=null)):e=null,e===null)throw pa(n);return n.lanes=536870912,null}return Cu(n,l)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Uh(n),h)if(n.flags&256)n.flags&=-257,n=Np(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(wt||as(e,n,r,!1),h=(r&e.childLanes)!==0,wt||h){if(l=et,l!==null&&(_=el(l,r),_!==0&&_!==f.retryLane))throw f.retryLane=_,mr(e,_),un(l,e,_),lf;Pu(),n=Np(e,n,r)}else e=f.treeContext,it=Vn(_.nextSibling),Bt=n,ze=!0,ga=null,jn=!1,e!==null&&mg(n,e),n=Cu(n,l),n.flags|=4096;return n}return e=Vi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Du(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function of(e,n,r,l,h){return vr(n),r=Bh(e,n,r,l,void 0,h),l=qh(),e!==null&&!wt?(Hh(e,n,h),Ui(e,n,h)):(ze&&l&&Sh(n),n.flags|=1,Ht(e,n,r,h),n.child)}function Cp(e,n,r,l,h,f){return vr(n),n.updateQueue=null,r=Ig(n,l,r,h),jg(e),l=qh(),e!==null&&!wt?(Hh(e,n,f),Ui(e,n,f)):(ze&&l&&Sh(n),n.flags|=1,Ht(e,n,r,f),n.child)}function Dp(e,n,r,l,h){if(vr(n),n.stateNode===null){var f=es,_=r.contextType;typeof _=="object"&&_!==null&&(f=qt(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Vh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?qt(_):es,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(af(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rf.enqueueReplaceState(f,f.state,null),Nl(n,l,f,h),Rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,j=Ar(r,b);f.props=j;var G=f.context,Z=r.contextType;_=es,typeof Z=="object"&&Z!==null&&(_=qt(Z));var te=r.getDerivedStateFromProps;Z=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||G!==_)&&pp(n,f,l,_),va=!1;var F=n.memoizedState;f.state=F,Nl(n,l,f,h),Rl(),G=n.memoizedState,b||F!==G||va?(typeof te=="function"&&(af(n,r,te,l),G=n.memoizedState),(j=va||gp(n,r,j,l,F,G,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=_,l=j):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Mh(e,n),_=n.memoizedProps,Z=Ar(r,_),f.props=Z,te=n.pendingProps,F=f.context,G=r.contextType,j=es,typeof G=="object"&&G!==null&&(j=qt(G)),b=r.getDerivedStateFromProps,(G=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==te||F!==j)&&pp(n,f,l,j),va=!1,F=n.memoizedState,f.state=F,Nl(n,l,f,h),Rl();var Y=n.memoizedState;_!==te||F!==Y||va||e!==null&&e.dependencies!==null&&hu(e.dependencies)?(typeof b=="function"&&(af(n,r,b,l),Y=n.memoizedState),(Z=va||gp(n,r,Z,l,F,Y,j)||e!==null&&e.dependencies!==null&&hu(e.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,j)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=j,l=Z):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Du(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Sr(n,e.child,null,h),n.child=Sr(n,null,r,h)):Ht(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ui(e,n,h),e}function jp(e,n,r,l){return pr(),n.flags|=256,Ht(e,n,r,l),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(e){return{baseLanes:e,cachePool:Eg()}}function hf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_n),e}function Ip(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(ze){if(h?Ta(n):Sa(),(e=it)?(e=Py(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ma!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=hg(e),r.return=n,n.child=r,Bt=n,it=null)):e=null,e===null)throw pa(n);return Kf(e)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Sa(),h=n.mode,b=ju({mode:"hidden",children:b},h),l=gr(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=cf(r),l.childLanes=hf(e,_,r),n.memoizedState=uf,Vl(null,l)):(Ta(n),ff(n,b))}var j=e.memoizedState;if(j!==null&&(b=j.dehydrated,b!==null)){if(f)n.flags&256?(Ta(n),n.flags&=-257,n=df(e,n,r)):n.memoizedState!==null?(Sa(),n.child=e.child,n.flags|=128,n=null):(Sa(),b=l.fallback,h=n.mode,l=ju({mode:"visible",children:l.children},h),b=gr(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Sr(n,e.child,null,r),l=n.child,l.memoizedState=cf(r),l.childLanes=hf(e,_,r),n.memoizedState=uf,n=Vl(null,l));else if(Ta(n),Kf(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,Tl({value:l,source:null,stack:null}),n=df(e,n,r)}else if(wt||as(e,n,r,!1),_=(r&e.childLanes)!==0,wt||_){if(_=et,_!==null&&(l=el(_,r),l!==0&&l!==j.retryLane))throw j.retryLane=l,mr(e,l),un(_,e,l),lf;Qf(b)||Pu(),n=df(e,n,r)}else Qf(b)?(n.flags|=192,n.child=e.child,n=null):(e=j.treeContext,it=Vn(b.nextSibling),Bt=n,ze=!0,ga=null,jn=!1,e!==null&&mg(n,e),n=ff(n,l.children),n.flags|=4096);return n}return h?(Sa(),b=l.fallback,h=n.mode,j=e.child,G=j.sibling,l=Vi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,G!==null?b=Vi(G,b):(b=gr(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Vl(null,l),l=n.child,b=e.child.memoizedState,b===null?b=cf(r):(h=b.cachePool,h!==null?(j=At._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=Eg(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=hf(e,_,r),n.memoizedState=uf,Vl(e.child,l)):(Ta(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function ff(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function df(e,n,r){return Sr(n,e.child,null,r),e=ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vp(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Rh(e.return,n,r)}function mf(e,n,r,l,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=f)}function Mp(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,n.flags|=128):_&=1,le(mt,_),Ht(e,n,l,r),l=ze?El:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,r,n);else if(e.tag===19)Vp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&_u(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),mf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&_u(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}mf(n,!0,r,null,f,l);break;case"together":mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ui(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),xa|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(as(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function gf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&hu(e)))}function GT(e,n,r){switch(n.tag){case 3:jt(n,n.stateNode.containerInfo),ya(n,At,e.memoizedState.cache),pr();break;case 27:case 5:$a(n);break;case 4:jt(n,n.stateNode.containerInfo);break;case 10:ya(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Uh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ta(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ip(e,n,r):(Ta(n),e=Ui(e,n,r),e!==null?e.sibling:null);Ta(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(as(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Mp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(mt,mt.current),l)break;return null;case 22:return n.lanes=0,wp(e,n,r,n.pendingProps);case 24:ya(n,At,e.memoizedState.cache)}return Ui(e,n,r)}function Op(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)wt=!0;else{if(!gf(e,r)&&(n.flags&128)===0)return wt=!1,GT(e,n,r);wt=(e.flags&131072)!==0}else wt=!1,ze&&(n.flags&1048576)!==0&&dg(n,El,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Er(n.elementType),n.type=e,typeof e=="function")_h(e)?(l=Ar(e,l),n.tag=1,n=Dp(null,n,e,l,r)):(n.tag=0,n=of(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===ye){n.tag=11,n=bp(null,n,e,l,r);break e}else if(h===N){n.tag=14,n=Ap(null,n,e,l,r);break e}}throw n=be(e)||e,Error(s(306,n,""))}}return n;case 0:return of(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ar(l,n.pendingProps),Dp(e,n,l,h,r);case 3:e:{if(jt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Mh(e,n),Nl(n,l,null,r);var _=n.memoizedState;if(l=_.cache,ya(n,At,l),l!==f.cache&&Nh(n,[At],r,!0),Rl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jp(e,n,l,r);break e}else if(l!==h){h=Nn(Error(s(424)),n),Tl(h),n=jp(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=Vn(e.firstChild),Bt=n,ze=!0,ga=null,jn=!0,r=wg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(pr(),l===h){n=Ui(e,n,r);break e}Ht(e,n,l,r)}n=n.child}return n;case 26:return Du(e,n),e===null?(r=Qy(n.type,null,n.pendingProps,null))?n.memoizedState=r:ze||(r=n.type,e=n.pendingProps,l=Ku(De.current).createElement(r),l[Tt]=n,l[Ot]=e,Gt(l,r,e),St(l),n.stateNode=l):n.memoizedState=Qy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $a(n),e===null&&ze&&(l=n.stateNode=Hy(n.type,n.pendingProps,De.current),Bt=n,jn=!0,h=it,Da(n.type)?(Yf=h,it=Vn(l.firstChild)):it=h),Ht(e,n,n.pendingProps.children,r),Du(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ze&&((h=l=it)&&(l=E1(l,n.type,n.pendingProps,jn),l!==null?(n.stateNode=l,Bt=n,it=Vn(l.firstChild),jn=!1,h=!0):h=!1),h||pa(n)),$a(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,Hf(h,f)?l=null:_!==null&&Hf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(e,n,OT,null,null,r),Yl._currentValue=h),Du(e,n),Ht(e,n,l,r),n.child;case 6:return e===null&&ze&&((e=r=it)&&(r=T1(r,n.pendingProps,jn),r!==null?(n.stateNode=r,Bt=n,it=null,e=!0):e=!1),e||pa(n)),null;case 13:return Ip(e,n,r);case 4:return jt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Sr(n,null,l,r):Ht(e,n,l,r),n.child;case 11:return bp(e,n,n.type,n.pendingProps,r);case 7:return Ht(e,n,n.pendingProps,r),n.child;case 8:return Ht(e,n,n.pendingProps.children,r),n.child;case 12:return Ht(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ya(n,n.type,l.value),Ht(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,vr(n),h=qt(h),l=l(h),n.flags|=1,Ht(e,n,l,r),n.child;case 14:return Ap(e,n,n.type,n.pendingProps,r);case 15:return xp(e,n,n.type,n.pendingProps,r);case 19:return Mp(e,n,r);case 31:return HT(e,n,r);case 22:return wp(e,n,r,n.pendingProps);case 24:return vr(n),l=qt(At),e===null?(h=jh(),h===null&&(h=et,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Vh(n),ya(n,At,h)):((e.lanes&r)!==0&&(Mh(e,n),Nl(n,null,null,r),Rl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ya(n,At,l)):(l=f.cache,ya(n,At,l),l!==h.cache&&Nh(n,[At],r,!0))),Ht(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function pf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(oy())e.flags|=8192;else throw Tr=gu,Ih}else e.flags&=-16777217}function kp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zy(n))if(oy())e.flags|=8192;else throw Tr=gu,Ih}function Iu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zo():536870912,e.lanes|=n,ps|=n)}function Ml(e,n){if(!ze)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function FT(e,n,r){var l=n.pendingProps;switch(bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(At),rt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(is(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xh())),at(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(at(n),kp(n,f)):(at(n),pf(n,h,null,l,r))):f?f!==e.memoizedState?(Pi(n),at(n),kp(n,f)):(at(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Pi(n),at(n),pf(n,h,e,l,r)),null;case 27:if(Or(n),r=De.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}e=fe.current,is(n)?gg(n):(e=Hy(h,l,r),n.stateNode=e,Pi(n))}return at(n),null;case 5:if(Or(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}if(f=fe.current,is(n))gg(n);else{var _=Ku(De.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Tt]=n,f[Ot]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Gt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Pi(n)}}return at(n),pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=De.current,is(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Tt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Iy(e.nodeValue,r)),e||pa(n,!0)}else e=Ku(e).createTextNode(l),e[Tt]=n,n.stateNode=e}return at(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=is(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Tt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),e=!1}else r=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return at(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=is(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),h=!1}else h=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Iu(n,n.updateQueue),at(n),null);case 4:return rt(),e===null&&zf(n.stateNode.containerInfo),at(n),null;case 10:return ki(n.type),at(n),null;case 19:if(X(mt),l=n.memoizedState,l===null)return at(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ml(l,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=_u(e),f!==null){for(n.flags|=128,Ml(l,!1),e=f.updateQueue,n.updateQueue=e,Iu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)cg(r,e),r=r.sibling;return le(mt,mt.current&1|2),ze&&Mi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Jt()>Lu&&(n.flags|=128,h=!0,Ml(l,!1),n.lanes=4194304)}else{if(!h)if(e=_u(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Iu(n,e),Ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ze)return at(n),null}else 2*Jt()-l.renderingStartTime>Lu&&r!==536870912&&(n.flags|=128,h=!0,Ml(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Jt(),e.sibling=null,r=mt.current,le(mt,h?r&1|2:r&1),ze&&Mi(n,l.treeForkCount),e):(at(n),null);case 22:case 23:return yn(n),zh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),r=n.updateQueue,r!==null&&Iu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&X(_r),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ki(At),at(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QT(e,n){switch(bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(At),rt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Or(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(mt),null;case 4:return rt(),null;case 10:return ki(n.type),null;case 22:case 23:return yn(n),zh(),e!==null&&X(_r),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(At),null;case 25:return null;default:return null}}function Lp(e,n){switch(bh(n),n.tag){case 3:ki(At),rt();break;case 26:case 27:case 5:Or(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:X(mt);break;case 10:ki(n.type);break;case 22:case 23:yn(n),zh(),e!==null&&X(_r);break;case 24:ki(At)}}function Ol(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==h)}}catch(b){Xe(n,n.return,b)}}function ba(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var j=r,G=b;try{G()}catch(Z){Xe(h,j,Z)}}}l=l.next}while(l!==f)}}catch(Z){Xe(n,n.return,Z)}}function zp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ng(n,r)}catch(l){Xe(e,e.return,l)}}}function Up(e,n,r){r.props=Ar(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(e,n,l)}}function kl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Xe(e,n,h)}}function _i(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Xe(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xe(e,n,h)}else r.current=null}function Pp(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Xe(e,e.return,h)}}function yf(e,n,r){try{var l=e.stateNode;m1(l,e.type,r,n),l[Ot]=n}catch(h){Xe(e,e.return,h)}}function Bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Da(e.type)||e.tag===4}function vf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _f(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Da(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(_f(e,n,r),e=e.sibling;e!==null;)_f(e,n,r),e=e.sibling}function Vu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Da(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Vu(e,n,r),e=e.sibling;e!==null;)Vu(e,n,r),e=e.sibling}function qp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,l,r),n[Tt]=e,n[Ot]=r}catch(f){Xe(e,e.return,f)}}var Bi=!1,Rt=!1,Ef=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function KT(e,n){if(e=e.containerInfo,Bf=ec,e=tg(e),fh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var _=0,b=-1,j=-1,G=0,Z=0,te=e,F=null;t:for(;;){for(var Y;te!==r||h!==0&&te.nodeType!==3||(b=_+h),te!==f||l!==0&&te.nodeType!==3||(j=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Y=te.firstChild)!==null;)F=te,te=Y;for(;;){if(te===e)break t;if(F===r&&++G===h&&(b=_),F===f&&++Z===l&&(j=_),(Y=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=Y}r=b===-1||j===-1?null:{start:b,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(qf={focusedElem:e,selectionRange:r},ec=!1,Lt=n;Lt!==null;)if(n=Lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Lt=e;else for(;Lt!==null;){switch(n=Lt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var me=Ar(r.type,h);e=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){Xe(r,r.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Ff(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Lt=e;break}Lt=n.return}}function Gp(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),l&4&&Ol(5,r);break;case 1:if(Hi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){Xe(r,r.return,_)}else{var h=Ar(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(r,r.return,_)}}l&64&&zp(r),l&512&&kl(r,r.return);break;case 3:if(Hi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ng(e,n)}catch(_){Xe(r,r.return,_)}}break;case 27:n===null&&l&4&&qp(r);case 26:case 5:Hi(e,r),n===null&&l&4&&Pp(r),l&512&&kl(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),l&4&&Kp(e,r);break;case 13:Hi(e,r),l&4&&Yp(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=n1.bind(null,r),S1(e,r))));break;case 22:if(l=r.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||Rt,h=Bi;var f=Rt;Bi=l,(Rt=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),Bi=h,Rt=f}break;case 30:break;default:Hi(e,r)}}function Fp(e){var n=e.alternate;n!==null&&(e.alternate=null,Fp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Pr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,rn=!1;function qi(e,n,r){for(r=r.child;r!==null;)Qp(e,n,r),r=r.sibling}function Qp(e,n,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(zn,r)}catch{}switch(r.tag){case 26:Rt||_i(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rt||_i(r,n);var l=lt,h=rn;Da(r.type)&&(lt=r.stateNode,rn=!1),qi(e,n,r),Fl(r.stateNode),lt=l,rn=h;break;case 5:Rt||_i(r,n);case 6:if(l=lt,h=rn,lt=null,qi(e,n,r),lt=l,rn=h,lt!==null)if(rn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(r.stateNode)}catch(f){Xe(r,n,f)}else try{lt.removeChild(r.stateNode)}catch(f){Xe(r,n,f)}break;case 18:lt!==null&&(rn?(e=lt,zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),As(e)):zy(lt,r.stateNode));break;case 4:l=lt,h=rn,lt=r.stateNode.containerInfo,rn=!0,qi(e,n,r),lt=l,rn=h;break;case 0:case 11:case 14:case 15:ba(2,r,n),Rt||ba(4,r,n),qi(e,n,r);break;case 1:Rt||(_i(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Up(r,n,l)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Rt=(l=Rt)||r.memoizedState!==null,qi(e,n,r),Rt=l;break;default:qi(e,n,r)}}function Kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{As(e)}catch(r){Xe(n,n.return,r)}}}function Yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{As(e)}catch(r){Xe(n,n.return,r)}}function YT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Hp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Hp),n;default:throw Error(s(435,e.tag))}}function Mu(e,n){var r=YT(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=i1.bind(null,e,l);l.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,_=n,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Da(b.type)){lt=b.stateNode,rn=!1;break e}break;case 5:lt=b.stateNode,rn=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,rn=!0;break e}b=b.return}if(lt===null)throw Error(s(160));Qp(f,_,h),lt=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var Yn=null;function Xp(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),ln(e),l&4&&(ba(3,e,e.return),Ol(3,e),ba(5,e,e.return));break;case 1:sn(n,e),ln(e),l&512&&(Rt||r===null||_i(r,r.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Yn;if(sn(n,e),ln(e),l&512&&(Rt||r===null||_i(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,r),f[Tt]=e,St(f),l=f;break e;case"link":var _=Xy("link","href",h).get(l+(r.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(b,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;case"meta":if(_=Xy("meta","content",h).get(l+(r.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(b,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Tt]=e,St(f),l=f}e.stateNode=l}else $y(h,e.type,e.stateNode);else e.stateNode=Yy(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?$y(h,e.type,e.stateNode):Yy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),ln(e),l&512&&(Rt||r===null||_i(r,r.return)),r!==null&&l&4&&yf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),ln(e),l&512&&(Rt||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(me){Xe(e,e.return,me)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,yf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(sn(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(me){Xe(e,e.return,me)}}break;case 3:if($u=null,h=Yn,Yn=Yu(n.containerInfo),sn(n,e),Yn=h,ln(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{As(n.containerInfo)}catch(me){Xe(e,e.return,me)}Ef&&(Ef=!1,$p(e));break;case 4:l=Yn,Yn=Yu(e.stateNode.containerInfo),sn(n,e),ln(e),Yn=l;break;case 12:sn(n,e),ln(e);break;case 31:sn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mu(e,l)));break;case 13:sn(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ku=Jt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mu(e,l)));break;case 22:h=e.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,G=Bi,Z=Rt;if(Bi=G||h,Rt=Z||j,sn(n,e),Rt=Z,Bi=G,ln(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||j||Bi||Rt||xr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){j=r=n;try{if(f=j.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=j.stateNode;var te=j.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){Xe(j,j.return,me)}}}else if(n.tag===6){if(r===null){j=n;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(me){Xe(j,j.return,me)}}}else if(n.tag===18){if(r===null){j=n;try{var Y=j.stateNode;h?Uy(Y,!0):Uy(j.stateNode,!1)}catch(me){Xe(j,j.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Mu(e,r))));break;case 19:sn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mu(e,l)));break;case 30:break;case 21:break;default:sn(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Bp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=vf(e);Vu(e,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(an(_,""),r.flags&=-33);var b=vf(e);Vu(e,b,_);break;case 3:case 4:var j=r.stateNode.containerInfo,G=vf(e);_f(e,G,j);break;default:throw Error(s(161))}}catch(Z){Xe(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ba(4,n,n.return),xr(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Up(n,n.return,r),xr(n);break;case 27:Fl(n.stateNode);case 26:case 5:_i(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),Ol(4,f);break;case 1:if(Gi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Xe(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Rg(j[h],b)}catch(G){Xe(l,l.return,G)}}r&&_&64&&zp(f),kl(f,f.return);break;case 27:qp(f);case 26:case 5:Gi(h,f,r),r&&l===null&&_&4&&Pp(f),kl(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&_&4&&Kp(h,f);break;case 13:Gi(h,f,r),r&&_&4&&Yp(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),kl(f,f.return);break;case 30:break;default:Gi(h,f,r)}n=n.sibling}}function Tf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Sl(r))}function Sf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e))}function Xn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zp(e,n,r,l),n=n.sibling}function Zp(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,r,l),h&2048&&Ol(9,n);break;case 1:Xn(e,n,r,l);break;case 3:Xn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e)));break;case 12:if(h&2048){Xn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Xe(n,n.return,j)}}else Xn(e,n,r,l);break;case 31:Xn(e,n,r,l);break;case 13:Xn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,r,l):Ll(e,n):f._visibility&2?Xn(e,n,r,l):(f._visibility|=2,ds(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(_,n);break;case 24:Xn(e,n,r,l),h&2048&&Sf(n.alternate,n);break;default:Xn(e,n,r,l)}}function ds(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,_=n,b=r,j=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:ds(f,_,b,j,h),Ol(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ds(f,_,b,j,h):Ll(f,_):(Z._visibility|=2,ds(f,_,b,j,h)),h&&G&2048&&Tf(_.alternate,_);break;case 24:ds(f,_,b,j,h),h&&G&2048&&Sf(_.alternate,_);break;default:ds(f,_,b,j,h)}n=n.sibling}}function Ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:Ll(r,l),h&2048&&Tf(l.alternate,l);break;case 24:Ll(r,l),h&2048&&Sf(l.alternate,l);break;default:Ll(r,l)}n=n.sibling}}var zl=8192;function ms(e,n,r){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)Jp(e,n,r),e=e.sibling}function Jp(e,n,r){switch(e.tag){case 26:ms(e,n,r),e.flags&zl&&e.memoizedState!==null&&M1(r,Yn,e.memoizedState,e.memoizedProps);break;case 5:ms(e,n,r);break;case 3:case 4:var l=Yn;Yn=Yu(e.stateNode.containerInfo),ms(e,n,r),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,ms(e,n,r),zl=l):ms(e,n,r));break;default:ms(e,n,r)}}function Wp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Lt=l,ty(l,e)}Wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ey(e),e=e.sibling}function ey(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&ba(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ou(e)):Ul(e);break;default:Ul(e)}}function Ou(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Lt=l,ty(l,e)}Wp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ba(8,n,n.return),Ou(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ou(n));break;default:Ou(n)}e=e.sibling}}function ty(e,n){for(;Lt!==null;){var r=Lt;switch(r.tag){case 0:case 11:case 15:ba(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Lt=l;else e:for(r=e;Lt!==null;){l=Lt;var h=l.sibling,f=l.return;if(Fp(l),l===r){Lt=null;break e}if(h!==null){h.return=f,Lt=h;break e}Lt=f}}}var XT={getCacheForType:function(e){var n=qt(At),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qt(At).controller.signal}},$T=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ie=null,Me=0,Ye=0,vn=null,Aa=!1,gs=!1,bf=!1,Fi=0,ht=0,xa=0,wr=0,Af=0,_n=0,ps=0,Pl=null,on=null,xf=!1,ku=0,ny=0,Lu=1/0,zu=null,wa=null,Vt=0,Ra=null,ys=null,Qi=0,wf=0,Rf=null,iy=null,Bl=0,Nf=null;function En(){return(Fe&2)!==0&&Me!==0?Me&-Me:Q.T!==null?Mf():Uo()}function ay(){if(_n===0)if((Me&536870912)===0||ze){var e=Wa;Wa<<=1,(Wa&3932160)===0&&(Wa=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function un(e,n,r){(e===et&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(vs(e,0),Na(e,Me,_n,!1)),er(e,r),((Fe&2)===0||e!==et)&&(e===et&&((Fe&2)===0&&(wr|=r),ht===4&&Na(e,Me,_n,!1)),Ei(e))}function ry(e,n,r){if((Fe&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=l?WT(e,n):Df(e,n,!0),f=l;do{if(h===0){gs&&!l&&Na(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!ZT(r)){h=Df(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var b=e;h=Pl;var j=b.current.memoizedState.isDehydrated;if(j&&(vs(b,_).flags|=256),_=Df(b,_,!1),_!==2){if(bf&&!j){b.errorRecoveryDisabledLanes|=f,wr|=f,h=4;break e}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){vs(e,0),Na(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Na(l,n,_n,!Aa);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ku+300-Jt(),10<h)){if(Na(l,n,_n,!Aa),ni(l,0,!0)!==0)break e;Qi=n,l.timeoutHandle=ky(sy.bind(null,l,r,on,zu,xf,n,_n,wr,ps,Aa,f,"Throttled",-0,0),h);break e}sy(l,r,on,zu,xf,n,_n,wr,ps,Aa,f,null,-0,0)}}break}while(!0);Ei(e)}function sy(e,n,r,l,h,f,_,b,j,G,Z,te,F,Y){if(e.timeoutHandle=-1,te=n.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Jp(n,f,te);var me=(f&62914560)===f?ku-Jt():(f&4194048)===f?ny-Jt():0;if(me=O1(te,me),me!==null){Qi=f,e.cancelPendingCommit=me(my.bind(null,e,n,f,r,l,h,_,b,j,Z,te,null,F,Y)),Na(e,f,_,!G);return}}my(e,n,f,r,l,h,_,b,j)}function ZT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Na(e,n,r,l){n&=~Af,n&=~wr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),_=1<<f;l[f]=-1,h&=~_}r!==0&&tr(e,r,n)}function Uu(){return(Fe&6)===0?(ql(0),!1):!0}function Cf(){if(Ie!==null){if(Ye===0)var e=Ie.return;else e=Ie,Oi=yr=null,Gh(e),os=null,Al=0,e=Ie;for(;e!==null;)Lp(e.alternate,e),e=e.return;Ie=null}}function vs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,y1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,Cf(),et=e,Ie=r=Vi(e.current,null),Me=n,Ye=0,vn=null,Aa=!1,gs=Un(e,n),bf=!1,ps=_n=Af=wr=xa=ht=0,on=Pl=null,xf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ft(l),f=1<<h;n|=e[h],l&=~f}return Fi=n,su(),r}function ly(e,n){Ce=null,Q.H=Il,n===ls||n===mu?(n=bg(),Ye=3):n===Ih?(n=bg(),Ye=4):Ye=n===lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ie===null&&(ht=1,Nu(e,Nn(n,e.current)))}function oy(){var e=pn.current;return e===null?!0:(Me&4194048)===Me?In===null:(Me&62914560)===Me||(Me&536870912)!==0?e===In:!1}function uy(){var e=Q.H;return Q.H=Il,e===null?Il:e}function cy(){var e=Q.A;return Q.A=XT,e}function Pu(){ht=4,Aa||(Me&4194048)!==Me&&pn.current!==null||(gs=!0),(xa&134217727)===0&&(wr&134217727)===0||et===null||Na(et,Me,_n,!1)}function Df(e,n,r){var l=Fe;Fe|=2;var h=uy(),f=cy();(et!==e||Me!==n)&&(zu=null,vs(e,n)),n=!1;var _=ht;e:do try{if(Ye!==0&&Ie!==null){var b=Ie,j=vn;switch(Ye){case 8:Cf(),_=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var G=Ye;if(Ye=0,vn=null,_s(e,b,j,G),r&&gs){_=0;break e}break;default:G=Ye,Ye=0,vn=null,_s(e,b,j,G)}}JT(),_=ht;break}catch(Z){ly(e,Z)}while(!0);return n&&e.shellSuspendCounter++,Oi=yr=null,Fe=l,Q.H=h,Q.A=f,Ie===null&&(et=null,Me=0,su()),_}function JT(){for(;Ie!==null;)hy(Ie)}function WT(e,n){var r=Fe;Fe|=2;var l=uy(),h=cy();et!==e||Me!==n?(zu=null,Lu=Jt()+500,vs(e,n)):gs=Un(e,n);e:do try{if(Ye!==0&&Ie!==null){n=Ie;var f=vn;t:switch(Ye){case 1:Ye=0,vn=null,_s(e,n,f,1);break;case 2:case 9:if(Tg(f)){Ye=0,vn=null,fy(n);break}n=function(){Ye!==2&&Ye!==9||et!==e||(Ye=7),Ei(e)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Tg(f)?(Ye=0,vn=null,fy(n)):(Ye=0,vn=null,_s(e,n,f,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var b=Ie;if(_?Zy(_):b.stateNode.complete){Ye=0,vn=null;var j=b.sibling;if(j!==null)Ie=j;else{var G=b.return;G!==null?(Ie=G,Bu(G)):Ie=null}break t}}Ye=0,vn=null,_s(e,n,f,5);break;case 6:Ye=0,vn=null,_s(e,n,f,6);break;case 8:Cf(),ht=6;break e;default:throw Error(s(462))}}e1();break}catch(Z){ly(e,Z)}while(!0);return Oi=yr=null,Q.H=l,Q.A=h,Fe=r,Ie!==null?0:(et=null,Me=0,su(),ht)}function e1(){for(;Ie!==null&&!rh();)hy(Ie)}function hy(e){var n=Op(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Bu(e):Ie=n}function fy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Cp(r,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=Cp(r,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:Gh(n);default:Lp(r,n),n=Ie=cg(n,Fi),n=Op(r,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Bu(e):Ie=n}function _s(e,n,r,l){Oi=yr=null,Gh(n),os=null,Al=0;var h=n.return;try{if(qT(e,h,n,r,Me)){ht=1,Nu(e,Nn(r,e.current)),Ie=null;return}}catch(f){if(h!==null)throw Ie=h,f;ht=1,Nu(e,Nn(r,e.current)),Ie=null;return}n.flags&32768?(ze||l===1?e=!0:gs||(Me&536870912)!==0?e=!1:(Aa=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(n,e)):Bu(n)}function Bu(e){var n=e;do{if((n.flags&32768)!==0){dy(n,Aa);return}e=n.return;var r=FT(n.alternate,n,Fi);if(r!==null){Ie=r;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=e}while(n!==null);ht===0&&(ht=5)}function dy(e,n){do{var r=QT(e.alternate,e);if(r!==null){r.flags&=32767,Ie=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=r}while(e!==null);ht=6,Ie=null}function my(e,n,r,l,h,f,_,b,j){e.cancelPendingCommit=null;do qu();while(Vt!==0);if((Fe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=yh,oh(e,r,f,_,b,j),e===et&&(Ie=et=null,Me=0),ys=n,Ra=e,Qi=r,wf=f,Rf=h,iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,a1(aa,function(){return _y(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=re.p,re.p=2,_=Fe,Fe|=4;try{KT(e,n,r)}finally{Fe=_,re.p=h,Q.T=l}}Vt=1,gy(),py(),yy()}}function gy(){if(Vt===1){Vt=0;var e=Ra,n=ys,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var l=re.p;re.p=2;var h=Fe;Fe|=4;try{Xp(n,e);var f=qf,_=tg(e.containerInfo),b=f.focusedElem,j=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&eg(b.ownerDocument.documentElement,b)){if(j!==null&&fh(b)){var G=j.start,Z=j.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var Y=F.getSelection(),me=b.textContent.length,Ee=Math.min(j.start,me),We=j.end===void 0?Ee:Math.min(j.end,me);!Y.extend&&Ee>We&&(_=We,We=Ee,Ee=_);var z=Wm(b,Ee),V=Wm(b,We);if(z&&V&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var H=te.createRange();H.setStart(z.node,z.offset),Y.removeAllRanges(),Ee>We?(Y.addRange(H),Y.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Y.addRange(H))}}}}for(te=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var W=te[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ec=!!Bf,qf=Bf=null}finally{Fe=h,re.p=l,Q.T=r}}e.current=n,Vt=2}}function py(){if(Vt===2){Vt=0;var e=Ra,n=ys,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var l=re.p;re.p=2;var h=Fe;Fe|=4;try{Gp(e,n.alternate,n)}finally{Fe=h,re.p=l,Q.T=r}}Vt=3}}function yy(){if(Vt===4||Vt===3){Vt=0,Io();var e=Ra,n=ys,r=Qi,l=iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,ys=Ra=null,vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wa=null),Ci(r),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=re.p,re.p=2,Q.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];f(b.value,{componentStack:b.stack})}}finally{Q.T=n,re.p=h}}(Qi&3)!==0&&qu(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Nf?Bl++:(Bl=0,Nf=e):Bl=0,ql(0)}}function vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Sl(n)))}function qu(){return gy(),py(),yy(),_y()}function _y(){if(Vt!==5)return!1;var e=Ra,n=wf;wf=0;var r=Ci(Qi),l=Q.T,h=re.p;try{re.p=32>r?32:r,Q.T=null,r=Rf,Rf=null;var f=Ra,_=Qi;if(Vt=0,ys=Ra=null,Qi=0,(Fe&6)!==0)throw Error(s(331));var b=Fe;if(Fe|=4,ey(f.current),Zp(f,f.current,_,r),Fe=b,ql(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{re.p=h,Q.T=l,vy(e,n)}}function Ey(e,n,r){n=Nn(r,n),n=sf(e.stateNode,n,2),e=Ea(e,n,2),e!==null&&(er(e,2),Ei(e))}function Xe(e,n,r){if(e.tag===3)Ey(e,e,r);else for(;n!==null;){if(n.tag===3){Ey(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wa===null||!wa.has(l))){e=Nn(r,e),r=Tp(2),l=Ea(n,r,2),l!==null&&(Sp(r,l,n,e),er(l,2),Ei(l));break}}n=n.return}}function jf(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new $T;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(bf=!0,h.add(r),e=t1.bind(null,e,n,r),n.then(e,e))}function t1(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,et===e&&(Me&r)===r&&(ht===4||ht===3&&(Me&62914560)===Me&&300>Jt()-ku?(Fe&2)===0&&vs(e,0):Af|=r,ps===Me&&(ps=0)),Ei(e)}function Ty(e,n){n===0&&(n=zo()),e=mr(e,n),e!==null&&(er(e,n),Ei(e))}function n1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ty(e,r)}function i1(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ty(e,r)}function a1(e,n){return It(e,n)}var Hu=null,Es=null,If=!1,Gu=!1,Vf=!1,Ca=0;function Ei(e){e!==Es&&e.next===null&&(Es===null?Hu=Es=e:Es=Es.next=e),Gu=!0,If||(If=!0,s1())}function ql(e,n){if(!Vf&&Gu){Vf=!0;do for(var r=!1,l=Hu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-ft(42|e)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,xy(l,f))}else f=Me,f=ni(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(r=!0,xy(l,f));l=l.next}while(r);Vf=!1}}function r1(){Sy()}function Sy(){Gu=If=!1;var e=0;Ca!==0&&p1()&&(e=Ca);for(var n=Jt(),r=null,l=Hu;l!==null;){var h=l.next,f=by(l,n);f===0?(l.next=null,r===null?Hu=h:r.next=h,h===null&&(Es=r)):(r=l,(e!==0||(f&3)!==0)&&(Gu=!0)),l=h}Vt!==0&&Vt!==5||ql(e),Ca!==0&&(Ca=0)}function by(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-ft(f),b=1<<_,j=h[_];j===-1?((b&r)===0||(b&l)!==0)&&(h[_]=lh(b,n)):j<=n&&(e.expiredLanes|=b),f&=~b}if(n=et,r=Me,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ia(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&ia(l),Ci(r)){case 2:case 8:r=Js;break;case 32:r=aa;break;case 268435456:r=Vo;break;default:r=aa}return l=Ay.bind(null,e),r=It(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&ia(l),e.callbackPriority=2,e.callbackNode=null,2}function Ay(e,n){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(qu()&&e.callbackNode!==r)return null;var l=Me;return l=ni(e,e===et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ry(e,l,n),by(e,Jt()),e.callbackNode!=null&&e.callbackNode===r?Ay.bind(null,e):null)}function xy(e,n){if(qu())return null;ry(e,n,!0)}function s1(){v1(function(){(Fe&6)!==0?It(Zs,r1):Sy()})}function Mf(){if(Ca===0){var e=rs;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ca=e}return Ca}function wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gr(""+e)}function Ry(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function l1(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=wy((h[Ot]||null).action),_=l.submitter;_&&(n=(n=_[Ot]||null)?wy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var b=new di("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var j=_?Ry(h,_):new FormData(h);Wh(r,{pending:!0,data:j,method:h.method,action:f},null,j)}}else typeof f=="function"&&(b.preventDefault(),j=_?Ry(h,_):new FormData(h),Wh(r,{pending:!0,data:j,method:h.method,action:f},f,j))},currentTarget:h}]})}}for(var Of=0;Of<ph.length;Of++){var kf=ph[Of],o1=kf.toLowerCase(),u1=kf[0].toUpperCase()+kf.slice(1);Kn(o1,"on"+u1)}Kn(ag,"onAnimationEnd"),Kn(rg,"onAnimationIteration"),Kn(sg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(xT,"onTransitionRun"),Kn(wT,"onTransitionStart"),Kn(RT,"onTransitionCancel"),Kn(lg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Ny(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var b=l[_],j=b.instance,G=b.currentTarget;if(b=b.listener,j!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=G;try{f(h)}catch(Z){ru(Z)}h.currentTarget=null,f=j}else for(_=0;_<l.length;_++){if(b=l[_],j=b.instance,G=b.currentTarget,b=b.listener,j!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=G;try{f(h)}catch(Z){ru(Z)}h.currentTarget=null,f=j}}}}function Ve(e,n){var r=n[Ur];r===void 0&&(r=n[Ur]=new Set);var l=e+"__bubble";r.has(l)||(Cy(n,e,2,!1),r.add(l))}function Lf(e,n,r){var l=0;n&&(l|=4),Cy(r,e,l,n)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function zf(e){if(!e[Fu]){e[Fu]=!0,tl.forEach(function(r){r!=="selectionchange"&&(c1.has(r)||Lf(r,!1,e),Lf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fu]||(n[Fu]=!0,Lf("selectionchange",!1,n))}}function Cy(e,n,r,l){switch(av(n)){case 2:var h=z1;break;case 8:h=U1;break;default:h=Wf}r=h.bind(null,n,r,e),h=void 0,!sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Uf(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=si(b),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=f=_;continue e}b=b.parentNode}}l=l.return}ca(function(){var G=f,Z=An(r),te=[];e:{var F=og.get(e);if(F!==void 0){var Y=di,me=e;switch(e){case"keypress":if(or(r)===0)break e;case"keydown":case"keyup":Y=nu;break;case"focusin":me="focus",Y=cr;break;case"focusout":me="blur",Y=cr;break;case"beforeblur":case"afterblur":Y=cr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case ag:case rg:case sg:Y=Xo;break;case lg:Y=A;break;case"scroll":case"scrollend":Y=dl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ii;break;case"toggle":case"beforetoggle":Y=Ne}var Ee=(n&4)!==0,We=!Ee&&(e==="scroll"||e==="scrollend"),z=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var V=G,H;V!==null;){var W=V;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=Hn(V,z),W!=null&&Ee.push(Gl(V,W,H))),We)break;V=V.return}0<Ee.length&&(F=new Y(F,me,null,r,Z),te.push({event:F,listeners:Ee}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&r!==cl&&(me=r.relatedTarget||r.fromElement)&&(si(me)||me[ai]))break e;if((Y||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(me=r.relatedTarget||r.toElement,Y=G,me=me?si(me):null,me!==null&&(We=c(me),Ee=me.tag,me!==We||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(Y=null,me=G),Y!==me)){if(Ee=ml,W="onMouseLeave",z="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Ii,W="onPointerLeave",z="onPointerEnter",V="pointer"),We=Y==null?F:fn(Y),H=me==null?F:fn(me),F=new Ee(W,V+"leave",Y,r,Z),F.target=We,F.relatedTarget=H,W=null,si(Z)===G&&(Ee=new Ee(z,V+"enter",me,r,Z),Ee.target=H,Ee.relatedTarget=We,W=Ee),We=W,Y&&me)t:{for(Ee=h1,z=Y,V=me,H=0,W=z;W;W=Ee(W))H++;W=0;for(var ve=V;ve;ve=Ee(ve))W++;for(;0<H-W;)z=Ee(z),H--;for(;0<W-H;)V=Ee(V),W--;for(;H--;){if(z===V||V!==null&&z===V.alternate){Ee=z;break t}z=Ee(z),V=Ee(V)}Ee=null}else Ee=null;Y!==null&&Dy(te,F,Y,Ee,!1),me!==null&&We!==null&&Dy(te,We,me,Ee,!0)}}e:{if(F=G?fn(G):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var qe=Km;else if(Fm(F))if(Ym)qe=ST;else{qe=ET;var pe=_T}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?G&&Hr(G.elementType)&&(qe=Km):qe=TT;if(qe&&(qe=qe(e,G))){Qm(te,qe,r,Z);break e}pe&&pe(e,F,G),e==="focusout"&&G&&F.type==="number"&&G.memoizedProps.value!=null&&ll(F,"number",F.value)}switch(pe=G?fn(G):window,e){case"focusin":(Fm(pe)||pe.contentEditable==="true")&&(Zr=pe,dh=G,_l=null);break;case"focusout":_l=dh=Zr=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,ng(te,r,Z);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":ng(te,r,Z)}var je;if(Ge)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else $r?hr(e,r)&&(Oe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(pi&&r.locale!=="ko"&&($r||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&$r&&(je=fl()):(fi=Z,hl="value"in fi?fi.value:fi.textContent,$r=!0)),pe=Qu(G,Oe),0<pe.length&&(Oe=new gi(Oe,e,null,r,Z),te.push({event:Oe,listeners:pe}),je?Oe.data=je:(je=Xr(r),je!==null&&(Oe.data=je)))),(je=wn?gT(e,r):pT(e,r))&&(Oe=Qu(G,"onBeforeInput"),0<Oe.length&&(pe=new gi("onBeforeInput","beforeinput",null,r,Z),te.push({event:pe,listeners:Oe}),pe.data=je)),l1(te,e,G,r,Z)}Ny(te,n)})}function Gl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Qu(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,r),h!=null&&l.unshift(Gl(e,h,f)),h=Hn(e,n),h!=null&&l.push(Gl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function h1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dy(e,n,r,l,h){for(var f=n._reactName,_=[];r!==null&&r!==l;){var b=r,j=b.alternate,G=b.stateNode;if(b=b.tag,j!==null&&j===l)break;b!==5&&b!==26&&b!==27||G===null||(j=G,h?(G=Hn(r,f),G!=null&&_.unshift(Gl(r,G,j))):h||(G=Hn(r,f),G!=null&&_.push(Gl(r,G,j)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var f1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(f1,`
`).replace(d1,"")}function Iy(e,n){return n=jy(n),jy(e)===n}function Je(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,l);break;case"style":ul(e,l,f);break;case"data":if(n!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Gr(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Je(e,n,"name",h.name,h,null),Je(e,n,"formEncType",h.formEncType,h,null),Je(e,n,"formMethod",h.formMethod,h,null),Je(e,n,"formTarget",h.formTarget,h,null)):(Je(e,n,"encType",h.encType,h,null),Je(e,n,"method",h.method,h,null),Je(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Gr(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Gr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),Br(e,"popover",l);break;case"xlinkActuate":bt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Qo.get(r)||r,Br(e,r,l))}}function Pf(e,n,r,l,h,f){switch(r){case"style":ul(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?an(e,l):(typeof l=="number"||typeof l=="bigint")&&an(e,""+l);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ot]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Br(e,r,l)}}}function Gt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Je(e,n,f,_,r,null)}}h&&Je(e,n,"srcSet",r.srcSet,r,null),l&&Je(e,n,"src",r.src,r,null);return;case"input":Ve("invalid",e);var b=f=_=h=null,j=null,G=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":j=Z;break;case"defaultChecked":G=Z;break;case"value":f=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Je(e,n,l,Z,r,null)}}Ho(e,f,b,j,G,_,h,!1);return;case"select":Ve("invalid",e),l=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(e,n,h,b,r,null)}n=f,r=_,e.multiple=!!l,n!=null?sa(e,!!l,n,!1):r!=null&&sa(e,!!l,r,!0);return;case"textarea":Ve("invalid",e),f=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(b=r[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(e,n,_,b,r,null)}la(e,l,h,f);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(e,n,j,l,r,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Ve(Hl[l],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in r)if(r.hasOwnProperty(G)&&(l=r[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Je(e,n,G,l,r,null)}return;default:if(Hr(n)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&Pf(e,n,Z,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&Je(e,n,b,l,r,null))}function m1(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,j=null,G=null,Z=null;for(Y in r){var te=r[Y];if(r.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":j=te;default:l.hasOwnProperty(Y)||Je(e,n,Y,null,l,te)}}for(var F in l){var Y=l[F];if(te=r[F],l.hasOwnProperty(F)&&(Y!=null||te!=null))switch(F){case"type":f=Y;break;case"name":h=Y;break;case"checked":G=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==te&&Je(e,n,F,Y,l,te)}}qr(e,_,b,j,G,Z,f,h);return;case"select":Y=_=b=F=null;for(f in r)if(j=r[f],r.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":Y=j;default:l.hasOwnProperty(f)||Je(e,n,f,null,l,j)}for(h in l)if(f=l[h],j=r[h],l.hasOwnProperty(h)&&(f!=null||j!=null))switch(h){case"value":F=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==j&&Je(e,n,h,f,l,j)}n=b,r=_,l=Y,F!=null?sa(e,!!r,F,!1):!!l!=!!r&&(n!=null?sa(e,!!r,n,!0):sa(e,!!r,r?[]:"",!1));return;case"textarea":Y=F=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(e,n,b,null,l,h)}for(_ in l)if(h=l[_],f=r[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Je(e,n,_,h,l,f)}Go(e,F,Y);return;case"option":for(var me in r)if(F=r[me],r.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me))switch(me){case"selected":e.selected=!1;break;default:Je(e,n,me,null,l,F)}for(j in l)if(F=l[j],Y=r[j],l.hasOwnProperty(j)&&F!==Y&&(F!=null||Y!=null))switch(j){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(e,n,j,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)F=r[Ee],r.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&Je(e,n,Ee,null,l,F);for(G in l)if(F=l[G],Y=r[G],l.hasOwnProperty(G)&&F!==Y&&(F!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Je(e,n,G,F,l,Y)}return;default:if(Hr(n)){for(var We in r)F=r[We],r.hasOwnProperty(We)&&F!==void 0&&!l.hasOwnProperty(We)&&Pf(e,n,We,void 0,l,F);for(Z in l)F=l[Z],Y=r[Z],!l.hasOwnProperty(Z)||F===Y||F===void 0&&Y===void 0||Pf(e,n,Z,F,l,Y);return}}for(var z in r)F=r[z],r.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&Je(e,n,z,null,l,F);for(te in l)F=l[te],Y=r[te],!l.hasOwnProperty(te)||F===Y||F==null&&Y==null||Je(e,n,te,F,l,Y)}function Vy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,_=h.initiatorType,b=h.duration;if(f&&b&&Vy(_)){for(_=0,b=h.responseEnd,l+=1;l<r.length;l++){var j=r[l],G=j.startTime;if(G>b)break;var Z=j.transferSize,te=j.initiatorType;Z&&Vy(te)&&(j=j.responseEnd,_+=Z*(j<b?1:(b-G)/(j-G)))}if(--l,n+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bf=null,qf=null;function Ku(e){return e.nodeType===9?e:e.ownerDocument}function My(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Hf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gf=null;function p1(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(e){return Ly.resolve(null).then(e).catch(_1)}:ky;function _1(e){setTimeout(function(){throw e})}function Da(e){return e==="head"}function zy(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),As(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Fl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Fl(r);for(var f=r.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[ri]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=_}}else r==="body"&&Fl(e.ownerDocument.body);r=h}while(r);As(n)}function Uy(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Ff(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ff(r),Pr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function E1(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function T1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function Py(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Qf(e){return e.data==="$?"||e.data==="$~"}function Kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function S1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Yf=null;function By(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function qy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Hy(e,n,r){switch(n=Ku(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Pr(e)}var Mn=new Map,Gy=new Set;function Yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=re.d;re.d={f:b1,r:A1,D:x1,C:w1,L:R1,m:N1,X:D1,S:C1,M:j1};function b1(){var e=Ki.f(),n=Uu();return e||n}function A1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?lp(n):Ki.r(e)}var Ts=typeof document>"u"?null:document;function Fy(e,n,r){var l=Ts;if(l&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Gy.has(h)||(Gy.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Gt(n,"link",e),St(n),l.head.appendChild(n)))}}function x1(e){Ki.D(e),Fy("dns-prefetch",e,null)}function w1(e,n){Ki.C(e,n),Fy("preconnect",e,n)}function R1(e,n,r){Ki.L(e,n,r);var l=Ts;if(l&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ss(e);break;case"script":f=bs(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ql(f))||n==="script"&&l.querySelector(Kl(f))||(n=l.createElement("link"),Gt(n,"link",e),St(n),l.head.appendChild(n)))}}function N1(e,n){Ki.m(e,n);var r=Ts;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=bs(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Kl(f)))return}l=r.createElement("link"),Gt(l,"link",e),St(l),r.head.appendChild(l)}}}function C1(e,n,r){Ki.S(e,n,r);var l=Ts;if(l&&e){var h=li(l).hoistableStyles,f=Ss(e);n=n||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ql(f)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&Xf(e,r);var j=_=l.createElement("link");St(j),Gt(j,"link",e),j._p=new Promise(function(G,Z){j.onload=G,j.onerror=Z}),j.addEventListener("load",function(){b.loading|=1}),j.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Xu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function D1(e,n){Ki.X(e,n);var r=Ts;if(r&&e){var l=li(r).hoistableScripts,h=bs(e),f=l.get(h);f||(f=r.querySelector(Kl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&$f(e,n),f=r.createElement("script"),St(f),Gt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function j1(e,n){Ki.M(e,n);var r=Ts;if(r&&e){var l=li(r).hoistableScripts,h=bs(e),f=l.get(h);f||(f=r.querySelector(Kl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&$f(e,n),f=r.createElement("script"),St(f),Gt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Qy(e,n,r,l){var h=(h=De.current)?Yu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ss(r.href),r=li(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ss(r.href);var f=li(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Ql(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||I1(h,e,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bs(r),r=li(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ss(e){return'href="'+nn(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function Ky(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function I1(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",r),St(n),e.head.appendChild(n))}function bs(e){return'[src="'+nn(e)+'"]'}function Kl(e){return"script[async]"+e}function Yy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(l)return n.instance=l,St(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),St(l),Gt(l,"style",h),Xu(l,r.precedence,e),n.instance=l;case"stylesheet":h=Ss(r.href);var f=e.querySelector(Ql(h));if(f)return n.state.loading|=4,n.instance=f,St(f),f;l=Ky(r),(h=Mn.get(h))&&Xf(l,h),f=(e.ownerDocument||e).createElement("link"),St(f);var _=f;return _._p=new Promise(function(b,j){_.onload=b,_.onerror=j}),Gt(f,"link",l),n.state.loading|=4,Xu(f,r.precedence,e),n.instance=f;case"script":return f=bs(r.src),(h=e.querySelector(Kl(f)))?(n.instance=h,St(h),h):(l=r,(h=Mn.get(f))&&(l=S({},r),$f(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),St(h),Gt(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Xu(l,r.precedence,e));return n.instance}function Xu(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $u=null;function Xy(e,n,r){if($u===null){var l=new Map,h=$u=new Map;h.set(r,l)}else h=$u,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[Tt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var b=l.get(_);b?b.push(f):l.set(_,[f])}}return l}function $y(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function V1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function M1(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ss(l.href),f=n.querySelector(Ql(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Zu.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,St(f);return}f=n.ownerDocument||n,l=Ky(l),(h=Mn.get(h))&&Xf(l,h),f=f.createElement("link"),St(f);var _=f;_._p=new Promise(function(b,j){_.onload=b,_.onerror=j}),Gt(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Zu.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Zf=0;function O1(e,n){return e.stylesheets&&e.count===0&&Wu(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Zf===0&&(Zf=62500*g1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Zf?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function Wu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,n.forEach(k1,e),Ju=null,Zu.call(e))}function k1(e,n){if(!(n.state.loading&4)){var r=Ju.get(e);if(r)var l=r.get(null);else{r=new Map,Ju.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,h),r.set(_,h),this.count++,l=Zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Yl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function L1(e,n,r,l,h,f,_,b,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Jy(e,n,r,l,h,f,_,b,j,G,Z,te){return e=new L1(e,n,r,_,j,G,Z,te,b),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Ch(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Vh(f),e}function Wy(e){return e?(e=es,e):es}function ev(e,n,r,l,h,f){h=Wy(h),l.context===null?l.context=h:l.pendingContext=h,l=_a(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ea(e,l,n),r!==null&&(un(r,e,n),wl(r,e,n))}function tv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Jf(e,n){tv(e,n),(e=e.alternate)&&tv(e,n)}function nv(e){if(e.tag===13||e.tag===31){var n=mr(e,67108864);n!==null&&un(n,e,67108864),Jf(e,67108864)}}function iv(e){if(e.tag===13||e.tag===31){var n=En();n=nr(n);var r=mr(e,n);r!==null&&un(r,e,n),Jf(e,n)}}var ec=!0;function z1(e,n,r,l){var h=Q.T;Q.T=null;var f=re.p;try{re.p=2,Wf(e,n,r,l)}finally{re.p=f,Q.T=h}}function U1(e,n,r,l){var h=Q.T;Q.T=null;var f=re.p;try{re.p=8,Wf(e,n,r,l)}finally{re.p=f,Q.T=h}}function Wf(e,n,r,l){if(ec){var h=ed(l);if(h===null)Uf(e,n,l,tc,r),rv(e,l);else if(B1(h,e,n,r,l))l.stopPropagation();else if(rv(e,l),n&4&&-1<P1.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ti(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var j=1<<31-ft(_);b.entanglements[1]|=j,_&=~j}Ei(f),(Fe&6)===0&&(Lu=Jt()+500,ql(0))}}break;case 31:case 13:b=mr(f,2),b!==null&&un(b,f,2),Uu(),Jf(f,2)}if(f=ed(l),f===null&&Uf(e,n,l,tc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Uf(e,n,l,null,r)}}function ed(e){return e=An(e),td(e)}var tc=null;function td(e){if(tc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return tc=e,null}function av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case Zs:return 2;case Js:return 8;case aa:case sh:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var nd=!1,ja=null,Ia=null,Va=null,Xl=new Map,$l=new Map,Ma=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(e,n){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&nv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function B1(e,n,r,l,h){switch(n){case"focusin":return ja=Zl(ja,e,n,r,l,h),!0;case"dragenter":return Ia=Zl(Ia,e,n,r,l,h),!0;case"mouseover":return Va=Zl(Va,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Xl.set(f,Zl(Xl.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,$l.set(f,Zl($l.get(f)||null,e,n,r,l,h)),!0}return!1}function sv(e){var n=si(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){iv(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){iv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=ed(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);cl=l,r.target.dispatchEvent(l),cl=null}else return n=bn(r),n!==null&&nv(n),e.blockedOn=r,!1;n.shift()}return!0}function lv(e,n,r){nc(e)&&r.delete(n)}function q1(){nd=!1,ja!==null&&nc(ja)&&(ja=null),Ia!==null&&nc(Ia)&&(Ia=null),Va!==null&&nc(Va)&&(Va=null),Xl.forEach(lv),$l.forEach(lv)}function ic(e,n){e.blockedOn===n&&(e.blockedOn=null,nd||(nd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,q1)))}var ac=null;function ov(e){ac!==e&&(ac=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(td(l||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,Wh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function As(e){function n(j){return ic(j,e)}ja!==null&&ic(ja,e),Ia!==null&&ic(Ia,e),Va!==null&&ic(Va,e),Xl.forEach(n),$l.forEach(n);for(var r=0;r<Ma.length;r++){var l=Ma[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ma.length&&(r=Ma[0],r.blockedOn===null);)sv(r),r.blockedOn===null&&Ma.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],_=h[Ot]||null;if(typeof f=="function")_||ov(r);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ot]||null)b=_.formAction;else if(td(h)!==null)continue}else b=_.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),ov(r)}}}function uv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function id(e){this._internalRoot=e}rc.prototype.render=id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=En();ev(r,l,e,n,null,null)},rc.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ev(e.current,2,null,e,null,null),Uu(),n[ai]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Uo();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ma.length&&n!==0&&n<Ma[r].priority;r++);Ma.splice(r,0,e),r===0&&sv(e)}};var cv=t.version;if(cv!=="19.2.0")throw Error(s(527,cv,"19.2.0"));re.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var H1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{zn=sc.inject(H1),Ut=sc}catch{}}return Wl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",h=yp,f=vp,_=_p;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Jy(e,1,!1,null,null,r,l,null,h,f,_,uv),e[ai]=n.current,zf(e),new id(n)},Wl.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,h="",f=yp,_=vp,b=_p,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),n=Jy(e,1,!0,n,r??null,l,h,j,f,_,b,uv),n.context=Wy(null),r=n.current,l=En(),l=nr(l),h=_a(l),h.callback=null,Ea(r,h,l),r=l,n.current.lanes=r,er(n,r),Ei(n),e[ai]=n.current,zf(e),new rc(n)},Wl.version="19.2.0",Wl}var Ev;function W1(){if(Ev)return sd.exports;Ev=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),sd.exports=J1(),sd.exports}var eS=W1();var Tv="popstate";function tS(a={}){function t(s,o){let{pathname:c,search:d,hash:p}=s.location;return Td("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:co(o)}return iS(t,i,null,a)}function ot(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function $n(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nS(){return Math.random().toString(36).substring(2,10)}function Sv(a,t){return{usr:a.state,key:a.key,idx:t}}function Td(a,t,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?zs(t):t,state:i,key:t&&t.key||s||nS()}}function co({pathname:a="/",search:t="",hash:i=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function zs(a){let t={};if(a){let i=a.indexOf("#");i>=0&&(t.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function iS(a,t,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",v=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function S(){p="POP";let U=T(),J=U==null?null:U-y;y=U,v&&v({action:p,location:q.location,delta:J})}function R(U,J){p="PUSH";let ne=Td(q.location,U,J);y=T()+1;let ae=Sv(ne,y),ye=q.createHref(ne);try{d.pushState(ae,"",ye)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ye)}c&&v&&v({action:p,location:q.location,delta:1})}function O(U,J){p="REPLACE";let ne=Td(q.location,U,J);y=T();let ae=Sv(ne,y),ye=q.createHref(ne);d.replaceState(ae,"",ye),c&&v&&v({action:p,location:q.location,delta:0})}function P(U){return aS(U)}let q={get action(){return p},get location(){return a(o,d)},listen(U){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(Tv,S),v=U,()=>{o.removeEventListener(Tv,S),v=null}},createHref(U){return t(o,U)},createURL:P,encodeLocation(U){let J=P(U);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:O,go(U){return d.go(U)}};return q}function aS(a,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ot(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:co(a);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Z_(a,t,i="/"){return rS(a,t,i,!1)}function rS(a,t,i,s){let o=typeof t=="string"?zs(t):t,c=$i(o.pathname||"/",i);if(c==null)return null;let d=J_(a);sS(d);let p=null;for(let v=0;p==null&&v<d.length;++v){let y=yS(c);p=gS(d[v],y,s)}return p}function J_(a,t=[],i=[],s="",o=!1){let c=(d,p,v=o,y)=>{let T={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&v)return;ot(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=Yi([s,T.relativePath]),R=i.concat(T);d.children&&d.children.length>0&&(ot(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),J_(d.children,t,R,S,v)),!(d.path==null&&!d.index)&&t.push({path:S,score:dS(S,d.index),routesMeta:R})};return a.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let v of W_(d.path))c(d,p,!0,v)}),t}function W_(a){let t=a.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=W_(s.join("/")),p=[];return p.push(...d.map(v=>v===""?c:[c,v].join("/"))),o&&p.push(...d),p.map(v=>a.startsWith("/")&&v===""?"/":v)}function sS(a){a.sort((t,i)=>t.score!==i.score?i.score-t.score:mS(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var lS=/^:[\w-]+$/,oS=3,uS=2,cS=1,hS=10,fS=-2,bv=a=>a==="*";function dS(a,t){let i=a.split("/"),s=i.length;return i.some(bv)&&(s+=fS),t&&(s+=uS),i.filter(o=>!bv(o)).reduce((o,c)=>o+(lS.test(c)?oS:c===""?cS:hS),s)}function mS(a,t){return a.length===t.length&&a.slice(0,-1).every((s,o)=>s===t[o])?a[a.length-1]-t[t.length-1]:0}function gS(a,t,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let p=0;p<s.length;++p){let v=s[p],y=p===s.length-1,T=c==="/"?t:t.slice(c.length)||"/",S=Tc({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},T),R=v.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=Tc({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Yi([c,S.pathname]),pathnameBase:SS(Yi([c,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(c=Yi([c,S.pathnameBase]))}return d}function Tc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=pS(a.path,a.caseSensitive,a.end),o=t.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},R)=>{if(T==="*"){let P=p[R]||"";d=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const O=p[R];return S&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function pS(a,t=!1,i=!0){$n(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,v)=>(s.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function yS(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function $i(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_S=a=>vS.test(a);function ES(a,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?zs(a):a,c;if(i)if(_S(i))c=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${i}`)}i.startsWith("/")?c=Av(i.substring(1),"/"):c=Av(i,t)}else c=t;return{pathname:c,search:bS(s),hash:AS(o)}}function Av(a,t){let i=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function cd(a,t,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TS(a){return a.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function eE(a){let t=TS(a);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function tE(a,t,i,s=!1){let o;typeof a=="string"?o=zs(a):(o={...a},ot(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=i;else{let S=t.length-1;if(!s&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}p=S>=0?t[S]:"/"}let v=ES(o,p),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(y||T)&&(v.pathname+="/"),v}var Yi=a=>a.join("/").replace(/\/\/+/g,"/"),SS=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),bS=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,AS=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function xS(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nE=["POST","PUT","PATCH","DELETE"];new Set(nE);var wS=["GET",...nE];new Set(wS);var Us=L.createContext(null);Us.displayName="DataRouter";var Lc=L.createContext(null);Lc.displayName="DataRouterState";L.createContext(!1);var iE=L.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var RS=L.createContext(new Map);RS.displayName="Fetchers";var NS=L.createContext(null);NS.displayName="Await";var Ri=L.createContext(null);Ri.displayName="Navigation";var bo=L.createContext(null);bo.displayName="Location";var ta=L.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var Yd=L.createContext(null);Yd.displayName="RouteError";function CS(a,{relative:t}={}){ot(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(Ri),{hash:o,pathname:c,search:d}=xo(a,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Yi([i,c])),s.createHref({pathname:p,search:d,hash:o})}function Ao(){return L.useContext(bo)!=null}function na(){return ot(Ao(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(bo).location}var aE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rE(a){L.useContext(Ri).static||L.useLayoutEffect(a)}function Xd(){let{isDataRoute:a}=L.useContext(ta);return a?qS():DS()}function DS(){ot(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext(Us),{basename:t,navigator:i}=L.useContext(Ri),{matches:s}=L.useContext(ta),{pathname:o}=na(),c=JSON.stringify(eE(s)),d=L.useRef(!1);return rE(()=>{d.current=!0}),L.useCallback((v,y={})=>{if($n(d.current,aE),!d.current)return;if(typeof v=="number"){i.go(v);return}let T=tE(v,JSON.parse(c),o,y.relative==="path");a==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Yi([t,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[t,i,c,o,a])}L.createContext(null);function xo(a,{relative:t}={}){let{matches:i}=L.useContext(ta),{pathname:s}=na(),o=JSON.stringify(eE(i));return L.useMemo(()=>tE(a,JSON.parse(o),s,t==="path"),[a,o,s,t])}function jS(a,t){return sE(a,t)}function sE(a,t,i,s,o){ot(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Ri),{matches:d}=L.useContext(ta),p=d[d.length-1],v=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let ne=S&&S.path||"";lE(y,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let R=na(),O;if(t){let ne=typeof t=="string"?zs(t):t;ot(T==="/"||ne.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),O=ne}else O=R;let P=O.pathname||"/",q=P;if(T!=="/"){let ne=T.replace(/^\//,"").split("/");q="/"+P.replace(/^\//,"").split("/").slice(ne.length).join("/")}let U=Z_(a,{pathname:q});$n(S||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),$n(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=kS(U&&U.map(ne=>Object.assign({},ne,{params:Object.assign({},v,ne.params),pathname:Yi([T,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?T:Yi([T,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),d,i,s,o);return t&&J?L.createElement(bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},J):J}function IS(){let a=BS(),t=xS(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),i?L.createElement("pre",{style:o},i):null,d)}var VS=L.createElement(IS,null),MS=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?L.createElement(ta.Provider,{value:this.props.routeContext},L.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OS({routeContext:a,match:t,children:i}){let s=L.useContext(Us);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(ta.Provider,{value:a},i)}function kS(a,t=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let c=a,d=i?.errors;if(d!=null){let T=c.findIndex(S=>S.route.id&&d?.[S.route.id]!==void 0);ot(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,v=-1;if(i)for(let T=0;T<c.length;T++){let S=c[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(v=T),S.route.id){let{loaderData:R,errors:O}=i,P=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!O||O[S.route.id]===void 0);if(S.route.lazy||P){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}let y=i&&s?(T,S)=>{s(T,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:S})}:void 0;return c.reduceRight((T,S,R)=>{let O,P=!1,q=null,U=null;i&&(O=d&&S.route.id?d[S.route.id]:void 0,q=S.route.errorElement||VS,p&&(v<0&&R===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,U=null):v===R&&(P=!0,U=S.route.hydrateFallbackElement||null)));let J=t.concat(c.slice(0,R+1)),ne=()=>{let ae;return O?ae=q:P?ae=U:S.route.Component?ae=L.createElement(S.route.Component,null):S.route.element?ae=S.route.element:ae=T,L.createElement(OS,{match:S,routeContext:{outlet:T,matches:J,isDataRoute:i!=null},children:ae})};return i&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?L.createElement(MS,{location:i.location,revalidation:i.revalidation,component:q,error:O,children:ne(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):ne()},null)}function $d(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(a){let t=L.useContext(Us);return ot(t,$d(a)),t}function zS(a){let t=L.useContext(Lc);return ot(t,$d(a)),t}function US(a){let t=L.useContext(ta);return ot(t,$d(a)),t}function Zd(a){let t=US(a),i=t.matches[t.matches.length-1];return ot(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function PS(){return Zd("useRouteId")}function BS(){let a=L.useContext(Yd),t=zS("useRouteError"),i=Zd("useRouteError");return a!==void 0?a:t.errors?.[i]}function qS(){let{router:a}=LS("useNavigate"),t=Zd("useNavigate"),i=L.useRef(!1);return rE(()=>{i.current=!0}),L.useCallback(async(o,c={})=>{$n(i.current,aE),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...c}))},[a,t])}var xv={};function lE(a,t,i){!t&&!xv[a]&&(xv[a]=!0,$n(!1,i))}L.memo(HS);function HS({routes:a,future:t,state:i,unstable_onError:s}){return sE(a,void 0,i,s,t)}function On(a){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:a="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ot(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=zs(i));let{pathname:v="/",search:y="",hash:T="",state:S=null,key:R="default"}=i,O=L.useMemo(()=>{let P=$i(v,d);return P==null?null:{location:{pathname:P,search:y,hash:T,state:S,key:R},navigationType:s}},[d,v,y,T,S,R,s]);return $n(O!=null,`<Router basename="${d}"> is not able to match the URL "${v}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:L.createElement(Ri.Provider,{value:p},L.createElement(bo.Provider,{children:t,value:O}))}function FS({children:a,location:t}){return jS(Sd(a),t)}function Sd(a,t=[]){let i=[];return L.Children.forEach(a,(s,o)=>{if(!L.isValidElement(s))return;let c=[...t,o];if(s.type===L.Fragment){i.push.apply(i,Sd(s.props.children,c));return}ot(s.type===On,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Sd(s.props.children,c)),i.push(d)}),i}var dc="get",mc="application/x-www-form-urlencoded";function zc(a){return a!=null&&typeof a.tagName=="string"}function QS(a){return zc(a)&&a.tagName.toLowerCase()==="button"}function KS(a){return zc(a)&&a.tagName.toLowerCase()==="form"}function YS(a){return zc(a)&&a.tagName.toLowerCase()==="input"}function XS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function $S(a,t){return a.button===0&&(!t||t==="_self")&&!XS(a)}var lc=null;function ZS(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var JS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(a){return a!=null&&!JS.has(a)?($n(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):a}function WS(a,t){let i,s,o,c,d;if(KS(a)){let p=a.getAttribute("action");s=p?$i(p,t):null,i=a.getAttribute("method")||dc,o=hd(a.getAttribute("enctype"))||mc,c=new FormData(a)}else if(QS(a)||YS(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=a.getAttribute("formaction")||p.getAttribute("action");if(s=v?$i(v,t):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||dc,o=hd(a.getAttribute("formenctype"))||hd(p.getAttribute("enctype"))||mc,c=new FormData(p,a),!ZS()){let{name:y,type:T,value:S}=a;if(T==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,S)}}else{if(zc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=dc,s=null,o=mc,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jd(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function eb(a,t,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&$i(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function tb(a,t){if(a.id in t)return t[a.id];try{let i=await import(a.module);return t[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nb(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ib(a,t,i){let s=await Promise.all(a.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await tb(c,i);return d.links?d.links():[]}return[]}));return lb(s.flat(1).filter(nb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(a,t,i,s,o,c){let d=(v,y)=>i[y]?v.route.id!==i[y].route.id:!0,p=(v,y)=>i[y].pathname!==v.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==v.params["*"];return c==="assets"?t.filter((v,y)=>d(v,y)||p(v,y)):c==="data"?t.filter((v,y)=>{let T=s.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(d(v,y)||p(v,y))return!0;if(v.route.shouldRevalidate){let S=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ab(a,t,{includeHydrateFallback:i}={}){return rb(a.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function rb(a){return[...new Set(a)]}function sb(a){let t={},i=Object.keys(a).sort();for(let s of i)t[s]=a[s];return t}function lb(a,t){let i=new Set;return new Set(t),a.reduce((s,o)=>{let c=JSON.stringify(sb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function oE(){let a=L.useContext(Us);return Jd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function ob(){let a=L.useContext(Lc);return Jd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Wd=L.createContext(void 0);Wd.displayName="FrameworkContext";function uE(){let a=L.useContext(Wd);return Jd(a,"You must render this element inside a <HydratedRouter> element"),a}function ub(a,t){let i=L.useContext(Wd),[s,o]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=t,R=L.useRef(null);L.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let q=J=>{J.forEach(ne=>{d(ne.isIntersecting)})},U=new IntersectionObserver(q,{threshold:.5});return R.current&&U.observe(R.current),()=>{U.disconnect()}}},[a]),L.useEffect(()=>{if(s){let q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(q)}}},[s]);let O=()=>{o(!0)},P=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,R,{}]:[c,R,{onFocus:eo(p,O),onBlur:eo(v,P),onMouseEnter:eo(y,O),onMouseLeave:eo(T,P),onTouchStart:eo(S,O)}]:[!1,R,{}]}function eo(a,t){return i=>{a&&a(i),i.defaultPrevented||t(i)}}function cb({page:a,...t}){let{router:i}=oE(),s=L.useMemo(()=>Z_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?L.createElement(fb,{page:a,matches:s,...t}):null}function hb(a){let{manifest:t,routeModules:i}=uE(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return ib(a,t,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,t,i]),s}function fb({page:a,matches:t,...i}){let s=na(),{manifest:o,routeModules:c}=uE(),{basename:d}=oE(),{loaderData:p,matches:v}=ob(),y=L.useMemo(()=>wv(a,t,v,o,s,"data"),[a,t,v,o,s]),T=L.useMemo(()=>wv(a,t,v,o,s,"assets"),[a,t,v,o,s]),S=L.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let P=new Set,q=!1;if(t.forEach(J=>{let ne=o.routes[J.route.id];!ne||!ne.hasLoader||(!y.some(ae=>ae.route.id===J.route.id)&&J.route.id in p&&c[J.route.id]?.shouldRevalidate||ne.hasClientLoader?q=!0:P.add(J.route.id))}),P.size===0)return[];let U=eb(a,d,"data");return q&&P.size>0&&U.searchParams.set("_routes",t.filter(J=>P.has(J.route.id)).map(J=>J.route.id).join(",")),[U.pathname+U.search]},[d,p,s,o,y,t,a,c]),R=L.useMemo(()=>ab(T,o),[T,o]),O=hb(T);return L.createElement(L.Fragment,null,S.map(P=>L.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...i})),R.map(P=>L.createElement("link",{key:P,rel:"modulepreload",href:P,...i})),O.map(({key:P,link:q})=>L.createElement("link",{key:P,nonce:i.nonce,...q})))}function db(...a){return t=>{a.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.9.6")}catch{}function mb({basename:a,children:t,window:i}){let s=L.useRef();s.current==null&&(s.current=tS({window:i,v5Compat:!0}));let o=s.current,[c,d]=L.useState({action:o.action,location:o.location}),p=L.useCallback(v=>{L.startTransition(()=>d(v))},[d]);return L.useLayoutEffect(()=>o.listen(p),[o,p]),L.createElement(GS,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:o})}var hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=L.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:v,to:y,preventScrollReset:T,viewTransition:S,...R},O){let{basename:P}=L.useContext(Ri),q=typeof y=="string"&&hE.test(y),U,J=!1;if(typeof y=="string"&&q&&(U=y,cE))try{let C=new URL(window.location.href),M=y.startsWith("//")?new URL(C.protocol+y):new URL(y),I=$i(M.pathname,P);M.origin===C.origin&&I!=null?y=I+M.search+M.hash:J=!0}catch{$n(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=CS(y,{relative:o}),[ae,ye,se]=ub(s,R),ge=vb(y,{replace:d,state:p,target:v,preventScrollReset:T,relative:o,viewTransition:S});function N(C){t&&t(C),C.defaultPrevented||ge(C)}let w=L.createElement("a",{...R,...se,href:U||ne,onClick:J||c?t:N,ref:db(O,ye),target:v,"data-discover":!q&&i==="render"?"true":void 0});return ae&&!q?L.createElement(L.Fragment,null,w,L.createElement(cb,{page:ne})):w});pt.displayName="Link";var gb=L.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:v,...y},T){let S=xo(d,{relative:y.relative}),R=na(),O=L.useContext(Lc),{navigator:P,basename:q}=L.useContext(Ri),U=O!=null&&bb(S)&&p===!0,J=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,ne=R.pathname,ae=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(ne=ne.toLowerCase(),ae=ae?ae.toLowerCase():null,J=J.toLowerCase()),ae&&q&&(ae=$i(ae,q)||ae);const ye=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let se=ne===J||!o&&ne.startsWith(J)&&ne.charAt(ye)==="/",ge=ae!=null&&(ae===J||!o&&ae.startsWith(J)&&ae.charAt(J.length)==="/"),N={isActive:se,isPending:ge,isTransitioning:U},w=se?t:void 0,C;typeof s=="function"?C=s(N):C=[s,se?"active":null,ge?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(N):c;return L.createElement(pt,{...y,"aria-current":w,className:C,ref:T,style:M,to:d,viewTransition:p},typeof v=="function"?v(N):v)});gb.displayName="NavLink";var pb=L.forwardRef(({discover:a="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:c,method:d=dc,action:p,onSubmit:v,relative:y,preventScrollReset:T,viewTransition:S,...R},O)=>{let P=Tb(),q=Sb(p,{relative:y}),U=d.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&hE.test(p),ne=ae=>{if(v&&v(ae),ae.defaultPrevented)return;ae.preventDefault();let ye=ae.nativeEvent.submitter,se=ye?.getAttribute("formmethod")||d;P(ye||ae.currentTarget,{fetcherKey:t,method:se,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:S})};return L.createElement("form",{ref:O,method:U,action:q,onSubmit:s?v:ne,...R,"data-discover":!J&&a==="render"?"true":void 0})});pb.displayName="Form";function yb(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(a){let t=L.useContext(Us);return ot(t,yb(a)),t}function vb(a,{target:t,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Xd(),v=na(),y=xo(a,{relative:c});return L.useCallback(T=>{if($S(T,t)){T.preventDefault();let S=i!==void 0?i:co(v)===co(y);p(a,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[v,p,y,i,s,t,a,o,c,d])}var _b=0,Eb=()=>`__${String(++_b)}__`;function Tb(){let{router:a}=fE("useSubmit"),{basename:t}=L.useContext(Ri),i=PS();return L.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:v,body:y}=WS(s,t);if(o.navigate===!1){let T=o.fetcherKey||Eb();await a.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,i])}function Sb(a,{relative:t}={}){let{basename:i}=L.useContext(Ri),s=L.useContext(ta);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...xo(a||".",{relative:t})},d=na();if(a==null){c.search=d.search;let p=new URLSearchParams(c.search),v=p.getAll("index");if(v.some(T=>T==="")){p.delete("index"),v.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();c.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Yi([i,c.pathname])),co(c)}function bb(a,{relative:t}={}){let i=L.useContext(iE);ot(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fE("useViewTransitionState"),o=xo(a,{relative:t});if(!i.isTransitioning)return!1;let c=$i(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=$i(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Tc(o.pathname,d)!=null||Tc(o.pathname,c)!=null}const dE=L.createContext(void 0);function Ps(){const a=L.useContext(dE);if(!a)throw new Error("useCart must be used within a CartProvider");return a}function Ab({children:a}){const[t,i]=L.useState(()=>{try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch{return[]}});L.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const s=y=>{const T=y.selectedIngredients?.reduce((S,R)=>S+(R.extraPrice||0),0)||0;return y.price+T};function o(y){i(T=>{const S=y.id+(y.selectedIngredients?.map(P=>P.name).sort().join("-")||""),R=T.find(P=>P.id===S),O=s(y);return R?T.map(P=>P.id===S?{...P,qty:P.qty+y.qty}:P):[...T,{...y,id:S,qty:y.qty,price:O}]})}function c(y,T){i(S=>T<=0?S.filter(R=>R.id!==y):S.map(R=>R.id===y?{...R,qty:T}:R))}function d(y){i(T=>T.filter(S=>S.id!==y))}function p(){i([])}const v=t.reduce((y,T)=>y+T.price*T.qty,0);return m.jsx(dE.Provider,{value:{items:t,addItem:o,updateQty:c,removeItem:d,clear:p,total:v},children:a})}function mE(a){return m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...a,children:m.jsx("path",{d:"M7.2 3.1 5.4 4.3c-.8.5-1.2 1.5-1 2.4.9 4.2 4 7.7 8.1 8.9.9.3 1.9 0 2.4-.8l1.3-1.9c.4-.6.2-1.5-.4-2l-1.6-1.1c-.6-.4-1.3-.3-1.8.2l-.7.8c-1.2-.5-2.4-1.7-2.9-2.9l.8-.7c.5-.5.6-1.3.2-1.9L9.2 3.4C8.8 2.8 7.9 2.7 7.2 3.1Z",fill:"currentColor"})})}function xb({className:a=""}){return m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:a,"aria-hidden":"true",children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M8 6V4h8v2"}),m.jsx("path",{d:"M6 6l1 14h10l1-14"}),m.jsx("path",{d:"M10 11v6"}),m.jsx("path",{d:"M14 11v6"})]})}function Uc(a){return m.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...a,children:[m.jsx("path",{d:"M7.3 5h13.2l-1.3 7.4c-.2 1-1 1.6-2 1.6H9.2c-1 0-1.8-.6-2-1.6L6 4H3.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("circle",{cx:"10",cy:"19",r:"1.4",fill:"currentColor"}),m.jsx("circle",{cx:"17",cy:"19",r:"1.4",fill:"currentColor"})]})}function em(a){return m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...a,children:m.jsx("path",{d:"M5 12h12.5M13 7.5 17.5 12 13 16.5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function Rv(a){return m.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...a,children:[m.jsx("path",{d:"M4.3 6.2 12 3.5l7.7 2.7L12 20.5 4.3 6.2Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinejoin:"round"}),m.jsx("circle",{cx:"12",cy:"9",r:"1.1",fill:"currentColor"}),m.jsx("circle",{cx:"9.5",cy:"12.2",r:"0.9",fill:"currentColor"}),m.jsx("circle",{cx:"14.7",cy:"13.3",r:"0.9",fill:"currentColor"})]})}function wb(a){return m.jsxs("svg",{...a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5",strokeWidth:"2"}),m.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",strokeWidth:"2"})]})}function Rb(a){return m.jsx("svg",{...a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M21 12.79A9 9 0 0 1 12.21 3a7 7 0 0 0 0 14 9 9 0 0 1 8.79-4.21z",strokeWidth:"2"})})}function Nb(a){return m.jsx("svg",{...a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M18 6L6 18M6 6l12 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Cb(){const[a,t]=L.useState(!1),{items:i}=Ps(),s=i.reduce((T,S)=>T+S.qty,0),[o,c]=L.useState(()=>localStorage.getItem("theme")==="dark");L.useEffect(()=>{const T=document.documentElement;o?T.setAttribute("data-theme","dark"):T.setAttribute("data-theme","light"),localStorage.setItem("theme",o?"dark":"light")},[o]);const p=na().pathname==="/",[v,y]=L.useState(!1);return L.useEffect(()=>{if(!p){y(!0);return}const T=()=>{y(window.scrollY>80)};return window.addEventListener("scroll",T),T(),()=>window.removeEventListener("scroll",T)},[p]),m.jsxs("header",{className:`header ${p?v?"header--visible":"header--hidden":"header--visible"} ${!p&&"header--not-home"}`,children:[m.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between p-4",children:[m.jsx(pt,{to:"/",className:"text-2xl font-extrabold",children:"Xanthos Pizza & Grill"}),m.jsxs("button",{className:`nav-toggle ${a?"nav-toggle-open":""}`,"aria-label":"bn/luk menu","aria-expanded":a,onClick:()=>t(T=>!T),children:[m.jsx("span",{}),m.jsx("span",{}),m.jsx("span",{})]}),m.jsxs("div",{className:"nav-right flex items-center gap-4",children:[m.jsxs("nav",{className:"hidden md:flex gap-4 items-center",children:[m.jsx(pt,{to:"/menu",children:"Menu"}),m.jsx(pt,{to:"/om-os",children:"Om os"}),m.jsx(pt,{to:"/kontakt",children:"Kontakt"}),m.jsxs(pt,{to:"/cart",className:"relative inline-block",children:[m.jsx(Uc,{style:{marginRight:"0.35rem"}}),"Kurv",m.jsx("span",{className:"ml-2 bg-white text-red-600 rounded-full px-2 py-0.5 text-xs font-semibold",children:s})]})]}),m.jsxs("a",{href:"tel:+4570123456",className:"hidden md:flex nav-phone items-center",children:[m.jsx(mE,{style:{marginRight:"0.35rem"}}),"Tlf. ",m.jsx("span",{children:"70 12 34 56"})]}),m.jsxs(pt,{to:"/bestil",className:"hidden md:flex nav-cta items-center",children:["Bestil takeaway",m.jsx(em,{style:{marginLeft:"0.4rem"}})]}),m.jsx("button",{className:"theme-toggle p-2 rounded-full border border-gray-300 dark:border-gray-600",onClick:()=>c(T=>!T),children:o?m.jsx(wb,{}):m.jsx(Rb,{})})]})]}),m.jsx("div",{className:`nav-mobile ${a?"nav-mobile--open":""}`,children:m.jsxs("nav",{className:"flex flex-col gap-4 p-4",children:[m.jsx(pt,{to:"/menu",onClick:()=>t(!1),children:"Menu"}),m.jsx(pt,{to:"/om-os",onClick:()=>t(!1),children:"Om os"}),m.jsx(pt,{to:"/kontakt",onClick:()=>t(!1),children:"Kontakt"}),m.jsxs(pt,{to:"/cart",onClick:()=>t(!1),children:["Kurv (",s,")"]}),m.jsx("a",{href:"tel:+4570123456",onClick:()=>t(!1),children:"Tlf. 70 12 34 56"}),m.jsx(pt,{to:"/bestil",className:"nav-cta-full",onClick:()=>t(!1),children:"Bestil takeaway"})]})})]})}function Db(){return m.jsx("footer",{className:"footer-glass",children:m.jsxs("div",{className:"glass-box",children:[m.jsxs("div",{className:"brand",children:[m.jsx("h3",{children:"Xanthos Pizza & Grill"}),m.jsxs("p",{children:[" ",new Date().getFullYear()," Starpack APS  MKaan"]})]}),m.jsxs("div",{className:"glass-links",children:[m.jsx("a",{href:"/om-os",children:"Om os"}),m.jsx("a",{href:"/kontakt",children:"Kontakt"}),m.jsx("a",{href:"/privacy",children:"Privacy Policy"})]})]})})}const jb=()=>{};var Nv={};const gE=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ib=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],p=a[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(v>>10)),t[s++]=String.fromCharCode(56320+(v&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,p=d?a[o+1]:0,v=o+2<a.length,y=v?a[o+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let R=(p&15)<<2|y>>6,O=y&63;v||(O=64,d||(R=64)),s.push(i[T],i[S],i[R],i[O])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(gE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):Ib(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new Vb;const R=c<<2|p>>4;if(s.push(R),y!==64){const O=p<<4&240|y>>2;if(s.push(O),S!==64){const P=y<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(a){const t=gE(a);return pE.encodeByteArray(t,!0)},Sc=function(a){return Mb(a).replace(/\./g,"")},Ob=function(a){try{return pE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>kb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof Nv>"u")return;const a=Nv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Ub=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Ob(a[1]);return t&&JSON.parse(t)},tm=()=>{try{return jb()||Lb()||zb()||Ub()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Pb=a=>tm()?.emulatorHosts?.[a],Bb=a=>{const t=Pb(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},yE=()=>tm()?.config;class qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function nm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hb(a){return(await fetch(a,{credentials:"include"})).ok}function Gb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Sc(JSON.stringify(i)),Sc(JSON.stringify(d)),""].join(".")}const ro={};function Fb(){const a={prod:[],emulator:[]};for(const t of Object.keys(ro))ro[t]?a.emulator.push(t):a.prod.push(t);return a}function Qb(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let Cv=!1;function Kb(a,t){if(typeof window>"u"||typeof document>"u"||!nm(window.location.host)||ro[a]===t||ro[a]||Cv)return;ro[a]=t;function i(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=Fb().prod.length>0;function d(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,O){R.setAttribute("width","24"),R.setAttribute("id",O),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Cv=!0,d()},R}function T(R,O){R.setAttribute("id",O),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=Qb(s),O=i("text"),P=document.getElementById(O)||document.createElement("span"),q=i("learnmore"),U=document.getElementById(q)||document.createElement("a"),J=i("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ae=R.element;p(ae),T(U,q);const ye=y();v(ne,J),ae.append(ne,P,U,ye),document.body.appendChild(ae)}c?(P.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Yb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){const a=tm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return!Xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Wb="FirebaseError";class Bs extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=Wb,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vE.prototype.create)}}class vE{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?eA(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Bs(o,p,s)}}function eA(a,t){return a.replace(tA,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const tA=/\{\$([^}]+)}/g;function bc(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=t[o];if(Dv(c)&&Dv(d)){if(!bc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Dv(a){return a!==null&&typeof a=="object"}function Zi(a){return a&&a._delegate?a._delegate:a}class ho{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Rr="[DEFAULT]";class nA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new qb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aA(t))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Rr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rr){return this.instances.has(t)}getOptions(t=Rr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Rr){return this.component?this.component.multipleInstances?t:Rr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iA(a){return a===Rr?void 0:a}function aA(a){return a.instantiationMode==="EAGER"}class rA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new nA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Be||(Be={}));const sA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},lA=Be.INFO,oA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},uA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),o=oA[t];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _E{constructor(t){this.name=t,this._logLevel=lA,this._logHandler=uA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...t),this._logHandler(this,Be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...t),this._logHandler(this,Be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...t),this._logHandler(this,Be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...t),this._logHandler(this,Be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...t),this._logHandler(this,Be.ERROR,...t)}}const cA=(a,t)=>t.some(i=>a instanceof i);let jv,Iv;function hA(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fA(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,bd=new WeakMap,TE=new WeakMap,fd=new WeakMap,im=new WeakMap;function dA(a){const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(La(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&EE.set(i,a)}).catch(()=>{}),im.set(t,a),t}function mA(a){if(bd.has(a))return;const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});bd.set(a,t)}let Ad={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return bd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||TE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return La(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function gA(a){Ad=a(Ad)}function pA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(dd(this),t,...i);return TE.set(s,t.sort?t.sort():[t]),La(s)}:fA().includes(a)?function(...t){return a.apply(dd(this),t),La(EE.get(this))}:function(...t){return La(a.apply(dd(this),t))}}function yA(a){return typeof a=="function"?pA(a):(a instanceof IDBTransaction&&mA(a),cA(a,hA())?new Proxy(a,Ad):a)}function La(a){if(a instanceof IDBRequest)return dA(a);if(fd.has(a))return fd.get(a);const t=yA(a);return t!==a&&(fd.set(a,t),im.set(t,a)),t}const dd=a=>im.get(a);function vA(a,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,t),p=La(d);return s&&d.addEventListener("upgradeneeded",v=>{s(La(d.result),v.oldVersion,v.newVersion,La(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const _A=["get","getKey","getAll","getAllKeys","count"],EA=["put","add","delete","clear"],md=new Map;function Vv(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(md.get(t))return md.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=EA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_A.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return md.set(t,c),c}gA(a=>({...a,get:(t,i,s)=>Vv(t,i)||a.get(t,i,s),has:(t,i)=>!!Vv(t,i)||a.has(t,i)}));class TA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function SA(a){return a.getComponent()?.type==="VERSION"}const xd="@firebase/app",Mv="0.14.6";const Ji=new _E("@firebase/app"),bA="@firebase/app-compat",AA="@firebase/analytics-compat",xA="@firebase/analytics",wA="@firebase/app-check-compat",RA="@firebase/app-check",NA="@firebase/auth",CA="@firebase/auth-compat",DA="@firebase/database",jA="@firebase/data-connect",IA="@firebase/database-compat",VA="@firebase/functions",MA="@firebase/functions-compat",OA="@firebase/installations",kA="@firebase/installations-compat",LA="@firebase/messaging",zA="@firebase/messaging-compat",UA="@firebase/performance",PA="@firebase/performance-compat",BA="@firebase/remote-config",qA="@firebase/remote-config-compat",HA="@firebase/storage",GA="@firebase/storage-compat",FA="@firebase/firestore",QA="@firebase/ai",KA="@firebase/firestore-compat",YA="firebase",XA="12.6.0";const wd="[DEFAULT]",$A={[xd]:"fire-core",[bA]:"fire-core-compat",[xA]:"fire-analytics",[AA]:"fire-analytics-compat",[RA]:"fire-app-check",[wA]:"fire-app-check-compat",[NA]:"fire-auth",[CA]:"fire-auth-compat",[DA]:"fire-rtdb",[jA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[VA]:"fire-fn",[MA]:"fire-fn-compat",[OA]:"fire-iid",[kA]:"fire-iid-compat",[LA]:"fire-fcm",[zA]:"fire-fcm-compat",[UA]:"fire-perf",[PA]:"fire-perf-compat",[BA]:"fire-rc",[qA]:"fire-rc-compat",[HA]:"fire-gcs",[GA]:"fire-gcs-compat",[FA]:"fire-fst",[KA]:"fire-fst-compat",[QA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};const Ac=new Map,ZA=new Map,Rd=new Map;function Ov(a,t){try{a.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function xc(a){const t=a.name;if(Rd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Rd.set(t,a);for(const i of Ac.values())Ov(i,a);for(const i of ZA.values())Ov(i,a);return!0}function JA(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function WA(a){return a==null?!1:a.settings!==void 0}const ex={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new vE("app","Firebase",ex);class tx{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}const nx=XA;function SE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:wd,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw za.create("bad-app-name",{appName:String(o)});if(i||(i=yE()),!i)throw za.create("no-options");const c=Ac.get(o);if(c){if(bc(i,c.options)&&bc(s,c.config))return c;throw za.create("duplicate-app",{appName:o})}const d=new rA(o);for(const v of Rd.values())d.addComponent(v);const p=new tx(i,s,d);return Ac.set(o,p),p}function ix(a=wd){const t=Ac.get(a);if(!t&&a===wd&&yE())return SE();if(!t)throw za.create("no-app",{appName:a});return t}function Cs(a,t,i){let s=$A[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${t}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}xc(new ho(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const ax="firebase-heartbeat-database",rx=1,fo="firebase-heartbeat-store";let gd=null;function bE(){return gd||(gd=vA(ax,rx,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(fo)}catch(i){console.warn(i)}}}}).catch(a=>{throw za.create("idb-open",{originalErrorMessage:a.message})})),gd}async function sx(a){try{const i=(await bE()).transaction(fo),s=await i.objectStore(fo).get(AE(a));return await i.done,s}catch(t){if(t instanceof Bs)Ji.warn(t.message);else{const i=za.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function kv(a,t){try{const s=(await bE()).transaction(fo,"readwrite");await s.objectStore(fo).put(t,AE(a)),await s.done}catch(i){if(i instanceof Bs)Ji.warn(i.message);else{const s=za.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(s.message)}}}function AE(a){return`${a.name}!${a.options.appId}`}const lx=1024,ox=30;class ux{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hx(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>ox){const o=fx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Lv(),{heartbeatsToSend:i,unsentEntries:s}=cx(this._heartbeatsCache.heartbeats),o=Sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ji.warn(t),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function cx(a,t=lx){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),zv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),zv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class hx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function zv(a){return Sc(JSON.stringify({version:2,heartbeats:a})).length}function fx(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function dx(a){xc(new ho("platform-logger",t=>new TA(t),"PRIVATE")),xc(new ho("heartbeat",t=>new ux(t),"PRIVATE")),Cs(xd,Mv,a),Cs(xd,Mv,"esm2020"),Cs("fire-js","")}dx("");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ua,xE;(function(){var a;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,I,k){for(var x=Array(arguments.length-2),be=2;be<arguments.length;be++)x[be-2]=arguments[be];return w.prototype[I].apply(M,x)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)M[I]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(I=0;I<16;++I)M[I]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],I=N.g[2];let k=N.g[3],x;x=w+(k^C&(I^k))+M[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+M[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+M[2]+606105819&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+M[3]+3250441966&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(k^C&(I^k))+M[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+M[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+M[6]+2821735955&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+M[7]+4249261313&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(k^C&(I^k))+M[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+M[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+M[10]+4294925233&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+M[11]+2304563134&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(k^C&(I^k))+M[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+M[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+M[14]+2792965006&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+M[15]+1236535329&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(I^k&(C^I))+M[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+M[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+M[11]+643717713&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+M[0]+3921069994&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(C^I))+M[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+M[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+M[15]+3634488961&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+M[4]+3889429448&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(C^I))+M[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+M[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+M[3]+4107603335&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+M[8]+1163531501&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(C^I))+M[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+M[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+M[7]+1735328473&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+M[12]+2368359562&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(C^I^k)+M[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+M[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+M[11]+1839030562&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+M[14]+4259657740&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^k)+M[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+M[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+M[7]+4139469664&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+M[10]+3200236656&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^k)+M[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+M[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+M[3]+3572445317&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+M[6]+76029189&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^k)+M[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+M[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+M[15]+530742520&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+M[2]+3299628645&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(I^(C|~k))+M[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+M[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+M[14]+2878612391&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+M[5]+4237533241&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~k))+M[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+M[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+M[10]+4293915773&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+M[1]+2240044497&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~k))+M[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+M[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+M[6]+2734768916&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+M[13]+1309151649&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~k))+M[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+M[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+M[2]+718787259&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,M=this.C;let I=this.h,k=0;for(;k<w;){if(I==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(M[I++]=N.charCodeAt(k++),I==this.blockSize){o(this,M),I=0;break}}else for(;k<w;)if(M[I++]=N[k++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[w++]=this.g[C]>>>M&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let M=!0;for(let I=N.length-1;I>=0;I--){const k=N[I]|0;M&&k==w||(C[I]=k,M=!1)}this.g=C}var p={};function v(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return U(y(-N));const w=[];let C=1;for(let M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return U(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let M=S;for(let k=0;k<N.length;k+=8){var I=Math.min(8,N.length-k);const x=parseInt(N.substring(k,k+I),w);I<8?(I=y(Math.pow(w,I)),M=M.j(I).add(y(x))):(M=M.j(C),M=M.add(y(x)))}return M}var S=v(0),R=v(1),O=v(16777216);a=d.prototype,a.m=function(){if(q(this))return-U(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(q(this))return"-"+U(this).toString(N);const w=y(Math.pow(N,6));var C=this;let M="";for(;;){const I=ye(C,w).g;C=J(C,I.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=I,P(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function q(N){return N.h==-1}a.l=function(N){return N=J(this,N),q(N)?-1:P(N)?0:1};function U(N){const w=N.g.length,C=[];for(let M=0;M<w;M++)C[M]=~N.g[M];return new d(C,~N.h).add(R)}a.abs=function(){return q(this)?U(this):this},a.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let I=0;I<=w;I++){let k=M+(this.i(I)&65535)+(N.i(I)&65535),x=(k>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);M=x>>>16,k&=65535,x&=65535,C[I]=x<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function J(N,w){return N.add(U(w))}a.j=function(N){if(P(this)||P(N))return S;if(q(this))return q(N)?U(this).j(U(N)):U(U(this).j(N));if(q(N))return U(this.j(U(N)));if(this.l(O)<0&&N.l(O)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<N.g.length;I++){const k=this.i(M)>>>16,x=this.i(M)&65535,be=N.i(I)>>>16,oe=N.i(I)&65535;C[2*M+2*I]+=x*oe,ne(C,2*M+2*I),C[2*M+2*I+1]+=k*oe,ne(C,2*M+2*I+1),C[2*M+2*I+1]+=x*be,ne(C,2*M+2*I+1),C[2*M+2*I+2]+=k*be,ne(C,2*M+2*I+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function ne(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ae(N,w){this.g=N,this.h=w}function ye(N,w){if(P(w))throw Error("division by zero");if(P(N))return new ae(S,S);if(q(N))return w=ye(U(N),w),new ae(U(w.g),U(w.h));if(q(w))return w=ye(N,U(w)),new ae(U(w.g),w.h);if(N.g.length>30){if(q(N)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var C=R,M=w;M.l(N)<=0;)C=se(C),M=se(M);var I=ge(C,1),k=ge(M,1);for(M=ge(M,2),C=ge(C,2);!P(M);){var x=k.add(M);x.l(N)<=0&&(I=I.add(C),k=x),M=ge(M,1),C=ge(C,1)}return w=J(N,I.j(w)),new ae(I,w)}for(I=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(C),x=k.j(w);q(x)||x.l(N)>0;)C-=M,k=y(C),x=k.j(w);P(k)&&(k=R),I=I.add(k),N=J(N,x)}return new ae(I,N)}a.B=function(N){return ye(this,N).h},a.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},a.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},a.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function se(N){const w=N.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function ge(N,w){const C=w>>5;w%=32;const M=N.g.length-C,I=[];for(let k=0;k<M;k++)I[k]=w>0?N.i(k+C)>>>w|N.i(k+C+1)<<32-w:N.i(k+C);return new d(I,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,xE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Ua=d}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wE,to,RE,gc,Nd,NE,CE,DE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)e:{var E=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var B=u[A];if(!(B in E))break e;E=E[B]}u=u[u.length-1],A=E[u],g=g(A),g!=A&&g!=null&&t(E,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var E=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&E.push([A,g[A]]);return E}});var c=c||{},d=this||self;function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,E){return u.call.apply(u.bind,arguments)}function y(u,g,E){return y=v,y.apply(null,arguments)}function T(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,g){function E(){}E.prototype=g.prototype,u.Z=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,B,K){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return g.prototype[B].apply(A,ue)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const g=u.length;if(g>0){const E=Array(g);for(let A=0;A<g;A++)E[A]=u[A];return E}return[]}function P(u,g){for(let A=1;A<arguments.length;A++){const B=arguments[A];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=u.length||0;const K=B.length||0;u.length=E+K;for(let ue=0;ue<K;ue++)u[E+ue]=B[ue]}else u.push(B)}}class q{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function U(u){d.setTimeout(()=>{throw u},0)}function J(){var u=N;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ne{constructor(){this.h=this.g=null}add(g,E){const A=ae.get();A.set(g,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new q(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ge=!1,N=new ne,w=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(C)}};function C(){for(var u;u=J();){try{u.h.call(u.g)}catch(E){U(E)}var g=ae;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,g),d.removeEventListener("test",E,g)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function be(u,g){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}S(be,I),be.prototype.init=function(u,g){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function re(u,g,E,A,B){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!A,this.ha=B,this.key=++Q,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Re(u,g,E){for(const A in u)g.call(E,u[A],A,u)}function $(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function D(u){const g={};for(const E in u)g[E]=u[E];return g}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,g){let E,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(E in A)u[E]=A[E];for(let K=0;K<X.length;K++)E=X[K],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,g,E,A,B){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ue=De(u,g,A,B);return ue>-1?(g=u[ue],E||(g.fa=!1)):(g=new re(g,this.src,K,!!A,B),g.fa=E,u.push(g)),g};function Se(u,g){const E=g.type;if(E in u.g){var A=u.g[E],B=Array.prototype.indexOf.call(A,g,void 0),K;(K=B>=0)&&Array.prototype.splice.call(A,B,1),K&&(de(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function De(u,g,E,A){for(let B=0;B<u.length;++B){const K=u[B];if(!K.da&&K.listener==g&&K.capture==!!E&&K.ha==A)return B}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),jt={};function rt(u,g,E,A,B){if(Array.isArray(g)){for(let K=0;K<g.length;K++)rt(u,g[K],E,A,B);return null}return E=$s(E),u&&u[oe]?u.J(g,E,p(A)?!!A.capture:!1,B):$a(u,g,E,!1,A,B)}function $a(u,g,E,A,B,K){if(!g)throw Error("Invalid event type");const ue=p(B)?!!B.capture:!!B;let Ne=Za(u);if(Ne||(u[Ue]=Ne=new fe(u)),E=Ne.add(g,E,A,ue,K),E.proxy)return E;if(A=Or(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)k||(B=ue),B===void 0&&(B=!1),u.addEventListener(g.toString(),A,B);else if(u.attachEvent)u.attachEvent(Wn(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Or(){function u(E){return g.call(u.src,u.listener,E)}const g=Ys;return u}function kr(u,g,E,A,B){if(Array.isArray(g))for(var K=0;K<g.length;K++)kr(u,g[K],E,A,B);else A=p(A)?!!A.capture:!!A,E=$s(E),u&&u[oe]?(u=u.i,K=String(g).toString(),K in u.g&&(g=u.g[K],E=De(g,E,A,B),E>-1&&(de(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete u.g[K],u.h--)))):u&&(u=Za(u))&&(g=u.g[g.toString()],u=-1,g&&(u=De(g,E,A,B)),(E=u>-1?g[u]:null)&&Lr(E))}function Lr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[oe])Se(g.i,u);else{var E=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(E,A,u.capture):g.detachEvent?g.detachEvent(Wn(E),A):g.addListener&&g.removeListener&&g.removeListener(A),(E=Za(g))?(Se(E,u),E.h==0&&(E.src=null,g[Ue]=null)):de(u)}}}function Wn(u){return u in jt?jt[u]:jt[u]="on"+u}function Ys(u,g){if(u.da)u=!0;else{g=new be(g,this);const E=u.listener,A=u.ha||u.src;u.fa&&Lr(u),u=E.call(A,g)}return u}function Za(u){return u=u[Ue],u instanceof fe?u:null}var Xs="__closure_events_fn_"+(Math.random()*1e9>>>0);function $s(u){return typeof u=="function"?u:(u[Xs]||(u[Xs]=function(g){return u.handleEvent(g)}),u[Xs])}function _t(){M.call(this),this.i=new fe(this),this.M=this,this.G=null}S(_t,M),_t.prototype[oe]=!0,_t.prototype.removeEventListener=function(u,g,E,A){kr(this,u,g,E,A)};function It(u,g){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new I(g,u);else if(g instanceof I)g.target=g.target||u;else{var B=g;g=new I(A,u),le(g,B)}B=!0;let K,ue;if(E)for(ue=E.length-1;ue>=0;ue--)K=g.g=E[ue],B=ia(K,A,!0,g)&&B;if(K=g.g=u,B=ia(K,A,!0,g)&&B,B=ia(K,A,!1,g)&&B,E)for(ue=0;ue<E.length;ue++)K=g.g=E[ue],B=ia(K,A,!1,g)&&B}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const E=u.g[g];for(let A=0;A<E.length;A++)de(E[A]);delete u.g[g],u.h--}}this.G=null},_t.prototype.J=function(u,g,E,A){return this.i.add(String(u),g,!1,E,A)},_t.prototype.K=function(u,g,E,A){return this.i.add(String(u),g,!0,E,A)};function ia(u,g,E,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let K=0;K<g.length;++K){const ue=g[K];if(ue&&!ue.da&&ue.capture==E){const Ne=ue.listener,dt=ue.ha||ue.src;ue.fa&&Se(u.i,ue),B=Ne.call(dt,A)!==!1&&B}}return B&&!A.defaultPrevented}function rh(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function Io(u){u.g=rh(()=>{u.g=null,u.i&&(u.i=!1,Io(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Jt extends M{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(u){M.call(this),this.h=u,this.g={}}S(Ja,M);var Zs=[];function Js(u){Re(u.g,function(g,E){this.g.hasOwnProperty(E)&&Lr(g)},u),u.g={}}Ja.prototype.N=function(){Ja.Z.N.call(this),Js(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=d.JSON.stringify,sh=d.JSON.parse,Vo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Mo(){}function Oo(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){I.call(this,"d")}S(Ut,I);function Sn(){I.call(this,"c")}S(Sn,I);var ft={},ko=null;function zr(){return ko=ko||new _t}ft.Ia="serverreachability";function Lo(u){I.call(this,ft.Ia,u)}S(Lo,I);function ei(u){const g=zr();It(g,new Lo(g))}ft.STAT_EVENT="statevent";function Wa(u,g){I.call(this,ft.STAT_EVENT,u),this.stat=g}S(Wa,I);function Et(u){const g=zr();It(g,new Wa(g,u))}ft.Ja="timingevent";function ti(u,g){I.call(this,ft.Ja,u),this.size=g}S(ti,I);function ni(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function lh(u,g,E,A,B,K){u.info(function(){if(u.g)if(K){var ue="",Ne=K.split("&");for(let Ge=0;Ge<Ne.length;Ge++){var dt=Ne[Ge].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const wn=st.split("_");ue=wn.length>=2&&wn[1]=="type"?ue+(st+"="+dt+"&"):ue+(st+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+g+`
`+E+`
`+ue})}function zo(u,g,E,A,B,K,ue){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+g+`
`+E+`
`+K+" "+ue})}function ii(u,g,E,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+oh(u,E)+(A?" "+A:"")})}function er(u,g){u.info(function(){return"TIMEOUT: "+g})}Un.prototype.info=function(){};function oh(u,g){if(!u.g)return g;if(!g)return null;try{const K=JSON.parse(g);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var E=K[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return aa(K)}catch{return g}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ws={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function nr(){}S(nr,Mo),nr.prototype.g=function(){return new XMLHttpRequest},el=new nr;function Ci(u){return encodeURIComponent(String(u))}function Uo(u){var g=1;u=u.split(":");const E=[];for(;g>0&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function Pn(u,g,E,A){this.j=u,this.i=g,this.l=E,this.S=A||1,this.V=new Ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Tt={},Ot={};function ai(u,g,E){u.M=1,u.A=ir(bt(g)),u.u=E,u.R=!0,Ur(u,null)}function Ur(u,g){u.F=Date.now(),ri(u),u.B=bt(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Hr(E.i,"t",A),u.C=0,E=u.j.L,u.h=new Bn,u.g=eu(u.j,E?g:null,!u.u),u.P>0&&(u.O=new Jt(y(u.Y,u,u.g),u.P)),g=u.V,E=u.g,A=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(Zs[0]=B.toString()),B=Zs);for(let K=0;K<B.length;K++){const ue=rt(E,B[K],A||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ei(),lh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Gn(u)==3?g.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Gn(this.g),dt=this.g.ya(),Ge=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Pt(this.g)))){this.K||Ne!=4||dt==7||(dt==8||Ge<=0?ei(3):ei(2)),si(this);var g=this.g.ca();this.X=g;var E=uh(this);if(this.o=g==200,zo(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var K=A;break t}}K=null}if(u=K)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,Et(12),fn(this),bn(this);break e}}if(this.R){u=!0;let st;for(;!this.K&&this.C<E.length;)if(st=Bo(this,E),st==Ot){Ne==4&&(this.m=4,Et(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(st==Tt){this.m=4,Et(15),ii(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,st,null),li(this,st);if(Po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,E,"[Invalid Chunked Response]"),fn(this),bn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gl(ue),ue.P=!0,Et(11))}}else ii(this.i,this.l,E,null),li(this,E);Ne==4&&fn(this),this.o&&!this.K&&(Ne==4?$o(this.j,this):(this.o=!1,ri(this)))}else ji(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),fn(this),bn(this)}}}catch{}finally{}};function uh(u){if(!Po(u))return u.g.la();const g=Pt(u.g);if(g==="")return"";let E="";const A=g.length,B=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<A;K++)u.h.h=!0,E+=u.h.i.decode(g[K],{stream:!(B&&K==A-1)});return g.length=0,u.h.g+=E,u.C=0,u.h.g}function Po(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Bo(u,g){var E=u.C,A=g.indexOf(`
`,E);return A==-1?Ot:(E=Number(g.substring(E,A)),isNaN(E)?Tt:(A+=1,A+E>g.length?Ot:(g=g.slice(A,A+E),u.C=A+E,g)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Pr(u,u.H)}function Pr(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),g)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(er(this.i,this.B),this.M!=2&&(ei(),Et(17)),fn(this),this.m=2,bn(this)):Pr(this,this.T-u)};function bn(u){u.j.I==0||u.K||$o(u.j,u)}function fn(u){si(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Js(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function li(u,g){try{var E=u.j;if(E.I!=0&&(E.g==u||ui(E.h,u))){if(!u.L&&ui(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Yr(E),fa(E);else break e;cr(E),Et(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ni(y(E.Va,E),6e3));oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else gi(E,11)}else if((u.L||E.g==u)&&Yr(E),!x(g))for(B=E.Ba.g.parse(g),g=0;g<B.length;g++){let Ge=B[g];const st=Ge[0];if(!(st<=E.K))if(E.K=st,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const wn=Ge[3];wn!=null&&(E.ka=wn,E.j.info("VER="+E.ka));const pi=Ge[4];pi!=null&&(E.za=pi,E.j.info("SVER="+E.za));const Fn=Ge[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(A=1.5*Fn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Qn=u.g;if(Qn){const hr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var K=A.h;K.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(il(K,K.h),K.h=null))}if(A.G){const Xr=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(A.wa=Xr,Ke(A.J,A.G,Xr))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ue=u;if(A.na=Wo(A,A.L?A.ba:null,A.W),ue.L){al(A.h,ue);var Ne=ue,dt=A.O;dt&&(Ne.H=dt),Ne.D&&(si(Ne),ri(Ne)),A.g=ue}else Yo(A);E.i.length>0&&mi(E)}else Ge[0]!="stop"&&Ge[0]!="close"||gi(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?gi(E,7):dl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}ei(4)}catch{}}var St=class{constructor(u,g){this.g=u,this.map=g}};function tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function il(u,g){u.g?u.g.add(g):u.h=g}function al(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}tl.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.G);return g}return O(u.i)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Br(u,g){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let B,K=null;A>=0?(B=u[E].substring(0,A),K=u[E].substring(A+1)):B=u[E],g(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof dn?(this.l=u.l,kt(this,u.j),this.o=u.o,this.g=u.g,ra(this,u.u),this.h=u.h,sl(this,Qo(u.i)),this.m=u.m):u&&(g=String(u).match(qo))?(this.l=!1,kt(this,g[1]||"",!0),this.o=ci(g[2]||""),this.g=ci(g[3]||"",!0),ra(this,g[4]),this.h=ci(g[5]||"",!0),sl(this,g[6]||"",!0),this.m=ci(g[7]||"")):(this.l=!1,this.i=new la(null,this.l))}dn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ar(g,qr,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ar(g,qr,!0),"@"),u.push(Ci(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(ar(E,E.charAt(0)=="/"?ll:Ho,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",ar(E,Go)),u.join("")},dn.prototype.resolve=function(u){const g=bt(this);let E=!!u.j;E?kt(g,u.j):E=!!u.o,E?g.o=u.o:E=!!u.g,E?g.g=u.g:E=u.u!=null;var A=u.h;if(E)ra(g,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=g.h.lastIndexOf("/");B!=-1&&(A=g.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ue=0;ue<B.length;){const Ne=B[ue++];Ne=="."?A&&ue==B.length&&K.push(""):Ne==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&ue==B.length&&K.push("")):(K.push(Ne),A=!0)}A=K.join("/")}else A=B}return E?g.h=A:E=u.i.toString()!=="",E?sl(g,Qo(u.i)):E=!!u.m,E&&(g.m=u.m),g};function bt(u){return new dn(u)}function kt(u,g,E){u.j=E?ci(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ra(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function sl(u,g,E){g instanceof la?(u.i=g,Gr(u.i,u.l)):(E||(g=ar(g,sa)),u.i=new la(g,u.l))}function Ke(u,g,E){u.i.set(g,E)}function ir(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ar(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,nn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qr=/[#\/\?@]/g,Ho=/[#\?:]/g,ll=/[#\?]/g,sa=/[#\?@]/g,Go=/#/g;function la(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&Br(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}a=la.prototype,a.add=function(u,g){an(this),this.i=null,u=oa(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function Fo(u,g){an(u),g=oa(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function ol(u,g){return an(u),g=oa(u,g),u.g.has(g)}a.forEach=function(u,g){an(this),this.g.forEach(function(E,A){E.forEach(function(B){u.call(g,B,A,this)},this)},this)};function ul(u,g){an(u);let E=[];if(typeof g=="string")ol(u,g)&&(E=E.concat(u.g.get(oa(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)E=E.concat(u[g]);return E}a.set=function(u,g){return an(this),this.i=null,u=oa(this,u),ol(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=ul(this,u),u.length>0?String(u[0]):g):g};function Hr(u,g,E){Fo(u,g),E.length>0&&(u.i=null,u.g.set(oa(u,g),O(E)),u.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var E=g[A];const B=Ci(E);E=ul(this,E);for(let K=0;K<E.length;K++){let ue=B;E[K]!==""&&(ue+="="+Ci(E[K])),u.push(ue)}}return this.i=u.join("&")};function Qo(u){const g=new la;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function oa(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Gr(u,g){g&&!u.j&&(an(u),u.i=null,u.g.forEach(function(E,A){const B=A.toLowerCase();A!=B&&(Fo(this,A),Hr(this,B,E))},u)),u.j=g}function qn(u,g){const E=new Un;if(d.Image){const A=new Image;A.onload=T(An,E,"TestLoadImage: loaded",!0,g,A),A.onerror=T(An,E,"TestLoadImage: error",!1,g,A),A.onabort=T(An,E,"TestLoadImage: abort",!1,g,A),A.ontimeout=T(An,E,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function cl(u,g){const E=new Un,A=new AbortController,B=setTimeout(()=>{A.abort(),An(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(K=>{clearTimeout(B),K.ok?An(E,"TestPingServer: ok",!0,g):An(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),An(E,"TestPingServer: error",!1,g)})}function An(u,g,E,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(E)}catch{}}function ua(){this.g=new Vo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(hi,Mo),hi.prototype.g=function(){return new rr(this.i,this.h)};function rr(u,g){_t.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(rr,_t),a=rr.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Hn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ca(this):Hn(this),this.readyState==3&&Fr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ca(this))},a.Na=function(u){this.g&&(this.response=u,ca(this))},a.ga=function(){this.g&&ca(this)};function ca(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}a.setRequestHeader=function(u,g){this.A.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let g="";return Re(u,function(E,A){g+=A,g+=":",g+=E,g+=`\r
`}),g}function sr(u,g,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=xn(E),typeof u=="string"?E!=null&&Ci(E):Ke(u,g,E))}function $e(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,_t);var fi=/^https?$/i,hl=["POST","PUT"];a=$e.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,g,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(K){lr(this,K);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)E.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(hl,g,void 0)>=0)||A||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of E)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){lr(this,K)}};function lr(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,fl(u),Di(u)}function fl(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),$e.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?or(this):this.Xa())},a.Xa=function(){or(this)};function or(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var A;if(A=K===0){let ue=String(u.D).match(qo)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),A=!fi.test(ue?ue.toLowerCase():"")}E=A}if(E)It(u,"complete"),It(u,"success");else{u.o=6;try{var B=Gn(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",fl(u)}}finally{Di(u)}}}}function Di(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,g||It(u,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),sh(g)}};function Pt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const g={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var E=Uo(u[A]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=g[B]||[];g[B]=K,K.push(E)}$(g,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function ha(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(u&&u.concurrentRequestLimit),this.Ba=new ua,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ha.prototype,a.ka=8,a.I=1,a.connect=function(u,g,E,A){Et(0),this.W=u,this.H=g||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Wo(this,null,this.W),mi(this)};function dl(u){if(Qr(u),u.I==3){var g=u.V++,E=bt(u.J);if(Ke(E,"SID",u.M),Ke(E,"RID",g),Ke(E,"TYPE","terminate"),ur(u,E),g=new Pn(u,u.j,g),g.M=2,g.A=ir(bt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=g.A,E=!0),E||(g.g=eu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ri(g)}Jo(u)}function fa(u){u.g&&(gl(u),u.g.cancel(),u.g=null)}function Qr(u){fa(u),u.v&&(d.clearTimeout(u.v),u.v=null),Yr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!nl(u.h)&&!u.m){u.m=!0;var g=u.Ea;se||w(),ge||(se(),ge=!0),N.add(g,u),u.D=0}}function Kr(u,g){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,g),Zo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Pn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=D(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Ko(this,B,g),E=bt(this.J),Ke(E,"RID",u),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),ur(this,E),K&&(this.R?g="headers="+Ci(xn(K))+"&"+g:this.u&&sr(E,this.u,K)),il(this.h,B),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",g),Ke(E,"SID","null"),B.U=!0,ai(B,E,null)):ai(B,E,g),this.I=2}}else this.I==3&&(u?ml(this,u):this.i.length==0||nl(this.h)||ml(this))};function ml(u,g){var E;g?E=g.l:E=u.V++;const A=bt(u.J);Ke(A,"SID",u.M),Ke(A,"RID",E),Ke(A,"AID",u.K),ur(u,A),u.u&&u.o&&sr(A,u.u,u.o),E=new Pn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Ko(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),il(u.h,E),ai(E,A,g)}function ur(u,g){u.H&&Re(u.H,function(E,A){Ke(g,A,E)}),u.l&&Re({},function(E,A){Ke(g,A,E)})}function Ko(u,g,E){E=Math.min(u.i.length,E);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var B=u.i;let Ne=-1;for(;;){const dt=["count="+E];Ne==-1?E>0?(Ne=B[0].g,dt.push("ofs="+Ne)):Ne=0:dt.push("ofs="+Ne);let Ge=!0;for(let st=0;st<E;st++){var K=B[st].g;const wn=B[st].map;if(K-=Ne,K<0)Ne=Math.max(0,B[st].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var ue=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Fn]of ue){let Qn=Fn;p(Fn)&&(Qn=aa(Fn)),dt.push(K+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw dt.push(K+"type="+encodeURIComponent("_badmap")),pi}}catch{A&&A(wn)}}if(Ge){ue=dt.join("&");break e}}ue=void 0}return u=u.i.splice(0,E),g.G=u,ue}function Yo(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;se||w(),ge||(se(),ge=!0),N.add(g,u),u.A=0}}function cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),Zo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),fa(this),Xo(this))};function gl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Xo(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=bt(u.na);Ke(g,"RID","rpc"),Ke(g,"SID",u.M),Ke(g,"AID",u.K),Ke(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(g,"TO",u.ia),Ke(g,"TYPE","xmlhttp"),ur(u,g),u.u&&u.o&&sr(g,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=ir(bt(g)),E.u=null,E.R=!0,Ur(E,u)}a.Va=function(){this.C!=null&&(this.C=null,fa(this),cr(this),Et(19))};function Yr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $o(u,g){var E=null;if(u.g==g){Yr(u),gl(u),u.g=null;var A=2}else if(ui(u.h,g))E=g.G,al(u.h,g),A=1;else return;if(u.I!=0){if(g.o)if(A==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var B=u.D;A=zr(),It(A,new ti(A,E)),mi(u)}else Yo(u);else if(B=g.m,B==3||B==0&&g.X>0||!(A==1&&Kr(u,g)||A==2&&cr(u)))switch(E&&E.length>0&&(g=u.h,g.i=g.i.concat(E)),B){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Zo(u,g){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*g}function gi(u,g){if(u.j.info("Error code "+g),g==2){var E=y(u.bb,u),A=u.Ua;const B=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(A,"https"),ir(A),B?qn(A.toString(),E):cl(A.toString(),E)}else Et(2);u.I=0,u.l&&u.l.pa(g),Jo(u),Qr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Jo(u){if(u.I=0,u.ja=[],u.l){const g=rl(u.h);(g.length!=0||u.i.length!=0)&&(P(u.ja,g),P(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function Wo(u,g,E){var A=E instanceof dn?bt(E):new dn(E);if(A.g!="")g&&(A.g=g+"."+A.g),ra(A,A.u);else{var B=d.location;A=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const K=new dn(null);A&&kt(K,A),g&&(K.g=g),B&&ra(K,B),E&&(K.h=E),A=K}return E=u.G,g=u.wa,E&&g&&Ke(A,E,g),Ke(A,"VER",u.ka),ur(u,A),A}function eu(u,g,E){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new $e(new hi({ab:E})):new $e(u.ma),g.Fa(u.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}a=tu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function da(){}da.prototype.g=function(u,g){return new Wt(u,g)};function Wt(u,g){_t.call(this),this.g=new ha(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!x(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ii(this)}S(Wt,_t),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){dl(this.g)},Wt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=aa(u),u=E);g.i.push(new St(g.Ya++,u)),g.I==3&&mi(g)},Wt.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Wt.Z.N.call(this)};function nu(u){Ut.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}S(nu,Ut);function iu(){Sn.call(this),this.status=1}S(iu,Sn);function Ii(u){this.g=u}S(Ii,tu),Ii.prototype.ra=function(){It(this.g,"a")},Ii.prototype.qa=function(u){It(this.g,new nu(u))},Ii.prototype.pa=function(u){It(this.g,new iu)},Ii.prototype.oa=function(){It(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,DE=function(){return new da},CE=function(){return zr()},NE=ft,Nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,gc=tr,Ws.COMPLETE="complete",RE=Ws,Oo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,to=Oo,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,wE=$e}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const Pv="@firebase/firestore",Bv="4.9.3";class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let qs="12.7.0";const Dr=new _E("@firebase/firestore");function xs(){return Dr.logLevel}function he(a,...t){if(Dr.logLevel<=Be.DEBUG){const i=t.map(am);Dr.debug(`Firestore (${qs}): ${a}`,...i)}}function Wi(a,...t){if(Dr.logLevel<=Be.ERROR){const i=t.map(am);Dr.error(`Firestore (${qs}): ${a}`,...i)}}function Is(a,...t){if(Dr.logLevel<=Be.WARN){const i=t.map(am);Dr.warn(`Firestore (${qs}): ${a}`,...i)}}function am(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Te(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,jE(a,s,i)}function jE(a,t,i){let s=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function Qe(a,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||jE(t,o,s)}function we(a,t){return a}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Bs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class gx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class px{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qe(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let c=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xi,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new IE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qe(t===null||typeof t=="string",2055,{h:t}),new $t(t)}}class yx{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vx{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new yx(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _x{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,WA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qe(this.o===void 0,3512);const s=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ex(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ex(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function ke(a,t){return a<t?-1:a>t?1:0}function Cd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const o=a.charAt(s),c=t.charAt(s);if(o!==c)return pd(o)===pd(c)?ke(o,c):pd(o)?1:-1}return ke(a.length,t.length)}const Tx=55296,Sx=57343;function pd(a){const t=a.charCodeAt(0);return t>=Tx&&t<=Sx}function Vs(a,t,i){return a.length===t.length&&a.every(((s,o)=>i(s,t[o])))}const Hv="__name__";class Ti{constructor(t,i,s){i===void 0?i=0:i>t.length&&Te(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Te(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=Ti.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return ke(t.length,i.length)}static compareSegments(t,i){const s=Ti.isNumericId(t),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):Cd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ua.fromString(t.substring(4,t.length-2))}}class tt extends Ti{construct(t,i,s){return new tt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new tt(i)}static emptyPath(){return new tt([])}}const bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ti{construct(t,i,s){return new Qt(t,i,s)}static isValidIdentifier(t){return bx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new Qt([Hv])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(i)}static emptyPath(){return new Qt([])}}class _e{constructor(t){this.path=t}static fromPath(t){return new _e(tt.fromString(t))}static fromName(t){return new _e(tt.fromString(t).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return tt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _e(new tt(t.slice()))}}function VE(a,t,i){if(!i)throw new ce(ee.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Ax(a,t,i,s){if(t===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Gv(a){if(!_e.isDocumentKey(a))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Fv(a){if(_e.isDocumentKey(a))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function ME(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Pc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Te(12329,{type:typeof a})}function Zn(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pc(a);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function xx(a,t){if(t<=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}function Dt(a,t){const i={typeString:a};return t&&(i.value=t),i}function wo(a,t){if(!ME(a))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ce(ee.INVALID_ARGUMENT,i);return!0}const Qv=-62135596800,Kv=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(t){return nt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Kv);return new nt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Qv)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kv}_compareTo(t){return this.seconds===t.seconds?ke(this.nanoseconds,t.nanoseconds):ke(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wo(t,nt._jsonSchema))return new nt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Dt("string",nt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ae{static fromTimestamp(t){return new Ae(t)}static min(){return new Ae(new nt(0,0))}static max(){return new Ae(new nt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mo=-1;function wx(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new nt(i+1,0):new nt(i,s));return new Ba(o,_e.empty(),t)}function Rx(a){return new Ba(a.readTime,a.key,mo)}class Ba{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ba(Ae.min(),_e.empty(),mo)}static max(){return new Ba(Ae.max(),_e.empty(),mo)}}function Nx(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=_e.comparator(a.documentKey,t.documentKey),i!==0?i:ke(a.largestBatchId,t.largestBatchId))}const Cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Hs(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==Cx)throw a;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ie?i:ie.resolve(i)}catch(i){return ie.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ie.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ie.reject(i)}static resolve(t){return new ie(((i,s)=>{i(t)}))}static reject(t){return new ie(((i,s)=>{s(t)}))}static waitFor(t){return new ie(((i,s)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>s(v)))})),d=!0,c===o&&i()}))}static or(t){let i=ie.resolve(!1);for(const s of t)i=i.next((o=>o?ie.resolve(o):s()));return i}static forEach(t,i){const s=[];return t.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(t,i){return new ie(((s,o)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((T=>{d[y]=T,++p,p===c&&s(d)}),(T=>o(T)))}}))}static doWhile(t,i){return new ie(((s,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):s()};c()}))}}function jx(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gs(a){return a.name==="IndexedDbTransactionError"}class Bc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bc.ce=-1;const sm=-1;function qc(a){return a==null}function wc(a){return a===0&&1/a==-1/0}function Ix(a){return typeof a=="number"&&Number.isInteger(a)&&!wc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const OE="";function Vx(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Yv(t)),t=Mx(a.get(i),t);return Yv(t)}function Mx(a,t){let i=t;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case OE:i+="";break;default:i+=c}}return i}function Yv(a){return a+OE+""}function Xv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ka(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function kE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ut{constructor(t,i){this.comparator=t,this.root=i||Ft.EMPTY}insert(t,i){return new ut(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(t){return new ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uc(this.root,t,this.comparator,!0)}}class uc{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ft{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new Ft(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Te(27949);return t+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(t,i,s,o,c){return this}insert(t,i,s){return new Ft(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(t){this.comparator=t,this.data=new ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(t){return new $v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Mt)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Mt(this.comparator);return i.data=t,i}}class $v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Qt.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Mt(Qt.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Vs(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new LE("Invalid base64 string: "+c):c}})(t);return new Kt(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Kt(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ke(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(a){if(Qe(!!a,39018),typeof a=="string"){let t=0;const i=Ox.exec(a);if(Qe(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:yt(a.seconds),nanos:yt(a.nanos)}}function yt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ha(a){return typeof a=="string"?Kt.fromBase64String(a):Kt.fromUint8Array(a)}const zE="server_timestamp",UE="__type__",PE="__previous_value__",BE="__local_write_time__";function lm(a){return(a?.mapValue?.fields||{})[UE]?.stringValue===zE}function Hc(a){const t=a.mapValue.fields[PE];return lm(t)?Hc(t):t}function go(a){const t=qa(a.mapValue.fields[BE].timestampValue);return new nt(t.seconds,t.nanos)}class kx{constructor(t,i,s,o,c,d,p,v,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T}}const Rc="(default)";class po{constructor(t,i){this.projectId=t,this.database=i||Rc}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(t){return t instanceof po&&t.projectId===this.projectId&&t.database===this.database}}const qE="__type__",Lx="__max__",cc={mapValue:{}},HE="__vector__",Nc="value";function Ga(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?lm(a)?4:Ux(a)?9007199254740991:zx(a)?10:11:Te(28295,{value:a})}function wi(a,t){if(a===t)return!0;const i=Ga(a);if(i!==Ga(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return go(a).isEqual(go(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=qa(o.timestampValue),p=qa(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,c){return Ha(o.bytesValue).isEqual(Ha(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(a,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yt(o.doubleValue),p=yt(c.doubleValue);return d===p?wc(d)===wc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Vs(a.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Xv(d)!==Xv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!wi(d[v],p[v])))return!1;return!0})(a,t);default:return Te(52216,{left:a})}}function yo(a,t){return(a.values||[]).find((i=>wi(i,t)))!==void 0}function Ms(a,t){if(a===t)return 0;const i=Ga(a),s=Ga(t);if(i!==s)return ke(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=yt(c.integerValue||c.doubleValue),v=yt(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,t);case 3:return Zv(a.timestampValue,t.timestampValue);case 4:return Zv(go(a),go(t));case 5:return Cd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ha(c),v=Ha(d);return p.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const T=ke(p[y],v[y]);if(T!==0)return T}return ke(p.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=ke(yt(c.latitude),yt(d.latitude));return p!==0?p:ke(yt(c.longitude),yt(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Jv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Nc]?.arrayValue,T=v[Nc]?.arrayValue,S=ke(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Jv(y,T)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===cc.mapValue&&d===cc.mapValue)return 0;if(c===cc.mapValue)return 1;if(d===cc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const R=Cd(v[S],T[S]);if(R!==0)return R;const O=Ms(p[v[S]],y[T[S]]);if(O!==0)return O}return ke(v.length,T.length)})(a.mapValue,t.mapValue);default:throw Te(23264,{he:i})}}function Zv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return ke(a,t);const i=qa(a),s=qa(t),o=ke(i.seconds,s.seconds);return o!==0?o:ke(i.nanos,s.nanos)}function Jv(a,t){const i=a.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ms(i[o],s[o]);if(c)return c}return ke(i.length,s.length)}function Os(a){return Dd(a)}function Dd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=qa(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ha(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return _e.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Dd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Dd(i.fields[d])}`;return o+"}"})(a.mapValue):Te(61005,{value:a})}function pc(a){switch(Ga(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hc(a);return t?16+pc(t):16;case 5:return 2*a.stringValue.length;case 6:return Ha(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+pc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Ka(s.fields,((c,d)=>{o+=c.length+pc(d)})),o})(a.mapValue);default:throw Te(13486,{value:a})}}function Wv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function jd(a){return!!a&&"integerValue"in a}function om(a){return!!a&&"arrayValue"in a}function e_(a){return!!a&&"nullValue"in a}function t_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function yc(a){return!!a&&"mapValue"in a}function zx(a){return(a?.mapValue?.fields||{})[qE]?.stringValue===HE}function so(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ka(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=so(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=so(a.arrayValue.values[i]);return t}return{...a}}function Ux(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Lx}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=so(i)}setAll(t){let i=Qt.emptyPath(),s={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=so(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Ka(i,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new hn(so(this.value))}}function GE(a){const t=[];return Ka(a.fields,((i,s)=>{const o=new Qt([i]);if(yc(s)){const c=GE(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Tn(t)}class Zt{constructor(t,i,s,o,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Zt(t,0,Ae.min(),Ae.min(),Ae.min(),hn.empty(),0)}static newFoundDocument(t,i,s,o){return new Zt(t,1,i,Ae.min(),s,o,0)}static newNoDocument(t,i){return new Zt(t,2,i,Ae.min(),Ae.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Zt(t,3,i,Ae.min(),Ae.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cc{constructor(t,i){this.position=t,this.inclusive=i}}function n_(a,t,i){let s=0;for(let o=0;o<a.position.length;o++){const c=t[o],d=a.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),i.key):s=Ms(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function i_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!wi(a.position[i],t.position[i]))return!1;return!0}class vo{constructor(t,i="asc"){this.field=t,this.dir=i}}function Px(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class FE{}class Ct extends FE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new qx(t,i,s):i==="array-contains"?new Fx(t,s):i==="in"?new Qx(t,s):i==="not-in"?new Kx(t,s):i==="array-contains-any"?new Yx(t,s):new Ct(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Hx(t,s):new Gx(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ms(i,this.value)):i!==null&&Ga(this.value)===Ga(i)&&this.matchesComparison(Ms(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends FE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Jn(t,i)}matches(t){return QE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QE(a){return a.op==="and"}function KE(a){return Bx(a)&&QE(a)}function Bx(a){for(const t of a.filters)if(t instanceof Jn)return!1;return!0}function Id(a){if(a instanceof Ct)return a.field.canonicalString()+a.op.toString()+Os(a.value);if(KE(a))return a.filters.map((t=>Id(t))).join(",");{const t=a.filters.map((i=>Id(i))).join(",");return`${a.op}(${t})`}}function YE(a,t){return a instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)})(a,t):a instanceof Jn?(function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&YE(d,o.filters[p])),!0):!1})(a,t):void Te(19439)}function XE(a){return a instanceof Ct?(function(i){return`${i.field.canonicalString()} ${i.op} ${Os(i.value)}`})(a):a instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(XE).join(" ,")+"}"})(a):"Filter"}class qx extends Ct{constructor(t,i,s){super(t,i,s),this.key=_e.fromName(s.referenceValue)}matches(t){const i=_e.comparator(t.key,this.key);return this.matchesComparison(i)}}class Hx extends Ct{constructor(t,i){super(t,"in",i),this.keys=$E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Gx extends Ct{constructor(t,i){super(t,"not-in",i),this.keys=$E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function $E(a,t){return(t.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class Fx extends Ct{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return om(i)&&yo(i.arrayValue,this.value)}}class Qx extends Ct{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&yo(this.value.arrayValue,i)}}class Kx extends Ct{constructor(t,i){super(t,"not-in",i)}matches(t){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!yo(this.value.arrayValue,i)}}class Yx extends Ct{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>yo(this.value.arrayValue,s)))}}class Xx{constructor(t,i=null,s=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function a_(a,t=null,i=[],s=[],o=null,c=null,d=null){return new Xx(a,t,i,s,o,c,d)}function um(a){const t=we(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Id(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),qc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Os(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Os(s))).join(",")),t.Te=i}return t.Te}function cm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Px(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!YE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!i_(a.startAt,t.startAt)&&i_(a.endAt,t.endAt)}function Vd(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Fs{constructor(t,i=null,s=[],o=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $x(a,t,i,s,o,c,d,p){return new Fs(a,t,i,s,o,c,d,p)}function hm(a){return new Fs(a)}function r_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ZE(a){return a.collectionGroup!==null}function lo(a){const t=we(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt(Qt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new vo(c,s))})),i.has(Qt.keyField().canonicalString())||t.Ie.push(new vo(Qt.keyField(),s))}return t.Ie}function Si(a){const t=we(a);return t.Ee||(t.Ee=Zx(t,lo(a))),t.Ee}function Zx(a,t){if(a.limitType==="F")return a_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new vo(o.field,c)}));const i=a.endAt?new Cc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Cc(a.startAt.position,a.startAt.inclusive):null;return a_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Md(a,t){const i=a.filters.concat([t]);return new Fs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Dc(a,t,i){return new Fs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Gc(a,t){return cm(Si(a),Si(t))&&a.limitType===t.limitType}function JE(a){return`${um(Si(a))}|lt:${a.limitType}`}function ws(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>XE(o))).join(", ")}]`),qc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Os(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Os(o))).join(",")),`Target(${s})`})(Si(a))}; limitType=${a.limitType})`}function Fc(a,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,o){for(const c of lo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(a,t)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const y=n_(d,p,v);return d.inclusive?y<=0:y<0})(s.startAt,lo(s),o)||s.endAt&&!(function(d,p,v){const y=n_(d,p,v);return d.inclusive?y>=0:y>0})(s.endAt,lo(s),o))})(a,t)}function Jx(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function WE(a){return(t,i)=>{let s=!1;for(const o of lo(a)){const c=Wx(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function Wx(a,t,i){const s=a.field.isKeyField()?_e.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Ms(v,y):Te(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:a.dir})}}class Ir{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ka(this.inner,((i,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}const e2=new ut(_e.comparator);function ea(){return e2}const e0=new ut(_e.comparator);function no(...a){let t=e0;for(const i of a)t=t.insert(i.key,i);return t}function t0(a){let t=e0;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Nr(){return oo()}function n0(){return oo()}function oo(){return new Ir((a=>a.toString()),((a,t)=>a.isEqual(t)))}const t2=new ut(_e.comparator),n2=new Mt(_e.comparator);function Le(...a){let t=n2;for(const i of a)t=t.add(i);return t}const i2=new Mt(ke);function a2(){return i2}function fm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(t)?"-0":t}}function i0(a){return{integerValue:""+a}}function r2(a,t){return Ix(t)?i0(t):fm(a,t)}class Qc{constructor(){this._=void 0}}function s2(a,t,i){return a instanceof _o?(function(o,c){const d={fields:{[UE]:{stringValue:zE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&lm(c)&&(c=Hc(c)),c&&(d.fields[PE]=c),{mapValue:d}})(i,t):a instanceof Eo?r0(a,t):a instanceof To?s0(a,t):(function(o,c){const d=a0(o,c),p=s_(d)+s_(o.Ae);return jd(d)&&jd(o.Ae)?i0(p):fm(o.serializer,p)})(a,t)}function l2(a,t,i){return a instanceof Eo?r0(a,t):a instanceof To?s0(a,t):i}function a0(a,t){return a instanceof jc?(function(s){return jd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class _o extends Qc{}class Eo extends Qc{constructor(t){super(),this.elements=t}}function r0(a,t){const i=l0(t);for(const s of a.elements)i.some((o=>wi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class To extends Qc{constructor(t){super(),this.elements=t}}function s0(a,t){let i=l0(t);for(const s of a.elements)i=i.filter((o=>!wi(o,s)));return{arrayValue:{values:i}}}class jc extends Qc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function s_(a){return yt(a.integerValue||a.doubleValue)}function l0(a){return om(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class o2{constructor(t,i){this.field=t,this.transform=i}}function u2(a,t){return a.field.isEqual(t.field)&&(function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Vs(s.elements,o.elements,wi):s instanceof jc&&o instanceof jc?wi(s.Ae,o.Ae):s instanceof _o&&o instanceof _o})(a.transform,t.transform)}class c2{constructor(t,i){this.version=t,this.transformResults=i}}class Ln{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Kc{}function o0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new dm(a.key,Ln.none()):new Ro(a.key,a.data,Ln.none());{const i=a.data,s=hn.empty();let o=new Mt(Qt.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ya(a.key,s,new Tn(o.toArray()),Ln.none())}}function h2(a,t,i){a instanceof Ro?(function(o,c,d){const p=o.value.clone(),v=o_(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Ya?(function(o,c,d){if(!vc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=o_(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(u0(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function uo(a,t,i,s){return a instanceof Ro?(function(c,d,p,v){if(!vc(c.precondition,d))return p;const y=c.value.clone(),T=u_(c.fieldTransforms,v,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,s):a instanceof Ya?(function(c,d,p,v){if(!vc(c.precondition,d))return p;const y=u_(c.fieldTransforms,v,d),T=d.data;return T.setAll(u0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(c,d,p){return vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function f2(a,t){let i=null;for(const s of a.fieldTransforms){const o=t.data.field(s.field),c=a0(s.transform,o||null);c!=null&&(i===null&&(i=hn.empty()),i.set(s.field,c))}return i||null}function l_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vs(s,o,((c,d)=>u2(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ro extends Kc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ya extends Kc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function u0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function o_(a,t,i){const s=new Map;Qe(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,p=t.data.field(c.field);s.set(c.field,l2(d,p,i[o]))}return s}function u_(a,t,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,s2(c,d,t))}return s}class dm extends Kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends Kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m2{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&h2(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=n0();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=o0(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Le())}isEqual(t){return this.batchId===t.batchId&&Vs(this.mutations,t.mutations,((i,s)=>l_(i,s)))&&Vs(this.baseMutations,t.baseMutations,((i,s)=>l_(i,s)))}}class mm{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Qe(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return t2})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new mm(t,i,s,o)}}class g2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class p2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Nt,Pe;function y2(a){switch(a){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:a})}}function c0(a){if(a===void 0)return Wi("GRPC error has no .code"),ee.UNKNOWN;switch(a){case Nt.OK:return ee.OK;case Nt.CANCELLED:return ee.CANCELLED;case Nt.UNKNOWN:return ee.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ee.INTERNAL;case Nt.UNAVAILABLE:return ee.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ee.NOT_FOUND;case Nt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Nt.ABORTED:return ee.ABORTED;case Nt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Nt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:a})}}(Pe=Nt||(Nt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function v2(){return new TextEncoder}const _2=new Ua([4294967295,4294967295],0);function c_(a){const t=v2().encode(a),i=new xE;return i.update(t),new Uint8Array(i.digest())}function h_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ua([i,s],0),new Ua([o,c],0)]}class gm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new io(`Invalid padding: ${i}`);if(s<0)throw new io(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new io(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ua.fromNumber(this.ge)}ye(t,i,s){let o=t.add(i.multiply(Ua.fromNumber(s)));return o.compare(_2)===1&&(o=new Ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=c_(t),[s,o]=h_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new gm(c,o,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=c_(t),[s,o]=h_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yc{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,No.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Yc(Ae.min(),o,new ut(ke),ea(),Le())}}class No{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new No(s,i,Le(),Le(),Le())}}class _c{constructor(t,i,s,o){this.be=t,this.removedTargetIds=i,this.key=s,this.De=o}}class h0{constructor(t,i){this.targetId=t,this.Ce=i}}class f0{constructor(t,i,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class f_{constructor(){this.ve=0,this.Fe=d_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Le(),i=Le(),s=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:c})}})),new No(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=d_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ea(),this.Je=hc(),this.He=hc(),this.Ye=new ut(ke)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:Te(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,s=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Vd(c))if(s===0){const d=new _e(c.path);this.et(i,d,Zt.newNoDocument(d,Ae.min()))}else Qe(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Ha(s).toUint8Array()}catch(v){if(v instanceof LE)return Is("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new gm(d,o,c)}catch(v){return Is(v instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Vd(p.target)){const v=new _e(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Zt.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Le();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Yc(t,i,this.Ye,this.je,s);return this.je=ea(),this.Je=hc(),this.He=hc(),this.Ye=new ut(ke),o}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new f_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Mt(ke),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Mt(ke),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||he("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new f_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function hc(){return new ut(_e.comparator)}function d_(){return new ut(_e.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},S2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"};class A2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Od(a,t){return a.useProto3Json||qc(t)?t:{value:t}}function Ic(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function d0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function x2(a,t){return Ic(a,t.toTimestamp())}function bi(a){return Qe(!!a,49232),Ae.fromTimestamp((function(i){const s=qa(i);return new nt(s.seconds,s.nanos)})(a))}function pm(a,t){return kd(a,t).canonicalString()}function kd(a,t){const i=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function m0(a){const t=tt.fromString(a);return Qe(_0(t),10190,{key:t.toString()}),t}function Ld(a,t){return pm(a.databaseId,t.path)}function yd(a,t){const i=m0(t);if(i.get(1)!==a.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new _e(p0(i))}function g0(a,t){return pm(a.databaseId,t)}function w2(a){const t=m0(a);return t.length===4?tt.emptyPath():p0(t)}function zd(a){return new tt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function p0(a){return Qe(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function m_(a,t,i){return{name:Ld(a,t),fields:i.value.mapValue.fields}}function R2(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?ee.UNKNOWN:c0(y.code);return new ce(T,y.message||"")})(d);i=new f0(s,o,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=yd(a,s.document.name),c=bi(s.document.updateTime),d=s.document.createTime?bi(s.document.createTime):Ae.min(),p=new hn({mapValue:{fields:s.document.fields}}),v=Zt.newFoundDocument(o,c,d,p),y=s.targetIds||[],T=s.removedTargetIds||[];i=new _c(y,T,v.key,v)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=yd(a,s.document),c=s.readTime?bi(s.readTime):Ae.min(),d=Zt.newNoDocument(o,c),p=s.removedTargetIds||[];i=new _c([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=yd(a,s.document),c=s.removedTargetIds||[];i=new _c([],c,o,null)}else{if(!("filter"in t))return Te(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new p2(o,c),p=s.targetId;i=new h0(p,d)}}return i}function N2(a,t){let i;if(t instanceof Ro)i={update:m_(a,t.key,t.value)};else if(t instanceof dm)i={delete:Ld(a,t.key)};else if(t instanceof Ya)i={update:m_(a,t.key,t.data),updateMask:L2(t.fieldMask)};else{if(!(t instanceof d2))return Te(16599,{Vt:t.type});i={verify:Ld(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof _o)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:x2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(a,t.precondition)),i}function C2(a,t){return a&&a.length>0?(Qe(t!==void 0,14353),a.map((i=>(function(o,c){let d=o.updateTime?bi(o.updateTime):bi(c);return d.isEqual(Ae.min())&&(d=bi(c)),new c2(d,o.transformResults||[])})(i,t)))):[]}function D2(a,t){return{documents:[g0(a,t.path)]}}function j2(a,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=g0(a,o);const c=(function(y){if(y.length!==0)return v0(Jn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(R){return{field:Rs(R.field),direction:M2(R.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Od(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function I2(a){let t=w2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const R=y0(S);return R instanceof Jn&&KE(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((R=>(function(P){return new vo(Ns(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let R;return R=typeof S=="object"?S.value:S,qc(R)?null:R})(i.limit));let v=null;i.startAt&&(v=(function(S){const R=!!S.before,O=S.values||[];return new Cc(O,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const R=!S.before,O=S.values||[];return new Cc(O,R)})(i.endAt)),$x(t,o,d,c,p,"F",v,y)}function V2(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function y0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ns(i.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ns(i.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(i.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ns(i.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ct.create(Ns(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((s=>y0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(a):Te(30097,{filter:a})}function M2(a){return T2[a]}function O2(a){return S2[a]}function k2(a){return b2[a]}function Rs(a){return{fieldPath:a.canonicalString()}}function Ns(a){return Qt.fromServerFormat(a.fieldPath)}function v0(a){return a instanceof Ct?(function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NAN"}};if(e_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NAN"}};if(e_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(i.field),op:O2(i.op),value:i.value}}})(a):a instanceof Jn?(function(i){const s=i.getFilters().map((o=>v0(o)));return s.length===1?s[0]:{compositeFilter:{op:k2(i.op),filters:s}}})(a):Te(54877,{filter:a})}function L2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function _0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ka{constructor(t,i,s,o,c=Ae.min(),d=Ae.min(),p=Kt.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class z2{constructor(t){this.yt=t}}function U2(a){const t=I2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Dc(t,t.limit,"L"):t}class P2{constructor(){this.Cn=new B2}addToCollectionParentIndex(t,i){return this.Cn.add(i),ie.resolve()}getCollectionParents(t,i){return ie.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ie.resolve()}deleteFieldIndex(t,i){return ie.resolve()}deleteAllFieldIndexes(t){return ie.resolve()}createTargetIndexes(t,i){return ie.resolve()}getDocumentsMatchingTarget(t,i){return ie.resolve(null)}getIndexType(t,i){return ie.resolve(0)}getFieldIndexes(t,i){return ie.resolve([])}getNextCollectionGroupToUpdate(t){return ie.resolve(null)}getMinOffset(t,i){return ie.resolve(Ba.min())}getMinOffsetFromCollectionGroup(t,i){return ie.resolve(Ba.min())}updateCollectionGroup(t,i,s){return ie.resolve()}updateIndexEntries(t,i){return ie.resolve()}}class B2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Mt(tt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Mt(tt.comparator)).toArray()}}const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(E0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class ks{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ks(0)}static cr(){return new ks(-1)}}const p_="LruGarbageCollector",q2=1048576;function y_([a,t],[i,s]){const o=ke(a,i);return o===0?ke(t,s):o}class H2{constructor(t){this.Ir=t,this.buffer=new Mt(y_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();y_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class G2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){he(p_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gs(i)?he(p_,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.Vr(3e5)}))}}class F2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return ie.resolve(Bc.ce);const s=new H2(i);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(g_)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,o,c,d,p,v,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),xs()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function Q2(a,t){return new F2(a,t)}class K2{constructor(){this.changes=new Ir((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Zt.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?ie.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Y2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class X2{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(s!==null&&uo(s.mutation,o,Tn.empty(),nt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Le()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Le()){const o=Nr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,s).next((c=>{let d=no();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Nr();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Le())))}populateOverlays(t,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,o){let c=ea();const d=oo(),p=(function(){return oo()})();return i.forEach(((v,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ya)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),uo(T.mutation,y,T.mutation.getFieldMask(),nt.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new Y2(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=oo();let o=new ut(((d,p)=>d-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=s.get(v)||Tn.empty();T=p.applyToLocalView(y,T),s.set(v,T);const S=(o.get(p.batchId)||Le()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,T=v.value,S=n0();T.forEach((R=>{if(!c.has(R)){const O=o0(i.get(R),s.get(R));O!==null&&S.set(R,O),c=c.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return ie.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ZE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):ie.resolve(Nr());let p=mo,v=c;return d.next((y=>ie.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(t,T).next((R=>{v=v.insert(T,R)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Le()))).next((T=>({batchId:p,changes:t0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _e(i)).next((s=>{let o=no();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let d=no();return this.indexManager.getCollectionParents(t,c).next((p=>ie.forEach(p,(v=>{const y=(function(S,R){return new Fs(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((T=>{T.forEach(((S,R)=>{d=d.insert(S,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o)))).next((d=>{c.forEach(((v,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Zt.newInvalidDocument(T)))}));let p=no();return d.forEach(((v,y)=>{const T=c.get(v);T!==void 0&&uo(T.mutation,y,Tn.empty(),nt.now()),Fc(i,y)&&(p=p.insert(v,y))})),p}))}}class $2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return ie.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),ie.resolve()}getNamedQuery(t,i){return ie.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:U2(o.bundledQuery),readTime:bi(o.readTime)}})(i)),ie.resolve()}}class Z2{constructor(){this.overlays=new ut(_e.comparator),this.qr=new Map}getOverlay(t,i){return ie.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Nr();return ie.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((o,c)=>{this.St(t,i,c)})),ie.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(t,i,s){const o=Nr(),c=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>s&&o.set(v.getKey(),v)}return ie.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ut(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Nr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Nr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return ie.resolve(p)}St(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new g2(i,s));let c=this.qr.get(i);c===void 0&&(c=Le(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class J2{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(t){return ie.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ie.resolve()}}class ym{constructor(){this.Qr=new Mt(zt.$r),this.Ur=new Mt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new zt(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new zt(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new _e(new tt([])),s=new zt(i,t),o=new zt(i,t+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new _e(new tt([])),s=new zt(i,t),o=new zt(i,t+1);let c=Le();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new zt(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class zt{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return _e.comparator(t.key,i.key)||ke(t.Yr,i.Yr)}static Kr(t,i){return ke(t.Yr,i.Yr)||_e.comparator(t.key,i.key)}}class W2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(zt.$r)}checkEmpty(t){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new m2(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(t,i){return ie.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?sm:this.tr-1)}getAllMutationBatches(t){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Mt(ke);return i.forEach((o=>{const c=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const d=new zt(new _e(c),0);let p=new Mt(ke);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),d),ie.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Qe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(i.mutations,(o=>{const c=new zt(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new zt(i,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ie.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ew{constructor(t){this.ri=t,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return ie.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(t,i){let s=ea();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Zt.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=ea();const d=i.path,p=new _e(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Nx(Rx(T),s)<=0||(o.has(T.key)||Fc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(t,i,s,o){Te(9500)}ii(t,i){return ie.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new tw(this)}getSize(t){return ie.resolve(this.size)}}class tw extends K2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),ie.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class nw{constructor(t){this.persistence=t,this.si=new Ir((i=>um(i)),cm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new ym,this.targetCount=0,this.ai=ks.ur()}forEachTarget(t,i){return this.si.forEach(((s,o)=>i(o))),ie.resolve()}getLastRemoteSnapshotVersion(t){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ie.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),ie.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ks(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,ie.resolve()}updateTargetData(t,i){return this.Pr(i),ie.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ie.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(t){return ie.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return ie.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),ie.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),ie.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return ie.resolve(s)}containsKey(t,i){return ie.resolve(this._i.containsKey(i))}}class T0{constructor(t,i){this.ui={},this.overlays={},this.ci=new Bc(0),this.li=!1,this.li=!0,this.hi=new J2,this.referenceDelegate=t(this),this.Pi=new nw(this),this.indexManager=new P2,this.remoteDocumentCache=(function(o){return new ew(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new z2(i),this.Ii=new $2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Z2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new W2(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){he("MemoryPersistence","Starting transaction:",t);const o=new iw(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class iw extends Dx{constructor(t){super(),this.currentSequenceNumber=t}}class vm{constructor(t){this.persistence=t,this.Ri=new ym,this.Vi=null}static mi(t){return new vm(t)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),ie.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),ie.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return ie.or([()=>ie.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Vc{constructor(t,i){this.persistence=t,this.pi=new Ir((s=>Vx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Q2(this,i)}static mi(t,i){return new Vc(t,i)}Ei(){}di(t){return ie.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((o=>s+o))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return ie.forEach(this.pi,((s,o)=>this.br(t,s,o).next((c=>c?ie.resolve():i(o)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),ie.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),ie.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),ie.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),ie.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=pc(t.data.value)),i}br(t,i,s){return ie.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class _m{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=o}static As(t,i){let s=Le(),o=Le();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _m(t,i.fromCache,s,o)}}class aw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $b()?8:jx(Yb())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aw;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,o){return s.documentReadCount<this.fs?(xs()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ws(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(xs()<=Be.DEBUG&&he("QueryEngine","Query:",ws(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(xs()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ws(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):ie.resolve())}ys(t,i){if(r_(i))return ie.resolve(null);let s=Si(i);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Dc(i,null,"F"),s=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Le(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,Dc(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,s,o){return r_(i)||o.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?ie.resolve(null):(xs()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ws(i)),this.vs(t,d,i,wx(o,mo)).next((p=>p)))}))}Ds(t,i){let s=new Mt(WE(t));return i.forEach(((o,c)=>{Fc(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,s){return xs()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ws(i)),this.ps.getDocumentsMatchingQuery(t,i,Ba.min(),s)}vs(t,i,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Em="LocalStore",sw=3e8;class lw{constructor(t,i,s,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ut(ke),this.xs=new Ir((c=>um(c)),cm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new X2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function ow(a,t,i,s){return new lw(a,t,i,s)}async function S0(a,t){const i=we(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let v=Le();for(const y of o){d.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function uw(a,t){const i=we(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,T){const S=y.batch,R=S.keys();let O=ie.resolve();return R.forEach((P=>{O=O.next((()=>T.getEntry(v,P))).next((q=>{const U=y.docVersions.get(P);Qe(U!==null,48541),q.version.compareTo(U)<0&&(S.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),T.addEntry(q)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function b0(a){const t=we(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cw(a,t){const i=we(a),s=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const R=o.get(S);if(!R)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let O=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?O=O.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(S,O),(function(q,U,J){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=sw?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(R,O,T)&&p.push(i.Pi.updateTargetData(c,O))}));let v=ea(),y=Le();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(hw(c,d,t.documentUpdates).next((T=>{v=T.ks,y=T.qs}))),!s.isEqual(Ae.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(T)}return ie.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function hw(a,t,i){let s=Le(),o=Le();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=ea();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Ae.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):he(Em,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function fw(a,t){const i=we(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=sm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function dw(a,t){const i=we(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,t).next((c=>c?(o=c,ie.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new ka(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function Ud(a,t,i){const s=we(a),o=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Gs(d))throw d;he(Em,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function v_(a,t,i){const s=we(a);let o=Ae.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,T){const S=we(v),R=S.xs.get(T);return R!==void 0?ie.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,T)})(s,d,Si(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?o:Ae.min(),i?c:Le()))).next((p=>(mw(s,Jx(t),p),{documents:p,Qs:c})))))}function mw(a,t,i){let s=a.Os.get(t)||Ae.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class __{constructor(){this.activeTargetIds=a2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gw{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class pw{Oo(t){}shutdown(){}}const E_="ConnectivityMonitor";class T_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(E_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){he(E_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fc=null;function Pd(){return fc===null?fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():fc++,"0x"+fc.toString(16)}const vd="RestConnection",yw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,i,s,o,c){const d=Pd(),p=this.zo(t,i.toUriEncodedString());he(vd,`Sending RPC '${t}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(p),T=nm(y);return this.Jo(t,p,v,s,T).then((S=>(he(vd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Is(vd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,o,c,d){return this.Go(t,i,s,o,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qs})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const s=yw[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class _w{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xt="WebChannelConnection";class Ew extends vw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,o,c){const d=Pd();return new Promise(((p,v)=>{const y=new wE;y.setWithCredentials(!0),y.listenOnce(RE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case gc.NO_ERROR:const S=y.getResponseJson();he(Xt,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case gc.TIMEOUT:he(Xt,`RPC '${t}' ${d} timed out`),v(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const R=y.getStatus();if(he(Xt,`RPC '${t}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const P=O?.error;if(P&&P.status&&P.message){const q=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(P.status);v(new ce(q,P.message))}else v(new ce(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Xt,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(o);he(Xt,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",T,s,15)}))}T_(t,i,s){const o=Pd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=DE(),p=CE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const T=c.join("");he(Xt,`Creating RPC '${t}' stream ${o}: ${T}`,v);const S=d.createWebChannel(T,v);this.I_(S);let R=!1,O=!1;const P=new _w({Yo:U=>{O?he(Xt,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(R||(he(Xt,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),he(Xt,`RPC '${t}' stream ${o} sending:`,U),S.send(U))},Zo:()=>S.close()}),q=(U,J,ne)=>{U.listen(J,(ae=>{try{ne(ae)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return q(S,to.EventType.OPEN,(()=>{O||(he(Xt,`RPC '${t}' stream ${o} transport opened.`),P.o_())})),q(S,to.EventType.CLOSE,(()=>{O||(O=!0,he(Xt,`RPC '${t}' stream ${o} transport closed`),P.a_(),this.E_(S))})),q(S,to.EventType.ERROR,(U=>{O||(O=!0,Is(Xt,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),P.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),q(S,to.EventType.MESSAGE,(U=>{if(!O){const J=U.data[0];Qe(!!J,16349);const ne=J,ae=ne?.error||ne[0]?.error;if(ae){he(Xt,`RPC '${t}' stream ${o} received error:`,ae);const ye=ae.status;let se=(function(w){const C=Nt[w];if(C!==void 0)return c0(C)})(ye),ge=ae.message;se===void 0&&(se=ee.INTERNAL,ge="Unknown error status: "+ye+" with message "+ae.message),O=!0,P.a_(new ce(se,ge)),S.close()}else he(Xt,`RPC '${t}' stream ${o} received:`,J),P.u_(J)}})),q(p,NE.STAT_EVENT,(U=>{U.stat===Nd.PROXY?he(Xt,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===Nd.NOPROXY&&he(Xt,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function _d(){return typeof document<"u"?document:null}function Xc(a){return new A2(a,!0)}class A0{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const S_="PersistentStream";class x0{constructor(t,i,s,o,c,d,p,v){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{t((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return he(S_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(he(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tw extends x0{constructor(t,i,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=R2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?bi(d.readTime):Ae.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=zd(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=Vd(v)?{documents:D2(c,v)}:{query:j2(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=d0(c,d.resumeToken);const y=Od(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=Ic(c,d.snapshotVersion.toTimestamp());const y=Od(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=V2(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=zd(this.serializer),i.removeTarget=t,this.q_(i)}}class Sw extends x0{constructor(t,i,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=C2(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=zd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>N2(this.serializer,s)))};this.q_(i)}}class bw{}class Aw extends bw{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,kd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ee.UNKNOWN,c.toString())}))}Ho(t,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,kd(i,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jr="RemoteStore";class ww{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Vr(this)&&(he(jr,"Restarting streams for network reachability change."),await(async function(v){const y=we(v);y.Ea.add(4),await Co(y),y.Ra.set("Unknown"),y.Ea.delete(4),await $c(y)})(this))}))})),this.Ra=new xw(s,o)}}async function $c(a){if(Vr(a))for(const t of a.da)await t(!0)}async function Co(a){for(const t of a.da)await t(!1)}function w0(a,t){const i=we(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Am(i)?bm(i):Qs(i).O_()&&Sm(i,t))}function Tm(a,t){const i=we(a),s=Qs(i);i.Ia.delete(t),s.O_()&&R0(i,t),i.Ia.size===0&&(s.O_()?s.L_():Vr(i)&&i.Ra.set("Unknown"))}function Sm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ae.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Qs(a).Y_(t)}function R0(a,t){a.Va.Ue(t),Qs(a).Z_(t)}function bm(a){a.Va=new E2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Qs(a).start(),a.Ra.ua()}function Am(a){return Vr(a)&&!Qs(a).x_()&&a.Ia.size>0}function Vr(a){return we(a).Ea.size===0}function N0(a){a.Va=void 0}async function Rw(a){a.Ra.set("Online")}async function Nw(a){a.Ia.forEach(((t,i)=>{Sm(a,t)}))}async function Cw(a,t){N0(a),Am(a)?(a.Ra.ha(t),bm(a)):a.Ra.set("Unknown")}async function Dw(a,t,i){if(a.Ra.set("Online"),t instanceof f0&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(s){he(jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Mc(a,s)}else if(t instanceof _c?a.Va.Ze(t):t instanceof h0?a.Va.st(t):a.Va.tt(t),!i.isEqual(Ae.min()))try{const s=await b0(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),R0(c,v);const S=new ka(T.target,v,y,T.sequenceNumber);Sm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){he(jr,"Failed to raise snapshot:",s),await Mc(a,s)}}async function Mc(a,t,i){if(!Gs(t))throw t;a.Ea.add(1),await Co(a),a.Ra.set("Offline"),i||(i=()=>b0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{he(jr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await $c(a)}))}function C0(a,t){return t().catch((i=>Mc(a,i,t)))}async function Zc(a){const t=we(a),i=Fa(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:sm;for(;jw(t);)try{const o=await fw(t.localStore,s);if(o===null){t.Ta.length===0&&i.L_();break}s=o.batchId,Iw(t,o)}catch(o){await Mc(t,o)}D0(t)&&j0(t)}function jw(a){return Vr(a)&&a.Ta.length<10}function Iw(a,t){a.Ta.push(t);const i=Fa(a);i.O_()&&i.X_&&i.ea(t.mutations)}function D0(a){return Vr(a)&&!Fa(a).x_()&&a.Ta.length>0}function j0(a){Fa(a).start()}async function Vw(a){Fa(a).ra()}async function Mw(a){const t=Fa(a);for(const i of a.Ta)t.ea(i.mutations)}async function Ow(a,t,i){const s=a.Ta.shift(),o=mm.from(s,t,i);await C0(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Zc(a)}async function kw(a,t){t&&Fa(a).X_&&await(async function(s,o){if((function(d){return y2(d)&&d!==ee.ABORTED})(o.code)){const c=s.Ta.shift();Fa(s).B_(),await C0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Zc(s)}})(a,t),D0(a)&&j0(a)}async function b_(a,t){const i=we(a);i.asyncQueue.verifyOperationInProgress(),he(jr,"RemoteStore received new credentials");const s=Vr(i);i.Ea.add(3),await Co(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await $c(i)}async function Lw(a,t){const i=we(a);t?(i.Ea.delete(2),await $c(i)):t||(i.Ea.add(2),await Co(i),i.Ra.set("Unknown"))}function Qs(a){return a.ma||(a.ma=(function(i,s,o){const c=we(i);return c.sa(),new Tw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:Rw.bind(null,a),t_:Nw.bind(null,a),r_:Cw.bind(null,a),H_:Dw.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Am(a)?bm(a):a.Ra.set("Unknown")):(await a.ma.stop(),N0(a))}))),a.ma}function Fa(a){return a.fa||(a.fa=(function(i,s,o){const c=we(i);return c.sa(),new Sw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vw.bind(null,a),r_:kw.bind(null,a),ta:Mw.bind(null,a),na:Ow.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Zc(a)):(await a.fa.stop(),a.Ta.length>0&&(he(jr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class xm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const d=Date.now()+s,p=new xm(t,i,d,o,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),Gs(a))return new ce(ee.UNAVAILABLE,`${t}: ${a}`);throw a}class Ds{static emptySet(t){return new Ds(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||_e.comparator(i.key,s.key):(i,s)=>_e.comparator(i.key,s.key),this.keyedMap=no(),this.sortedSet=new ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ds)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class A_{constructor(){this.ga=new ut(_e.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Te(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Ls{constructor(t,i,s,o,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ls(t,i,Ds.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class zw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Uw{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=we(i),c=o.queries;o.queries=x_(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function x_(){return new Ir((a=>JE(a)),Gc)}async function I0(a,t){const i=we(a);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new zw,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=wm(d,`Initialization of query '${ws(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Rm(i)}async function V0(a,t){const i=we(a),s=t.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Pw(a,t){const i=we(a);let s=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&Rm(i)}function Bw(a,t,i){const s=we(a),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(t)}function Rm(a){a.Ca.forEach((t=>{t.next()}))}var Bd,w_;(w_=Bd||(Bd={})).Ma="default",w_.Cache="cache";class M0{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ls(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ls.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bd.Cache}}class O0{constructor(t){this.key=t}}class k0{constructor(t){this.key=t}}class qw{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=WE(t),this.tu=new Ds(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new A_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const R=o.get(T),O=Fc(this.query,S)?S:null,P=!!R&&this.mutatedKeys.has(R.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;R&&O?R.data.isEqual(O.data)?P!==q&&(s.track({type:3,doc:O}),U=!0):this.su(R,O)||(s.track({type:2,doc:O}),U=!0,(v&&this.eu(O,v)>0||y&&this.eu(O,y)<0)&&(p=!0)):!R&&O?(s.track({type:0,doc:O}),U=!0):R&&!O&&(s.track({type:1,doc:R}),U=!0,(v||y)&&(p=!0)),U&&(O?(d=d.add(O),c=q?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(O,P){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:U})}};return q(O)-q(P)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Ls(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new k0(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new O0(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Le();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ls.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nm="SyncEngine";class Hw{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Gw{constructor(t){this.key=t,this.hu=!1}}class Fw{constructor(t,i,s,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ir((p=>JE(p)),Gc),this.Iu=new Map,this.Eu=new Set,this.du=new ut(_e.comparator),this.Au=new Map,this.Ru=new ym,this.Vu={},this.mu=new Map,this.fu=ks.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qw(a,t,i=!0){const s=q0(a);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await L0(s,t,i,!0),o}async function Kw(a,t){const i=q0(a);await L0(i,t,!0,!1)}async function L0(a,t,i,s){const o=await dw(a.localStore,Si(t)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await Yw(a,t,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&w0(a.remoteStore,o),p}async function Yw(a,t,i,s,o){a.pu=(S,R,O)=>(async function(q,U,J,ne){let ae=U.view.ru(J);ae.Cs&&(ae=await v_(q.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,ae))));const ye=ne&&ne.targetChanges.get(U.targetId),se=ne&&ne.targetMismatches.get(U.targetId)!=null,ge=U.view.applyChanges(ae,q.isPrimaryClient,ye,se);return N_(q,U.targetId,ge.au),ge.snapshot})(a,S,R,O);const c=await v_(a.localStore,t,!0),d=new qw(t,c.Qs),p=d.ru(c.documents),v=No.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(p,a.isPrimaryClient,v);N_(a,i,y.au);const T=new Hw(t,i,d);return a.Tu.set(t,T),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function Xw(a,t,i){const s=we(a),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Gc(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Tm(s.remoteStore,o.targetId),qd(s,o.targetId)})).catch(Hs)):(qd(s,o.targetId),await Ud(s.localStore,o.targetId,!0))}async function $w(a,t){const i=we(a),s=i.Tu.get(t),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Tm(i.remoteStore,s.targetId))}async function Zw(a,t,i){const s=aR(a);try{const o=await(function(d,p){const v=we(d),y=nt.now(),T=p.reduce(((O,P)=>O.add(P.key)),Le());let S,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let P=ea(),q=Le();return v.Ns.getEntries(O,T).next((U=>{P=U,P.forEach(((J,ne)=>{ne.isValidDocument()||(q=q.add(J))}))})).next((()=>v.localDocuments.getOverlayedDocuments(O,P))).next((U=>{S=U;const J=[];for(const ne of p){const ae=f2(ne,S.get(ne.key).overlayedDocument);ae!=null&&J.push(new Ya(ne.key,ae,GE(ae.value.mapValue),Ln.exists(!0)))}return v.mutationQueue.addMutationBatch(O,y,J,p)})).next((U=>{R=U;const J=U.applyToLocalDocumentSet(S,q);return v.documentOverlayCache.saveOverlays(O,U.batchId,J)}))})).then((()=>({batchId:R.batchId,changes:t0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new ut(ke)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await Do(s,o.changes),await Zc(s.remoteStore)}catch(o){const c=wm(o,"Failed to persist write");i.reject(c)}}async function z0(a,t){const i=we(a);try{const s=await cw(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qe(d.hu,14607):o.removedDocuments.size>0&&(Qe(d.hu,42227),d.hu=!1))})),await Do(i,s,t)}catch(s){await Hs(s)}}function R_(a,t,i){const s=we(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=we(d);v.onlineState=p;let y=!1;v.queries.forEach(((T,S)=>{for(const R of S.Sa)R.va(p)&&(y=!0)})),y&&Rm(v)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Jw(a,t,i){const s=we(a);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Au.get(t),c=o&&o.key;if(c){let d=new ut(_e.comparator);d=d.insert(c,Zt.newNoDocument(c,Ae.min()));const p=Le().add(c),v=new Yc(Ae.min(),new Map,new ut(ke),d,p);await z0(s,v),s.du=s.du.remove(c),s.Au.delete(t),Cm(s)}else await Ud(s.localStore,t,!1).then((()=>qd(s,t,i))).catch(Hs)}async function Ww(a,t){const i=we(a),s=t.batch.batchId;try{const o=await uw(i.localStore,t);P0(i,s,null),U0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Do(i,o)}catch(o){await Hs(o)}}async function eR(a,t,i){const s=we(a);try{const o=await(function(d,p){const v=we(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Qe(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);P0(s,t,i),U0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Do(s,o)}catch(o){await Hs(o)}}function U0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function P0(a,t,i){const s=we(a);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function qd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||B0(a,s)}))}function B0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Tm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Cm(a))}function N_(a,t,i){for(const s of i)s instanceof O0?(a.Ru.addReference(s.key,t),tR(a,s)):s instanceof k0?(he(Nm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||B0(a,s.key)):Te(19791,{wu:s})}function tR(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(he(Nm,"New document in limbo: "+i),a.Eu.add(s),Cm(a))}function Cm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new _e(tt.fromString(t)),s=a.fu.next();a.Au.set(s,new Gw(i)),a.du=a.du.insert(i,s),w0(a.remoteStore,new ka(Si(hm(i.path)),s,"TargetPurposeLimboResolution",Bc.ce))}}async function Do(a,t,i){const s=we(a),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){o.push(y);const T=_m.As(v.targetId,y);c.push(T)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,y){const T=we(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ie.forEach(y,(R=>ie.forEach(R.Es,(O=>T.persistence.referenceDelegate.addReference(S,R.targetId,O))).next((()=>ie.forEach(R.ds,(O=>T.persistence.referenceDelegate.removeReference(S,R.targetId,O)))))))))}catch(S){if(!Gs(S))throw S;he(Em,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const O=T.Ms.get(R),P=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(P);T.Ms=T.Ms.insert(R,q)}}})(s.localStore,c))}async function nR(a,t){const i=we(a);if(!i.currentUser.isEqual(t)){he(Nm,"User change. New user:",t.toKey());const s=await S0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ce(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Do(i,s.Ls)}}function iR(a,t){const i=we(a),s=i.Au.get(t);if(s&&s.hu)return Le().add(s.key);{let o=Le();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function q0(a){const t=we(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=z0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jw.bind(null,t),t.Pu.H_=Pw.bind(null,t.eventManager),t.Pu.yu=Bw.bind(null,t.eventManager),t}function aR(a){const t=we(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ww.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eR.bind(null,t),t}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return ow(this.persistence,new rw,t.initialUser,this.serializer)}Cu(t){return new T0(vm.mi,this.serializer)}Du(t){return new gw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class rR extends Oc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qe(this.persistence.referenceDelegate instanceof Vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new G2(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new T0((s=>Vc.mi(s,i)),this.serializer)}}class Hd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>R_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nR.bind(null,this.syncEngine),await Lw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Uw})()}createDatastore(t){const i=Xc(t.databaseInfo.databaseId),s=(function(c){return new Ew(c)})(t.databaseInfo);return(function(c,d,p,v){return new Aw(c,d,p,v)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,o,c,d,p){return new ww(s,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>R_(this.syncEngine,i,0)),(function(){return T_.v()?new T_:new pw})())}createSyncEngine(t,i){return(function(o,c,d,p,v,y,T){const S=new Fw(o,c,d,p,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=we(i);he(jr,"RemoteStore shutting down."),s.Ea.add(5),await Co(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hd.provider={build:()=>new Hd};class H0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Qa="FirestoreClient";class sR{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{he(Qa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(he(Qa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=wm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ed(a,t){a.asyncQueue.verifyOperationInProgress(),he(Qa,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await S0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function C_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await lR(a);he(Qa,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>b_(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>b_(t.remoteStore,o))),a._onlineComponents=t}async function lR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){he(Qa,"Using user provided OfflineComponentProvider");try{await Ed(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Is("Error using user provided cache. Falling back to memory cache: "+i),await Ed(a,new Oc)}}else he(Qa,"Using default OfflineComponentProvider"),await Ed(a,new rR(void 0));return a._offlineComponents}async function G0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(he(Qa,"Using user provided OnlineComponentProvider"),await C_(a,a._uninitializedComponentsProvider._online)):(he(Qa,"Using default OnlineComponentProvider"),await C_(a,new Hd))),a._onlineComponents}function oR(a){return G0(a).then((t=>t.syncEngine))}async function F0(a){const t=await G0(a),i=t.eventManager;return i.onListen=Qw.bind(null,t.syncEngine),i.onUnlisten=Xw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Kw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$w.bind(null,t.syncEngine),i}function uR(a,t,i={}){const s=new Xi;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const T=new H0({next:R=>{T.Nu(),d.enqueueAndForget((()=>V0(c,S)));const O=R.docs.has(p);!O&&R.fromCache?y.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&v&&v.source==="server"?y.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new M0(hm(p.path),T,{includeMetadataChanges:!0,qa:!0});return I0(c,S)})(await F0(a),a.asyncQueue,t,i,s))),s.promise}function cR(a,t,i={}){const s=new Xi;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const T=new H0({next:R=>{T.Nu(),d.enqueueAndForget((()=>V0(c,S))),R.fromCache&&v.source==="server"?y.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new M0(p,T,{includeMetadataChanges:!0,qa:!0});return I0(c,S)})(await F0(a),a.asyncQueue,t,i,s))),s.promise}function Q0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const D_=new Map;const K0="firestore.googleapis.com",j_=!0;class I_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K0,this.ssl=j_}else this.host=t.host,this.ssl=t.ssl??j_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=E0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<q2)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ax("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new mx;switch(s.type){case"firstParty":return new vx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=D_.get(i);s&&(he("ComponentProvider","Removing Datastore"),D_.delete(i),s.terminate())})(this),Promise.resolve()}}function hR(a,t,i,s={}){a=Zn(a,Jc);const o=nm(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(Hb(`https://${p}`),Kb("Firestore",!0)),c.host!==K0&&c.host!==p&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:s};if(!bc(v,d)&&(a._setSettings(v),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=$t.MOCK_USER;else{y=Gb(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $t(S)}a._authCredentials=new gx(new IE(y,T))}}class Xa{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Xa(this.firestore,t,this._query)}}class vt{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vt(this.firestore,t,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(wo(i,vt._jsonSchema))return new vt(t,s||null,new _e(tt.fromString(i.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Dt("string",vt._jsonSchemaVersion),referencePath:Dt("string")};class Pa extends Xa{constructor(t,i,s){super(t,i,hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vt(this.firestore,null,new _e(t))}withConverter(t){return new Pa(this.firestore,t,this._path)}}function Ks(a,t,...i){if(a=Zi(a),VE("collection","path",t),a instanceof Jc){const s=tt.fromString(t,...i);return Fv(s),new Pa(a,null,s)}{if(!(a instanceof vt||a instanceof Pa))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(tt.fromString(t,...i));return Fv(s),new Pa(a.firestore,null,s)}}function Ni(a,t,...i){if(a=Zi(a),arguments.length===1&&(t=rm.newId()),VE("doc","path",t),a instanceof Jc){const s=tt.fromString(t,...i);return Gv(s),new vt(a,null,new _e(s))}{if(!(a instanceof vt||a instanceof Pa))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(tt.fromString(t,...i));return Gv(s),new vt(a.firestore,a instanceof Pa?a.converter:null,new _e(s))}}const V_="AsyncQueue";class M_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A0(this,"async_queue_retry"),this._c=()=>{const s=_d();s&&he(V_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Gs(t))throw t;he(V_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",O_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=xm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function O_(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Mr extends Jc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new M_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M_(t),this._firestoreClient=void 0,await t}}}function fR(a,t){const i=typeof a=="object"?a:ix(),s=typeof a=="string"?a:Rc,o=JA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Bb("firestore");c&&hR(o,...c)}return o}function Dm(a){if(a._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||dR(a),a._firestoreClient}function dR(a){const t=a._freezeSettings(),i=(function(o,c,d,p){return new kx(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Q0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new sR(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Kt.fromBase64String(t))}catch(i){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Kt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wo(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Dt("string",kn._jsonSchemaVersion),bytes:Dt("string")};class Wc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class eh{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ke(this._lat,t._lat)||ke(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(wo(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Dt("string",Ai._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wo(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Dt("string",xi._jsonSchemaVersion),vectorValues:Dt("object")};const mR=/^__.*__$/;class gR{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ya(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(t,this.data,i,this.fieldTransforms)}}class Y0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Ya(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function X0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:a})}}class jm{constructor(t,i,s,o,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return kc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(X0(this.Ac)&&mR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pR{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Xc(t)}Cc(t,i,s,o=!1){return new jm({Ac:t,methodName:i,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function th(a){const t=a._freezeSettings(),i=Xc(a._databaseId);return new pR(a._databaseId,!!t.ignoreUndefinedProperties,i)}function $0(a,t,i,s,o,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,o);Vm("Data must be an object, but it was:",d,s);const p=Z0(s,d);let v,y;if(c.merge)v=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const R=Gd(t,S,i);if(!d.contains(R))throw new ce(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);W0(T,R)||T.push(R)}v=new Tn(T),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new gR(new hn(p),v,y)}class nh extends eh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nh}}class Im extends eh{_toFieldTransform(t){return new o2(t.path,new _o)}isEqual(t){return t instanceof Im}}function yR(a,t,i,s){const o=a.Cc(1,t,i);Vm("Data must be an object, but it was:",o,s);const c=[],d=hn.empty();Ka(s,((v,y)=>{const T=Mm(t,v,i);y=Zi(y);const S=o.yc(T);if(y instanceof nh)c.push(T);else{const R=jo(y,S);R!=null&&(c.push(T),d.set(T,R))}}));const p=new Tn(c);return new Y0(d,p,o.fieldTransforms)}function vR(a,t,i,s,o,c){const d=a.Cc(1,t,i),p=[Gd(t,s,i)],v=[o];if(c.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(Gd(t,c[R])),v.push(c[R+1]);const y=[],T=hn.empty();for(let R=p.length-1;R>=0;--R)if(!W0(y,p[R])){const O=p[R];let P=v[R];P=Zi(P);const q=d.yc(O);if(P instanceof nh)y.push(O);else{const U=jo(P,q);U!=null&&(y.push(O),T.set(O,U))}}const S=new Tn(y);return new Y0(T,S,d.fieldTransforms)}function _R(a,t,i,s=!1){return jo(i,a.Cc(s?4:3,t))}function jo(a,t){if(J0(a=Zi(a)))return Vm("Unsupported field value:",t,a),Z0(a,t);if(a instanceof eh)return(function(s,o){if(!X0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let v=jo(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,o){if((s=Zi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return r2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=nt.fromDate(s);return{timestampValue:Ic(o.serializer,c)}}if(s instanceof nt){const c=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ic(o.serializer,c)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:d0(o.serializer,s._byteString)};if(s instanceof vt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xi)return(function(d,p){return{mapValue:{fields:{[qE]:{stringValue:HE},[Nc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return fm(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Pc(s)}`)})(a,t)}function Z0(a,t){const i={};return kE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ka(a,((s,o)=>{const c=jo(o,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function J0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof nt||a instanceof Ai||a instanceof kn||a instanceof vt||a instanceof eh||a instanceof xi)}function Vm(a,t,i){if(!J0(i)||!ME(i)){const s=Pc(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function Gd(a,t,i){if((t=Zi(t))instanceof Wc)return t._internalPath;if(typeof t=="string")return Mm(a,t);throw kc("Field path arguments must be of type string or ",a,!1,void 0,i)}const ER=new RegExp("[~\\*/\\[\\]]");function Mm(a,t,i){if(t.search(ER)>=0)throw kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wc(...t.split("."))._internalPath}catch{throw kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function kc(a,t,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ce(ee.INVALID_ARGUMENT,p+a+v)}function W0(a,t){return a.some((i=>i.isEqual(t)))}class eT{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Om("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TR extends eT{data(){return super.data()}}function Om(a,t){return typeof t=="string"?Mm(a,t):t instanceof Wc?t._internalPath:t._delegate._internalPath}function SR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class km{}class Lm extends km{}function So(a,t,...i){let s=[];t instanceof km&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((v=>v instanceof Um)).length,p=c.filter((v=>v instanceof zm)).length;if(d>1||d>0&&p>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class zm extends Lm{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new zm(t,i,s)}_apply(t){const i=this._parse(t);return tT(t._query,i),new Xa(t.firestore,t.converter,Md(t._query,i))}_parse(t){const i=th(t.firestore);return(function(c,d,p,v,y,T,S){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){L_(S,T);const P=[];for(const q of S)P.push(k_(v,c,q));R={arrayValue:{values:P}}}else R=k_(v,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||L_(S,T),R=_R(p,d,S,T==="in"||T==="not-in");return Ct.create(y,T,R)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Um extends km{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Um(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const v of p)tT(d,v),d=Md(d,v)})(t._query,i),new Xa(t.firestore,t.converter,Md(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pm extends Lm{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Pm(t,i)}_apply(t){const i=(function(o,c,d){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vo(c,d)})(t._query,this._field,this._direction);return new Xa(t.firestore,t.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Fs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Bm(a,t="asc"){const i=t,s=Om("orderBy",a);return Pm._create(s,i)}class qm extends Lm{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new qm(t,i,s)}_apply(t){return new Xa(t.firestore,t.converter,Dc(t._query,this._limit,this._limitType))}}function bR(a){return xx("limit",a),qm._create("limit",a,"F")}function k_(a,t,i){if(typeof(i=Zi(i))=="string"){if(i==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(t)&&i.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(tt.fromString(i));if(!_e.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wv(a,new _e(s))}if(i instanceof vt)return Wv(a,i._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pc(i)}.`)}function L_(a,t){if(!Array.isArray(a)||a.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tT(a,t){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class AR{convertValue(t,i="none"){switch(Ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ha(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Te(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ka(t,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Nc].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Ai(yt(t.latitude),yt(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Hc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(go(t));default:return null}}convertTimestamp(t){const i=qa(t);return new nt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=tt.fromString(t);Qe(_0(s),9688,{name:t});const o=new po(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function nT(a,t,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,s}class ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cr extends eT{constructor(t,i,s,o,c,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Om("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Cr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cr._jsonSchema={type:Dt("string",Cr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ec extends Cr{data(t={}){return super.data(t)}}class js{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Ec(this._firestore,this._userDataWriter,s.key,s,new ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Ec(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Ec(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:xR(p.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=js._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:a})}}function iT(a){a=Zn(a,vt);const t=Zn(a.firestore,Mr);return uR(Dm(t),a._key).then((i=>wR(t,a,i)))}js._jsonSchemaVersion="firestore/querySnapshot/1.0",js._jsonSchema={type:Dt("string",js._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class aT extends AR{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new vt(this.firestore,null,i)}}function ih(a){a=Zn(a,Xa);const t=Zn(a.firestore,Mr),i=Dm(t),s=new aT(t);return SR(a._query),cR(i,a._query).then((o=>new js(t,s,a,o)))}function rT(a,t,i){a=Zn(a,vt);const s=Zn(a.firestore,Mr),o=nT(a.converter,t,i);return ah(s,[$0(th(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Ln.none())])}function Hm(a,t,i,...s){a=Zn(a,vt);const o=Zn(a.firestore,Mr),c=th(o);let d;return d=typeof(t=Zi(t))=="string"||t instanceof Wc?vR(c,"updateDoc",a._key,t,i,s):yR(c,"updateDoc",a._key,t),ah(o,[d.toMutation(a._key,Ln.exists(!0))])}function sT(a){return ah(Zn(a.firestore,Mr),[new dm(a._key,Ln.none())])}function lT(a,t){const i=Zn(a.firestore,Mr),s=Ni(a),o=nT(a.converter,t);return ah(i,[$0(th(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then((()=>s))}function ah(a,t){return(function(s,o){const c=new Xi;return s.asyncQueue.enqueueAndForget((async()=>Zw(await oR(s),o,c))),c.promise})(Dm(a),t)}function wR(a,t,i){const s=i.docs.get(t._key),o=new aT(a);return new Cr(a,o,t._key,s,new ao(i.hasPendingWrites,i.fromCache),t.converter)}function oT(){return new Im("serverTimestamp")}(function(t,i=!0){(function(o){qs=o})(nx),xc(new ho("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Mr(new px(s.getProvider("auth-internal")),new _x(d,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(y.options.projectId,T)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Cs(Pv,Bv,t),Cs(Pv,Bv,"esm2020")})();var RR="firebase",NR="12.7.0";Cs(RR,NR,"app");const CR={apiKey:"AIzaSyBLudSWDzq8_frN8BRVTHXJKMih7QnHFN8",authDomain:"xantos-pizza-grill.firebaseapp.com",projectId:"xantos-pizza-grill",storageBucket:"xantos-pizza-grill.firebasestorage.app",messagingSenderId:"500986013090",appId:"1:500986013090:web:1664fe5fc1f014b62d3efb"},DR=SE(CR),tn=fR(DR);async function Fd(){try{const a=So(Ks(tn,"products"),Bm("category"));return(await ih(a)).docs.map(i=>({id:i.id,...i.data()}))}catch(a){throw console.error("Error fetching products:",a),a}}async function jR(a){try{const t=await lT(Ks(tn,"products"),a);return await Gm(),t.id}catch(t){throw console.error("Error creating product:",t),t}}async function IR(a,t){try{const i=Ni(tn,"products",a);await Hm(i,t),await Gm()}catch(i){throw console.error("Error updating product:",i),i}}async function VR(a){try{const t=Ni(tn,"products",a);await sT(t),await Gm()}catch(t){throw console.error("Error deleting product:",t),t}}async function z_(){try{const a=Ni(tn,"metadata","products"),t=await iT(a);if(t.exists()){const s=t.data().lastUpdated;if(s)return s.toDate?s.toDate():new Date(s)}return null}catch(a){return console.error("Error fetching products metadata:",a),null}}async function Gm(){try{const a=Ni(tn,"metadata","products");await rT(a,{lastUpdated:oT()},{merge:!0})}catch(a){console.error("Error updating products metadata:",a)}}const uT="xanthos_products",cT="xanthos_products_lastUpdated";function U_(){try{const a=localStorage.getItem(uT);if(a)return JSON.parse(a)}catch(a){console.error("Error reading products from localStorage:",a)}return null}function P_(a){try{localStorage.setItem(uT,JSON.stringify(a))}catch(t){console.error("Error saving products to localStorage:",t)}}function MR(){try{const a=localStorage.getItem(cT);if(a)return new Date(a)}catch(a){console.error("Error reading lastUpdated from localStorage:",a)}return null}function B_(a){try{localStorage.setItem(cT,a.toISOString())}catch(t){console.error("Error saving lastUpdated to localStorage:",t)}}const hT=[{id:"p-margherita",category:"Pizza",name:"Margherita",desc:"Tomato, mozzarella, basil",price:79,image:"margherita.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Basil",extraPrice:5},{name:"Garlic",extraPrice:5}]},{id:"p-pepperoni",category:"Pizza",name:"Pepperoni",desc:"Spicy pepperoni, mozzarella",price:89,image:"pepperoni.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Chili flakes"},{name:"Garlic",extraPrice:5}]},{id:"p-hawaiian",category:"Pizza",name:"Hawaiian",desc:"Tomato sauce, mozzarella, ham, pineapple",price:95,image:"hawaiian.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Pineapple",extraPrice:8},{name:"Ham",extraPrice:12}]},{id:"p-veggie",category:"Pizza",name:"Veggie Deluxe",desc:"Mozzarella, peppers, mushrooms, onions, olives",price:92,image:"veggie.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Mushrooms",extraPrice:6},{name:"Olives",extraPrice:5}]},{id:"p-meatlover",category:"Pizza",name:"Meat Lover",desc:"Pepperoni, minced beef, ham, bacon",price:109,image:"meatlover.jpg",ingredients:[{name:"Extra bacon",extraPrice:12},{name:"Extra cheese",extraPrice:10},{name:"Chili oil",extraPrice:5}]},{id:"g-chicken",category:"Grill",name:"Grilled Chicken",desc:"Herb marinated chicken breast",price:99,image:"chicken.jpg",ingredients:[{name:"Extra sauce",extraPrice:8},{name:"Side salad",extraPrice:12}]},{id:"g-ribs",category:"Grill",name:"BBQ Ribs",desc:"Slow-cooked pork ribs",price:129,image:"ribs.jpg",ingredients:[{name:"Extra BBQ sauce",extraPrice:8},{name:"Corn on the cob",extraPrice:10}]},{id:"g-steak",category:"Grill",name:"Beef Steak",desc:"200g grilled steak with seasoning",price:149,image:"steak.jpg",ingredients:[{name:"Pepper sauce",extraPrice:10},{name:"Garlic butter",extraPrice:6}]},{id:"g-burger",category:"Grill",name:"Classic Burger",desc:"Beef patty, cheddar, lettuce, tomato",price:89,image:"burger.jpg",ingredients:[{name:"Extra cheese",extraPrice:8},{name:"Bacon",extraPrice:10},{name:"Jalapeos",extraPrice:5}]},{id:"s-fries",category:"Sides",name:"Pommes Frites",desc:"Crispy golden fries",price:29,image:"fries.jpg",ingredients:[{name:"Dip  Garlic",extraPrice:5},{name:"Dip  Chili Mayo",extraPrice:5}]},{id:"s-salad",category:"Sides",name:"Side Salad",desc:"Fresh greens, cucumber, tomato",price:24,image:"salad.jpg",ingredients:[{name:"Feta",extraPrice:8},{name:"Olives",extraPrice:6}]},{id:"d-cola",category:"Drinks",name:"Coca-Cola",desc:"330ml",price:19,image:"cocacola.jpg",ingredients:[]},{id:"d-water",category:"Drinks",name:"Mineral Water",desc:"500ml",price:14,image:"water.jpg",ingredients:[]},{id:"d-fanta",category:"Drinks",name:"Fanta",desc:"330ml",price:19,image:"fanta.jpg",ingredients:[]},{id:"d-sprite",category:"Drinks",name:"Sprite",desc:"330ml",price:19,image:"sprite.jpg",ingredients:[]}];function OR({item:a}){const{addItem:t}=Ps();return m.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold",children:a.name}),m.jsx("p",{className:"text-sm text-gray-600",children:a.desc})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"font-bold",children:[a.price,",-"]}),m.jsx("button",{onClick:i=>{i.stopPropagation(),t(a)},className:"mt-2 bg-red-600 text-white px-3 py-1 rounded",children:"Add"})]})]})})}function q_({item:a,onAdd:t}){return m.jsx("button",{className:"add-button",onClick:i=>{i.stopPropagation(),t(a)},children:"+"})}function kR({item:a,onClose:t,onConfirm:i}){const[s,o]=L.useState([]),[c,d]=L.useState(!1),[p,v]=L.useState(1),y=()=>v(P=>P+1),T=()=>v(P=>P>1?P-1:1),S=P=>{o(q=>q.includes(P)?q.filter(U=>U!==P):[...q,P])},R=()=>{d(!0),setTimeout(()=>{d(!1),i(s,p)},800)},O=s.reduce((P,q)=>P+(q.extraPrice||0),0);return L.useEffect(()=>{const P=q=>{q.key==="Escape"&&t()};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[]),m.jsx("div",{className:"modal-overlay",onClick:t,children:m.jsxs("div",{className:"modal-box",onClick:P=>P.stopPropagation(),children:[m.jsxs("div",{className:"modal-content",children:[m.jsx("img",{className:"modalImage",src:`/assets/${a.image}`,alt:a.image}),m.jsxs("h3",{children:["Tilpas din ",a.name]}),m.jsx("p",{className:"modal-desc",children:"Vlg tilvalg:"}),m.jsx("div",{className:"modal-ingredients",children:a.ingredients?.map(P=>m.jsxs("label",{className:"modal-ingredient",children:[m.jsx("input",{type:"checkbox",checked:s.includes(P),onChange:()=>S(P)}),m.jsx("span",{className:"custom-checkbox"}),m.jsxs("span",{className:"ingredient-label",children:[P.name,P.extraPrice?` (+${P.extraPrice} kr)`:""]})]},P.name))})]}),m.jsx("button",{onClick:t,className:"modal-cancel",children:m.jsx(Nb,{width:20,height:20})}),m.jsxs("div",{className:"modal-buttons",children:[m.jsxs("div",{className:"modal-qty",children:[m.jsx("button",{onClick:T,disabled:p<=1,"aria-label":"Decrease quantity",children:""}),m.jsx("span",{children:p}),m.jsx("button",{onClick:y,"aria-label":"Increase quantity",children:"+"})]}),m.jsxs("div",{className:"modal-add-wrapper",children:[m.jsxs("button",{onClick:R,className:"modal-confirm",children:["Add to order DKK (",(a.price+O)*p,",-)"]}),c&&m.jsx("div",{className:"add-notify",children:"Tilfjet!"})]})]})]})})}function H_(){const[a,t]=L.useState(""),[i,s]=L.useState(!1),[o,c]=L.useState("Most Popular"),[d,p]=L.useState(null),[v,y]=L.useState([]),[T,S]=L.useState(!0),[R,O]=L.useState(null),P=L.useRef({}),q=L.useRef(null),{addItem:U,items:J,updateQty:ne,removeItem:ae,total:ye}=Ps();L.useEffect(()=>{async function x(){try{S(!0),O(null);const be=U_(),oe=MR();if(be&&be.length>0){const Q=be.map(de=>({...de,id:de.id||""}));y(Q),S(!1);const re=await z_();if(re&&(!oe||re.getTime()>oe.getTime())){const $=(await Fd()).map(D=>({...D,id:D.id||""}));y($),P_($),B_(re)}}else{const re=(await Fd()).map(Re=>({...Re,id:Re.id||""}));y(re),P_(re);const de=await z_();de&&B_(de)}}catch(be){console.error("Error loading products:",be),O("Kunne ikke indlse produkter. Prv venligst igen.");const oe=U_();if(oe&&oe.length>0){const Q=oe.map(re=>({...re,id:re.id||""}));y(Q)}}finally{S(!1)}}x()},[]);const se=["Most Popular",...new Set(v.map(x=>x.category))],ge=x=>{p(x)},N=()=>{p(null)},w=(x,be,oe)=>{U({...x,selectedIngredients:be,qty:oe}),p(null)};L.useEffect(()=>(document.body.style.overflow=d?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[d]);const C=v.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())||x.desc.toLowerCase().includes(a.toLowerCase())||x.tags?.some(oe=>oe.toLowerCase().includes(a.toLowerCase()))||x.category.toLowerCase().includes(a.toLowerCase())),M=new Set(v.slice(0,3).map(x=>x.id)),I=C.filter(x=>M.has(x.id)),k=x=>{c(x);const be=x==="Most Popular"?q.current:P.current[x];be&&be.scrollIntoView({behavior:"smooth",block:"start"})};return T?m.jsx("main",{className:"menuPageContainer max-w-6xl",children:m.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:m.jsx("p",{children:"Indlser menuen..."})})}):R?m.jsx("main",{className:"menuPageContainer max-w-6xl",children:m.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:m.jsx("p",{style:{color:"red"},children:R})})}):m.jsxs("main",{className:"menuPageContainer max-w-6xl",children:[m.jsxs("div",{className:"menu-header",children:[m.jsxs("div",{children:[m.jsx("p",{className:"menu-subtitle",children:"Vlg en kategori for at se vores retter."}),m.jsxs("h2",{className:"text-3xl font-bold mb-4 flex items-center gap-2",children:[m.jsx("span",{role:"img","aria-label":"bestik",className:"menu-header-icon",children:""}),"Bestil takeaway"]})]}),m.jsxs("button",{className:"allergen-btn",onClick:()=>s(!0),children:["Allergener",m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 2L2 20h20L12 2z"}),m.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),m.jsx("circle",{cx:"12",cy:"17",r:"1"})]})]})]}),i&&m.jsx("div",{className:"allergen-modal",children:m.jsxs("div",{className:"max-w-6xl modal-content",children:[m.jsx("h3",{className:"modal-title",children:"Allergener & Kontakt"}),m.jsx("p",{className:"modal-text",children:"Kontakt os hvis du har sprgsml om allergener, ingredienser eller bestilling."}),m.jsxs("div",{className:"contact-box",children:[m.jsx("p",{className:"contact-header",children:"Kontakt os direkte"}),m.jsx("a",{href:"tel:YOUR_PHONE_NUMBER",className:"contact-btn call",children:" Ring: YOUR_PHONE_NUMBER"}),m.jsx("a",{href:"sms:YOUR_PHONE_NUMBER",className:"contact-btn sms",children:" Send SMS"}),m.jsx("a",{href:"https://wa.me/yourphonenumber",className:"contact-btn whatsapp",target:"_blank",children:" WhatsApp"})]}),m.jsxs("div",{className:"hours-box",children:[m.jsx("h4",{className:"hours-title",children:"bningstider"}),m.jsx("p",{className:"hours-text",children:"YOUR_OPENING_HOURS"})]}),m.jsxs("div",{className:"allergen-box",children:[m.jsx("h4",{className:"allergen-title",children:"Almindelige allergener"}),m.jsxs("ul",{className:"allergen-list",children:[m.jsx("li",{children:" Gluten"}),m.jsx("li",{children:" Laktose"}),m.jsx("li",{children:" g"}),m.jsx("li",{children:" Ndder"}),m.jsx("li",{children:" Fisk"}),m.jsx("li",{children:" Skaldyr"}),m.jsx("li",{children:" Rejer"}),m.jsx("li",{children:" Sulfitter"})]}),m.jsx("p",{className:"modal-note",children:"Kontakt os for detaljer om specifikke retter."})]}),m.jsx("div",{className:"modal-close-btn",children:m.jsx("button",{onClick:()=>s(!1),"aria-label":"Close",children:m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"custom-x-icon",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]})}),m.jsxs("div",{className:"menu-grid",children:[m.jsxs("aside",{className:"menu-sidebar",children:[m.jsxs("div",{className:"search-container",children:[m.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:a,onChange:x=>t(x.target.value),className:"menu-search"}),m.jsx("span",{className:"search-icon",children:""})]}),m.jsx("div",{className:"categoriesContainer",children:se.map(x=>m.jsx("button",{className:x===o?"solid":"ghost",onClick:()=>k(x),children:x},x))})]}),m.jsxs("section",{className:"menu-products",children:[m.jsxs("div",{className:"menu-filters",children:[m.jsxs("div",{className:"search-container",children:[m.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:a,onChange:x=>t(x.target.value),className:"menu-search"}),m.jsx("span",{className:"search-icon",children:""})]}),m.jsx("div",{className:"categoriesContainer",children:se.map(x=>m.jsx("button",{className:x===o?"solid":"ghost",onClick:()=>k(x),children:x},x))})]}),I.length>0&&m.jsxs("div",{className:"menu-category-block menu-popular-block",ref:x=>{q.current=x},children:[m.jsx("h3",{className:"menu-category-title",children:"Most Popular"}),m.jsx("div",{className:"menu-products-grid",children:I.map(x=>m.jsxs("div",{className:"bg-white rounded shadow flex items-center menu-item",onClick:()=>ge(x),children:[m.jsx("img",{src:`/assets/${x.image}`,alt:x.image}),m.jsxs("div",{className:"menu-item-content",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"menu-item-name",children:x.name}),m.jsx("p",{className:"text-sm text-gray-600",children:x.desc})]}),m.jsx("div",{className:"menu-item-price",children:m.jsxs("div",{className:"font-bold",children:["DKK ",Number(x.price).toFixed(2)]})}),m.jsx(q_,{item:x,onAdd:ge})]})]},x.id))})]}),Array.from(new Set(v.map(x=>x.category))).map(x=>{const be=C.filter(oe=>oe.category===x);return be.length===0?null:m.jsxs("div",{className:"menu-category-block",ref:oe=>{P.current[x]=oe},children:[m.jsx("h3",{className:"menu-category-title",children:x}),m.jsx("div",{className:"menu-products-grid",children:be.map(oe=>m.jsxs("div",{className:"bg-white rounded shadow flex items-center menu-item",onClick:()=>ge(oe),children:[m.jsx("img",{src:`/assets/${oe.image}`,alt:oe.image}),m.jsxs("div",{className:"menu-item-content",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"menu-item-name",children:oe.name}),m.jsx("p",{className:"text-sm text-gray-600",children:oe.desc})]}),m.jsx("div",{className:"menu-item-tags",children:oe.tags?.map(Q=>m.jsx("span",{className:"menu-item-tag",children:Q},Q))}),m.jsx("div",{className:"menu-item-price"+(oe.tags?.length&&oe.tags.length>0?" moveDown":""),children:m.jsxs("div",{className:"font-bold",children:["DKK ",Number(oe.price).toFixed(2)]})}),m.jsx(q_,{item:oe,onAdd:ge})]})]},oe.id))})]},x)}),d&&m.jsx(kR,{item:d,onClose:N,onConfirm:(x,be)=>w(d,x,be)}),C.length===0&&m.jsx("p",{className:"no-results",children:"Ingen resultater fundet "})]}),m.jsxs("aside",{className:"menu-cart-panel",children:[m.jsxs("div",{className:"menu-cart-header",children:[m.jsx("h3",{children:"Din kurv"}),m.jsxs("span",{className:"menu-cart-count",children:[J.length," varer"]})]}),J.length===0?m.jsx("p",{className:"menu-cart-empty",children:"Din kurv er tom. Tilfj lkre retter fra menuen."}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"menu-cart-items",children:J.map(x=>m.jsxs("div",{className:"menu-cart-item",children:[m.jsxs("div",{children:[m.jsx("p",{className:"menu-cart-item-name",children:x.name}),m.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(x.price*x.qty).toFixed(2)]})]}),m.jsxs("div",{className:"menu-cart-controls",children:[m.jsx("button",{onClick:()=>ne(x.id,Math.max(1,x.qty-1)),"aria-label":"Fjern en",children:""}),m.jsx("span",{children:x.qty}),m.jsx("button",{onClick:()=>ne(x.id,x.qty+1),"aria-label":"Tilfj en",children:"+"}),m.jsx("button",{className:"menu-cart-remove",onClick:()=>ae(x.id),children:"Fjern"})]})]},x.id))}),m.jsxs("div",{className:"menu-cart-total",children:[m.jsx("span",{children:"Total"}),m.jsxs("strong",{children:["DKK ",ye.toFixed(2)]})]}),m.jsx(pt,{to:"/checkout",className:"nav-cta menu-cart-cta",children:"G til checkout"})]})]})]})]})}async function Qd(a,t=!1){try{let i=So(Ks(tn,"reviews"),Bm("createdAt","desc"));a&&(i=So(i,bR(a)));const o=(await ih(i)).docs.map(c=>{const d=c.data(),p=d.createdAt;return{id:c.id,...d,createdAt:p?.toDate?p.toDate():new Date(p)}});return t?o:o.filter(c=>c.approved!==!1)}catch(i){throw console.error("Error fetching reviews:",i),i}}async function G_(a,t){try{const i=Ni(tn,"reviews",a);await Hm(i,t),await LR()}catch(i){throw console.error("Error updating review:",i),i}}async function F_(){try{const a=Ni(tn,"metadata","reviews"),t=await iT(a);if(t.exists()){const s=t.data().lastUpdated;if(s)return s.toDate?s.toDate():new Date(s)}return null}catch(a){return console.error("Error fetching reviews metadata:",a),null}}async function LR(){try{const a=Ni(tn,"metadata","reviews");await rT(a,{lastUpdated:oT()},{merge:!0})}catch(a){console.error("Error updating reviews metadata:",a)}}const fT="xanthos_reviews",dT="xanthos_reviews_lastUpdated";function Q_(){try{const a=localStorage.getItem(fT);if(a)return JSON.parse(a).map(i=>({...i,createdAt:i.createdAt?new Date(i.createdAt):new Date}))}catch(a){console.error("Error reading reviews from localStorage:",a)}return null}function K_(a){try{const t=a.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt}));localStorage.setItem(fT,JSON.stringify(t))}catch(t){console.error("Error saving reviews to localStorage:",t)}}function zR(){try{const a=localStorage.getItem(dT);if(a)return new Date(a)}catch(a){console.error("Error reading reviews lastUpdated from localStorage:",a)}return null}function Y_(a){try{localStorage.setItem(dT,a.toISOString())}catch(t){console.error("Error saving reviews lastUpdated to localStorage:",t)}}const X_=[{id:1,title:"BBQ Ribs Combo",description:"Saftiga ribs med vr hemlagade BBQ-ss + liten Cola",price:"159,-",image:"/assets/pepperoni.jpg"},{id:2,title:"Pepperoni Pizza Deal",description:"Stor pepperoni pizza + valgfri dip",price:"119,-",image:"/assets/pepperoni.jpg"},{id:3,title:"Mixed Grill Plate",description:"Kebabspyd, plser & pommes frites",price:"169,-",image:"/assets/pepperoni.jpg"}];function UR(){const a=new Date().getDate()%X_.length,t=X_[a],[i,s]=L.useState({name:"",email:"",message:""}),[o,c]=L.useState([]),[d,p]=L.useState(!0),[v,y]=L.useState(4.6),[T,S]=L.useState(500);function R(){const q=new Date,U=q.getHours(),J=q.getMinutes(),ne=U+J/60;return ne>=11&&ne<22}function O(q){q.preventDefault(),alert("Tak for din besked! Vi vender tilbage snarest."),s({name:"",email:"",message:""})}L.useEffect(()=>{async function q(){try{p(!0);const U=Q_(),J=zR();if(U&&U.length>0){c(U);const ne=U.reduce((ye,se)=>ye+se.rating,0)/U.length;y(Math.round(ne*10)/10),S(U.length),p(!1);const ae=await F_();if(ae&&(!J||ae.getTime()>J.getTime())){const se=await Qd(6);if(c(se),K_(se),Y_(ae),se.length>0){const ge=se.reduce((N,w)=>N+w.rating,0)/se.length;y(Math.round(ge*10)/10),S(se.length)}}}else{const ne=await Qd(6);if(c(ne),K_(ne),ne.length>0){const ye=ne.reduce((se,ge)=>se+ge.rating,0)/ne.length;y(Math.round(ye*10)/10),S(ne.length)}const ae=await F_();ae&&Y_(ae)}}catch(U){console.error("Error loading reviews:",U);const J=Q_();if(J&&J.length>0){c(J);const ne=J.reduce((ae,ye)=>ae+ye.rating,0)/J.length;y(Math.round(ne*10)/10),S(J.length)}}finally{p(!1)}}q()},[]);function P(q){const U=Math.floor(q),J=q%1>=.5,ne=5-U-(J?1:0);return m.jsxs(m.Fragment,{children:["".repeat(U),J&&"","".repeat(ne)]})}return m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"hero-section",children:[m.jsx("div",{className:"hero-overlay"}),m.jsxs("div",{className:"hero-container",children:[m.jsxs("div",{className:"hero-content",children:[m.jsxs("div",{className:"hero-badge",children:[m.jsx("span",{className:"open-dot"}),R()?"ben nu":"Lukket  bner kl. 11:00 i morgen"]}),m.jsxs("h1",{className:"hero-title",children:[m.jsx(Rv,{}),"Velkommen til Xanthos Pizza & Grill"]}),m.jsx("p",{className:"hero-subtitle",children:"Autentiske pizzor och grillfavoriter. Bestll enkelt online och hmta eller f hemleverans."}),m.jsxs("div",{className:"hero-features",children:[m.jsxs("span",{className:"hero-feature",children:[m.jsx("span",{className:"hero-icon",children:""}),"Pickup"]}),m.jsxs("span",{className:"hero-feature",children:[m.jsx("span",{className:"hero-icon",children:""}),"Levering"]}),m.jsxs("span",{className:"hero-feature",children:[m.jsx("span",{className:"hero-icon",children:""}),"4.6/5 (500+ anmeldelser)"]})]}),m.jsxs("div",{className:"hero-cta",children:[m.jsxs(pt,{to:"/bestil",className:"btn-primary",children:["Bestil takeaway",m.jsx(em,{})]}),m.jsx(pt,{to:"/menu",className:"btn-secondary",children:"Se menu"})]})]}),m.jsx("div",{className:"hero-special",children:m.jsxs("div",{className:"special-card",children:[m.jsx("span",{className:"special-badge",children:"Dagens tilbud"}),m.jsx("div",{className:"special-image",children:m.jsx("img",{src:t.image,alt:t.title})}),m.jsx("h3",{className:"special-title",children:t.title}),m.jsx("p",{className:"special-desc",children:t.description}),m.jsx("p",{className:"special-price",children:t.price})]})})]})]}),m.jsxs("main",{className:"home-main",children:[m.jsx("section",{className:"trust-section",children:m.jsxs("div",{className:"trust-grid",children:[m.jsxs("div",{className:"trust-card",children:[m.jsx("div",{className:"trust-icon",children:""}),m.jsx("h3",{children:"Levering"}),m.jsx("p",{children:"Hurtig & varm"}),m.jsx("p",{children:"3045 min  Op til 5 km"})]}),m.jsxs("div",{className:"trust-card",children:[m.jsx("div",{className:"trust-icon",children:""}),m.jsx("h3",{children:"Afhentning"}),m.jsx("p",{children:"Klar p 15 min"})]}),m.jsxs("div",{className:"trust-card",children:[m.jsx("div",{className:"trust-icon",children:""}),m.jsx("h3",{children:"Sikker betaling"}),m.jsx("p",{children:"Kort & MobilePay"})]}),m.jsxs("div",{className:"trust-card",children:[m.jsx("div",{className:"trust-icon",children:""}),m.jsx("h3",{children:"4.6 stjerner"}),m.jsx("p",{children:"500+ anmeldelser"})]})]})}),m.jsxs("section",{className:"section about-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Om os"}),m.jsx("p",{className:"section-subtitle",children:"Din lokale pizzabar og grill"})]}),m.jsxs("div",{className:"about-content",children:[m.jsxs("div",{className:"about-text",children:[m.jsx("p",{children:"Xanthos Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),m.jsx("p",{children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),m.jsx("p",{children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]}),m.jsx("div",{className:"about-image",children:m.jsx("div",{className:"about-image-placeholder",children:m.jsx(Rv,{})})})]})]}),m.jsxs("section",{className:"section popular-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Populre retter"}),m.jsx("p",{className:"section-subtitle",children:"Kundernas favoriter just nu"})]}),m.jsx("div",{className:"popular-grid",children:hT.slice(0,3).map(q=>m.jsx(OR,{item:q},q.id))})]}),m.jsx("section",{className:"section info-section",children:m.jsxs("div",{className:"info-grid",children:[m.jsxs("div",{className:"info-card hours-card",children:[m.jsxs("div",{className:"info-card-header",children:[m.jsx("span",{className:"info-icon",children:""}),m.jsx("h3",{children:"bningstider"})]}),m.jsxs("div",{className:"hours-list",children:[m.jsxs("div",{className:"hours-item",children:[m.jsx("span",{children:"Mandag  Torsdag"}),m.jsx("span",{className:"hours-time",children:"11:00  21:00"})]}),m.jsxs("div",{className:"hours-item",children:[m.jsx("span",{children:"Fredag  Sndag"}),m.jsx("span",{className:"hours-time",children:"11:00  23:00"})]})]}),m.jsxs("div",{className:`hours-status ${R()?"open":"closed"}`,children:[m.jsx("span",{className:"status-dot"}),R()?"ben nu":"Lukket"]})]}),m.jsxs("div",{className:"info-card contact-card",children:[m.jsxs("div",{className:"info-card-header",children:[m.jsx("span",{className:"info-icon",children:""}),m.jsx("h3",{children:"Kontakt os"})]}),m.jsxs("div",{className:"contact-info",children:[m.jsxs("a",{href:"tel:70123456",className:"contact-link",children:[m.jsx("span",{className:"contact-label",children:"Telefon:"}),m.jsx("span",{className:"contact-value",children:"70 12 34 56"})]}),m.jsxs("a",{href:"mailto:info@pizza-grill.dk",className:"contact-link",children:[m.jsx("span",{className:"contact-label",children:"E-mail:"}),m.jsx("span",{className:"contact-value",children:"info@pizza-grill.dk"})]}),m.jsxs("div",{className:"contact-link",children:[m.jsx("span",{className:"contact-label",children:"Adresse:"}),m.jsx("span",{className:"contact-value",children:"Hovedgade 123, 1234 By"})]})]})]})]})}),m.jsxs("section",{className:"section reviews-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Hvad vores kunder siger"}),m.jsx("p",{className:"section-subtitle",children:"Anmeldelser fra vores glade kunder"})]}),d?m.jsx("div",{className:"reviews-loading",children:"Indlser anmeldelser..."}):o.length===0?m.jsx("div",{className:"reviews-empty",children:m.jsx("p",{children:"Ingen anmeldelser endnu. Vr den frste til at anmelde!"})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"reviews-grid",children:o.slice(0,3).map(q=>m.jsxs("div",{className:"review-card",children:[m.jsx("div",{className:"review-stars",children:P(q.rating)}),m.jsxs("p",{className:"review-text",children:['"',q.text,'"']}),m.jsxs("p",{className:"review-author",children:[" ",q.author]})]},q.id))}),m.jsxs("p",{className:"reviews-average",children:[" ",v.toFixed(1)," gennemsnitlig vurdering fra ",T," anmeldelse",T!==1?"r":""]})]})]}),m.jsxs("section",{className:"section contact-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Skriv til os"}),m.jsx("p",{className:"section-subtitle",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."})]}),m.jsxs("form",{className:"contact-form",onSubmit:O,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"name",children:"Navn"}),m.jsx("input",{type:"text",id:"name",value:i.name,onChange:q=>s({...i,name:q.target.value}),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"E-mail"}),m.jsx("input",{type:"email",id:"email",value:i.email,onChange:q=>s({...i,email:q.target.value}),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"message",children:"Besked"}),m.jsx("textarea",{id:"message",rows:5,value:i.message,onChange:q=>s({...i,message:q.target.value}),required:!0})]}),m.jsx("button",{type:"submit",className:"btn-primary btn-submit",children:"Send besked"})]})]}),m.jsx("section",{className:"section cta-section",children:m.jsxs("div",{className:"cta-content",children:[m.jsx("h2",{className:"cta-title",children:"Klar til at bestille?"}),m.jsx("p",{className:"cta-subtitle",children:"Udforsk vores menu og bestil dine favoritter nu"}),m.jsx(pt,{to:"/bestil",className:"btn-primary btn-large",children:"Bestil nu "})]})})]})]})}function PR(){const a=Xd(),{items:t,updateQty:i,removeItem:s,clear:o,total:c}=Ps(),[d,p]=L.useState(!1),v=.25,y=Math.round(c*v/(1+v)),T=c-y;return m.jsxs("main",{className:"cart-page max-w-4xl mx-auto p-6",children:[m.jsxs("div",{className:"titleBox",children:[m.jsxs("h2",{className:"cart-page-title",children:[m.jsx(Uc,{className:"cart-page-icon"}),"Din kurv"]}),t.length>0&&m.jsx("button",{className:d?"cart-clear active":"cart-clear",disabled:d,onClick:()=>p(!0),"aria-label":"Tm kurv",children:m.jsx(xb,{className:"cart-clear-icon"})})]}),d&&m.jsxs("div",{className:"cart-confirm-box",children:[m.jsxs("div",{className:"cart-confirm-text",children:[m.jsx("span",{className:"cart-confirm-title",children:"Tm kurven?"}),m.jsx("span",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent."})]}),m.jsxs("div",{className:"cart-confirm-actions",children:[m.jsx("button",{className:"cart-confirm-cancel",onClick:()=>p(!1),children:"Annuller"}),m.jsx("button",{className:"cart-confirm-danger",onClick:()=>{o(),p(!1)},children:"Ja, tm"})]})]}),t.length===0?m.jsxs("div",{className:"cart-empty",children:["Din kurv er tom "," ",m.jsx(pt,{to:"/menu",className:"cart-empty-link",children:"browse the menu"})]}):m.jsxs("div",{className:"cart-list",children:[t.map(S=>{const R=S.selectedIngredients?.reduce((U,J)=>U+(J.extraPrice||0),0)||0,O=S.price-R,q=S.price*S.qty;return m.jsxs("div",{className:"cart-item",children:[m.jsxs("div",{className:"cart-item-main",children:[m.jsx("img",{src:`/assets/${S.image}`,alt:S.name,className:"cart-item-img"}),m.jsxs("div",{className:"cart-item-details",children:[m.jsx("h4",{className:"cart-item-title",children:S.name}),m.jsxs("div",{className:"cart-unit-price",children:[O,",- / stk"]}),S.selectedIngredients&&S.selectedIngredients.length>0&&m.jsx("ul",{className:"cart-ingredients",children:S.selectedIngredients.map(U=>m.jsxs("li",{children:["+ ",U.name,U.extraPrice?` (${U.extraPrice} kr)`:""]},U.name))})]}),m.jsx("button",{className:"cart-remove",onClick:()=>s(S.id),"aria-label":"Remove item",children:""})]}),m.jsxs("div",{className:"cart-item-controls",children:[m.jsxs("div",{className:"cart-qty",children:[m.jsx("button",{onClick:()=>i(S.id,S.qty-1),children:"-"}),m.jsx("span",{children:S.qty}),m.jsx("button",{onClick:()=>i(S.id,S.qty+1),children:"+"})]}),m.jsxs("div",{className:"cart-price",children:[q,",-"]})]})]},S.id)}),m.jsxs("div",{className:"cart-summary",children:[m.jsxs("div",{className:"cart-breakdown",children:[m.jsxs("div",{children:["Subtotal ",m.jsxs("span",{children:[T,",-"]})]}),m.jsxs("div",{children:["Moms (25%) ",m.jsxs("span",{children:[y,",-"]})]})]}),m.jsxs("div",{className:"cart-total",children:[m.jsx("span",{children:"Total"}),m.jsxs("strong",{children:[c,",-"]})]}),m.jsx("div",{className:"cart-actions",children:m.jsx("button",{onClick:()=>a("/checkout"),className:"cart-checkout",children:"G til betaling"})})]})]})]})}async function BR(a){try{return(await lT(Ks(tn,"orders"),{...a,createdAt:nt.now()})).id}catch(t){throw console.error("Error creating order:",t),t}}async function qR(){try{const a=So(Ks(tn,"orders"),Bm("createdAt","desc"));return(await ih(a)).docs.map(i=>({id:i.id,...i.data(),createdAt:i.data().createdAt?.toDate()||new Date}))}catch(a){throw console.error("Error fetching orders:",a),a}}async function HR(a,t){try{const i=Ni(tn,"orders",a);await Hm(i,{status:t})}catch(i){throw console.error("Error updating order status:",i),i}}async function GR(a){try{const t=So(Ks(tn,"orders")),s=(await ih(t)).docs.find(o=>o.id===a);return s?{id:s.id,...s.data(),createdAt:s.data().createdAt?.toDate()||new Date}:null}catch(t){throw console.error("Error fetching order:",t),t}}const $_=30;function FR(){const{items:a,total:t,clear:i}=Ps(),[s,o]=L.useState(""),[c,d]=L.useState(""),[p,v]=L.useState(""),[y,T]=L.useState("pickup"),[S,R]=L.useState(""),[O,P]=L.useState("card"),[q,U]=L.useState(""),[J,ne]=L.useState(""),[ae,ye]=L.useState(""),[se,ge]=L.useState(""),[N,w]=L.useState(!1),C=Xd(),M=y==="delivery"?t+$_:t,I=y==="delivery";function k(oe){const Q=oe.replace(/\s+/g,"").replace(/[^0-9]/gi,""),re=Q.match(/\d{4,16}/g),de=re&&re[0]||"",Re=[];for(let $=0,D=de.length;$<D;$+=4)Re.push(de.substring($,$+4));return Re.length?Re.join(" "):Q}function x(oe){const Q=oe.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return Q.length>=2?Q.substring(0,2)+"/"+Q.substring(2,4):Q}async function be(oe){if(oe.preventDefault(),I&&O==="card"){if(!q||!J||!ae||!se){alert("Udfyld venligst alle betalingsoplysninger");return}if(q.replace(/\s/g,"").length<16){alert("Ugyldigt kortnummer");return}}w(!0);try{I&&O==="card"&&await new Promise(re=>setTimeout(re,2e3));const Q=await BR({items:a,total:M,name:s,phone:c,address:y==="delivery"?p:null,method:y,note:S,paymentMethod:I?O:"cash",paymentStatus:I&&O==="card"?"paid":"pending",status:"pending"});i(),w(!1),C("/confirmation/"+Q)}catch(Q){console.error("Error placing order:",Q),alert("Der opstod en fejl ved placering af ordren. Prv venligst igen."),w(!1)}}return m.jsx("main",{className:"checkout-page",children:m.jsxs("div",{className:"checkout-container",children:[m.jsxs("h2",{className:"checkout-title",children:[m.jsx(Uc,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Gennemfr bestilling"]}),a.length===0?m.jsxs("div",{className:"checkout-empty",children:[m.jsx("p",{children:"Din kurv er tom "}),m.jsx(pt,{to:"/bestil",className:"checkout-link",children:"Se menuen"})]}):m.jsxs("div",{className:"checkout-layout",children:[m.jsxs("form",{onSubmit:be,className:"checkout-form",children:[m.jsxs("section",{className:"checkout-section",children:[m.jsx("h3",{className:"checkout-section-title",children:"Kontaktoplysninger"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:"Navn"}),m.jsx("input",{type:"text",required:!0,value:s,onChange:oe=>o(oe.target.value),className:"form-input",placeholder:"Indtast dit navn"})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"form-label",children:[m.jsx(mE,{style:{marginRight:"0.35rem",verticalAlign:"middle"}}),"Telefonnummer"]}),m.jsx("input",{type:"tel",required:!0,value:c,onChange:oe=>d(oe.target.value),className:"form-input",placeholder:"+45 12 34 56 78"})]})]}),m.jsxs("section",{className:"checkout-section",children:[m.jsx("h3",{className:"checkout-section-title",children:"Afhentning eller levering"}),m.jsxs("div",{className:"method-selector",children:[m.jsxs("label",{className:`method-option ${y==="pickup"?"active":""}`,children:[m.jsx("input",{type:"radio",name:"method",value:"pickup",checked:y==="pickup",onChange:oe=>T(oe.target.value)}),m.jsxs("div",{className:"method-content",children:[m.jsx("span",{className:"method-icon",children:""}),m.jsxs("div",{children:[m.jsx("div",{className:"method-title",children:"Afhentning"}),m.jsx("div",{className:"method-desc",children:"Hent din bestilling i butikken"})]})]})]}),m.jsxs("label",{className:`method-option ${y==="delivery"?"active":""}`,children:[m.jsx("input",{type:"radio",name:"method",value:"delivery",checked:y==="delivery",onChange:oe=>T(oe.target.value)}),m.jsxs("div",{className:"method-content",children:[m.jsx("span",{className:"method-icon",children:""}),m.jsxs("div",{children:[m.jsx("div",{className:"method-title",children:"Levering"}),m.jsx("div",{className:"method-desc",children:"Vi bringer det til dig"})]})]})]})]}),y==="delivery"&&m.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[m.jsx("label",{className:"form-label",children:"Leveringsadresse"}),m.jsx("input",{type:"text",required:y==="delivery",value:p,onChange:oe=>v(oe.target.value),className:"form-input",placeholder:"Gadenavn og nummer"})]})]}),m.jsxs("section",{className:"checkout-section",children:[m.jsx("h3",{className:"checkout-section-title",children:"Bemrkninger (valgfrit)"}),m.jsx("div",{className:"form-group",children:m.jsx("textarea",{value:S,onChange:oe=>R(oe.target.value),className:"form-textarea",placeholder:"Har du nogen srlige nsker eller allergener?",rows:4})})]}),I&&m.jsxs("section",{className:"checkout-section",children:[m.jsx("h3",{className:"checkout-section-title",children:" Betalingsmetode"}),m.jsxs("div",{className:"payment-methods",children:[m.jsxs("label",{className:`payment-method-option ${O==="card"?"active":""}`,children:[m.jsx("input",{type:"radio",name:"payment",value:"card",checked:O==="card",onChange:oe=>P(oe.target.value)}),m.jsxs("div",{className:"payment-method-content",children:[m.jsx("span",{className:"payment-icon",children:""}),m.jsxs("div",{children:[m.jsx("div",{className:"payment-method-title",children:"Kortbetaling"}),m.jsx("div",{className:"payment-method-desc",children:"Visa, Mastercard, Dankort"})]})]})]}),m.jsxs("label",{className:`payment-method-option ${O==="mobilepay"?"active":""}`,children:[m.jsx("input",{type:"radio",name:"payment",value:"mobilepay",checked:O==="mobilepay",onChange:oe=>P(oe.target.value)}),m.jsxs("div",{className:"payment-method-content",children:[m.jsx("span",{className:"payment-icon",children:""}),m.jsxs("div",{children:[m.jsx("div",{className:"payment-method-title",children:"MobilePay"}),m.jsx("div",{className:"payment-method-desc",children:"Betal med MobilePay"})]})]})]})]}),O==="card"&&m.jsxs("div",{className:"payment-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:"Navn p kort"}),m.jsx("input",{type:"text",required:O==="card",value:J,onChange:oe=>ne(oe.target.value),className:"form-input",placeholder:"Fulde navn"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:"Kortnummer"}),m.jsx("input",{type:"text",required:O==="card",value:q,onChange:oe=>U(k(oe.target.value)),className:"form-input",placeholder:"1234 5678 9012 3456",maxLength:19})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",style:{flex:1},children:[m.jsx("label",{className:"form-label",children:"Udlbsdato"}),m.jsx("input",{type:"text",required:O==="card",value:ae,onChange:oe=>ye(x(oe.target.value)),className:"form-input",placeholder:"MM/",maxLength:5})]}),m.jsxs("div",{className:"form-group",style:{flex:1},children:[m.jsx("label",{className:"form-label",children:"CVV"}),m.jsx("input",{type:"text",required:O==="card",value:se,onChange:oe=>ge(oe.target.value.replace(/\D/g,"").slice(0,3)),className:"form-input",placeholder:"123",maxLength:3})]})]})]}),O==="mobilepay"&&m.jsx("div",{className:"mobilepay-info",children:m.jsx("p",{children:"Du vil blive omdirigeret til MobilePay for at gennemfre betalingen."})})]}),m.jsxs("div",{className:"checkout-actions",children:[m.jsx("button",{type:"button",onClick:()=>C("/cart"),className:"btn-secondary",disabled:N,children:"Tilbage"}),m.jsx("button",{type:"submit",className:"btn-primary",disabled:N,children:N?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"spinner"}),"Behandler..."]}):m.jsxs(m.Fragment,{children:[I?"Betal og placer ordre":"Placer ordre",m.jsx(em,{style:{marginLeft:"0.5rem",verticalAlign:"middle"}})]})})]}),m.jsx("p",{className:"checkout-note",children:I?" Din betaling er sikker og krypteret. Vi ringer til dig, nr din bestilling er klar!":" Betaling sker ved afhentning. Vi ringer til dig, nr din bestilling er klar!"})]}),m.jsxs("aside",{className:"checkout-summary",children:[m.jsxs("div",{className:"summary-header",children:[m.jsx("h3",{children:"Din bestilling"}),m.jsxs("span",{className:"summary-count",children:[a.length," ",a.length===1?"vare":"varer"]})]}),m.jsx("div",{className:"summary-items",children:a.map(oe=>m.jsxs("div",{className:"summary-item",children:[m.jsxs("div",{className:"summary-item-info",children:[m.jsx("span",{className:"summary-item-name",children:oe.name}),m.jsxs("span",{className:"summary-item-qty",children:["x",oe.qty]})]}),m.jsxs("span",{className:"summary-item-price",children:["DKK ",(oe.price*oe.qty).toFixed(2)]})]},oe.id))}),m.jsxs("div",{className:"summary-total",children:[m.jsxs("div",{className:"summary-total-row",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["DKK ",t.toFixed(2)]})]}),y==="delivery"&&m.jsxs("div",{className:"summary-total-row",children:[m.jsx("span",{children:"Leveringsgebyr"}),m.jsxs("span",{children:["DKK ",$_.toFixed(2)]})]}),m.jsxs("div",{className:"summary-total-row summary-total-final",children:[m.jsx("span",{children:"Total"}),m.jsxs("strong",{children:["DKK ",M.toFixed(2)]})]})]})]})]})]})})}function QR({orderId:a}){const[t,i]=L.useState(null),[s,o]=L.useState(!0);return L.useEffect(()=>{async function c(){try{const d=await GR(a);i(d)}catch(d){console.error("Error loading order:",d)}finally{o(!1)}}c()},[a]),s?m.jsx("main",{className:"max-w-3xl mx-auto p-6",children:m.jsx("div",{className:"p-6 bg-white rounded shadow text-center",children:"Indlser ordre..."})}):t?m.jsx("main",{className:"max-w-3xl mx-auto p-6",children:m.jsxs("div",{className:"bg-white rounded shadow p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thanks  your order is placed!"}),m.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Order #",t.id]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold",children:"Items"}),m.jsx("ul",{className:"mt-2",children:t.items.map(c=>m.jsxs("li",{children:[c.qty,"  ",c.name,"  ",c.price*c.qty,",-"]},c.id))})]}),m.jsxs("div",{className:"mt-4",children:["Total: ",m.jsxs("strong",{children:[t.total,",-"]})]}),m.jsxs("div",{className:"mt-4",children:["We will call you at ",m.jsx("strong",{children:t.phone})," when your order is ready."]})]})}):m.jsx("main",{className:"max-w-3xl mx-auto p-6",children:m.jsx("div",{className:"p-6 bg-white rounded shadow",children:"Ordre ikke fundet."})})}async function KR(){try{console.log("Initializing products in Firebase...");for(const a of hT)await jR({category:a.category,name:a.name,desc:a.desc,price:a.price,image:a.image,ingredients:a.ingredients||[]}),console.log(`Created product: ${a.name}`);console.log("All products initialized successfully!")}catch(a){throw console.error("Error initializing products:",a),a}}function YR(){const[a,t]=L.useState("orders"),[i,s]=L.useState([]),[o,c]=L.useState(!0),[d,p]=L.useState(null),[v,y]=L.useState([]),[T,S]=L.useState(!0),[R,O]=L.useState(null),[P,q]=L.useState(null),[U,J]=L.useState(!1),[ne,ae]=L.useState(!1),[ye,se]=L.useState([]),[ge,N]=L.useState(!0),[w,C]=L.useState(null);async function M(){try{c(!0),p(null);const $=await qR();s($)}catch($){console.error("Error loading orders:",$),p("Kunne ikke indlse ordrer. Prv venligst igen.")}finally{c(!1)}}async function I(){try{S(!0),O(null);const $=await Fd();y($)}catch($){console.error("Error loading products:",$),O("Kunne ikke indlse produkter. Prv venligst igen.")}finally{S(!1)}}async function k(){try{N(!0),C(null);const $=await Qd(void 0,!0);se($)}catch($){console.error("Error loading reviews:",$),C("Kunne ikke indlse anmeldelser. Prv venligst igen.")}finally{N(!1)}}L.useEffect(()=>{a==="orders"?M():a==="products"?I():a==="reviews"&&k()},[a]);async function x(){if(confirm("Er du sikker p, at du vil initialisere alle produkter? Dette kan oprette dubletter hvis produkter allerede findes.")){J(!0),ae(!1),O(null);try{await KR(),ae(!0),await I(),setTimeout(()=>ae(!1),5e3)}catch($){console.error("Error initializing products:",$),O("Kunne ikke initialisere produkter. Tjek konsollen for detaljer.")}finally{J(!1)}}}async function be($,D){try{await HR($,D),s(X=>X.map(le=>le.id===$?{...le,status:D}:le))}catch(X){console.error("Error updating order status:",X),alert("Kunne ikke opdatere ordrestatus. Prv venligst igen.")}}async function oe($,D){try{await IR($,D),y(X=>X.map(le=>le.id===$?{...le,...D}:le)),q(null),alert("Produkt opdateret med succes!")}catch(X){console.error("Error updating product:",X),alert("Kunne ikke opdatere produkt. Prv venligst igen.")}}async function Q($){if(confirm("Er du sikker p, at du vil slette dette produkt?"))try{await VR($),y(D=>D.filter(X=>X.id!==$)),alert("Produkt slettet!")}catch(D){console.error("Error deleting product:",D),alert("Kunne ikke slette produkt. Prv venligst igen.")}}async function re($){try{await G_($,{approved:!0}),se(D=>D.map(X=>X.id===$?{...X,approved:!0}:X)),alert("Anmeldelse godkendt!")}catch(D){console.error("Error approving review:",D),alert("Kunne ikke godkende anmeldelse. Prv venligst igen.")}}async function de($){if(confirm("Er du sikker p, at du vil afvise denne anmeldelse?"))try{await G_($,{approved:!1}),se(D=>D.map(X=>X.id===$?{...X,approved:!1}:X)),alert("Anmeldelse afvist!")}catch(D){console.error("Error rejecting review:",D),alert("Kunne ikke afvise anmeldelse. Prv venligst igen.")}}async function Re($){if(confirm("Er du sikker p, at du vil slette denne anmeldelse?"))try{const D=Ni(tn,"reviews",$);await sT(D),se(X=>X.filter(le=>le.id!==$)),alert("Anmeldelse slettet!")}catch(D){console.error("Error deleting review:",D),alert("Kunne ikke slette anmeldelse. Prv venligst igen.")}}return m.jsx("main",{className:"admin-page",children:m.jsxs("div",{className:"admin-container",children:[m.jsx("h1",{className:"admin-title",children:"Admin Panel"}),m.jsxs("div",{className:"admin-tabs",children:[m.jsxs("button",{className:`admin-tab ${a==="orders"?"active":""}`,onClick:()=>t("orders"),children:[" Ordrer (",i.length,")"]}),m.jsxs("button",{className:`admin-tab ${a==="products"?"active":""}`,onClick:()=>t("products"),children:[" Produkter (",v.length,")"]}),m.jsxs("button",{className:`admin-tab ${a==="reviews"?"active":""}`,onClick:()=>t("reviews"),children:[" Anmeldelser (",ye.length,")"]})]}),a==="orders"&&m.jsxs("section",{className:"admin-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Ordre Administration"}),m.jsx("button",{onClick:M,className:"btn-refresh",disabled:o,children:o?"Indlser...":" Opdater"})]}),d&&m.jsx("div",{className:"alert alert-error",children:d}),o?m.jsx("div",{className:"loading-state",children:"Indlser ordrer..."}):i.length===0?m.jsx("div",{className:"empty-state",children:"Ingen ordrer endnu."}):m.jsx("div",{className:"orders-list",children:i.map($=>m.jsxs("div",{className:"order-card",children:[m.jsxs("div",{className:"order-header",children:[m.jsxs("div",{children:[m.jsx("div",{className:"order-name",children:$.name}),m.jsxs("div",{className:"order-meta",children:[$.method==="delivery"?" Levering":" Afhentning","  ",$.createdAt instanceof Date?$.createdAt.toLocaleString("da-DK"):$.createdAt&&"toDate"in $.createdAt?$.createdAt.toDate().toLocaleString("da-DK"):new Date($.createdAt).toLocaleString("da-DK")]}),m.jsxs("div",{className:"order-phone",children:[" ",$.phone]}),$.address&&m.jsxs("div",{className:"order-address",children:[" ",$.address]})]}),m.jsxs("div",{className:"order-actions",children:[m.jsxs("div",{className:"order-total",children:["DKK ",$.total.toFixed(2)]}),m.jsxs("select",{value:$.status,onChange:D=>be($.id,D.target.value),className:"status-select",children:[m.jsx("option",{value:"pending",children:" Afventer"}),m.jsx("option",{value:"paid",children:" Betalt"}),m.jsx("option",{value:"making",children:" Tilbereder"}),m.jsx("option",{value:"ready",children:" Klar"}),m.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),m.jsxs("div",{className:"order-items",children:[m.jsx("strong",{children:"Varer:"}),m.jsx("ul",{children:$.items.map(D=>m.jsxs("li",{children:[D.qty,"  ",D.name,"  DKK ",(D.price*D.qty).toFixed(2)]},D.id))})]}),$.note&&m.jsxs("div",{className:"order-note",children:[m.jsx("strong",{children:"Bemrkning:"})," ",$.note]})]},$.id))})]}),a==="products"&&m.jsxs("section",{className:"admin-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Produkt Administration"}),m.jsxs("div",{className:"section-actions",children:[m.jsx("button",{onClick:I,className:"btn-refresh",disabled:T,children:T?"Indlser...":" Opdater"}),m.jsx("button",{onClick:x,className:"btn-init",disabled:U,children:U?"Initialiserer...":" Initialiser Produkter"})]})]}),ne&&m.jsx("div",{className:"alert alert-success",children:" Produkter blev initialiseret med succes!"}),R&&m.jsx("div",{className:"alert alert-error",children:R}),T?m.jsx("div",{className:"loading-state",children:"Indlser produkter..."}):v.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx("p",{children:"Ingen produkter endnu."}),m.jsx("button",{onClick:x,className:"btn-init",disabled:U,children:U?"Initialiserer...":"Initialiser Produkter"})]}):m.jsxs(m.Fragment,{children:[P&&m.jsx(XR,{product:P,onSave:$=>oe(P.id,$),onCancel:()=>q(null)}),m.jsx("div",{className:"products-grid",children:v.map($=>m.jsxs("div",{className:"product-card",children:[m.jsxs("div",{className:"product-header",children:[m.jsx("img",{src:`./assets/${$.image}`,alt:$.name}),m.jsxs("div",{children:[m.jsx("div",{className:"product-name",children:$.name}),m.jsx("div",{className:"product-category",children:$.category})]}),m.jsxs("div",{className:"product-price",children:["DKK ",$.price.toFixed(2)]})]}),m.jsx("div",{className:"product-desc",children:$.desc}),$.ingredients&&$.ingredients.length>0&&m.jsxs("div",{className:"product-ingredients",children:[m.jsx("strong",{children:"Tilvalg:"}),m.jsx("ul",{children:$.ingredients.map((D,X)=>m.jsxs("li",{children:[D.name,D.extraPrice&&` (+DKK ${D.extraPrice})`]},X))})]}),$.tags&&$.tags.length>0&&m.jsxs("div",{className:"product-ingredients",children:[m.jsx("strong",{children:"Tags:"}),m.jsx("ul",{children:$.tags.map((D,X)=>m.jsx("li",{children:D},X))})]}),m.jsxs("div",{className:"product-actions",children:[m.jsx("button",{onClick:()=>q($),className:"btn-edit",children:" Rediger"}),m.jsx("button",{onClick:()=>Q($.id),className:"btn-delete",children:" Slet"})]})]},$.id))})]})]}),a==="reviews"&&m.jsxs("section",{className:"admin-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Anmeldelses Administration"}),m.jsx("button",{onClick:k,className:"btn-refresh",disabled:ge,children:ge?"Indlser...":" Opdater"})]}),w&&m.jsx("div",{className:"alert alert-error",children:w}),ge?m.jsx("div",{className:"loading-state",children:"Indlser anmeldelser..."}):ye.length===0?m.jsx("div",{className:"empty-state",children:"Ingen anmeldelser endnu."}):m.jsx("div",{className:"reviews-list",children:ye.map($=>m.jsxs("div",{className:`review-card-admin ${$.approved===!1?"review-rejected":$.approved===!0?"review-approved":"review-pending"}`,children:[m.jsxs("div",{className:"review-card-header",children:[m.jsxs("div",{className:"review-info",children:[m.jsx("div",{className:"review-author",children:$.author}),m.jsxs("div",{className:"review-rating",children:["".repeat($.rating),"".repeat(5-$.rating)]}),m.jsx("div",{className:"review-date",children:$.createdAt instanceof Date?$.createdAt.toLocaleString("da-DK"):$.createdAt&&"toDate"in $.createdAt?$.createdAt.toDate().toLocaleString("da-DK"):new Date($.createdAt).toLocaleString("da-DK")})]}),m.jsx("div",{className:"review-status",children:$.approved===!0?m.jsx("span",{className:"status-badge status-approved",children:" Godkendt"}):$.approved===!1?m.jsx("span",{className:"status-badge status-rejected",children:" Afvist"}):m.jsx("span",{className:"status-badge status-pending",children:" Afventer"})})]}),m.jsxs("div",{className:"review-text-admin",children:['"',$.text,'"']}),m.jsxs("div",{className:"review-actions",children:[$.approved!==!0&&m.jsx("button",{onClick:()=>re($.id),className:"btn-approve",children:" Godkend"}),$.approved!==!1&&m.jsx("button",{onClick:()=>de($.id),className:"btn-reject",children:" Afvis"}),m.jsx("button",{onClick:()=>Re($.id),className:"btn-delete",children:" Slet"})]})]},$.id))})]})]})})}function XR({product:a,onSave:t,onCancel:i}){const[s,o]=L.useState(a.name),[c,d]=L.useState(a.desc),[p,v]=L.useState(a.price.toString()),[y,T]=L.useState(a.category),[S,R]=L.useState(a.image),[O,P]=L.useState(a.tags||[]),[q,U]=L.useState(a.ingredients||[]);function J(se){se.preventDefault(),t({name:s,desc:c,price:parseFloat(p),category:y,image:S,tags:O.length>0?O:[],ingredients:q.length>0?q:[]})}function ne(){U([...q,{name:"",extraPrice:void 0}])}function ae(se){U(q.filter((ge,N)=>N!==se))}function ye(se,ge,N){const w=[...q];w[se]={...w[se],[ge]:ge==="extraPrice"?N===""?void 0:Number(N):N},U(w)}return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"modal-backdrop",onClick:i}),m.jsxs("div",{className:"product-edit-form",children:[m.jsx("h3",{children:"Rediger Produkt"}),m.jsxs("form",{onSubmit:J,children:[m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Navn"}),m.jsx("input",{type:"text",value:s,onChange:se=>o(se.target.value),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Kategori"}),m.jsxs("select",{value:y,onChange:se=>T(se.target.value),required:!0,children:[m.jsx("option",{value:"Pizza",children:"Pizza"}),m.jsx("option",{value:"Grill",children:"Grill"}),m.jsx("option",{value:"Sides",children:"Sides"}),m.jsx("option",{value:"Drinks",children:"Drinks"})]})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Beskrivelse"}),m.jsx("textarea",{value:c,onChange:se=>d(se.target.value),required:!0,rows:3})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("div",{className:"form-group-header",children:[m.jsx("label",{children:"Tilvalg (Ingredienser)"}),m.jsx("button",{type:"button",onClick:ne,className:"btn-add-small",children:"+ Tilfj tilvalg"})]}),q.length===0?m.jsx("p",{className:"form-hint",children:'Ingen tilvalg tilfjet. Klik p "Tilfj tilvalg" for at tilfje.'}):m.jsx("div",{className:"ingredients-list",children:q.map((se,ge)=>m.jsxs("div",{className:"ingredient-item",children:[m.jsx("input",{type:"text",placeholder:"Navn p tilvalg",value:se.name,onChange:N=>ye(ge,"name",N.target.value),className:"ingredient-name"}),m.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ekstra pris (valgfrit)",value:se.extraPrice||"",onChange:N=>ye(ge,"extraPrice",N.target.value),className:"ingredient-price"}),m.jsx("button",{type:"button",onClick:()=>ae(ge),className:"btn-remove",children:""})]},ge))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tags"}),m.jsx("div",{className:"tags-checkbox-group",children:[{value:"vegetarian",label:" Vegetar"},{value:"vegan",label:" Vegansk"},{value:"spicy",label:" Strk"},{value:"glutenfree",label:" Glutenfri"},{value:"halal",label:" Halal"},{value:"popular",label:" Populr"}].map(se=>m.jsxs("label",{className:"tag-checkbox-label",children:[m.jsx("input",{type:"checkbox",value:se.value,checked:O.includes(se.value),onChange:ge=>{ge.target.checked?P([...O,se.value]):P(O.filter(N=>N!==se.value))},className:"tag-checkbox"}),m.jsx("span",{className:"tag-checkbox-text",children:se.label})]},se.value))}),O.length>0&&m.jsxs("div",{className:"selected-tags",children:[m.jsx("strong",{children:"Valgte tags:"})," ",O.join(", ")]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Pris (DKK)"}),m.jsx("input",{type:"number",step:"0.01",value:p,onChange:se=>v(se.target.value),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Billede filnavn"}),m.jsx("input",{type:"text",value:S,onChange:se=>R(se.target.value),required:!0})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"submit",className:"btn-save",children:" Gem"}),m.jsx("button",{type:"button",onClick:i,className:"btn-cancel",children:"Annuller"})]})]})]})]})}function mT(){const{items:a}=Ps(),t=a.reduce((o,c)=>o+c.qty,0),[i,s]=L.useState(!1);return L.useEffect(()=>{if(t===0)return;s(!0);const o=setTimeout(()=>s(!1),500);return()=>clearTimeout(o)},[t]),t===0?null:m.jsxs(pt,{to:"/cart",className:`floating-cart ${i?"animate":""}`,"aria-label":"Go to cart",children:[m.jsx(Uc,{}),m.jsx("span",{className:"floating-cart-count",children:t})]})}function $R(){return m.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[m.jsx(mT,{}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Om os"}),m.jsx("p",{className:"mb-3 text-gray-700",children:"Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),m.jsx("p",{className:"mb-3 text-gray-700",children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),m.jsx("p",{className:"text-gray-700",children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]})]})}function ZR(){return m.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[m.jsx(mT,{}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Kontakt"}),m.jsx("p",{className:"mb-4 text-gray-700",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kontaktoplysninger"}),m.jsxs("p",{className:"text-gray-700",children:["Telefon: ",m.jsx("strong",{children:"70 12 34 56"})]}),m.jsxs("p",{className:"text-gray-700",children:["E-mail: ",m.jsx("strong",{children:"info@pizza-grill.dk"})]}),m.jsxs("p",{className:"text-gray-700",children:["Adresse: ",m.jsx("strong",{children:"Hovedgade 123, 1234 By"})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Skriv til os"}),m.jsxs("form",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Navn"}),m.jsx("input",{className:"w-full p-2 border rounded"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"E-mail"}),m.jsx("input",{type:"email",className:"w-full p-2 border rounded"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Besked"}),m.jsx("textarea",{rows:4,className:"w-full p-2 border rounded"})]}),m.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",children:"Send besked"})]})]})]})]})}function JR(){return m.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16 text-gray-800",children:[m.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),m.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString()]}),m.jsxs("section",{className:"space-y-4",children:[m.jsx("p",{children:"This Privacy Policy explains how Xantos Pizza & Grill (we, us, or our) collects and uses personal data when you use our website."}),m.jsx("h2",{className:"text-xl font-semibold",children:"1. Information We Collect"}),m.jsx("p",{children:"We only collect information necessary to process your order, such as your name, phone number, address, and order details."}),m.jsx("p",{children:"Payment information is handled securely by our payment provider and is never stored on our servers."}),m.jsx("h2",{className:"text-xl font-semibold",children:"2. How We Use Your Information"}),m.jsx("p",{children:"Your information is used only to process and deliver your order or to contact you if there is an issue with your order."}),m.jsx("h2",{className:"text-xl font-semibold",children:"3. Cookies and Local Storage"}),m.jsx("p",{children:"We do not use tracking or marketing cookies. Local storage may be used to store necessary information such as your cart contents to ensure the website functions correctly."}),m.jsx("h2",{className:"text-xl font-semibold",children:"4. Data Sharing"}),m.jsx("p",{children:"We only share data with trusted third parties when necessary to complete your order, such as payment providers."}),m.jsx("h2",{className:"text-xl font-semibold",children:"5. Data Retention"}),m.jsx("p",{children:"Personal data is kept only for as long as necessary to fulfill your order and comply with legal obligations."}),m.jsx("h2",{className:"text-xl font-semibold",children:"6. Your Rights"}),m.jsx("p",{children:"You have the right to access, correct, or request deletion of your personal data in accordance with GDPR."}),m.jsx("h2",{className:"text-xl font-semibold",children:"7. Contact"}),m.jsx("p",{children:"If you have questions about this Privacy Policy, please contact us at:"}),m.jsx("p",{className:"font-medium",children:"info@xantospizza.se"})]})]})}function WR(){const a=na();return L.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[a.pathname]),null}function eN(){return m.jsx(mb,{children:m.jsx(Ab,{children:m.jsxs("div",{className:"min-h-screen flex flex-col",children:[m.jsx(Cb,{}),m.jsxs("div",{className:"flex-1 app-bg",children:[m.jsx(WR,{}),m.jsxs(FS,{children:[m.jsx(On,{path:"/",element:m.jsx(UR,{})}),m.jsx(On,{path:"/menu",element:m.jsx(H_,{})}),m.jsx(On,{path:"/bestil",element:m.jsx(H_,{})}),m.jsx(On,{path:"/om-os",element:m.jsx($R,{})}),m.jsx(On,{path:"/kontakt",element:m.jsx(ZR,{})}),m.jsx(On,{path:"/privacy",element:m.jsx(JR,{})}),m.jsx(On,{path:"/cart",element:m.jsx(PR,{})}),m.jsx(On,{path:"/checkout",element:m.jsx(FR,{})}),m.jsx(On,{path:"/confirmation/:orderId",element:m.jsx(tN,{})}),m.jsx(On,{path:"/admin",element:m.jsx(YR,{})}),m.jsx(On,{path:"*",element:m.jsx(nN,{})})]})]}),m.jsx(Db,{})]})})})}function tN(){const a=window.location.pathname.split("/"),t=a[a.length-1];return m.jsx(QR,{orderId:t})}function nN(){return m.jsx("main",{className:"max-w-4xl mx-auto p-6",children:m.jsxs("div",{className:"bg-white p-6 rounded shadow",children:["Page not found  ",m.jsx(pt,{to:"/",children:"Go home"})]})})}eS.createRoot(document.getElementById("root")).render(m.jsx(L.StrictMode,{children:m.jsx(eN,{})}));
