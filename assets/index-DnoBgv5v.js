(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var qm={exports:{}},Kl={};var ET;function oC(){if(ET)return Kl;ET=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Kl.Fragment=e,Kl.jsx=i,Kl.jsxs=i,Kl}var xT;function lC(){return xT||(xT=1,qm.exports=oC()),qm.exports}var d=lC(),Fm={exports:{}},Ve={};var ST;function cC(){if(ST)return Ve;ST=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,P={};function k(A,K,te){this.props=A,this.context=K,this.refs=P,this.updater=te||V}k.prototype.isReactComponent={},k.prototype.setState=function(A,K){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,K,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function B(){}B.prototype=k.prototype;function q(A,K,te){this.props=A,this.context=K,this.refs=P,this.updater=te||V}var he=q.prototype=new B;he.constructor=q,M(he,k.prototype),he.isPureReactComponent=!0;var ee=Array.isArray;function ce(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(A,K,te){var le=te.ref;return{$$typeof:t,type:A,key:K,ref:le!==void 0?le:null,props:te}}function U(A,K){return D(A.type,K,A.props)}function L(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function F(A){var K={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(te){return K[te]})}var I=/\/+/g;function He(A,K){return typeof A=="object"&&A!==null&&A.key!=null?F(""+A.key):K.toString(36)}function ge(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ce,ce):(A.status="pending",A.then(function(K){A.status==="pending"&&(A.status="fulfilled",A.value=K)},function(K){A.status==="pending"&&(A.status="rejected",A.reason=K)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Z(A,K,te,le,_e){var Te=typeof A;(Te==="undefined"||Te==="boolean")&&(A=null);var Ne=!1;if(A===null)Ne=!0;else switch(Te){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(A.$$typeof){case t:case e:Ne=!0;break;case v:return Ne=A._init,Z(Ne(A._payload),K,te,le,_e)}}if(Ne)return _e=_e(A),Ne=le===""?"."+He(A,0):le,ee(_e)?(te="",Ne!=null&&(te=Ne.replace(I,"$&/")+"/"),Z(_e,K,te,"",function(Ft){return Ft})):_e!=null&&(L(_e)&&(_e=U(_e,te+(_e.key==null||A&&A.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Ne)),K.push(_e)),1;Ne=0;var $e=le===""?".":le+":";if(ee(A))for(var Ue=0;Ue<A.length;Ue++)le=A[Ue],Te=$e+He(le,Ue),Ne+=Z(le,K,te,Te,_e);else if(Ue=w(A),typeof Ue=="function")for(A=Ue.call(A),Ue=0;!(le=A.next()).done;)le=le.value,Te=$e+He(le,Ue++),Ne+=Z(le,K,te,Te,_e);else if(Te==="object"){if(typeof A.then=="function")return Z(ge(A),K,te,le,_e);throw K=String(A),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ue(A,K,te){if(A==null)return A;var le=[],_e=0;return Z(A,le,"","",function(Te){return K.call(te,Te,_e++)}),le}function me(A){if(A._status===-1){var K=A._result;K=K(),K.then(function(te){(A._status===0||A._status===-1)&&(A._status=1,A._result=te)},function(te){(A._status===0||A._status===-1)&&(A._status=2,A._result=te)}),A._status===-1&&(A._status=0,A._result=K)}if(A._status===1)return A._result.default;throw A._result}var be=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Re={map:ue,forEach:function(A,K,te){ue(A,function(){K.apply(this,arguments)},te)},count:function(A){var K=0;return ue(A,function(){K++}),K},toArray:function(A){return ue(A,function(K){return K})||[]},only:function(A){if(!L(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Ve.Activity=T,Ve.Children=Re,Ve.Component=k,Ve.Fragment=i,Ve.Profiler=o,Ve.PureComponent=q,Ve.StrictMode=r,Ve.Suspense=g,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return N.H.useMemoCache(A)}},Ve.cache=function(A){return function(){return A.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(A,K,te){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var le=M({},A.props),_e=A.key;if(K!=null)for(Te in K.key!==void 0&&(_e=""+K.key),K)!R.call(K,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&K.ref===void 0||(le[Te]=K[Te]);var Te=arguments.length-2;if(Te===1)le.children=te;else if(1<Te){for(var Ne=Array(Te),$e=0;$e<Te;$e++)Ne[$e]=arguments[$e+2];le.children=Ne}return D(A.type,_e,le)},Ve.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Ve.createElement=function(A,K,te){var le,_e={},Te=null;if(K!=null)for(le in K.key!==void 0&&(Te=""+K.key),K)R.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=K[le]);var Ne=arguments.length-2;if(Ne===1)_e.children=te;else if(1<Ne){for(var $e=Array(Ne),Ue=0;Ue<Ne;Ue++)$e[Ue]=arguments[Ue+2];_e.children=$e}if(A&&A.defaultProps)for(le in Ne=A.defaultProps,Ne)_e[le]===void 0&&(_e[le]=Ne[le]);return D(A,Te,_e)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(A){return{$$typeof:m,render:A}},Ve.isValidElement=L,Ve.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:me}},Ve.memo=function(A,K){return{$$typeof:y,type:A,compare:K===void 0?null:K}},Ve.startTransition=function(A){var K=N.T,te={};N.T=te;try{var le=A(),_e=N.S;_e!==null&&_e(te,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ce,be)}catch(Te){be(Te)}finally{K!==null&&te.types!==null&&(K.types=te.types),N.T=K}},Ve.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ve.use=function(A){return N.H.use(A)},Ve.useActionState=function(A,K,te){return N.H.useActionState(A,K,te)},Ve.useCallback=function(A,K){return N.H.useCallback(A,K)},Ve.useContext=function(A){return N.H.useContext(A)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(A,K){return N.H.useDeferredValue(A,K)},Ve.useEffect=function(A,K){return N.H.useEffect(A,K)},Ve.useEffectEvent=function(A){return N.H.useEffectEvent(A)},Ve.useId=function(){return N.H.useId()},Ve.useImperativeHandle=function(A,K,te){return N.H.useImperativeHandle(A,K,te)},Ve.useInsertionEffect=function(A,K){return N.H.useInsertionEffect(A,K)},Ve.useLayoutEffect=function(A,K){return N.H.useLayoutEffect(A,K)},Ve.useMemo=function(A,K){return N.H.useMemo(A,K)},Ve.useOptimistic=function(A,K){return N.H.useOptimistic(A,K)},Ve.useReducer=function(A,K,te){return N.H.useReducer(A,K,te)},Ve.useRef=function(A){return N.H.useRef(A)},Ve.useState=function(A){return N.H.useState(A)},Ve.useSyncExternalStore=function(A,K,te){return N.H.useSyncExternalStore(A,K,te)},Ve.useTransition=function(){return N.H.useTransition()},Ve.version="19.2.0",Ve}var bT;function Eg(){return bT||(bT=1,Fm.exports=cC()),Fm.exports}var j=Eg(),Hm={exports:{}},Yl={},Gm={exports:{}},Km={};var AT;function uC(){return AT||(AT=1,(function(t){function e(Z,ue){var me=Z.length;Z.push(ue);e:for(;0<me;){var be=me-1>>>1,Re=Z[be];if(0<o(Re,ue))Z[be]=ue,Z[me]=Re,me=be;else break e}}function i(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],me=Z.pop();if(me!==ue){Z[0]=me;e:for(var be=0,Re=Z.length,A=Re>>>1;be<A;){var K=2*(be+1)-1,te=Z[K],le=K+1,_e=Z[le];if(0>o(te,me))le<Re&&0>o(_e,te)?(Z[be]=_e,Z[le]=me,be=le):(Z[be]=te,Z[K]=me,be=K);else if(le<Re&&0>o(_e,me))Z[be]=_e,Z[le]=me,be=le;else break e}}return ue}function o(Z,ue){var me=Z.sortIndex-ue.sortIndex;return me!==0?me:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var g=[],y=[],v=1,T=null,S=3,w=!1,V=!1,M=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function he(Z){for(var ue=i(y);ue!==null;){if(ue.callback===null)r(y);else if(ue.startTime<=Z)r(y),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=i(y)}}function ee(Z){if(M=!1,he(Z),!V)if(i(g)!==null)V=!0,ce||(ce=!0,F());else{var ue=i(y);ue!==null&&ge(ee,ue.startTime-Z)}}var ce=!1,N=-1,R=5,D=-1;function U(){return P?!0:!(t.unstable_now()-D<R)}function L(){if(P=!1,ce){var Z=t.unstable_now();D=Z;var ue=!0;try{e:{V=!1,M&&(M=!1,B(N),N=-1),w=!0;var me=S;try{t:{for(he(Z),T=i(g);T!==null&&!(T.expirationTime>Z&&U());){var be=T.callback;if(typeof be=="function"){T.callback=null,S=T.priorityLevel;var Re=be(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof Re=="function"){T.callback=Re,he(Z),ue=!0;break t}T===i(g)&&r(g),he(Z)}else r(g);T=i(g)}if(T!==null)ue=!0;else{var A=i(y);A!==null&&ge(ee,A.startTime-Z),ue=!1}}break e}finally{T=null,S=me,w=!1}ue=void 0}}finally{ue?F():ce=!1}}}var F;if(typeof q=="function")F=function(){q(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,He=I.port2;I.port1.onmessage=L,F=function(){He.postMessage(null)}}else F=function(){k(L,0)};function ge(Z,ue){N=k(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var me=S;S=ue;try{return Z()}finally{S=me}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var me=S;S=Z;try{return ue()}finally{S=me}},t.unstable_scheduleCallback=function(Z,ue,me){var be=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,Z){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=me+Re,Z={id:v++,callback:ue,priorityLevel:Z,startTime:me,expirationTime:Re,sortIndex:-1},me>be?(Z.sortIndex=me,e(y,Z),i(g)===null&&Z===i(y)&&(M?(B(N),N=-1):M=!0,ge(ee,me-be))):(Z.sortIndex=Re,e(g,Z),V||w||(V=!0,ce||(ce=!0,F()))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var ue=S;return function(){var me=S;S=ue;try{return Z.apply(this,arguments)}finally{S=me}}}})(Km)),Km}var wT;function hC(){return wT||(wT=1,Gm.exports=uC()),Gm.exports}var Ym={exports:{}},un={};var RT;function dC(){if(RT)return un;RT=1;var t=Eg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,v)},un.flushSync=function(g){var y=u.T,v=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=y,r.p=v,r.d.f()}},un.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},un.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},un.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:w}):v==="script"&&r.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},un.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin);r.d.L(g,v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},un.requestFormReset=function(g){r.d.r(g)},un.unstable_batchedUpdates=function(g,y){return g(y)},un.useFormState=function(g,y,v){return u.H.useFormState(g,y,v)},un.useFormStatus=function(){return u.H.useHostTransitionStatus()},un.version="19.2.0",un}var CT;function fC(){if(CT)return Ym.exports;CT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ym.exports=dC(),Ym.exports}var NT;function mC(){if(NT)return Yl;NT=1;var t=hC(),e=Eg(),i=fC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(c(n)!==n)throw Error(r(188))}function y(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return g(f),n;if(p===l)return g(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=p;break}if(b===l){E=!0,l=f,a=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===a){E=!0,a=p,l=f;break}if(b===l){E=!0,l=p,a=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function He(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case k:return"Profiler";case P:return"StrictMode";case ee:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case q:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case he:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return s=n.displayName||null,s!==null?s:He(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return He(n(s))}catch{}}return null}var ge=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},be=[],Re=-1;function A(n){return{current:n}}function K(n){0>Re||(n.current=be[Re],be[Re]=null,Re--)}function te(n,s){Re++,be[Re]=n.current,n.current=s}var le=A(null),_e=A(null),Te=A(null),Ne=A(null);function $e(n,s){switch(te(Te,s),te(_e,n),te(le,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?H_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=H_(s),n=G_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(le),te(le,n)}function Ue(){K(le),K(_e),K(Te)}function Ft(n){n.memoizedState!==null&&te(Ne,n);var s=le.current,a=G_(s,n.type);s!==a&&(te(_e,n),te(le,a))}function cn(n){_e.current===n&&(K(le),K(_e)),Ne.current===n&&(K(Ne),ql._currentValue=me)}var Ai,oi;function Nn(n){if(Ai===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ai=s&&s[1]||"",oi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+n+oi}var Pr=!1;function wi(n,s){if(!n||Pr)return"";Pr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var $=J}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(J){$=J}n.call(ae.prototype)}}else{try{throw Error()}catch(J){$=J}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var O=E.split(`
`),Q=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===Q.length)for(l=O.length-1,f=Q.length-1;1<=l&&0<=f&&O[l]!==Q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==Q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==Q[f]){var ne=`
`+O[l].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=l&&0<=f);break}}}finally{Pr=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Nn(a):""}function kr(n,s){switch(n.tag){case 26:case 27:case 5:return Nn(n.type);case 16:return Nn("Lazy");case 13:return n.child!==s&&s!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return wi(n.type,!1);case 11:return wi(n.type.render,!1);case 1:return wi(n.type,!0);case 31:return Nn("Activity");default:return""}}function Or(n){try{var s="",a=null;do s+=kr(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,Ri=t.unstable_cancelCallback,X=t.unstable_shouldYield,re=t.unstable_requestPaint,fe=t.unstable_now,ye=t.unstable_getCurrentPriorityLevel,jt=t.unstable_ImmediatePriority,Ra=t.unstable_UserBlockingPriority,cs=t.unstable_NormalPriority,Ci=t.unstable_LowPriority,Ca=t.unstable_IdlePriority,Lr=t.log,zn=t.unstable_setDisableYieldValue,li=null,Wt=null;function Bn(n){if(typeof Lr=="function"&&zn(n),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(li,n)}catch{}}var At=Math.clz32?Math.clz32:Hc,Fc=Math.log,Na=Math.LN2;function Hc(n){return n>>>=0,n===0?32:31-(Fc(n)/Na|0)|0}var Ni=256,Ur=262144,Dt=4194304;function ji(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Di(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=ji(l):(E&=b,E!==0?f=ji(E):a||(a=b&~n,a!==0&&(f=ji(a))))):(b=l&~p,b!==0?f=ji(b):E!==0?f=ji(E):a||(a=l&~n,a!==0&&(f=ji(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function ci(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Gd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var n=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),n}function Vi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function zr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kd(n,s,a,l,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,O=n.expirationTimes,Q=n.hiddenUpdates;for(a=E&~a;0<a;){var ne=31-At(a),ae=1<<ne;b[ne]=0,O[ne]=-1;var $=Q[ne];if($!==null)for(Q[ne]=null,ne=0;ne<$.length;ne++){var J=$[ne];J!==null&&(J.lane&=-536870913)}a&=~ae}l!==0&&Br(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Br(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-At(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Yo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-At(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Qo(n,s){var a=s&-s;return a=(a&42)!==0?1:qr(a),(a&(n.suspendedLanes|s))!==0?0:a}function qr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function us(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Kc(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:mT(n.type))}function ui(n,s){var a=ue.p;try{return ue.p=n,s()}finally{ue.p=a}}var hi=Math.random().toString(36).slice(2),Vt="__reactFiber$"+hi,Yt="__reactProps$"+hi,Ii="__reactContainer$"+hi,ja="__reactEvents$"+hi,Yd="__reactListeners$"+hi,Yc="__reactHandles$"+hi,Qc="__reactResources$"+hi,Mi="__reactMarker$"+hi;function Da(n){delete n[Vt],delete n[Yt],delete n[ja],delete n[Yd],delete n[Yc]}function Pi(n){var s=n[Vt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ii]||a[Vt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=W_(n);n!==null;){if(a=n[Vt])return a;n=W_(n)}return s}n=a,a=n.parentNode}return null}function qn(n){if(n=n[Vt]||n[Ii]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function ki(n){var s=n[Qc];return s||(s=n[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(n){n[Mi]=!0}var Xo=new Set,$o={};function Oi(n,s){Li(n,s),Li(n+"Capture",s)}function Li(n,s){for($o[n]=s,n=0;n<s.length;n++)Xo.add(s[n])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Jo={};function Xc(n){return _t.call(Jo,n)?!0:_t.call(Wo,n)?!1:Zo.test(n)?Jo[n]=!0:(Wo[n]=!0,!1)}function Va(n,s,a){if(Xc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Dn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Mt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function Qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function el(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function et(n){if(!n._valueTracker){var s=zs(n)?"checked":"value";n._valueTracker=el(n,s,""+n[s])}}function Fr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=zs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ui(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hr=/[\n"\\]/g;function _n(n){return n.replace(Hr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ia(n,s,a,l,f,p,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Qt(s)):n.value!==""+Qt(s)&&(n.value=""+Qt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?tl(n,E,Qt(s)):a!=null?tl(n,E,Qt(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Qt(b):n.removeAttribute("name")}function $c(n,s,a,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){et(n);return}a=a!=null?""+Qt(a):"",s=s!=null?""+Qt(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),et(n)}function tl(n,s,a){s==="number"&&Ui(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Bs(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Qt(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Zc(n,s,a){if(s!=null&&(s=""+Qt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Qt(a):""}function qs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ge(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Qt(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),et(n)}function Tn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Wc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function il(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&nl(n,f,l)}else for(var p in s)s.hasOwnProperty(p)&&nl(n,p,s[p])}function Ma(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(n){return Fs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function di(){}var sl=null;function Fn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hs=null,zi=null;function Gr(n){var s=qn(n);if(s&&(n=s.stateNode)){var a=n[Yt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Ia(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Yt]||null;if(!f)throw Error(r(90));Ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Fr(l)}break e;case"textarea":Zc(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Bs(n,!!a.multiple,s,!1)}}}var ka=!1;function Gs(n,s,a){if(ka)return n(s,a);ka=!0;try{var l=n(s);return l}finally{if(ka=!1,(Hs!==null||zi!==null)&&(Ku(),Hs&&(s=Hs,n=zi,zi=Hs=null,Gr(s),n)))for(s=0;s<n.length;s++)Gr(n[s])}}function fi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(Hn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Kr=!1}var Bi=null,rl=null,Yr=null;function al(){if(Yr)return Yr;var n,s=rl,a=s.length,l,f="value"in Bi?Bi.value:Bi.textContent,p=f.length;for(n=0;n<a&&s[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===f[p-l];l++);return Yr=f.slice(n,1<l?1-l:void 0)}function Qr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function hs(){return!0}function mi(){return!1}function Jt(n){function s(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?hs:mi,this.isPropagationStopped=mi,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Jt(ds),Ks=T({},ds,{view:0,detail:0}),ol=Jt(Ks),Ys,Oa,Fi,La=T({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fi&&(Fi&&n.type==="mousemove"?(Ys=n.screenX-Fi.screenX,Oa=n.screenY-Fi.screenY):Oa=Ys=0,Fi=n),Ys)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),ll=Jt(La),Xr=T({},La,{dataTransfer:0}),eu=Jt(Xr),tu=T({},Ks,{relatedTarget:0}),$r=Jt(tu),cl=T({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Jt(cl),Ua=T({},ds,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iu=Jt(Ua),su=T({},ds,{data:0}),Hi=Jt(su),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ou[n])?!!s[n]:!1}function Qs(){return lu}var pn=T({},Ks,{key:function(n){if(n.key){var s=ru[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Qr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?au[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(n){return n.type==="keypress"?Qr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cu=Jt(pn),uu=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=Jt(uu),h=T({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),_=Jt(h),x=T({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Jt(x),G=T({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Jt(G),de=T({},ds,{newState:0,oldState:0}),Me=Jt(de),wt=[9,13,27,32],Ze=Hn&&"CompositionEvent"in window,mt=null;Hn&&"documentMode"in document&&(mt=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!mt,Gi=Hn&&(!Ze||mt&&8<mt&&11>=mt),pi=" ",gi=!1;function Zr(n,s){switch(n){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ba=!1;function Dw(n,s){switch(n){case"compositionend":return za(s);case"keypress":return s.which!==32?null:(gi=!0,pi);case"textInput":return n=s.data,n===pi&&gi?null:n;default:return null}}function Vw(n,s){if(Ba)return n==="compositionend"||!Ze&&Zr(n,s)?(n=al(),Yr=rl=Bi=null,Ba=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Iw[n.type]:s==="textarea"}function nv(n,s,a,l){Hs?zi?zi.push(l):zi=[l]:Hs=l,s=Ju(s,"onChange"),0<s.length&&(a=new qi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var ul=null,hl=null;function Mw(n){L_(n,0)}function hu(n){var s=jn(n);if(Fr(s))return n}function iv(n,s){if(n==="change")return s}var sv=!1;if(Hn){var Qd;if(Hn){var Xd="oninput"in document;if(!Xd){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Xd=typeof rv.oninput=="function"}Qd=Xd}else Qd=!1;sv=Qd&&(!document.documentMode||9<document.documentMode)}function av(){ul&&(ul.detachEvent("onpropertychange",ov),hl=ul=null)}function ov(n){if(n.propertyName==="value"&&hu(hl)){var s=[];nv(s,hl,n,Fn(n)),Gs(Mw,s)}}function Pw(n,s,a){n==="focusin"?(av(),ul=s,hl=a,ul.attachEvent("onpropertychange",ov)):n==="focusout"&&av()}function kw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hu(hl)}function Ow(n,s){if(n==="click")return hu(s)}function Lw(n,s){if(n==="input"||n==="change")return hu(s)}function Uw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Vn=typeof Object.is=="function"?Object.is:Uw;function dl(n,s){if(Vn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(s,f)||!Vn(n[f],s[f]))return!1}return!0}function lv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cv(n,s){var a=lv(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lv(a)}}function uv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?uv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function hv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ui(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ui(n.document)}return s}function $d(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var zw=Hn&&"documentMode"in document&&11>=document.documentMode,qa=null,Zd=null,fl=null,Wd=!1;function dv(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wd||qa==null||qa!==Ui(l)||(l=qa,"selectionStart"in l&&$d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&dl(fl,l)||(fl=l,l=Ju(Zd,"onSelect"),0<l.length&&(s=new qi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=qa)))}function Wr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Fa={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},Jd={},fv={};Hn&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Jr(n){if(Jd[n])return Jd[n];if(!Fa[n])return n;var s=Fa[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in fv)return Jd[n]=s[a];return n}var mv=Jr("animationend"),pv=Jr("animationiteration"),gv=Jr("animationstart"),Bw=Jr("transitionrun"),qw=Jr("transitionstart"),Fw=Jr("transitioncancel"),yv=Jr("transitionend"),vv=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function yi(n,s){vv.set(n,s),Oi(s,[n])}var du=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kn=[],Ha=0,tf=0;function fu(){for(var n=Ha,s=tf=Ha=0;s<n;){var a=Kn[s];Kn[s++]=null;var l=Kn[s];Kn[s++]=null;var f=Kn[s];Kn[s++]=null;var p=Kn[s];if(Kn[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&_v(a,f,p)}}function mu(n,s,a,l){Kn[Ha++]=n,Kn[Ha++]=s,Kn[Ha++]=a,Kn[Ha++]=l,tf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nf(n,s,a,l){return mu(n,s,a,l),pu(n)}function ea(n,s){return mu(n,null,null,s),pu(n)}function _v(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-At(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function pu(n){if(50<Pl)throw Pl=0,dm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ga={};function Hw(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,s,a,l){return new Hw(n,s,a,l)}function sf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ms(n,s){var a=n.alternate;return a===null?(a=In(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Tv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function gu(n,s,a,l,f,p){var E=0;if(l=n,typeof n=="function")sf(n)&&(E=1);else if(typeof n=="string")E=XR(n,a,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=In(31,a,s,f),n.elementType=D,n.lanes=p,n;case M:return ta(a.children,f,p,s);case P:E=8,f|=24;break;case k:return n=In(12,a,s,f|2),n.elementType=k,n.lanes=p,n;case ee:return n=In(13,a,s,f),n.elementType=ee,n.lanes=p,n;case ce:return n=In(19,a,s,f),n.elementType=ce,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:E=10;break e;case B:E=9;break e;case he:E=11;break e;case N:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=In(E,a,s,f),s.elementType=n,s.type=l,s.lanes=p,s}function ta(n,s,a,l){return n=In(7,n,l,s),n.lanes=a,n}function rf(n,s,a){return n=In(6,n,null,s),n.lanes=a,n}function Ev(n){var s=In(18,null,null,0);return s.stateNode=n,s}function af(n,s,a){return s=In(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var xv=new WeakMap;function Yn(n,s){if(typeof n=="object"&&n!==null){var a=xv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Or(s)},xv.set(n,s),s)}return{value:n,source:s,stack:Or(s)}}var Ka=[],Ya=0,yu=null,ml=0,Qn=[],Xn=0,Xs=null,Ki=1,Yi="";function ps(n,s){Ka[Ya++]=ml,Ka[Ya++]=yu,yu=n,ml=s}function Sv(n,s,a){Qn[Xn++]=Ki,Qn[Xn++]=Yi,Qn[Xn++]=Xs,Xs=n;var l=Ki;n=Yi;var f=32-At(l)-1;l&=~(1<<f),a+=1;var p=32-At(s)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Ki=1<<32-At(s)+f|a<<f|l,Yi=p+n}else Ki=1<<p|a<<f|l,Yi=n}function of(n){n.return!==null&&(ps(n,1),Sv(n,1,0))}function lf(n){for(;n===yu;)yu=Ka[--Ya],Ka[Ya]=null,ml=Ka[--Ya],Ka[Ya]=null;for(;n===Xs;)Xs=Qn[--Xn],Qn[Xn]=null,Yi=Qn[--Xn],Qn[Xn]=null,Ki=Qn[--Xn],Qn[Xn]=null}function bv(n,s){Qn[Xn++]=Ki,Qn[Xn++]=Yi,Qn[Xn++]=Xs,Ki=s.id,Yi=s.overflow,Xs=n}var en=null,ut=null,Ge=!1,$s=null,$n=!1,cf=Error(r(519));function Zs(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Yn(s,n)),cf}function Av(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Vt]=n,s[Yt]=l,a){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Le(Ol[a],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),$c(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),qs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||q_(s.textContent,a)?(l.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),l.onScroll!=null&&Le("scroll",s),l.onScrollEnd!=null&&Le("scrollend",s),l.onClick!=null&&(s.onclick=di),s=!0):s=!1,s||Zs(n,!0)}function wv(n){for(en=n.return;en;)switch(en.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:en=en.return}}function Qa(n){if(n!==en)return!1;if(!Ge)return wv(n),Ge=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Rm(n.type,n.memoizedProps)),a=!a),a&&ut&&Zs(n),wv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=Z_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=Z_(n)}else s===27?(s=ut,hr(n.type)?(n=Vm,Vm=null,ut=n):ut=s):ut=en?Wn(n.stateNode.nextSibling):null;return!0}function na(){ut=en=null,Ge=!1}function uf(){var n=$s;return n!==null&&(bn===null?bn=n:bn.push.apply(bn,n),$s=null),n}function pl(n){$s===null?$s=[n]:$s.push(n)}var hf=A(null),ia=null,gs=null;function Ws(n,s,a){te(hf,s._currentValue),s._currentValue=a}function ys(n){n._currentValue=hf.current,K(hf)}function df(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ff(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var O=0;O<s.length;O++)if(b.context===s[O]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),df(p.return,a,n),l||(E=null);break e}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),df(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Xa(n,s,a,l){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;Vn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ne.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ql):n=[ql])}f=f.return}n!==null&&ff(s,n,a,l),s.flags|=262144}function vu(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sa(n){ia=n,gs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Rv(ia,n)}function _u(n,s){return ia===null&&sa(n),Rv(n,s)}function Rv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},gs===null){if(n===null)throw Error(r(308));gs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else gs=gs.next=s;return a}var Gw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Kw=t.unstable_scheduleCallback,Yw=t.unstable_NormalPriority,Pt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new Gw,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&Kw(Yw,function(){n.controller.abort()})}var yl=null,pf=0,$a=0,Za=null;function Qw(n,s){if(yl===null){var a=yl=[];pf=0,$a=vm(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pf++,s.then(Cv,Cv),s}function Cv(){if(--pf===0&&yl!==null){Za!==null&&(Za.status="fulfilled");var n=yl;yl=null,$a=0,Za=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Xw(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Nv=Z.S;Z.S=function(n,s){d_=fe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Qw(n,s),Nv!==null&&Nv(n,s)};var ra=A(null);function gf(){var n=ra.current;return n!==null?n:lt.pooledCache}function Tu(n,s){s===null?te(ra,ra.current):te(ra,s.pool)}function jv(){var n=gf();return n===null?null:{parent:Pt._currentValue,pool:n}}var Wa=Error(r(460)),yf=Error(r(474)),Eu=Error(r(542)),xu={then:function(){}};function Dv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Vv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(di,di),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Mv(n),n;default:if(typeof s.status=="string")s.then(di,di);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Mv(n),n}throw oa=s,Wa}}function aa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,Wa):a}}var oa=null;function Iv(){if(oa===null)throw Error(r(459));var n=oa;return oa=null,n}function Mv(n){if(n===Wa||n===Eu)throw Error(r(483))}var Ja=null,vl=0;function Su(n){var s=vl;return vl+=1,Ja===null&&(Ja=[]),Vv(Ja,n,s)}function _l(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function bu(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Pv(n){function s(H,z){if(n){var Y=H.deletions;Y===null?(H.deletions=[z],H.flags|=16):Y.push(z)}}function a(H,z){if(!n)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function l(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=ms(H,z),H.index=0,H.sibling=null,H}function p(H,z,Y){return H.index=Y,n?(Y=H.alternate,Y!==null?(Y=Y.index,Y<z?(H.flags|=67108866,z):Y):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function b(H,z,Y,ie){return z===null||z.tag!==6?(z=rf(Y,H.mode,ie),z.return=H,z):(z=f(z,Y),z.return=H,z)}function O(H,z,Y,ie){var Ae=Y.type;return Ae===M?ne(H,z,Y.props.children,ie,Y.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&aa(Ae)===z.type)?(z=f(z,Y.props),_l(z,Y),z.return=H,z):(z=gu(Y.type,Y.key,Y.props,null,H.mode,ie),_l(z,Y),z.return=H,z)}function Q(H,z,Y,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=af(Y,H.mode,ie),z.return=H,z):(z=f(z,Y.children||[]),z.return=H,z)}function ne(H,z,Y,ie,Ae){return z===null||z.tag!==7?(z=ta(Y,H.mode,ie,Ae),z.return=H,z):(z=f(z,Y),z.return=H,z)}function ae(H,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=rf(""+z,H.mode,Y),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return Y=gu(z.type,z.key,z.props,null,H.mode,Y),_l(Y,z),Y.return=H,Y;case V:return z=af(z,H.mode,Y),z.return=H,z;case R:return z=aa(z),ae(H,z,Y)}if(ge(z)||F(z))return z=ta(z,H.mode,Y,null),z.return=H,z;if(typeof z.then=="function")return ae(H,Su(z),Y);if(z.$$typeof===q)return ae(H,_u(H,z),Y);bu(H,z)}return null}function $(H,z,Y,ie){var Ae=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:b(H,z,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===Ae?O(H,z,Y,ie):null;case V:return Y.key===Ae?Q(H,z,Y,ie):null;case R:return Y=aa(Y),$(H,z,Y,ie)}if(ge(Y)||F(Y))return Ae!==null?null:ne(H,z,Y,ie,null);if(typeof Y.then=="function")return $(H,z,Su(Y),ie);if(Y.$$typeof===q)return $(H,z,_u(H,Y),ie);bu(H,Y)}return null}function J(H,z,Y,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(Y)||null,b(z,H,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return H=H.get(ie.key===null?Y:ie.key)||null,O(z,H,ie,Ae);case V:return H=H.get(ie.key===null?Y:ie.key)||null,Q(z,H,ie,Ae);case R:return ie=aa(ie),J(H,z,Y,ie,Ae)}if(ge(ie)||F(ie))return H=H.get(Y)||null,ne(z,H,ie,Ae,null);if(typeof ie.then=="function")return J(H,z,Y,Su(ie),Ae);if(ie.$$typeof===q)return J(H,z,Y,_u(z,ie),Ae);bu(z,ie)}return null}function xe(H,z,Y,ie){for(var Ae=null,Qe=null,Se=z,ke=z=0,Be=null;Se!==null&&ke<Y.length;ke++){Se.index>ke?(Be=Se,Se=null):Be=Se.sibling;var Xe=$(H,Se,Y[ke],ie);if(Xe===null){Se===null&&(Se=Be);break}n&&Se&&Xe.alternate===null&&s(H,Se),z=p(Xe,z,ke),Qe===null?Ae=Xe:Qe.sibling=Xe,Qe=Xe,Se=Be}if(ke===Y.length)return a(H,Se),Ge&&ps(H,ke),Ae;if(Se===null){for(;ke<Y.length;ke++)Se=ae(H,Y[ke],ie),Se!==null&&(z=p(Se,z,ke),Qe===null?Ae=Se:Qe.sibling=Se,Qe=Se);return Ge&&ps(H,ke),Ae}for(Se=l(Se);ke<Y.length;ke++)Be=J(Se,H,ke,Y[ke],ie),Be!==null&&(n&&Be.alternate!==null&&Se.delete(Be.key===null?ke:Be.key),z=p(Be,z,ke),Qe===null?Ae=Be:Qe.sibling=Be,Qe=Be);return n&&Se.forEach(function(gr){return s(H,gr)}),Ge&&ps(H,ke),Ae}function Ce(H,z,Y,ie){if(Y==null)throw Error(r(151));for(var Ae=null,Qe=null,Se=z,ke=z=0,Be=null,Xe=Y.next();Se!==null&&!Xe.done;ke++,Xe=Y.next()){Se.index>ke?(Be=Se,Se=null):Be=Se.sibling;var gr=$(H,Se,Xe.value,ie);if(gr===null){Se===null&&(Se=Be);break}n&&Se&&gr.alternate===null&&s(H,Se),z=p(gr,z,ke),Qe===null?Ae=gr:Qe.sibling=gr,Qe=gr,Se=Be}if(Xe.done)return a(H,Se),Ge&&ps(H,ke),Ae;if(Se===null){for(;!Xe.done;ke++,Xe=Y.next())Xe=ae(H,Xe.value,ie),Xe!==null&&(z=p(Xe,z,ke),Qe===null?Ae=Xe:Qe.sibling=Xe,Qe=Xe);return Ge&&ps(H,ke),Ae}for(Se=l(Se);!Xe.done;ke++,Xe=Y.next())Xe=J(Se,H,ke,Xe.value,ie),Xe!==null&&(n&&Xe.alternate!==null&&Se.delete(Xe.key===null?ke:Xe.key),z=p(Xe,z,ke),Qe===null?Ae=Xe:Qe.sibling=Xe,Qe=Xe);return n&&Se.forEach(function(aC){return s(H,aC)}),Ge&&ps(H,ke),Ae}function at(H,z,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var Ae=Y.key;z!==null;){if(z.key===Ae){if(Ae=Y.type,Ae===M){if(z.tag===7){a(H,z.sibling),ie=f(z,Y.props.children),ie.return=H,H=ie;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&aa(Ae)===z.type){a(H,z.sibling),ie=f(z,Y.props),_l(ie,Y),ie.return=H,H=ie;break e}a(H,z);break}else s(H,z);z=z.sibling}Y.type===M?(ie=ta(Y.props.children,H.mode,ie,Y.key),ie.return=H,H=ie):(ie=gu(Y.type,Y.key,Y.props,null,H.mode,ie),_l(ie,Y),ie.return=H,H=ie)}return E(H);case V:e:{for(Ae=Y.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){a(H,z.sibling),ie=f(z,Y.children||[]),ie.return=H,H=ie;break e}else{a(H,z);break}else s(H,z);z=z.sibling}ie=af(Y,H.mode,ie),ie.return=H,H=ie}return E(H);case R:return Y=aa(Y),at(H,z,Y,ie)}if(ge(Y))return xe(H,z,Y,ie);if(F(Y)){if(Ae=F(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),Ce(H,z,Y,ie)}if(typeof Y.then=="function")return at(H,z,Su(Y),ie);if(Y.$$typeof===q)return at(H,z,_u(H,Y),ie);bu(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(a(H,z.sibling),ie=f(z,Y),ie.return=H,H=ie):(a(H,z),ie=rf(Y,H.mode,ie),ie.return=H,H=ie),E(H)):a(H,z)}return function(H,z,Y,ie){try{vl=0;var Ae=at(H,z,Y,ie);return Ja=null,Ae}catch(Se){if(Se===Wa||Se===Eu)throw Se;var Qe=In(29,Se,null,H.mode);return Qe.lanes=ie,Qe.return=H,Qe}finally{}}}var la=Pv(!0),kv=Pv(!1),Js=!1;function vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function er(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function tr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=pu(n),_v(n,null,a),s}return mu(n,l,s,a),pu(n)}function Tl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Yo(n,a)}}function Tf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Ef=!1;function El(){if(Ef){var n=Za;if(n!==null)throw n}}function xl(n,s,a,l){Ef=!1;var f=n.updateQueue;Js=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,Q=O.next;O.next=null,E===null?p=Q:E.next=Q,E=O;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==E&&(b===null?ne.firstBaseUpdate=Q:b.next=Q,ne.lastBaseUpdate=O))}if(p!==null){var ae=f.baseState;E=0,ne=Q=O=null,b=p;do{var $=b.lane&-536870913,J=$!==b.lane;if(J?(ze&$)===$:(l&$)===$){$!==0&&$===$a&&(Ef=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=n,Ce=b;$=s;var at=a;switch(Ce.tag){case 1:if(xe=Ce.payload,typeof xe=="function"){ae=xe.call(at,ae,$);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ce.payload,$=typeof xe=="function"?xe.call(at,ae,$):xe,$==null)break e;ae=T({},ae,$);break e;case 2:Js=!0}}$=b.callback,$!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[$]:J.push($))}else J={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(Q=ne=J,O=ae):ne=ne.next=J,E|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ne===null&&(O=ae),f.baseState=O,f.firstBaseUpdate=Q,f.lastBaseUpdate=ne,p===null&&(f.shared.lanes=0),ar|=E,n.lanes=E,n.memoizedState=ae}}function Ov(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Lv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ov(a[n],s)}var eo=A(null),Au=A(0);function Uv(n,s){n=ws,te(Au,n),te(eo,s),ws=n|s.baseLanes}function xf(){te(Au,ws),te(eo,eo.current)}function Sf(){ws=Au.current,K(eo),K(Au)}var Mn=A(null),Zn=null;function nr(n){var s=n.alternate;te(Rt,Rt.current&1),te(Mn,n),Zn===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(Zn=n)}function bf(n){te(Rt,Rt.current),te(Mn,n),Zn===null&&(Zn=n)}function zv(n){n.tag===22?(te(Rt,Rt.current),te(Mn,n),Zn===null&&(Zn=n)):ir()}function ir(){te(Rt,Rt.current),te(Mn,Mn.current)}function Pn(n){K(Mn),Zn===n&&(Zn=null),K(Rt)}var Rt=A(0);function wu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jm(a)||Dm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vs=0,Pe=null,st=null,kt=null,Ru=!1,to=!1,ca=!1,Cu=0,Sl=0,no=null,$w=0;function Tt(){throw Error(r(321))}function Af(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Vn(n[a],s[a]))return!1;return!0}function wf(n,s,a,l,f,p){return vs=p,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=n===null||n.memoizedState===null?S0:Bf,ca=!1,p=a(l,f),ca=!1,to&&(p=qv(s,a,l,f)),Bv(n),p}function Bv(n){Z.H=wl;var s=st!==null&&st.next!==null;if(vs=0,kt=st=Pe=null,Ru=!1,Sl=0,no=null,s)throw Error(r(300));n===null||Ot||(n=n.dependencies,n!==null&&vu(n)&&(Ot=!0))}function qv(n,s,a,l){Pe=n;var f=0;do{if(to&&(no=null),Sl=0,to=!1,25<=f)throw Error(r(301));if(f+=1,kt=st=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=b0,p=s(a,l)}while(to);return p}function Zw(){var n=Z.H,s=n.useState()[0];return s=typeof s.then=="function"?bl(s):s,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Pe.flags|=1024),s}function Rf(){var n=Cu!==0;return Cu=0,n}function Cf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Nf(n){if(Ru){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ru=!1}vs=0,kt=st=Pe=null,to=!1,Sl=Cu=0,no=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=n:kt=kt.next=n,kt}function Ct(){if(st===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var s=kt===null?Pe.memoizedState:kt.next;if(s!==null)kt=s,st=n;else{if(n===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},kt===null?Pe.memoizedState=kt=n:kt=kt.next=n}return kt}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(n){var s=Sl;return Sl+=1,no===null&&(no=[]),n=Vv(no,n,s),s=Pe,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?S0:Bf),n}function ju(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bl(n);if(n.$$typeof===q)return tn(n)}throw Error(r(438,String(n)))}function jf(n){var s=null,a=Pe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Nu(),Pe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=U;return s.index++,a}function _s(n,s){return typeof s=="function"?s(n):s}function Du(n){var s=Ct();return Df(s,st,n)}function Df(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var b=E=null,O=null,Q=s,ne=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(ze&ae)===ae:(vs&ae)===ae){var $=Q.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===$a&&(ne=!0);else if((vs&$)===$){Q=Q.next,$===$a&&(ne=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(b=O=ae,E=p):O=O.next=ae,Pe.lanes|=$,ar|=$;ae=Q.action,ca&&a(p,ae),p=Q.hasEagerState?Q.eagerState:a(p,ae)}else $={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(b=O=$,E=p):O=O.next=$,Pe.lanes|=ae,ar|=ae;Q=Q.next}while(Q!==null&&Q!==s);if(O===null?E=p:O.next=b,!Vn(p,n.memoizedState)&&(Ot=!0,ne&&(a=Za,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=O,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Vf(n){var s=Ct(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Vn(p,s.memoizedState)||(Ot=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function Fv(n,s,a){var l=Pe,f=Ct(),p=Ge;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Vn((st||f).memoizedState,a);if(E&&(f.memoizedState=a,Ot=!0),f=f.queue,Pf(Kv.bind(null,l,f,n),[n]),f.getSnapshot!==s||E||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,io(9,{destroy:void 0},Gv.bind(null,l,f,a,s),null),lt===null)throw Error(r(349));p||(vs&127)!==0||Hv(l,s,a)}return a}function Hv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Pe.updateQueue,s===null?(s=Nu(),Pe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Gv(n,s,a,l){s.value=a,s.getSnapshot=l,Yv(s)&&Qv(n)}function Kv(n,s,a){return a(function(){Yv(s)&&Qv(n)})}function Yv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Vn(n,a)}catch{return!0}}function Qv(n){var s=ea(n,2);s!==null&&An(s,n,2)}function If(n){var s=gn();if(typeof n=="function"){var a=n;if(n=a(),ca){Bn(!0);try{a()}finally{Bn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:n},s}function Xv(n,s,a,l){return n.baseState=a,Df(n,st,typeof l=="function"?l:_s)}function Ww(n,s,a,l,f){if(Mu(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Z.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,$v(s,p)):(p.next=a.next,s.pending=a.next=p)}}function $v(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var p=Z.T,E={};Z.T=E;try{var b=a(f,l),O=Z.S;O!==null&&O(E,b),Zv(n,s,b)}catch(Q){Mf(n,s,Q)}finally{p!==null&&E.types!==null&&(p.types=E.types),Z.T=p}}else try{p=a(f,l),Zv(n,s,p)}catch(Q){Mf(n,s,Q)}}function Zv(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wv(n,s,l)},function(l){return Mf(n,s,l)}):Wv(n,s,a)}function Wv(n,s,a){s.status="fulfilled",s.value=a,Jv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,$v(n,a)))}function Mf(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Jv(s),s=s.next;while(s!==l)}n.action=null}function Jv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function e0(n,s){return s}function t0(n,s){if(Ge){var a=lt.formState;if(a!==null){e:{var l=Pe;if(Ge){if(ut){t:{for(var f=ut,p=$n;f.nodeType!==8;){if(!p){f=null;break t}if(f=Wn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ut=Wn(f.nextSibling),l=f.data==="F!";break e}}Zs(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:s},a.queue=l,a=T0.bind(null,Pe,l),l.dispatch=a,l=If(!1),p=zf.bind(null,Pe,!1,l.queue),l=gn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Ww.bind(null,Pe,f,p,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function n0(n){var s=Ct();return i0(s,st,n)}function i0(n,s,a){if(s=Df(n,s,e0)[0],n=Du(_s)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=bl(s)}catch(E){throw E===Wa?Eu:E}else l=s;s=Ct();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Pe.flags|=2048,io(9,{destroy:void 0},Jw.bind(null,f,a),null)),[l,p,n]}function Jw(n,s){n.action=s}function s0(n){var s=Ct(),a=st;if(a!==null)return i0(s,a,n);Ct(),s=s.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function io(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Nu(),Pe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function r0(){return Ct().memoizedState}function Vu(n,s,a,l){var f=gn();Pe.flags|=n,f.memoizedState=io(1|s,{destroy:void 0},a,l===void 0?null:l)}function Iu(n,s,a,l){var f=Ct();l=l===void 0?null:l;var p=f.memoizedState.inst;st!==null&&l!==null&&Af(l,st.memoizedState.deps)?f.memoizedState=io(s,p,a,l):(Pe.flags|=n,f.memoizedState=io(1|s,p,a,l))}function a0(n,s){Vu(8390656,8,n,s)}function Pf(n,s){Iu(2048,8,n,s)}function eR(n){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=Nu(),Pe.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function o0(n){var s=Ct().memoizedState;return eR({ref:s,nextImpl:n}),function(){if((We&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function l0(n,s){return Iu(4,2,n,s)}function c0(n,s){return Iu(4,4,n,s)}function u0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function h0(n,s,a){a=a!=null?a.concat([n]):null,Iu(4,4,u0.bind(null,s,n),a)}function kf(){}function d0(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Af(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function f0(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Af(s,l[1]))return l[0];if(l=n(),ca){Bn(!0);try{n()}finally{Bn(!1)}}return a.memoizedState=[l,s],l}function Of(n,s,a){return a===void 0||(vs&1073741824)!==0&&(ze&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=m_(),Pe.lanes|=n,ar|=n,a)}function m0(n,s,a,l){return Vn(a,s)?a:eo.current!==null?(n=Of(n,a,l),Vn(n,s)||(Ot=!0),n):(vs&42)===0||(vs&1073741824)!==0&&(ze&261930)===0?(Ot=!0,n.memoizedState=a):(n=m_(),Pe.lanes|=n,ar|=n,s)}function p0(n,s,a,l,f){var p=ue.p;ue.p=p!==0&&8>p?p:8;var E=Z.T,b={};Z.T=b,zf(n,!1,s,a);try{var O=f(),Q=Z.S;if(Q!==null&&Q(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=Xw(O,l);Al(n,s,ne,Ln(n))}else Al(n,s,l,Ln(n))}catch(ae){Al(n,s,{then:function(){},status:"rejected",reason:ae},Ln())}finally{ue.p=p,E!==null&&b.types!==null&&(E.types=b.types),Z.T=E}}function tR(){}function Lf(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=g0(n).queue;p0(n,f,s,me,a===null?tR:function(){return y0(n),a(l)})}function g0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:me},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function y0(n){var s=g0(n);s.next===null&&(s=n.alternate.memoizedState),Al(n,s.next.queue,{},Ln())}function Uf(){return tn(ql)}function v0(){return Ct().memoizedState}function _0(){return Ct().memoizedState}function nR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ln();n=er(a);var l=tr(s,n,a);l!==null&&(An(l,s,a),Tl(l,s,a)),s={cache:mf()},n.payload=s;return}s=s.return}}function iR(n,s,a){var l=Ln();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(n)?E0(s,a):(a=nf(n,s,a,l),a!==null&&(An(a,n,l),x0(a,s,l)))}function T0(n,s,a){var l=Ln();Al(n,s,a,l)}function Al(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(n))E0(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,b=p(E,a);if(f.hasEagerState=!0,f.eagerState=b,Vn(b,E))return mu(n,s,f,0),lt===null&&fu(),!1}catch{}finally{}if(a=nf(n,s,f,l),a!==null)return An(a,n,l),x0(a,s,l),!0}return!1}function zf(n,s,a,l){if(l={lane:2,revertLane:vm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mu(n)){if(s)throw Error(r(479))}else s=nf(n,a,l,2),s!==null&&An(s,n,2)}function Mu(n){var s=n.alternate;return n===Pe||s!==null&&s===Pe}function E0(n,s){to=Ru=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function x0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Yo(n,a)}}var wl={readContext:tn,use:ju,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};wl.useEffectEvent=Tt;var S0={readContext:tn,use:ju,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:tn,useEffect:a0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Vu(4194308,4,u0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Vu(4194308,4,n,s)},useInsertionEffect:function(n,s){Vu(4,2,n,s)},useMemo:function(n,s){var a=gn();s=s===void 0?null:s;var l=n();if(ca){Bn(!0);try{n()}finally{Bn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=gn();if(a!==void 0){var f=a(s);if(ca){Bn(!0);try{a(s)}finally{Bn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=iR.bind(null,Pe,n),[l.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:function(n){n=If(n);var s=n.queue,a=T0.bind(null,Pe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(n,s){var a=gn();return Of(a,n,s)},useTransition:function(){var n=If(!1);return n=p0.bind(null,Pe,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Pe,f=gn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),lt===null)throw Error(r(349));(ze&127)!==0||Hv(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,a0(Kv.bind(null,l,p,n),[n]),l.flags|=2048,io(9,{destroy:void 0},Gv.bind(null,l,p,a,s),null),a},useId:function(){var n=gn(),s=lt.identifierPrefix;if(Ge){var a=Yi,l=Ki;a=(l&~(1<<32-At(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Cu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=$w++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Uf,useFormState:t0,useActionState:t0,useOptimistic:function(n){var s=gn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=zf.bind(null,Pe,!0,a),a.dispatch=s,[n,s]},useMemoCache:jf,useCacheRefresh:function(){return gn().memoizedState=nR.bind(null,Pe)},useEffectEvent:function(n){var s=gn(),a={impl:n};return s.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:tn,use:ju,useCallback:d0,useContext:tn,useEffect:Pf,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:f0,useReducer:Du,useRef:r0,useState:function(){return Du(_s)},useDebugValue:kf,useDeferredValue:function(n,s){var a=Ct();return m0(a,st.memoizedState,n,s)},useTransition:function(){var n=Du(_s)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:bl(n),s]},useSyncExternalStore:Fv,useId:v0,useHostTransitionStatus:Uf,useFormState:n0,useActionState:n0,useOptimistic:function(n,s){var a=Ct();return Xv(a,st,n,s)},useMemoCache:jf,useCacheRefresh:_0};Bf.useEffectEvent=o0;var b0={readContext:tn,use:ju,useCallback:d0,useContext:tn,useEffect:Pf,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:f0,useReducer:Vf,useRef:r0,useState:function(){return Vf(_s)},useDebugValue:kf,useDeferredValue:function(n,s){var a=Ct();return st===null?Of(a,n,s):m0(a,st.memoizedState,n,s)},useTransition:function(){var n=Vf(_s)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:bl(n),s]},useSyncExternalStore:Fv,useId:v0,useHostTransitionStatus:Uf,useFormState:s0,useActionState:s0,useOptimistic:function(n,s){var a=Ct();return st!==null?Xv(a,st,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:_0};b0.useEffectEvent=o0;function qf(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ff={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Ln(),f=er(l);f.payload=s,a!=null&&(f.callback=a),s=tr(n,f,l),s!==null&&(An(s,n,l),Tl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Ln(),f=er(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=tr(n,f,l),s!==null&&(An(s,n,l),Tl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Ln(),l=er(a);l.tag=2,s!=null&&(l.callback=s),s=tr(n,l,a),s!==null&&(An(s,n,a),Tl(s,n,a))}};function A0(n,s,a,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):s.prototype&&s.prototype.isPureReactComponent?!dl(a,l)||!dl(f,p):!0}function w0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Ff.enqueueReplaceState(s,s.state,null)}function ua(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function R0(n){du(n)}function C0(n){console.error(n)}function N0(n){du(n)}function Pu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function j0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hf(n,s,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(n,s)},a}function D0(n){return n=er(n),n.tag=3,n}function V0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){j0(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){j0(s,a,l),typeof f!="function"&&(or===null?or=new Set([this]):or.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function sR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Xa(s,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?Yu():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),pm(n,l,f)),!1;case 22:return a.flags|=65536,l===xu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),pm(n,l,f)),!1}throw Error(r(435,a.tag))}return pm(n,l,f),Yu(),!1}if(Ge)return s=Mn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==cf&&(n=Error(r(422),{cause:l}),pl(Yn(n,a)))):(l!==cf&&(s=Error(r(423),{cause:l}),pl(Yn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Yn(l,a),f=Hf(n.stateNode,l,f),Tf(n,f),Et!==4&&(Et=2)),!1;var p=Error(r(520),{cause:l});if(p=Yn(p,a),Ml===null?Ml=[p]:Ml.push(p),Et!==4&&(Et=2),s===null)return!0;l=Yn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Hf(a.stateNode,l,n),Tf(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(or===null||!or.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=D0(f),V0(f,n,a,l),Tf(a,f),!1}a=a.return}while(a!==null);return!1}var Gf=Error(r(461)),Ot=!1;function nn(n,s,a,l){s.child=n===null?kv(s,null,a,l):la(s,n.child,a,l)}function I0(n,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return sa(s),l=wf(n,s,a,E,p,f),b=Rf(),n!==null&&!Ot?(Cf(n,s,f),Ts(n,s,f)):(Ge&&b&&of(s),s.flags|=1,nn(n,s,l,f),s.child)}function M0(n,s,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!sf(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,P0(n,s,p,l,f)):(n=gu(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Jf(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(E,l)&&n.ref===s.ref)return Ts(n,s,f)}return s.flags|=1,n=ms(p,l),n.ref=s.ref,n.return=s,s.child=n}function P0(n,s,a,l,f){if(n!==null){var p=n.memoizedProps;if(dl(p,l)&&n.ref===s.ref)if(Ot=!1,s.pendingProps=l=p,Jf(n,f))(n.flags&131072)!==0&&(Ot=!0);else return s.lanes=n.lanes,Ts(n,s,f)}return Kf(n,s,a,l,f)}function k0(n,s,a,l){var f=l.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,s.child=null;return O0(n,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tu(s,p!==null?p.cachePool:null),p!==null?Uv(s,p):xf(),zv(s);else return l=s.lanes=536870912,O0(n,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Tu(s,p.cachePool),Uv(s,p),ir(),s.memoizedState=null):(n!==null&&Tu(s,null),xf(),ir());return nn(n,s,f,a),s.child}function Rl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function O0(n,s,a,l,f){var p=gf();return p=p===null?null:{parent:Pt._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&Tu(s,null),xf(),zv(s),n!==null&&Xa(n,s,l,!0),s.childLanes=f,null}function ku(n,s){return s=Lu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function L0(n,s,a){return la(s,n.child,null,a),n=ku(s,s.pendingProps),n.flags|=2,Pn(s),s.memoizedState=null,n}function rR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ge){if(l.mode==="hidden")return n=ku(s,l),s.lanes=536870912,Rl(null,n);if(bf(s),(n=ut)?(n=$_(n,$n),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Xs!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Ev(n),a.return=s,s.child=a,en=s,ut=null)):n=null,n===null)throw Zs(s);return s.lanes=536870912,null}return ku(s,l)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(bf(s),f)if(s.flags&256)s.flags&=-257,s=L0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ot||Xa(n,s,a,!1),f=(a&n.childLanes)!==0,Ot||f){if(l=lt,l!==null&&(E=Qo(l,a),E!==0&&E!==p.retryLane))throw p.retryLane=E,ea(n,E),An(l,n,E),Gf;Yu(),s=L0(n,s,a)}else n=p.treeContext,ut=Wn(E.nextSibling),en=s,Ge=!0,$s=null,$n=!1,n!==null&&bv(s,n),s=ku(s,l),s.flags|=4096;return s}return n=ms(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Ou(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Kf(n,s,a,l,f){return sa(s),a=wf(n,s,a,l,void 0,f),l=Rf(),n!==null&&!Ot?(Cf(n,s,f),Ts(n,s,f)):(Ge&&l&&of(s),s.flags|=1,nn(n,s,a,f),s.child)}function U0(n,s,a,l,f,p){return sa(s),s.updateQueue=null,a=qv(s,l,a,f),Bv(n),l=Rf(),n!==null&&!Ot?(Cf(n,s,p),Ts(n,s,p)):(Ge&&l&&of(s),s.flags|=1,nn(n,s,a,p),s.child)}function z0(n,s,a,l,f){if(sa(s),s.stateNode===null){var p=Ga,E=a.contextType;typeof E=="object"&&E!==null&&(p=tn(E)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ff,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},vf(s),E=a.contextType,p.context=typeof E=="object"&&E!==null?tn(E):Ga,p.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(qf(s,a,E,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Ff.enqueueReplaceState(p,p.state,null),xl(s,l,p,f),El(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var b=s.memoizedProps,O=ua(a,b);p.props=O;var Q=p.context,ne=a.contextType;E=Ga,typeof ne=="object"&&ne!==null&&(E=tn(ne));var ae=a.getDerivedStateFromProps;ne=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||Q!==E)&&w0(s,p,l,E),Js=!1;var $=s.memoizedState;p.state=$,xl(s,l,p,f),El(),Q=s.memoizedState,b||$!==Q||Js?(typeof ae=="function"&&(qf(s,a,ae,l),Q=s.memoizedState),(O=Js||A0(s,a,O,l,$,Q,E))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Q),p.props=l,p.state=Q,p.context=E,l=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,_f(n,s),E=s.memoizedProps,ne=ua(a,E),p.props=ne,ae=s.pendingProps,$=p.context,Q=a.contextType,O=Ga,typeof Q=="object"&&Q!==null&&(O=tn(Q)),b=a.getDerivedStateFromProps,(Q=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ae||$!==O)&&w0(s,p,l,O),Js=!1,$=s.memoizedState,p.state=$,xl(s,l,p,f),El();var J=s.memoizedState;E!==ae||$!==J||Js||n!==null&&n.dependencies!==null&&vu(n.dependencies)?(typeof b=="function"&&(qf(s,a,b,l),J=s.memoizedState),(ne=Js||A0(s,a,ne,l,$,J,O)||n!==null&&n.dependencies!==null&&vu(n.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,J,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,J,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=J),p.props=l,p.state=J,p.context=O,l=ne):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,Ou(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=la(s,n.child,null,f),s.child=la(s,null,a,f)):nn(n,s,a,f),s.memoizedState=p.state,n=s.child):n=Ts(n,s,f),n}function B0(n,s,a,l){return na(),s.flags|=256,nn(n,s,a,l),s.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(n){return{baseLanes:n,cachePool:jv()}}function Xf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=On),n}function q0(n,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ge){if(f?nr(s):ir(),(n=ut)?(n=$_(n,$n),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Xs!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Ev(n),a.return=s,s.child=a,en=s,ut=null)):n=null,n===null)throw Zs(s);return Dm(n)?s.lanes=32:s.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(ir(),f=s.mode,b=Lu({mode:"hidden",children:b},f),l=ta(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,l=s.child,l.memoizedState=Qf(a),l.childLanes=Xf(n,E,a),s.memoizedState=Yf,Rl(null,l)):(nr(s),$f(s,b))}var O=n.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(p)s.flags&256?(nr(s),s.flags&=-257,s=Zf(n,s,a)):s.memoizedState!==null?(ir(),s.child=n.child,s.flags|=128,s=null):(ir(),b=l.fallback,f=s.mode,l=Lu({mode:"visible",children:l.children},f),b=ta(b,f,a,null),b.flags|=2,l.return=s,b.return=s,l.sibling=b,s.child=l,la(s,n.child,null,a),l=s.child,l.memoizedState=Qf(a),l.childLanes=Xf(n,E,a),s.memoizedState=Yf,s=Rl(null,l));else if(nr(s),Dm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Q=E.dgst;E=Q,l=Error(r(419)),l.stack="",l.digest=E,pl({value:l,source:null,stack:null}),s=Zf(n,s,a)}else if(Ot||Xa(n,s,a,!1),E=(a&n.childLanes)!==0,Ot||E){if(E=lt,E!==null&&(l=Qo(E,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ea(n,l),An(E,n,l),Gf;jm(b)||Yu(),s=Zf(n,s,a)}else jm(b)?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,ut=Wn(b.nextSibling),en=s,Ge=!0,$s=null,$n=!1,n!==null&&bv(s,n),s=$f(s,l.children),s.flags|=4096);return s}return f?(ir(),b=l.fallback,f=s.mode,O=n.child,Q=O.sibling,l=ms(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,Q!==null?b=ms(Q,b):(b=ta(b,f,a,null),b.flags|=2),b.return=s,l.return=s,l.sibling=b,s.child=l,Rl(null,l),l=s.child,b=n.child.memoizedState,b===null?b=Qf(a):(f=b.cachePool,f!==null?(O=Pt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=jv(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Xf(n,E,a),s.memoizedState=Yf,Rl(n.child,l)):(nr(s),a=n.child,n=a.sibling,a=ms(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function $f(n,s){return s=Lu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Lu(n,s){return n=In(22,n,null,s),n.lanes=0,n}function Zf(n,s,a){return la(s,n.child,null,a),n=$f(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function F0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),df(n.return,s,a)}function Wf(n,s,a,l,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=p)}function H0(n,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var E=Rt.current,b=(E&2)!==0;if(b?(E=E&1|2,s.flags|=128):E&=1,te(Rt,E),nn(n,s,l,a),l=Ge?ml:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&F0(n,a,s);else if(n.tag===19)F0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&wu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Wf(s,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&wu(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Wf(s,!0,a,null,p,l);break;case"together":Wf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ts(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ar|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Xa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ms(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ms(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Jf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&vu(n)))}function aR(n,s,a){switch(s.tag){case 3:$e(s,s.stateNode.containerInfo),Ws(s,Pt,n.memoizedState.cache),na();break;case 27:case 5:Ft(s);break;case 4:$e(s,s.stateNode.containerInfo);break;case 10:Ws(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(nr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?q0(n,s,a):(nr(s),n=Ts(n,s,a),n!==null?n.sibling:null);nr(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Xa(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return H0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),te(Rt,Rt.current),l)break;return null;case 22:return s.lanes=0,k0(n,s,a,s.pendingProps);case 24:Ws(s,Pt,n.memoizedState.cache)}return Ts(n,s,a)}function G0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ot=!0;else{if(!Jf(n,a)&&(s.flags&128)===0)return Ot=!1,aR(n,s,a);Ot=(n.flags&131072)!==0}else Ot=!1,Ge&&(s.flags&1048576)!==0&&Sv(s,ml,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=aa(s.elementType),s.type=n,typeof n=="function")sf(n)?(l=ua(n,l),s.tag=1,s=z0(null,s,n,l,a)):(s.tag=0,s=Kf(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===he){s.tag=11,s=I0(null,s,n,l,a);break e}else if(f===N){s.tag=14,s=M0(null,s,n,l,a);break e}}throw s=He(n)||n,Error(r(306,s,""))}}return s;case 0:return Kf(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ua(l,s.pendingProps),z0(n,s,l,f,a);case 3:e:{if($e(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,_f(n,s),xl(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Ws(s,Pt,l),l!==p.cache&&ff(s,[Pt],a,!0),El(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=B0(n,s,l,a);break e}else if(l!==f){f=Yn(Error(r(424)),s),pl(f),s=B0(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Wn(n.firstChild),en=s,Ge=!0,$s=null,$n=!0,a=kv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(na(),l===f){s=Ts(n,s,a);break e}nn(n,s,l,a)}s=s.child}return s;case 26:return Ou(n,s),n===null?(a=nT(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ge||(a=s.type,n=s.pendingProps,l=eh(Te.current).createElement(a),l[Vt]=s,l[Yt]=n,sn(l,a,n),It(l),s.stateNode=l):s.memoizedState=nT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ft(s),n===null&&Ge&&(l=s.stateNode=J_(s.type,s.pendingProps,Te.current),en=s,$n=!0,f=ut,hr(s.type)?(Vm=f,ut=Wn(l.firstChild)):ut=f),nn(n,s,s.pendingProps.children,a),Ou(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ge&&((f=l=ut)&&(l=kR(l,s.type,s.pendingProps,$n),l!==null?(s.stateNode=l,en=s,ut=Wn(l.firstChild),$n=!1,f=!0):f=!1),f||Zs(s)),Ft(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,Rm(f,p)?l=null:E!==null&&Rm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=wf(n,s,Zw,null,null,a),ql._currentValue=f),Ou(n,s),nn(n,s,l,a),s.child;case 6:return n===null&&Ge&&((n=a=ut)&&(a=OR(a,s.pendingProps,$n),a!==null?(s.stateNode=a,en=s,ut=null,n=!0):n=!1),n||Zs(s)),null;case 13:return q0(n,s,a);case 4:return $e(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=la(s,null,l,a):nn(n,s,l,a),s.child;case 11:return I0(n,s,s.type,s.pendingProps,a);case 7:return nn(n,s,s.pendingProps,a),s.child;case 8:return nn(n,s,s.pendingProps.children,a),s.child;case 12:return nn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ws(s,s.type,l.value),nn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,sa(s),f=tn(f),l=l(f),s.flags|=1,nn(n,s,l,a),s.child;case 14:return M0(n,s,s.type,s.pendingProps,a);case 15:return P0(n,s,s.type,s.pendingProps,a);case 19:return H0(n,s,a);case 31:return rR(n,s,a);case 22:return k0(n,s,a,s.pendingProps);case 24:return sa(s),l=tn(Pt),n===null?(f=gf(),f===null&&(f=lt,p=mf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},vf(s),Ws(s,Pt,f)):((n.lanes&a)!==0&&(_f(n,s),xl(s,null,null,a),El()),f=n.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ws(s,Pt,l)):(l=p.cache,Ws(s,Pt,l),l!==f.cache&&ff(s,[Pt],a,!0))),nn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Es(n){n.flags|=4}function em(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(v_())n.flags|=8192;else throw oa=xu,yf}else n.flags&=-16777217}function K0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!oT(s))if(v_())n.flags|=8192;else throw oa=xu,yf}function Uu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Gc():536870912,n.lanes|=s,oo|=s)}function Cl(n,s){if(!Ge)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function oR(n,s,a){var l=s.pendingProps;switch(lf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ys(Pt),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Qa(s)?Es(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,uf())),ht(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(Es(s),p!==null?(ht(s),K0(s,p)):(ht(s),em(s,f,null,l,a))):p?p!==n.memoizedState?(Es(s),ht(s),K0(s,p)):(ht(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Es(s),ht(s),em(s,f,n,l,a)),null;case 27:if(cn(s),a=Te.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ht(s),null}n=le.current,Qa(s)?Av(s):(n=J_(f,l,a),s.stateNode=n,Es(s))}return ht(s),null;case 5:if(cn(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ht(s),null}if(p=le.current,Qa(s))Av(s);else{var E=eh(Te.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}p[Vt]=s,p[Yt]=l;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=p;e:switch(sn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Es(s)}}return ht(s),em(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Es(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Te.current,Qa(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=en,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Vt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(n.nodeValue,a)),n||Zs(s,!0)}else n=eh(n).createTextNode(l),n[Vt]=s,s.stateNode=n}return ht(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Qa(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Vt]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),n=!1}else a=uf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Pn(s),s):(Pn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ht(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Qa(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Vt]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),f=!1}else f=uf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Pn(s),s):(Pn(s),null)}return Pn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Uu(s,s.updateQueue),ht(s),null);case 4:return Ue(),n===null&&xm(s.stateNode.containerInfo),ht(s),null;case 10:return ys(s.type),ht(s),null;case 19:if(K(Rt),l=s.memoizedState,l===null)return ht(s),null;if(f=(s.flags&128)!==0,p=l.rendering,p===null)if(f)Cl(l,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=wu(n),p!==null){for(s.flags|=128,Cl(l,!1),n=p.updateQueue,s.updateQueue=n,Uu(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Tv(a,n),a=a.sibling;return te(Rt,Rt.current&1|2),Ge&&ps(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&fe()>Hu&&(s.flags|=128,f=!0,Cl(l,!1),s.lanes=4194304)}else{if(!f)if(n=wu(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Uu(s,n),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ge)return ht(s),null}else 2*fe()-l.renderingStartTime>Hu&&a!==536870912&&(s.flags|=128,f=!0,Cl(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(n=l.last,n!==null?n.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=fe(),n.sibling=null,a=Rt.current,te(Rt,f?a&1|2:a&1),Ge&&ps(s,l.treeForkCount),n):(ht(s),null);case 22:case 23:return Pn(s),Sf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),a=s.updateQueue,a!==null&&Uu(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&K(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ys(Pt),ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function lR(n,s){switch(lf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ys(Pt),Ue(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return cn(s),null;case 31:if(s.memoizedState!==null){if(Pn(s),s.alternate===null)throw Error(r(340));na()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Pn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));na()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return K(Rt),null;case 4:return Ue(),null;case 10:return ys(s.type),null;case 22:case 23:return Pn(s),Sf(),n!==null&&K(ra),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ys(Pt),null;case 25:return null;default:return null}}function Y0(n,s){switch(lf(s),s.tag){case 3:ys(Pt),Ue();break;case 26:case 27:case 5:cn(s);break;case 4:Ue();break;case 31:s.memoizedState!==null&&Pn(s);break;case 13:Pn(s);break;case 19:K(Rt);break;case 10:ys(s.type);break;case 22:case 23:Pn(s),Sf(),n!==null&&K(ra);break;case 24:ys(Pt)}}function Nl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){nt(s,s.return,b)}}function sr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var O=a,Q=b;try{Q()}catch(ne){nt(f,O,ne)}}}l=l.next}while(l!==p)}}catch(ne){nt(s,s.return,ne)}}function Q0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Lv(s,a)}catch(l){nt(n,n.return,l)}}}function X0(n,s,a){a.props=ua(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,s,l)}}function jl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){nt(n,s,f)}}function Qi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){nt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,s,f)}else a.current=null}function $0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function tm(n,s,a){try{var l=n.stateNode;jR(l,n.type,a,s),l[Yt]=s}catch(f){nt(n,n.return,f)}}function Z0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&hr(n.type)||n.tag===4}function nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Z0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&hr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function im(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=di));else if(l!==4&&(l===27&&hr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(im(n,s,a),n=n.sibling;n!==null;)im(n,s,a),n=n.sibling}function zu(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&hr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(zu(n,s,a),n=n.sibling;n!==null;)zu(n,s,a),n=n.sibling}function W0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);sn(s,l,a),s[Vt]=n,s[Yt]=a}catch(p){nt(n,n.return,p)}}var xs=!1,Lt=!1,sm=!1,J0=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function cR(n,s){if(n=n.containerInfo,Am=oh,n=hv(n),$d(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,b=-1,O=-1,Q=0,ne=0,ae=n,$=null;t:for(;;){for(var J;ae!==a||f!==0&&ae.nodeType!==3||(b=E+f),ae!==p||l!==0&&ae.nodeType!==3||(O=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(J=ae.firstChild)!==null;)$=ae,ae=J;for(;;){if(ae===n)break t;if($===a&&++Q===f&&(b=E),$===p&&++ne===l&&(O=E),(J=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=J}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(wm={focusedElem:n,selectionRange:a},oh=!1,Xt=s;Xt!==null;)if(s=Xt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Xt=n;else for(;Xt!==null;){switch(s=Xt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var xe=ua(a.type,f);n=l.getSnapshotBeforeUpdate(xe,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){nt(a,a.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Nm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Xt=n;break}Xt=s.return}}function e_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bs(n,a),l&4&&Nl(5,a);break;case 1:if(bs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){nt(a,a.return,E)}else{var f=ua(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(a,a.return,E)}}l&64&&Q0(a),l&512&&jl(a,a.return);break;case 3:if(bs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Lv(n,s)}catch(E){nt(a,a.return,E)}}break;case 27:s===null&&l&4&&W0(a);case 26:case 5:bs(n,a),s===null&&l&4&&$0(a),l&512&&jl(a,a.return);break;case 12:bs(n,a);break;case 31:bs(n,a),l&4&&i_(n,a);break;case 13:bs(n,a),l&4&&s_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=vR.bind(null,a),LR(n,a))));break;case 22:if(l=a.memoizedState!==null||xs,!l){s=s!==null&&s.memoizedState!==null||Lt,f=xs;var p=Lt;xs=l,(Lt=s)&&!p?As(n,a,(a.subtreeFlags&8772)!==0):bs(n,a),xs=f,Lt=p}break;case 30:break;default:bs(n,a)}}function t_(n){var s=n.alternate;s!==null&&(n.alternate=null,t_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Da(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,En=!1;function Ss(n,s,a){for(a=a.child;a!==null;)n_(n,s,a),a=a.sibling}function n_(n,s,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(li,a)}catch{}switch(a.tag){case 26:Lt||Qi(a,s),Ss(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Qi(a,s);var l=pt,f=En;hr(a.type)&&(pt=a.stateNode,En=!1),Ss(n,s,a),Ul(a.stateNode),pt=l,En=f;break;case 5:Lt||Qi(a,s);case 6:if(l=pt,f=En,pt=null,Ss(n,s,a),pt=l,En=f,pt!==null)if(En)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(p){nt(a,s,p)}else try{pt.removeChild(a.stateNode)}catch(p){nt(a,s,p)}break;case 18:pt!==null&&(En?(n=pt,Q_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),go(n)):Q_(pt,a.stateNode));break;case 4:l=pt,f=En,pt=a.stateNode.containerInfo,En=!0,Ss(n,s,a),pt=l,En=f;break;case 0:case 11:case 14:case 15:sr(2,a,s),Lt||sr(4,a,s),Ss(n,s,a);break;case 1:Lt||(Qi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&X0(a,s,l)),Ss(n,s,a);break;case 21:Ss(n,s,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,Ss(n,s,a),Lt=l;break;default:Ss(n,s,a)}}function i_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{go(n)}catch(a){nt(s,s.return,a)}}}function s_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{go(n)}catch(a){nt(s,s.return,a)}}function uR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new J0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new J0),s;default:throw Error(r(435,n.tag))}}function Bu(n,s){var a=uR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=_R.bind(null,n,l);l.then(f,f)}})}function xn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(hr(b.type)){pt=b.stateNode,En=!1;break e}break;case 5:pt=b.stateNode,En=!1;break e;case 3:case 4:pt=b.stateNode.containerInfo,En=!0;break e}b=b.return}if(pt===null)throw Error(r(160));n_(p,E,f),pt=null,En=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)r_(s,n),s=s.sibling}var vi=null;function r_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(s,n),Sn(n),l&4&&(sr(3,n,n.return),Nl(3,n),sr(5,n,n.return));break;case 1:xn(s,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),l&64&&xs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=vi;if(xn(s,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Mi]||p[Vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),sn(p,l,a),p[Vt]=n,It(p),l=p;break e;case"link":var E=rT("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}p=f.createElement(l),sn(p,l,a),f.head.appendChild(p);break;case"meta":if(E=rT("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}p=f.createElement(l),sn(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[Vt]=n,It(p),l=p}n.stateNode=l}else aT(f,n.type,n.stateNode);else n.stateNode=sT(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?aT(f,n.type,n.stateNode):sT(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&tm(n,n.memoizedProps,a.memoizedProps)}break;case 27:xn(s,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),a!==null&&l&4&&tm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(xn(s,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),n.flags&32){f=n.stateNode;try{Tn(f,"")}catch(xe){nt(n,n.return,xe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,tm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(sm=!0);break;case 6:if(xn(s,n),Sn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(xe){nt(n,n.return,xe)}}break;case 3:if(ih=null,f=vi,vi=th(s.containerInfo),xn(s,n),vi=f,Sn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(xe){nt(n,n.return,xe)}sm&&(sm=!1,a_(n));break;case 4:l=vi,vi=th(n.stateNode.containerInfo),xn(s,n),Sn(n),vi=l;break;case 12:xn(s,n),Sn(n);break;case 31:xn(s,n),Sn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bu(n,l)));break;case 13:xn(s,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fu=fe()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bu(n,l)));break;case 22:f=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,Q=xs,ne=Lt;if(xs=Q||f,Lt=ne||O,xn(s,n),Lt=ne,xs=Q,Sn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||xs||Lt||ha(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=O.stateNode;var ae=O.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(xe){nt(O,O.return,xe)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(xe){nt(O,O.return,xe)}}}else if(s.tag===18){if(a===null){O=s;try{var J=O.stateNode;f?X_(J,!0):X_(O.stateNode,!1)}catch(xe){nt(O,O.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bu(n,a))));break;case 19:xn(s,n),Sn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bu(n,l)));break;case 30:break;case 21:break;default:xn(s,n),Sn(n)}}function Sn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Z0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=nm(n);zu(n,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(Tn(E,""),a.flags&=-33);var b=nm(n);zu(n,b,E);break;case 3:case 4:var O=a.stateNode.containerInfo,Q=nm(n);im(n,Q,O);break;default:throw Error(r(161))}}catch(ne){nt(n,n.return,ne)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function a_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;a_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function bs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)e_(n,s.alternate,s),s=s.sibling}function ha(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:sr(4,s,s.return),ha(s);break;case 1:Qi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&X0(s,s.return,a),ha(s);break;case 27:Ul(s.stateNode);case 26:case 5:Qi(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}n=n.sibling}}function As(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:As(f,p,a),Nl(4,p);break;case 1:if(As(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){nt(l,l.return,Q)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Ov(O[f],b)}catch(Q){nt(l,l.return,Q)}}a&&E&64&&Q0(p),jl(p,p.return);break;case 27:W0(p);case 26:case 5:As(f,p,a),a&&l===null&&E&4&&$0(p),jl(p,p.return);break;case 12:As(f,p,a);break;case 31:As(f,p,a),a&&E&4&&i_(f,p);break;case 13:As(f,p,a),a&&E&4&&s_(f,p);break;case 22:p.memoizedState===null&&As(f,p,a),jl(p,p.return);break;case 30:break;default:As(f,p,a)}s=s.sibling}}function rm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function am(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&gl(n))}function _i(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o_(n,s,a,l),s=s.sibling}function o_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:_i(n,s,a,l),f&2048&&Nl(9,s);break;case 1:_i(n,s,a,l);break;case 3:_i(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){_i(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){nt(s,s.return,O)}}else _i(n,s,a,l);break;case 31:_i(n,s,a,l);break;case 13:_i(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?_i(n,s,a,l):Dl(n,s):p._visibility&2?_i(n,s,a,l):(p._visibility|=2,so(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&rm(E,s);break;case 24:_i(n,s,a,l),f&2048&&am(s.alternate,s);break;default:_i(n,s,a,l)}}function so(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,E=s,b=a,O=l,Q=E.flags;switch(E.tag){case 0:case 11:case 15:so(p,E,b,O,f),Nl(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?so(p,E,b,O,f):Dl(p,E):(ne._visibility|=2,so(p,E,b,O,f)),f&&Q&2048&&rm(E.alternate,E);break;case 24:so(p,E,b,O,f),f&&Q&2048&&am(E.alternate,E);break;default:so(p,E,b,O,f)}s=s.sibling}}function Dl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&rm(l.alternate,l);break;case 24:Dl(a,l),f&2048&&am(l.alternate,l);break;default:Dl(a,l)}s=s.sibling}}var Vl=8192;function ro(n,s,a){if(n.subtreeFlags&Vl)for(n=n.child;n!==null;)l_(n,s,a),n=n.sibling}function l_(n,s,a){switch(n.tag){case 26:ro(n,s,a),n.flags&Vl&&n.memoizedState!==null&&$R(a,vi,n.memoizedState,n.memoizedProps);break;case 5:ro(n,s,a);break;case 3:case 4:var l=vi;vi=th(n.stateNode.containerInfo),ro(n,s,a),vi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,ro(n,s,a),Vl=l):ro(n,s,a));break;default:ro(n,s,a)}}function c_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Il(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,h_(l,n)}c_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u_(n),n=n.sibling}function u_(n){switch(n.tag){case 0:case 11:case 15:Il(n),n.flags&2048&&sr(9,n,n.return);break;case 3:Il(n);break;case 12:Il(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,qu(n)):Il(n);break;default:Il(n)}}function qu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,h_(l,n)}c_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:sr(8,s,s.return),qu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,qu(s));break;default:qu(s)}n=n.sibling}}function h_(n,s){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:sr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=n;Xt!==null;){l=Xt;var f=l.sibling,p=l.return;if(t_(l),l===a){Xt=null;break e}if(f!==null){f.return=p,Xt=f;break e}Xt=p}}}var hR={getCacheForType:function(n){var s=tn(Pt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return tn(Pt).controller.signal}},dR=typeof WeakMap=="function"?WeakMap:Map,We=0,lt=null,Oe=null,ze=0,tt=0,kn=null,rr=!1,ao=!1,om=!1,ws=0,Et=0,ar=0,da=0,lm=0,On=0,oo=0,Ml=null,bn=null,cm=!1,Fu=0,d_=0,Hu=1/0,Gu=null,or=null,Ht=0,lr=null,lo=null,Rs=0,um=0,hm=null,f_=null,Pl=0,dm=null;function Ln(){return(We&2)!==0&&ze!==0?ze&-ze:Z.T!==null?vm():Kc()}function m_(){if(On===0)if((ze&536870912)===0||Ge){var n=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),On=n}else On=536870912;return n=Mn.current,n!==null&&(n.flags|=32),On}function An(n,s,a){(n===lt&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(co(n,0),cr(n,ze,On,!1)),zr(n,a),((We&2)===0||n!==lt)&&(n===lt&&((We&2)===0&&(da|=a),Et===4&&cr(n,ze,On,!1)),Xi(n))}function p_(n,s,a){if((We&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ci(n,s),f=l?pR(n,s):mm(n,s,!0),p=l;do{if(f===0){ao&&!l&&cr(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!fR(a)){f=mm(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;f=Ml;var O=b.current.memoizedState.isDehydrated;if(O&&(co(b,E).flags|=256),E=mm(b,E,!1),E!==2){if(om&&!O){b.errorRecoveryDisabledLanes|=p,da|=p,f=4;break e}p=bn,bn=f,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){co(n,0),cr(n,s,0,!0);break}e:{switch(l=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:cr(l,s,On,!rr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Fu+300-fe(),10<f)){if(cr(l,s,On,!rr),Di(l,0,!0)!==0)break e;Rs=s,l.timeoutHandle=K_(g_.bind(null,l,a,bn,Gu,cm,s,On,da,oo,rr,p,"Throttled",-0,0),f);break e}g_(l,a,bn,Gu,cm,s,On,da,oo,rr,p,null,-0,0)}}break}while(!0);Xi(n)}function g_(n,s,a,l,f,p,E,b,O,Q,ne,ae,$,J){if(n.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},l_(s,p,ae);var xe=(p&62914560)===p?Fu-fe():(p&4194048)===p?d_-fe():0;if(xe=ZR(ae,xe),xe!==null){Rs=p,n.cancelPendingCommit=xe(b_.bind(null,n,s,p,a,l,f,E,b,O,ne,ae,null,$,J)),cr(n,p,E,!Q);return}}b_(n,s,p,a,l,f,E,b,O)}function fR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Vn(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cr(n,s,a,l){s&=~lm,s&=~da,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var p=31-At(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&Br(n,a,s)}function Ku(){return(We&6)===0?(kl(0),!1):!0}function fm(){if(Oe!==null){if(tt===0)var n=Oe.return;else n=Oe,gs=ia=null,Nf(n),Ja=null,vl=0,n=Oe;for(;n!==null;)Y0(n.alternate,n),n=n.return;Oe=null}}function co(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,IR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Rs=0,fm(),lt=n,Oe=a=ms(n.current,null),ze=s,tt=0,kn=null,rr=!1,ao=ci(n,s),om=!1,oo=On=lm=da=ar=Et=0,bn=Ml=null,cm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-At(l),p=1<<f;s|=n[f],l&=~p}return ws=s,fu(),a}function y_(n,s){Pe=null,Z.H=wl,s===Wa||s===Eu?(s=Iv(),tt=3):s===yf?(s=Iv(),tt=4):tt=s===Gf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,Oe===null&&(Et=1,Pu(n,Yn(s,n.current)))}function v_(){var n=Mn.current;return n===null?!0:(ze&4194048)===ze?Zn===null:(ze&62914560)===ze||(ze&536870912)!==0?n===Zn:!1}function __(){var n=Z.H;return Z.H=wl,n===null?wl:n}function T_(){var n=Z.A;return Z.A=hR,n}function Yu(){Et=4,rr||(ze&4194048)!==ze&&Mn.current!==null||(ao=!0),(ar&134217727)===0&&(da&134217727)===0||lt===null||cr(lt,ze,On,!1)}function mm(n,s,a){var l=We;We|=2;var f=__(),p=T_();(lt!==n||ze!==s)&&(Gu=null,co(n,s)),s=!1;var E=Et;e:do try{if(tt!==0&&Oe!==null){var b=Oe,O=kn;switch(tt){case 8:fm(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(s=!0);var Q=tt;if(tt=0,kn=null,uo(n,b,O,Q),a&&ao){E=0;break e}break;default:Q=tt,tt=0,kn=null,uo(n,b,O,Q)}}mR(),E=Et;break}catch(ne){y_(n,ne)}while(!0);return s&&n.shellSuspendCounter++,gs=ia=null,We=l,Z.H=f,Z.A=p,Oe===null&&(lt=null,ze=0,fu()),E}function mR(){for(;Oe!==null;)E_(Oe)}function pR(n,s){var a=We;We|=2;var l=__(),f=T_();lt!==n||ze!==s?(Gu=null,Hu=fe()+500,co(n,s)):ao=ci(n,s);e:do try{if(tt!==0&&Oe!==null){s=Oe;var p=kn;t:switch(tt){case 1:tt=0,kn=null,uo(n,s,p,1);break;case 2:case 9:if(Dv(p)){tt=0,kn=null,x_(s);break}s=function(){tt!==2&&tt!==9||lt!==n||(tt=7),Xi(n)},p.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Dv(p)?(tt=0,kn=null,x_(s)):(tt=0,kn=null,uo(n,s,p,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var b=Oe;if(E?oT(E):b.stateNode.complete){tt=0,kn=null;var O=b.sibling;if(O!==null)Oe=O;else{var Q=b.return;Q!==null?(Oe=Q,Qu(Q)):Oe=null}break t}}tt=0,kn=null,uo(n,s,p,5);break;case 6:tt=0,kn=null,uo(n,s,p,6);break;case 8:fm(),Et=6;break e;default:throw Error(r(462))}}gR();break}catch(ne){y_(n,ne)}while(!0);return gs=ia=null,Z.H=l,Z.A=f,We=a,Oe!==null?0:(lt=null,ze=0,fu(),Et)}function gR(){for(;Oe!==null&&!X();)E_(Oe)}function E_(n){var s=G0(n.alternate,n,ws);n.memoizedProps=n.pendingProps,s===null?Qu(n):Oe=s}function x_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=U0(a,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=U0(a,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Nf(s);default:Y0(a,s),s=Oe=Tv(s,ws),s=G0(a,s,ws)}n.memoizedProps=n.pendingProps,s===null?Qu(n):Oe=s}function uo(n,s,a,l){gs=ia=null,Nf(s),Ja=null,vl=0;var f=s.return;try{if(sR(n,f,s,a,ze)){Et=1,Pu(n,Yn(a,n.current)),Oe=null;return}}catch(p){if(f!==null)throw Oe=f,p;Et=1,Pu(n,Yn(a,n.current)),Oe=null;return}s.flags&32768?(Ge||l===1?n=!0:ao||(ze&536870912)!==0?n=!1:(rr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),S_(s,n)):Qu(s)}function Qu(n){var s=n;do{if((s.flags&32768)!==0){S_(s,rr);return}n=s.return;var a=oR(s.alternate,s,ws);if(a!==null){Oe=a;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=n}while(s!==null);Et===0&&(Et=5)}function S_(n,s){do{var a=lR(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);Et=6,Oe=null}function b_(n,s,a,l,f,p,E,b,O){n.cancelPendingCommit=null;do Xu();while(Ht!==0);if((We&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=tf,Kd(n,a,p,E,b,O),n===lt&&(Oe=lt=null,ze=0),lo=s,lr=n,Rs=a,um=p,hm=f,f_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,TR(cs,function(){return N_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=ue.p,ue.p=2,E=We,We|=4;try{cR(n,s,a)}finally{We=E,ue.p=f,Z.T=l}}Ht=1,A_(),w_(),R_()}}function A_(){if(Ht===1){Ht=0;var n=lr,s=lo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=ue.p;ue.p=2;var f=We;We|=4;try{r_(s,n);var p=wm,E=hv(n.containerInfo),b=p.focusedElem,O=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&uv(b.ownerDocument.documentElement,b)){if(O!==null&&$d(b)){var Q=O.start,ne=O.end;if(ne===void 0&&(ne=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(ne,b.value.length);else{var ae=b.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var J=$.getSelection(),xe=b.textContent.length,Ce=Math.min(O.start,xe),at=O.end===void 0?Ce:Math.min(O.end,xe);!J.extend&&Ce>at&&(E=at,at=Ce,Ce=E);var H=cv(b,Ce),z=cv(b,at);if(H&&z&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var Y=ae.createRange();Y.setStart(H.node,H.offset),J.removeAllRanges(),Ce>at?(J.addRange(Y),J.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),J.addRange(Y))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}oh=!!Am,wm=Am=null}finally{We=f,ue.p=l,Z.T=a}}n.current=s,Ht=2}}function w_(){if(Ht===2){Ht=0;var n=lr,s=lo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=ue.p;ue.p=2;var f=We;We|=4;try{e_(n,s.alternate,s)}finally{We=f,ue.p=l,Z.T=a}}Ht=3}}function R_(){if(Ht===4||Ht===3){Ht=0,re();var n=lr,s=lo,a=Rs,l=f_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,lo=lr=null,C_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(or=null),us(a),s=s.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(li,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Z.T,f=ue.p,ue.p=2,Z.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{Z.T=s,ue.p=f}}(Rs&3)!==0&&Xu(),Xi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===dm?Pl++:(Pl=0,dm=n):Pl=0,kl(0)}}function C_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,gl(s)))}function Xu(){return A_(),w_(),R_(),N_()}function N_(){if(Ht!==5)return!1;var n=lr,s=um;um=0;var a=us(Rs),l=Z.T,f=ue.p;try{ue.p=32>a?32:a,Z.T=null,a=hm,hm=null;var p=lr,E=Rs;if(Ht=0,lo=lr=null,Rs=0,(We&6)!==0)throw Error(r(331));var b=We;if(We|=4,u_(p.current),o_(p,p.current,E,a),We=b,kl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(li,p)}catch{}return!0}finally{ue.p=f,Z.T=l,C_(n,s)}}function j_(n,s,a){s=Yn(a,s),s=Hf(n.stateNode,s,2),n=tr(n,s,2),n!==null&&(zr(n,2),Xi(n))}function nt(n,s,a){if(n.tag===3)j_(n,n,a);else for(;s!==null;){if(s.tag===3){j_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){n=Yn(a,n),a=D0(2),l=tr(s,a,2),l!==null&&(V0(a,l,s,n),zr(l,2),Xi(l));break}}s=s.return}}function pm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new dR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(om=!0,f.add(a),n=yR.bind(null,n,s,a),s.then(n,n))}function yR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,lt===n&&(ze&a)===a&&(Et===4||Et===3&&(ze&62914560)===ze&&300>fe()-Fu?(We&2)===0&&co(n,0):lm|=a,oo===ze&&(oo=0)),Xi(n)}function D_(n,s){s===0&&(s=Gc()),n=ea(n,s),n!==null&&(zr(n,s),Xi(n))}function vR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),D_(n,a)}function _R(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),D_(n,a)}function TR(n,s){return bt(n,s)}var $u=null,ho=null,gm=!1,Zu=!1,ym=!1,ur=0;function Xi(n){n!==ho&&n.next===null&&(ho===null?$u=ho=n:ho=ho.next=n),Zu=!0,gm||(gm=!0,xR())}function kl(n,s){if(!ym&&Zu){ym=!0;do for(var a=!1,l=$u;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-At(42|n)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,P_(l,p))}else p=ze,p=Di(l,l===lt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ci(l,p)||(a=!0,P_(l,p));l=l.next}while(a);ym=!1}}function ER(){V_()}function V_(){Zu=gm=!1;var n=0;ur!==0&&VR()&&(n=ur);for(var s=fe(),a=null,l=$u;l!==null;){var f=l.next,p=I_(l,s);p===0?(l.next=null,a===null?$u=f:a.next=f,f===null&&(ho=a)):(a=l,(n!==0||(p&3)!==0)&&(Zu=!0)),l=f}Ht!==0&&Ht!==5||kl(n),ur!==0&&(ur=0)}function I_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-At(p),b=1<<E,O=f[E];O===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Gd(b,s)):O<=s&&(n.expiredLanes|=b),p&=~b}if(s=lt,a=ze,a=Di(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ri(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ci(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Ri(l),us(a)){case 2:case 8:a=Ra;break;case 32:a=cs;break;case 268435456:a=Ca;break;default:a=cs}return l=M_.bind(null,n),a=bt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Ri(l),n.callbackPriority=2,n.callbackNode=null,2}function M_(n,s){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Xu()&&n.callbackNode!==a)return null;var l=ze;return l=Di(n,n===lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(p_(n,l,s),I_(n,fe()),n.callbackNode!=null&&n.callbackNode===a?M_.bind(null,n):null)}function P_(n,s){if(Xu())return null;p_(n,s,!0)}function xR(){MR(function(){(We&6)!==0?bt(jt,ER):V_()})}function vm(){if(ur===0){var n=$a;n===0&&(n=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),ur=n}return ur}function k_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Pa(""+n)}function O_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function SR(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=k_((f[Yt]||null).action),E=l.submitter;E&&(s=(s=E[Yt]||null)?k_(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var b=new qi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ur!==0){var O=E?O_(f,E):new FormData(f);Lf(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(b.preventDefault(),O=E?O_(f,E):new FormData(f),Lf(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var _m=0;_m<ef.length;_m++){var Tm=ef[_m],bR=Tm.toLowerCase(),AR=Tm[0].toUpperCase()+Tm.slice(1);yi(bR,"on"+AR)}yi(mv,"onAnimationEnd"),yi(pv,"onAnimationIteration"),yi(gv,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(Bw,"onTransitionRun"),yi(qw,"onTransitionStart"),yi(Fw,"onTransitionCancel"),yi(yv,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function L_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var E=l.length-1;0<=E;E--){var b=l[E],O=b.instance,Q=b.currentTarget;if(b=b.listener,O!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=Q;try{p(f)}catch(ne){du(ne)}f.currentTarget=null,p=O}else for(E=0;E<l.length;E++){if(b=l[E],O=b.instance,Q=b.currentTarget,b=b.listener,O!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=Q;try{p(f)}catch(ne){du(ne)}f.currentTarget=null,p=O}}}}function Le(n,s){var a=s[ja];a===void 0&&(a=s[ja]=new Set);var l=n+"__bubble";a.has(l)||(U_(s,n,2,!1),a.add(l))}function Em(n,s,a){var l=0;s&&(l|=4),U_(a,n,l,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function xm(n){if(!n[Wu]){n[Wu]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(wR.has(a)||Em(a,!1,n),Em(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,Em("selectionchange",!1,s))}}function U_(n,s,a,l){switch(mT(s)){case 2:var f=eC;break;case 8:f=tC;break;default:f=Om}a=f.bind(null,s,a,n),f=void 0,!Kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Sm(n,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Pi(b),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=p=E;continue e}b=b.parentNode}}l=l.return}Gs(function(){var Q=p,ne=Fn(a),ae=[];e:{var $=vv.get(n);if($!==void 0){var J=qi,xe=n;switch(n){case"keypress":if(Qr(a)===0)break e;case"keydown":case"keyup":J=cu;break;case"focusin":xe="focus",J=$r;break;case"focusout":xe="blur",J=$r;break;case"beforeblur":case"afterblur":J=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case mv:case pv:case gv:J=nu;break;case yv:J=C;break;case"scroll":case"scrollend":J=ol;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=fs;break;case"toggle":case"beforetoggle":J=Me}var Ce=(s&4)!==0,at=!Ce&&(n==="scroll"||n==="scrollend"),H=Ce?$!==null?$+"Capture":null:$;Ce=[];for(var z=Q,Y;z!==null;){var ie=z;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||H===null||(ie=fi(z,H),ie!=null&&Ce.push(Ll(z,ie,Y))),at)break;z=z.return}0<Ce.length&&($=new J($,xe,null,a,ne),ae.push({event:$,listeners:Ce}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",$&&a!==sl&&(xe=a.relatedTarget||a.fromElement)&&(Pi(xe)||xe[Ii]))break e;if((J||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,J?(xe=a.relatedTarget||a.toElement,J=Q,xe=xe?Pi(xe):null,xe!==null&&(at=c(xe),Ce=xe.tag,xe!==at||Ce!==5&&Ce!==27&&Ce!==6)&&(xe=null)):(J=null,xe=Q),J!==xe)){if(Ce=ll,ie="onMouseLeave",H="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=fs,ie="onPointerLeave",H="onPointerEnter",z="pointer"),at=J==null?$:jn(J),Y=xe==null?$:jn(xe),$=new Ce(ie,z+"leave",J,a,ne),$.target=at,$.relatedTarget=Y,ie=null,Pi(ne)===Q&&(Ce=new Ce(H,z+"enter",xe,a,ne),Ce.target=Y,Ce.relatedTarget=at,ie=Ce),at=ie,J&&xe)t:{for(Ce=RR,H=J,z=xe,Y=0,ie=H;ie;ie=Ce(ie))Y++;ie=0;for(var Ae=z;Ae;Ae=Ce(Ae))ie++;for(;0<Y-ie;)H=Ce(H),Y--;for(;0<ie-Y;)z=Ce(z),ie--;for(;Y--;){if(H===z||z!==null&&H===z.alternate){Ce=H;break t}H=Ce(H),z=Ce(z)}Ce=null}else Ce=null;J!==null&&z_(ae,$,J,Ce,!1),xe!==null&&at!==null&&z_(ae,at,xe,Ce,!0)}}e:{if($=Q?jn(Q):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var Qe=iv;else if(tv($))if(sv)Qe=Lw;else{Qe=kw;var Se=Pw}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&Ma(Q.elementType)&&(Qe=iv):Qe=Ow;if(Qe&&(Qe=Qe(n,Q))){nv(ae,Qe,a,ne);break e}Se&&Se(n,$,Q),n==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&tl($,"number",$.value)}switch(Se=Q?jn(Q):window,n){case"focusin":(tv(Se)||Se.contentEditable==="true")&&(qa=Se,Zd=Q,fl=null);break;case"focusout":fl=Zd=qa=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,dv(ae,a,ne);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":dv(ae,a,ne)}var ke;if(Ze)e:{switch(n){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ba?Zr(n,a)&&(Be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Gi&&a.locale!=="ko"&&(Ba||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ba&&(ke=al()):(Bi=ne,rl="value"in Bi?Bi.value:Bi.textContent,Ba=!0)),Se=Ju(Q,Be),0<Se.length&&(Be=new Hi(Be,n,null,a,ne),ae.push({event:Be,listeners:Se}),ke?Be.data=ke:(ke=za(a),ke!==null&&(Be.data=ke)))),(ke=Gn?Dw(n,a):Vw(n,a))&&(Be=Ju(Q,"onBeforeInput"),0<Be.length&&(Se=new Hi("onBeforeInput","beforeinput",null,a,ne),ae.push({event:Se,listeners:Be}),Se.data=ke)),SR(ae,n,Q,a,ne)}L_(ae,s)})}function Ll(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Ju(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=fi(n,a),f!=null&&l.unshift(Ll(n,f,p)),f=fi(n,s),f!=null&&l.push(Ll(n,f,p))),n.tag===3)return l;n=n.return}return[]}function RR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function z_(n,s,a,l,f){for(var p=s._reactName,E=[];a!==null&&a!==l;){var b=a,O=b.alternate,Q=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||Q===null||(O=Q,f?(Q=fi(a,p),Q!=null&&E.unshift(Ll(a,Q,O))):f||(Q=fi(a,p),Q!=null&&E.push(Ll(a,Q,O)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var CR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function B_(n){return(typeof n=="string"?n:""+n).replace(CR,`
`).replace(NR,"")}function q_(n,s){return s=B_(s),B_(n)===s}function rt(n,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Tn(n,""+l);break;case"className":Dn(n,"class",l);break;case"tabIndex":Dn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(n,a,l);break;case"style":il(n,l,p);break;case"data":if(s!=="object"){Dn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&rt(n,s,"name",f.name,f,null),rt(n,s,"formEncType",f.formEncType,f,null),rt(n,s,"formMethod",f.formMethod,f,null),rt(n,s,"formTarget",f.formTarget,f,null)):(rt(n,s,"encType",f.encType,f,null),rt(n,s,"method",f.method,f,null),rt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=di);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Va(n,"popover",l);break;case"xlinkActuate":Mt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jc.get(a)||a,Va(n,a,l))}}function bm(n,s,a,l,f,p){switch(a){case"style":il(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&Tn(n,""+l);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"onClick":l!=null&&(n.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=n[Yt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Va(n,a,l)}}}function sn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,p,E,a,null)}}f&&rt(n,s,"srcSet",a.srcSet,a,null),l&&rt(n,s,"src",a.src,a,null);return;case"input":Le("invalid",n);var b=p=E=f=null,O=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":f=ne;break;case"type":E=ne;break;case"checked":O=ne;break;case"defaultChecked":Q=ne;break;case"value":p=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:rt(n,s,l,ne,a,null)}}$c(n,p,b,O,Q,E,f,!1);return;case"select":Le("invalid",n),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:rt(n,s,f,b,a,null)}s=p,a=E,n.multiple=!!l,s!=null?Bs(n,!!l,s,!1):a!=null&&Bs(n,!!l,a,!0);return;case"textarea":Le("invalid",n),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:rt(n,s,E,b,a,null)}qs(n,l,f,p);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(n,s,O,l,a,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Le(Ol[l],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,Q,l,a,null)}return;default:if(Ma(s)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&bm(n,s,ne,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&rt(n,s,b,l,a,null))}function jR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,O=null,Q=null,ne=null;for(J in a){var ae=a[J];if(a.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ae;default:l.hasOwnProperty(J)||rt(n,s,J,null,l,ae)}}for(var $ in l){var J=l[$];if(ae=a[$],l.hasOwnProperty($)&&(J!=null||ae!=null))switch($){case"type":p=J;break;case"name":f=J;break;case"checked":Q=J;break;case"defaultChecked":ne=J;break;case"value":E=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ae&&rt(n,s,$,J,l,ae)}}Ia(n,E,b,O,Q,ne,p,f);return;case"select":J=E=b=$=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":J=O;default:l.hasOwnProperty(p)||rt(n,s,p,null,l,O)}for(f in l)if(p=l[f],O=a[f],l.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":$=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==O&&rt(n,s,f,p,l,O)}s=b,a=E,l=J,$!=null?Bs(n,!!a,$,!1):!!l!=!!a&&(s!=null?Bs(n,!!a,s,!0):Bs(n,!!a,a?[]:"",!1));return;case"textarea":J=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(n,s,b,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":$=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&rt(n,s,E,f,l,p)}Zc(n,$,J);return;case"option":for(var xe in a)if($=a[xe],a.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":n.selected=!1;break;default:rt(n,s,xe,null,l,$)}for(O in l)if($=l[O],J=a[O],l.hasOwnProperty(O)&&$!==J&&($!=null||J!=null))switch(O){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(n,s,O,$,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)$=a[Ce],a.hasOwnProperty(Ce)&&$!=null&&!l.hasOwnProperty(Ce)&&rt(n,s,Ce,null,l,$);for(Q in l)if($=l[Q],J=a[Q],l.hasOwnProperty(Q)&&$!==J&&($!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:rt(n,s,Q,$,l,J)}return;default:if(Ma(s)){for(var at in a)$=a[at],a.hasOwnProperty(at)&&$!==void 0&&!l.hasOwnProperty(at)&&bm(n,s,at,void 0,l,$);for(ne in l)$=l[ne],J=a[ne],!l.hasOwnProperty(ne)||$===J||$===void 0&&J===void 0||bm(n,s,ne,$,l,J);return}}for(var H in a)$=a[H],a.hasOwnProperty(H)&&$!=null&&!l.hasOwnProperty(H)&&rt(n,s,H,null,l,$);for(ae in l)$=l[ae],J=a[ae],!l.hasOwnProperty(ae)||$===J||$==null&&J==null||rt(n,s,ae,$,l,J)}function F_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,E=f.initiatorType,b=f.duration;if(p&&b&&F_(E)){for(E=0,b=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],Q=O.startTime;if(Q>b)break;var ne=O.transferSize,ae=O.initiatorType;ne&&F_(ae)&&(O=O.responseEnd,E+=ne*(O<b?1:(b-Q)/(O-Q)))}if(--l,s+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Am=null,wm=null;function eh(n){return n.nodeType===9?n:n.ownerDocument}function H_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Rm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cm=null;function VR(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,MR=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(n){return Y_.resolve(null).then(n).catch(PR)}:K_;function PR(n){setTimeout(function(){throw n})}function hr(n){return n==="head"}function Q_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),go(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Ul(a);for(var p=a.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}else a==="body"&&Ul(n.ownerDocument.body);a=f}while(a);go(s)}function X_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Nm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nm(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function kR(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Mi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Wn(n.nextSibling),n===null)break}return null}function OR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Wn(n.nextSibling),n===null))return null;return n}function $_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Wn(n.nextSibling),n===null))return null;return n}function jm(n){return n.data==="$?"||n.data==="$~"}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function LR(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Wn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Vm=null;function Z_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Wn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function W_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function J_(n,s,a){switch(s=eh(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Ul(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Da(n)}var Jn=new Map,eT=new Set;function th(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Cs=ue.d;ue.d={f:UR,r:zR,D:BR,C:qR,L:FR,m:HR,X:KR,S:GR,M:YR};function UR(){var n=Cs.f(),s=Ku();return n||s}function zR(n){var s=qn(n);s!==null&&s.tag===5&&s.type==="form"?y0(s):Cs.r(n)}var fo=typeof document>"u"?null:document;function tT(n,s,a){var l=fo;if(l&&typeof s=="string"&&s){var f=_n(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),eT.has(f)||(eT.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),sn(s,"link",n),It(s),l.head.appendChild(s)))}}function BR(n){Cs.D(n),tT("dns-prefetch",n,null)}function qR(n,s){Cs.C(n,s),tT("preconnect",n,s)}function FR(n,s,a){Cs.L(n,s,a);var l=fo;if(l&&n&&s){var f='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_n(a.imageSizes)+'"]')):f+='[href="'+_n(n)+'"]';var p=f;switch(s){case"style":p=mo(n);break;case"script":p=po(n)}Jn.has(p)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Jn.set(p,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(zl(p))||s==="script"&&l.querySelector(Bl(p))||(s=l.createElement("link"),sn(s,"link",n),It(s),l.head.appendChild(s)))}}function HR(n,s){Cs.m(n,s);var a=fo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=po(n)}if(!Jn.has(p)&&(n=T({rel:"modulepreload",href:n},s),Jn.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(p)))return}l=a.createElement("link"),sn(l,"link",n),It(l),a.head.appendChild(l)}}}function GR(n,s,a){Cs.S(n,s,a);var l=fo;if(l&&n){var f=ki(l).hoistableStyles,p=mo(n);s=s||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(zl(p)))b.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Jn.get(p))&&Im(n,a);var O=E=l.createElement("link");It(O),sn(O,"link",n),O._p=new Promise(function(Q,ne){O.onload=Q,O.onerror=ne}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,nh(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function KR(n,s){Cs.X(n,s);var a=fo;if(a&&n){var l=ki(a).hoistableScripts,f=po(n),p=l.get(f);p||(p=a.querySelector(Bl(f)),p||(n=T({src:n,async:!0},s),(s=Jn.get(f))&&Mm(n,s),p=a.createElement("script"),It(p),sn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function YR(n,s){Cs.M(n,s);var a=fo;if(a&&n){var l=ki(a).hoistableScripts,f=po(n),p=l.get(f);p||(p=a.querySelector(Bl(f)),p||(n=T({src:n,async:!0,type:"module"},s),(s=Jn.get(f))&&Mm(n,s),p=a.createElement("script"),It(p),sn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function nT(n,s,a,l){var f=(f=Te.current)?th(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=mo(a.href),a=ki(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=mo(a.href);var p=ki(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(zl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(n,a),p||QR(f,n,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(a),a=ki(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function mo(n){return'href="'+_n(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function iT(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function QR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),sn(s,"link",a),It(s),n.head.appendChild(s))}function po(n){return'[src="'+_n(n)+'"]'}function Bl(n){return"script[async]"+n}function sT(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+_n(a.href)+'"]');if(l)return s.instance=l,It(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),It(l),sn(l,"style",f),nh(l,a.precedence,n),s.instance=l;case"stylesheet":f=mo(a.href);var p=n.querySelector(zl(f));if(p)return s.state.loading|=4,s.instance=p,It(p),p;l=iT(a),(f=Jn.get(f))&&Im(l,f),p=(n.ownerDocument||n).createElement("link"),It(p);var E=p;return E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),sn(p,"link",l),s.state.loading|=4,nh(p,a.precedence,n),s.instance=p;case"script":return p=po(a.src),(f=n.querySelector(Bl(p)))?(s.instance=f,It(f),f):(l=a,(f=Jn.get(p))&&(l=T({},a),Mm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),It(f),sn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,nh(l,a.precedence,n));return s.instance}function nh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===s)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Im(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ih=null;function rT(n,s,a){if(ih===null){var l=new Map,f=ih=new Map;f.set(a,l)}else f=ih,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Mi]||p[Vt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function aT(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function XR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function oT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $R(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=mo(l.href),p=s.querySelector(zl(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=sh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,It(p);return}p=s.ownerDocument||s,l=iT(l),(f=Jn.get(f))&&Im(l,f),p=p.createElement("link"),It(p);var E=p;E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),sn(p,"link",l),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=sh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Pm=0;function ZR(n,s){return n.stylesheets&&n.count===0&&ah(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&ah(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&Pm===0&&(Pm=62500*DR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ah(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Pm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function ah(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,s.forEach(WR,n),rh=null,sh.call(n))}function WR(n,s){if(!(s.state.loading&4)){var a=rh.get(n);if(a)var l=a.get(null);else{a=new Map,rh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=sh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ql={$$typeof:q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function JR(n,s,a,l,f,p,E,b,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function lT(n,s,a,l,f,p,E,b,O,Q,ne,ae){return n=new JR(n,s,a,E,O,Q,ne,ae,b),s=1,p===!0&&(s|=24),p=In(3,null,null,s),n.current=p,p.stateNode=n,s=mf(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},vf(p),n}function cT(n){return n?(n=Ga,n):Ga}function uT(n,s,a,l,f,p){f=cT(f),l.context===null?l.context=f:l.pendingContext=f,l=er(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=tr(n,l,s),a!==null&&(An(a,n,s),Tl(a,n,s))}function hT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function km(n,s){hT(n,s),(n=n.alternate)&&hT(n,s)}function dT(n){if(n.tag===13||n.tag===31){var s=ea(n,67108864);s!==null&&An(s,n,67108864),km(n,67108864)}}function fT(n){if(n.tag===13||n.tag===31){var s=Ln();s=qr(s);var a=ea(n,s);a!==null&&An(a,n,s),km(n,s)}}var oh=!0;function eC(n,s,a,l){var f=Z.T;Z.T=null;var p=ue.p;try{ue.p=2,Om(n,s,a,l)}finally{ue.p=p,Z.T=f}}function tC(n,s,a,l){var f=Z.T;Z.T=null;var p=ue.p;try{ue.p=8,Om(n,s,a,l)}finally{ue.p=p,Z.T=f}}function Om(n,s,a,l){if(oh){var f=Lm(l);if(f===null)Sm(n,s,l,lh,a),pT(n,l);else if(iC(f,n,s,a,l))l.stopPropagation();else if(pT(n,l),s&4&&-1<nC.indexOf(n)){for(;f!==null;){var p=qn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=ji(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var O=1<<31-At(E);b.entanglements[1]|=O,E&=~O}Xi(p),(We&6)===0&&(Hu=fe()+500,kl(0))}}break;case 31:case 13:b=ea(p,2),b!==null&&An(b,p,2),Ku(),km(p,2)}if(p=Lm(l),p===null&&Sm(n,s,l,lh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Sm(n,s,l,null,a)}}function Lm(n){return n=Fn(n),Um(n)}var lh=null;function Um(n){if(lh=null,n=Pi(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return lh=n,null}function mT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case jt:return 2;case Ra:return 8;case cs:case Ci:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var zm=!1,dr=null,fr=null,mr=null,Fl=new Map,Hl=new Map,pr=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pT(n,s){switch(n){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(s.pointerId)}}function Gl(n,s,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=qn(s),s!==null&&dT(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function iC(n,s,a,l,f){switch(s){case"focusin":return dr=Gl(dr,n,s,a,l,f),!0;case"dragenter":return fr=Gl(fr,n,s,a,l,f),!0;case"mouseover":return mr=Gl(mr,n,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Fl.set(p,Gl(Fl.get(p)||null,n,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Hl.set(p,Gl(Hl.get(p)||null,n,s,a,l,f)),!0}return!1}function gT(n){var s=Pi(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,ui(n.priority,function(){fT(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,ui(n.priority,function(){fT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ch(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Lm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);sl=l,a.target.dispatchEvent(l),sl=null}else return s=qn(a),s!==null&&dT(s),n.blockedOn=a,!1;s.shift()}return!0}function yT(n,s,a){ch(n)&&a.delete(s)}function sC(){zm=!1,dr!==null&&ch(dr)&&(dr=null),fr!==null&&ch(fr)&&(fr=null),mr!==null&&ch(mr)&&(mr=null),Fl.forEach(yT),Hl.forEach(yT)}function uh(n,s){n.blockedOn===s&&(n.blockedOn=null,zm||(zm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sC)))}var hh=null;function vT(n){hh!==n&&(hh=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hh===n&&(hh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Um(l||a)===null)continue;break}var p=qn(a);p!==null&&(n.splice(s,3),s-=3,Lf(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function go(n){function s(O){return uh(O,n)}dr!==null&&uh(dr,n),fr!==null&&uh(fr,n),mr!==null&&uh(mr,n),Fl.forEach(s),Hl.forEach(s);for(var a=0;a<pr.length;a++){var l=pr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)gT(a),a.blockedOn===null&&pr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[Yt]||null;if(typeof p=="function")E||vT(a);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Yt]||null)b=E.formAction;else if(Um(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),vT(a)}}}function _T(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Bm(n){this._internalRoot=n}dh.prototype.render=Bm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Ln();uT(a,l,n,s,null,null)},dh.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;uT(n.current,2,null,n,null,null),Ku(),s[Ii]=null}};function dh(n){this._internalRoot=n}dh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Kc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<pr.length&&s!==0&&s<pr[a].priority;a++);pr.splice(a,0,n),a===0&&gT(n)}};var TT=e.version;if(TT!=="19.2.0")throw Error(r(527,TT,"19.2.0"));ue.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=y(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var rC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{li=fh.inject(rC),Wt=fh}catch{}}return Yl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=R0,p=C0,E=N0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=lT(n,1,!1,null,null,a,l,null,f,p,E,_T),n[Ii]=s.current,xm(n),new Bm(s)},Yl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",p=R0,E=C0,b=N0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=lT(n,1,!0,s,a??null,l,f,O,p,E,b,_T),s.context=cT(null),a=s.current,l=Ln(),l=qr(l),f=er(l),f.callback=null,tr(a,f,l),a=l,s.current.lanes=a,zr(s,a),Xi(s),n[Ii]=s.current,xm(n),new dh(s)},Yl.version="19.2.0",Yl}var jT;function pC(){if(jT)return Hm.exports;jT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hm.exports=mC(),Hm.exports}var gC=pC();var DT="popstate";function yC(t={}){function e(r,o){let{pathname:c,search:u,hash:m}=r.location;return Sp("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:dc(o)}return _C(e,i,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vC(){return Math.random().toString(36).substring(2,10)}function VT(t,e){return{usr:t.state,key:t.key,idx:e}}function Sp(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:i,key:e&&e.key||r||vC()}}function dc({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ko(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _C(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,m="POP",g=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function T(){m="POP";let P=v(),k=P==null?null:P-y;y=P,g&&g({action:m,location:M.location,delta:k})}function S(P,k){m="PUSH";let B=Sp(M.location,P,k);y=v()+1;let q=VT(B,y),he=M.createHref(B);try{u.pushState(q,"",he)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(he)}c&&g&&g({action:m,location:M.location,delta:1})}function w(P,k){m="REPLACE";let B=Sp(M.location,P,k);y=v();let q=VT(B,y),he=M.createHref(B);u.replaceState(q,"",he),c&&g&&g({action:m,location:M.location,delta:0})}function V(P){return TC(P)}let M={get action(){return m},get location(){return t(o,u)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(DT,T),g=P,()=>{o.removeEventListener(DT,T),g=null}},createHref(P){return e(o,P)},createURL:V,encodeLocation(P){let k=V(P);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:w,go(P){return u.go(P)}};return M}function TC(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),yt(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:dc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function NS(t,e,i="/"){return EC(t,e,i,!1)}function EC(t,e,i,r){let o=typeof e=="string"?ko(e):e,c=Vs(o.pathname||"/",i);if(c==null)return null;let u=jS(t);xC(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let y=IC(c);m=DC(u[g],y,r)}return m}function jS(t,e=[],i=[],r="",o=!1){let c=(u,m,g=o,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&g)return;yt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=Ns([r,v.relativePath]),S=i.concat(v);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),jS(u.children,e,S,T,g)),!(u.path==null&&!u.index)&&e.push({path:T,score:NC(T,u.index),routesMeta:S})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let g of DS(u.path))c(u,m,!0,g)}),e}function DS(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=DS(r.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...u),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function xC(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:jC(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var SC=/^:[\w-]+$/,bC=3,AC=2,wC=1,RC=10,CC=-2,IT=t=>t==="*";function NC(t,e){let i=t.split("/"),r=i.length;return i.some(IT)&&(r+=CC),e&&(r+=AC),i.filter(o=>!IT(o)).reduce((o,c)=>o+(SC.test(c)?bC:c===""?wC:RC),r)}function jC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function DC(t,e,i=!1){let{routesMeta:r}=t,o={},c="/",u=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",T=Bh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),S=g.route;if(!T&&y&&i&&!r[r.length-1].route.index&&(T=Bh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:Ns([c,T.pathname]),pathnameBase:LC(Ns([c,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(c=Ns([c,T.pathnameBase]))}return u}function Bh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=VC(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:T},S)=>{if(v==="*"){let V=m[S]||"";u=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const w=m[S];return T&&!w?y[v]=void 0:y[v]=(w||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:t}}function VC(t,e=!1,i=!0){Si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function IC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var MC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PC=t=>MC.test(t);function kC(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?ko(t):t,c;if(i)if(PC(i))c=i;else{if(i.includes("//")){let u=i;i=i.replace(/\/\/+/g,"/"),Si(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${i}`)}i.startsWith("/")?c=MT(i.substring(1),"/"):c=MT(i,e)}else c=e;return{pathname:c,search:UC(r),hash:zC(o)}}function MT(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Qm(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OC(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function VS(t){let e=OC(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function IS(t,e,i,r=!1){let o;typeof t=="string"?o=ko(t):(o={...t},yt(!o.pathname||!o.pathname.includes("?"),Qm("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),Qm("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),Qm("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=i;else{let T=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=kC(o,m),y=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var Ns=t=>t.join("/").replace(/\/\/+/g,"/"),LC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MS=["POST","PUT","PATCH","DELETE"];new Set(MS);var qC=["GET",...MS];new Set(qC);var Oo=j.createContext(null);Oo.displayName="DataRouter";var md=j.createContext(null);md.displayName="DataRouterState";j.createContext(!1);var PS=j.createContext({isTransitioning:!1});PS.displayName="ViewTransition";var FC=j.createContext(new Map);FC.displayName="Fetchers";var HC=j.createContext(null);HC.displayName="Await";var os=j.createContext(null);os.displayName="Navigation";var Nc=j.createContext(null);Nc.displayName="Location";var Ls=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ls.displayName="Route";var xg=j.createContext(null);xg.displayName="RouteError";function GC(t,{relative:e}={}){yt(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=j.useContext(os),{hash:o,pathname:c,search:u}=Dc(t,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:Ns([i,c])),r.createHref({pathname:m,search:u,hash:o})}function jc(){return j.useContext(Nc)!=null}function ls(){return yt(jc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Nc).location}var kS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OS(t){j.useContext(os).static||j.useLayoutEffect(t)}function Sg(){let{isDataRoute:t}=j.useContext(Ls);return t?sN():KC()}function KC(){yt(jc(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Oo),{basename:e,navigator:i}=j.useContext(os),{matches:r}=j.useContext(Ls),{pathname:o}=ls(),c=JSON.stringify(VS(r)),u=j.useRef(!1);return OS(()=>{u.current=!0}),j.useCallback((g,y={})=>{if(Si(u.current,kS),!u.current)return;if(typeof g=="number"){i.go(g);return}let v=IS(g,JSON.parse(c),o,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ns([e,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[e,i,c,o,t])}j.createContext(null);function Dc(t,{relative:e}={}){let{matches:i}=j.useContext(Ls),{pathname:r}=ls(),o=JSON.stringify(VS(i));return j.useMemo(()=>IS(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function YC(t,e){return LS(t,e)}function LS(t,e,i,r,o){yt(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(os),{matches:u}=j.useContext(Ls),m=u[u.length-1],g=m?m.params:{},y=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let B=T&&T.path||"";US(y,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=ls(),w;if(e){let B=typeof e=="string"?ko(e):e;yt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=S;let V=w.pathname||"/",M=V;if(v!=="/"){let B=v.replace(/^\//,"").split("/");M="/"+V.replace(/^\//,"").split("/").slice(B.length).join("/")}let P=NS(t,{pathname:M});Si(T||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Si(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=WC(P&&P.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:Ns([v,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Ns([v,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,i,r,o);return e&&k?j.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function QC(){let t=iN(),e=BC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),i?j.createElement("pre",{style:o},i):null,u)}var XC=j.createElement(QC,null),$C=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(Ls.Provider,{value:this.props.routeContext},j.createElement(xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZC({routeContext:t,match:e,children:i}){let r=j.useContext(Oo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ls.Provider,{value:t},i)}function WC(t,e=[],i=null,r=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let c=t,u=i?.errors;if(u!=null){let v=c.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,g=-1;if(i)for(let v=0;v<c.length;v++){let T=c[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=v),T.route.id){let{loaderData:S,errors:w}=i,V=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!w||w[T.route.id]===void 0);if(T.route.lazy||V){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=i&&r?(v,T)=>{r(v,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:T})}:void 0;return c.reduceRight((v,T,S)=>{let w,V=!1,M=null,P=null;i&&(w=u&&T.route.id?u[T.route.id]:void 0,M=T.route.errorElement||XC,m&&(g<0&&S===0?(US("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,P=null):g===S&&(V=!0,P=T.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,S+1)),B=()=>{let q;return w?q=M:V?q=P:T.route.Component?q=j.createElement(T.route.Component,null):T.route.element?q=T.route.element:q=v,j.createElement(ZC,{match:T,routeContext:{outlet:v,matches:k,isDataRoute:i!=null},children:q})};return i&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?j.createElement($C,{location:i.location,revalidation:i.revalidation,component:M,error:w,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:y}):B()},null)}function bg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JC(t){let e=j.useContext(Oo);return yt(e,bg(t)),e}function eN(t){let e=j.useContext(md);return yt(e,bg(t)),e}function tN(t){let e=j.useContext(Ls);return yt(e,bg(t)),e}function Ag(t){let e=tN(t),i=e.matches[e.matches.length-1];return yt(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function nN(){return Ag("useRouteId")}function iN(){let t=j.useContext(xg),e=eN("useRouteError"),i=Ag("useRouteError");return t!==void 0?t:e.errors?.[i]}function sN(){let{router:t}=JC("useNavigate"),e=Ag("useNavigate"),i=j.useRef(!1);return OS(()=>{i.current=!0}),j.useCallback(async(o,c={})=>{Si(i.current,kS),i.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var PT={};function US(t,e,i){!e&&!PT[t]&&(PT[t]=!0,Si(!1,i))}j.memo(rN);function rN({routes:t,future:e,state:i,unstable_onError:r}){return LS(t,void 0,i,r,e)}function ei(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aN({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){yt(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof i=="string"&&(i=ko(i));let{pathname:g="/",search:y="",hash:v="",state:T=null,key:S="default"}=i,w=j.useMemo(()=>{let V=Vs(g,u);return V==null?null:{location:{pathname:V,search:y,hash:v,state:T,key:S},navigationType:r}},[u,g,y,v,T,S,r]);return Si(w!=null,`<Router basename="${u}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(os.Provider,{value:m},j.createElement(Nc.Provider,{children:e,value:w}))}function oN({children:t,location:e}){return YC(bp(t),e)}function bp(t,e=[]){let i=[];return j.Children.forEach(t,(r,o)=>{if(!j.isValidElement(r))return;let c=[...e,o];if(r.type===j.Fragment){i.push.apply(i,bp(r.props.children,c));return}yt(r.type===ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=bp(r.props.children,c)),i.push(u)}),i}var Nh="get",jh="application/x-www-form-urlencoded";function pd(t){return t!=null&&typeof t.tagName=="string"}function lN(t){return pd(t)&&t.tagName.toLowerCase()==="button"}function cN(t){return pd(t)&&t.tagName.toLowerCase()==="form"}function uN(t){return pd(t)&&t.tagName.toLowerCase()==="input"}function hN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dN(t,e){return t.button===0&&(!e||e==="_self")&&!hN(t)}var mh=null;function fN(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var mN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(t){return t!=null&&!mN.has(t)?(Si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jh}"`),null):t}function pN(t,e){let i,r,o,c,u;if(cN(t)){let m=t.getAttribute("action");r=m?Vs(m,e):null,i=t.getAttribute("method")||Nh,o=Xm(t.getAttribute("enctype"))||jh,c=new FormData(t)}else if(lN(t)||uN(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(r=g?Vs(g,e):null,i=t.getAttribute("formmethod")||m.getAttribute("method")||Nh,o=Xm(t.getAttribute("formenctype"))||Xm(m.getAttribute("enctype"))||jh,c=new FormData(m,t),!fN()){let{name:y,type:v,value:T}=t;if(v==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,T)}}else{if(pd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Nh,r=null,o=jh,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gN(t,e,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&Vs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function yN(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _N(t,e,i){let r=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await yN(c,i);return u.links?u.links():[]}return[]}));return SN(r.flat(1).filter(vN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kT(t,e,i,r,o,c){let u=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>u(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let v=r.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function TN(t,e,{includeHydrateFallback:i}={}){return EN(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function EN(t){return[...new Set(t)]}function xN(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function SN(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let c=JSON.stringify(xN(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function zS(){let t=j.useContext(Oo);return wg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bN(){let t=j.useContext(md);return wg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rg=j.createContext(void 0);Rg.displayName="FrameworkContext";function BS(){let t=j.useContext(Rg);return wg(t,"You must render this element inside a <HydratedRouter> element"),t}function AN(t,e){let i=j.useContext(Rg),[r,o]=j.useState(!1),[c,u]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,S=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=k=>{k.forEach(B=>{u(B.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[t]),j.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let w=()=>{o(!0)},V=()=>{o(!1),u(!1)};return i?t!=="intent"?[c,S,{}]:[c,S,{onFocus:Ql(m,w),onBlur:Ql(g,V),onMouseEnter:Ql(y,w),onMouseLeave:Ql(v,V),onTouchStart:Ql(T,w)}]:[!1,S,{}]}function Ql(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function wN({page:t,...e}){let{router:i}=zS(),r=j.useMemo(()=>NS(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?j.createElement(CN,{page:t,matches:r,...e}):null}function RN(t){let{manifest:e,routeModules:i}=BS(),[r,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return _N(t,e,i).then(u=>{c||o(u)}),()=>{c=!0}},[t,e,i]),r}function CN({page:t,matches:e,...i}){let r=ls(),{manifest:o,routeModules:c}=BS(),{basename:u}=zS(),{loaderData:m,matches:g}=bN(),y=j.useMemo(()=>kT(t,e,g,o,r,"data"),[t,e,g,o,r]),v=j.useMemo(()=>kT(t,e,g,o,r,"assets"),[t,e,g,o,r]),T=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let V=new Set,M=!1;if(e.forEach(k=>{let B=o.routes[k.route.id];!B||!B.hasLoader||(!y.some(q=>q.route.id===k.route.id)&&k.route.id in m&&c[k.route.id]?.shouldRevalidate||B.hasClientLoader?M=!0:V.add(k.route.id))}),V.size===0)return[];let P=gN(t,u,"data");return M&&V.size>0&&P.searchParams.set("_routes",e.filter(k=>V.has(k.route.id)).map(k=>k.route.id).join(",")),[P.pathname+P.search]},[u,m,r,o,y,e,t,c]),S=j.useMemo(()=>TN(v,o),[v,o]),w=RN(v);return j.createElement(j.Fragment,null,T.map(V=>j.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),S.map(V=>j.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),w.map(({key:V,link:M})=>j.createElement("link",{key:V,nonce:i.nonce,...M})))}function NN(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qS&&(window.__reactRouterVersion="7.9.6")}catch{}function jN({basename:t,children:e,window:i}){let r=j.useRef();r.current==null&&(r.current=yC({window:i,v5Compat:!0}));let o=r.current,[c,u]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>u(g))},[u]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(aN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o})}var FS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=j.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:m,target:g,to:y,preventScrollReset:v,viewTransition:T,...S},w){let{basename:V}=j.useContext(os),M=typeof y=="string"&&FS.test(y),P,k=!1;if(typeof y=="string"&&M&&(P=y,qS))try{let D=new URL(window.location.href),U=y.startsWith("//")?new URL(D.protocol+y):new URL(y),L=Vs(U.pathname,V);U.origin===D.origin&&L!=null?y=L+U.search+U.hash:k=!0}catch{Si(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=GC(y,{relative:o}),[q,he,ee]=AN(r,S),ce=MN(y,{replace:u,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:T});function N(D){e&&e(D),D.defaultPrevented||ce(D)}let R=j.createElement("a",{...S,...ee,href:P||B,onClick:k||c?e:N,ref:NN(w,he),target:g,"data-discover":!M&&i==="render"?"true":void 0});return q&&!M?j.createElement(j.Fragment,null,R,j.createElement(wN,{page:B})):R});dt.displayName="Link";var DN=j.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:m,children:g,...y},v){let T=Dc(u,{relative:y.relative}),S=ls(),w=j.useContext(md),{navigator:V,basename:M}=j.useContext(os),P=w!=null&&UN(T)&&m===!0,k=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,B=S.pathname,q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(B=B.toLowerCase(),q=q?q.toLowerCase():null,k=k.toLowerCase()),q&&M&&(q=Vs(q,M)||q);const he=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ee=B===k||!o&&B.startsWith(k)&&B.charAt(he)==="/",ce=q!=null&&(q===k||!o&&q.startsWith(k)&&q.charAt(k.length)==="/"),N={isActive:ee,isPending:ce,isTransitioning:P},R=ee?e:void 0,D;typeof r=="function"?D=r(N):D=[r,ee?"active":null,ce?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(N):c;return j.createElement(dt,{...y,"aria-current":R,className:D,ref:v,style:U,to:u,viewTransition:m},typeof g=="function"?g(N):g)});DN.displayName="NavLink";var VN=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:u=Nh,action:m,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:T,...S},w)=>{let V=ON(),M=LN(m,{relative:y}),P=u.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&FS.test(m),B=q=>{if(g&&g(q),q.defaultPrevented)return;q.preventDefault();let he=q.nativeEvent.submitter,ee=he?.getAttribute("formmethod")||u;V(he||q.currentTarget,{fetcherKey:e,method:ee,navigate:i,replace:o,state:c,relative:y,preventScrollReset:v,viewTransition:T})};return j.createElement("form",{ref:w,method:P,action:M,onSubmit:r?g:B,...S,"data-discover":!k&&t==="render"?"true":void 0})});VN.displayName="Form";function IN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HS(t){let e=j.useContext(Oo);return yt(e,IN(t)),e}function MN(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=Sg(),g=ls(),y=Dc(t,{relative:c});return j.useCallback(v=>{if(dN(v,e)){v.preventDefault();let T=i!==void 0?i:dc(g)===dc(y);m(t,{replace:T,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[g,m,y,i,r,e,t,o,c,u])}var PN=0,kN=()=>`__${String(++PN)}__`;function ON(){let{router:t}=HS("useSubmit"),{basename:e}=j.useContext(os),i=nN();return j.useCallback(async(r,o={})=>{let{action:c,method:u,encType:m,formData:g,body:y}=pN(r,e);if(o.navigate===!1){let v=o.fetcherKey||kN();await t.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,i])}function LN(t,{relative:e}={}){let{basename:i}=j.useContext(os),r=j.useContext(Ls);yt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Dc(t||".",{relative:e})},u=ls();if(t==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();c.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Ns([i,c.pathname])),dc(c)}function UN(t,{relative:e}={}){let i=j.useContext(PS);yt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HS("useViewTransitionState"),o=Dc(t,{relative:e});if(!i.isTransitioning)return!1;let c=Vs(i.currentLocation.pathname,r)||i.currentLocation.pathname,u=Vs(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Bh(o.pathname,u)!=null||Bh(o.pathname,c)!=null}const GS=j.createContext(void 0);function Vc(){const t=j.useContext(GS);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function zN({children:t}){const[e,i]=j.useState(()=>{try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch{return[]}});j.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=y=>{const v=y.selectedIngredients?.reduce((T,S)=>T+(S.extraPrice||0),0)||0;return y.price+v};function o(y){i(v=>{const T=y.id+(y.selectedIngredients?.map(V=>V.name).sort().join("-")||""),S=v.find(V=>V.id===T),w=r(y);return S?v.map(V=>V.id===T?{...V,qty:V.qty+y.qty}:V):[...v,{...y,id:T,qty:y.qty,price:w}]})}function c(y,v){i(T=>v<=0?T.filter(S=>S.id!==y):T.map(S=>S.id===y?{...S,qty:v}:S))}function u(y){i(v=>v.filter(T=>T.id!==y))}function m(){i([])}const g=e.reduce((y,v)=>y+v.price*v.qty,0);return d.jsx(GS.Provider,{value:{items:e,addItem:o,updateQty:c,removeItem:u,clear:m,total:g},children:t})}function Ap(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M7.2 3.1 5.4 4.3c-.8.5-1.2 1.5-1 2.4.9 4.2 4 7.7 8.1 8.9.9.3 1.9 0 2.4-.8l1.3-1.9c.4-.6.2-1.5-.4-2l-1.6-1.1c-.6-.4-1.3-.3-1.8.2l-.7.8c-1.2-.5-2.4-1.7-2.9-2.9l.8-.7c.5-.5.6-1.3.2-1.9L9.2 3.4C8.8 2.8 7.9 2.7 7.2 3.1Z",fill:"currentColor"})})}function OT({className:t=""}){return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:t,"aria-hidden":"true",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M8 6V4h8v2"}),d.jsx("path",{d:"M6 6l1 14h10l1-14"}),d.jsx("path",{d:"M10 11v6"}),d.jsx("path",{d:"M14 11v6"})]})}function fc(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M7.3 5h13.2l-1.3 7.4c-.2 1-1 1.6-2 1.6H9.2c-1 0-1.8-.6-2-1.6L6 4H3.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"10",cy:"19",r:"1.4",fill:"currentColor"}),d.jsx("circle",{cx:"17",cy:"19",r:"1.4",fill:"currentColor"})]})}function qh(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M5 12h12.5M13 7.5 17.5 12 13 16.5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function wp(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M4.3 6.2 12 3.5l7.7 2.7L12 20.5 4.3 6.2Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinejoin:"round"}),d.jsx("circle",{cx:"12",cy:"9",r:"1.1",fill:"currentColor"}),d.jsx("circle",{cx:"9.5",cy:"12.2",r:"0.9",fill:"currentColor"}),d.jsx("circle",{cx:"14.7",cy:"13.3",r:"0.9",fill:"currentColor"})]})}function BN(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}function qN(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}function FN(t){return d.jsxs("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5",strokeWidth:"2"}),d.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",strokeWidth:"2"})]})}function HN(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M21 12.79A9 9 0 0 1 12.21 3a7 7 0 0 0 0 14 9 9 0 0 1 8.79-4.21z",strokeWidth:"2"})})}function KS(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function GN(){const[t,e]=j.useState(!1),{items:i}=Vc(),r=i.reduce((g,y)=>g+y.qty,0),o=j.useRef(null),c=j.useRef(null),[u,m]=j.useState(()=>localStorage.getItem("theme")==="dark");return j.useEffect(()=>{const g=document.documentElement;u?g.setAttribute("data-theme","dark"):g.setAttribute("data-theme","light"),localStorage.setItem("theme",u?"dark":"light")},[u]),j.useEffect(()=>(t?document.body.classList.add("mobile-menu-open"):document.body.classList.remove("mobile-menu-open"),()=>{document.body.classList.remove("mobile-menu-open")}),[t]),j.useEffect(()=>{const g=y=>{if(!t)return;const v=y.target;o.current?.contains(v)||c.current?.contains(v)||e(!1)};return t&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[t]),d.jsxs("header",{className:"modern-header",children:[d.jsxs("div",{className:"modern-header-container",children:[d.jsxs(dt,{to:"/",className:"modern-header-logo",children:[d.jsx("span",{className:"modern-logo-main",children:"Xanthos"}),d.jsx("span",{className:"modern-logo-sub",children:"Pizza & Grill"})]}),d.jsxs("nav",{className:"modern-header-nav",children:[d.jsx(dt,{to:"/menu",className:"modern-nav-link",children:"Menu"}),d.jsx(dt,{to:"/om-os",className:"modern-nav-link",children:"Om os"}),d.jsx(dt,{to:"/kontakt",className:"modern-nav-link",children:"Kontakt"})]}),d.jsxs("div",{className:"modern-header-actions",children:[d.jsxs("a",{href:"tel:+4570123456",className:"modern-header-phone",children:[d.jsx(Ap,{}),d.jsx("span",{children:"70 12 34 56"})]}),d.jsxs(dt,{to:"/cart",className:"modern-header-cart",children:[d.jsx(fc,{}),d.jsx("span",{children:"Kurv"}),r>0&&d.jsx("span",{className:"modern-cart-badge",children:r})]}),d.jsxs(dt,{to:"/bestil",className:"modern-header-cta",children:["Bestil",d.jsx(qh,{})]}),d.jsx("button",{className:"modern-theme-toggle",onClick:()=>m(g=>!g),"aria-label":"Skift tema",children:u?d.jsx(FN,{}):d.jsx(HN,{})}),d.jsxs("button",{ref:c,className:`modern-mobile-toggle ${t?"open":""}`,onClick:()=>e(g=>!g),"aria-label":"bn/luk menu","aria-expanded":t,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]})]})]}),d.jsx("div",{ref:o,className:`modern-mobile-menu ${t?"open":""}`,children:d.jsxs("nav",{className:"modern-mobile-nav",children:[d.jsxs(dt,{to:"/menu",onClick:()=>e(!1),children:[d.jsx(wp,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Menu"})]}),d.jsxs(dt,{to:"/om-os",onClick:()=>e(!1),children:[d.jsx(BN,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Om os"})]}),d.jsxs(dt,{to:"/kontakt",onClick:()=>e(!1),children:[d.jsx(qN,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Kontakt"})]}),d.jsxs(dt,{to:"/cart",onClick:()=>e(!1),children:[d.jsx(fc,{className:"mobile-nav-icon"}),d.jsxs("span",{children:["Kurv ",r>0&&`(${r})`]})]}),d.jsxs("a",{href:"tel:+4570123456",onClick:()=>e(!1),children:[d.jsx(Ap,{className:"mobile-nav-icon"}),d.jsx("span",{children:"+45 70 12 34 56"})]}),d.jsxs(dt,{to:"/bestil",onClick:()=>e(!1),className:"modern-mobile-cta",children:[d.jsx("span",{children:"Bestil takeaway"}),d.jsx(qh,{className:"mobile-nav-cta-icon"})]})]})})]})}function KN(){return d.jsx("footer",{className:"footer-glass",children:d.jsxs("div",{className:"glass-box",children:[d.jsxs("div",{className:"brand",children:[d.jsx("h3",{children:"Xanthos Pizza & Grill"}),d.jsxs("p",{children:[" ",new Date().getFullYear()," Starpack APS  MKaan"]})]}),d.jsxs("div",{className:"glass-links",children:[d.jsx(dt,{to:"/om-os",children:"Om os"}),d.jsx(dt,{to:"/kontakt",children:"Kontakt"}),d.jsx(dt,{to:"/privacy",children:"Privacy Policy"})]})]})})}const YN=()=>{};var LT={};const YS=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QN=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[i++],u=t[i++],m=t[i++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=t[i++],u=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,m=u?t[o+1]:0,g=o+2<t.length,y=g?t[o+2]:0,v=c>>2,T=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,w=y&63;g||(w=64,u||(S=64)),r.push(i[v],i[T],i[S],i[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const c=i[t.charAt(o++)],m=o<t.length?i[t.charAt(o)]:0;++o;const y=o<t.length?i[t.charAt(o)]:64;++o;const T=o<t.length?i[t.charAt(o)]:64;if(++o,c==null||m==null||y==null||T==null)throw new XN;const S=c<<2|m>>4;if(r.push(S),y!==64){const w=m<<4&240|y>>2;if(r.push(w),T!==64){const V=y<<6&192|T;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(t){const e=YS(t);return QS.encodeByteArray(e,!0)},Fh=function(t){return $N(t).replace(/\./g,"")},ZN=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JN=()=>WN().__FIREBASE_DEFAULTS__,e2=()=>{if(typeof process>"u"||typeof LT>"u")return;const t=LT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZN(t[1]);return e&&JSON.parse(e)},Cg=()=>{try{return YN()||JN()||e2()||t2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n2=t=>Cg()?.emulatorHosts?.[t],i2=t=>{const e=n2(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},XS=()=>Cg()?.config;class s2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Ng(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r2(t){return(await fetch(t,{credentials:"include"})).ok}function a2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fh(JSON.stringify(i)),Fh(JSON.stringify(u)),""].join(".")}const nc={};function o2(){const t={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?t.emulator.push(e):t.prod.push(e);return t}function l2(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let UT=!1;function c2(t,e){if(typeof window>"u"||typeof document>"u"||!Ng(window.location.host)||nc[t]===e||nc[t]||UT)return;nc[t]=e;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=o2().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{UT=!0,u()},S}function v(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=l2(r),w=i("text"),V=document.getElementById(w)||document.createElement("span"),M=i("learnmore"),P=document.getElementById(M)||document.createElement("a"),k=i("preprendIcon"),B=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;m(q),v(P,M);const he=y();g(B,k),q.append(B,V,P,he),document.body.appendChild(q)}c?(V.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function u2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){const t=Cg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d2(){return!h2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f2(){try{return typeof indexedDB=="object"}catch{return!1}}function m2(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const p2="FirebaseError";class Lo extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=p2,Object.setPrototypeOf(this,Lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$S.prototype.create)}}class $S{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?g2(c,r):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Lo(o,m,r)}}function g2(t,e){return t.replace(y2,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const y2=/\{\$([^}]+)}/g;function Hh(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=t[o],u=e[o];if(zT(c)&&zT(u)){if(!Hh(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function zT(t){return t!==null&&typeof t=="object"}function ss(t){return t&&t._delegate?t._delegate:t}class mc{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class v2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new s2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T2(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&u.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _2(t){return t===ma?void 0:t}function T2(t){return t.instantiationMode==="EAGER"}class E2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new v2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const x2={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},S2=Ye.INFO,b2={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},A2=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=b2[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ZS{constructor(e){this.name=e,this._logLevel=S2,this._logHandler=A2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const w2=(t,e)=>e.some(i=>t instanceof i);let BT,qT;function R2(){return BT||(BT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C2(){return qT||(qT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,Rp=new WeakMap,JS=new WeakMap,$m=new WeakMap,jg=new WeakMap;function N2(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{i(Tr(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(i=>{i instanceof IDBCursor&&WS.set(i,t)}).catch(()=>{}),jg.set(e,t),e}function j2(t){if(Rp.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{i(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Rp.set(t,e)}let Cp={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JS.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D2(t){Cp=t(Cp)}function V2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(Zm(this),e,...i);return JS.set(r,e.sort?e.sort():[e]),Tr(r)}:C2().includes(t)?function(...e){return t.apply(Zm(this),e),Tr(WS.get(this))}:function(...e){return Tr(t.apply(Zm(this),e))}}function I2(t){return typeof t=="function"?V2(t):(t instanceof IDBTransaction&&j2(t),w2(t,R2())?new Proxy(t,Cp):t)}function Tr(t){if(t instanceof IDBRequest)return N2(t);if($m.has(t))return $m.get(t);const e=I2(t);return e!==t&&($m.set(t,e),jg.set(e,t)),e}const Zm=t=>jg.get(t);function M2(t,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),m=Tr(u);return r&&u.addEventListener("upgradeneeded",g=>{r(Tr(u.result),g.oldVersion,g.newVersion,Tr(u.transaction),g)}),i&&u.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const P2=["get","getKey","getAll","getAllKeys","count"],k2=["put","add","delete","clear"],Wm=new Map;function FT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=k2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||P2.includes(i)))return;const c=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&g.done]))[0]};return Wm.set(e,c),c}D2(t=>({...t,get:(e,i,r)=>FT(e,i)||t.get(e,i,r),has:(e,i)=>!!FT(e,i)||t.has(e,i)}));class O2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L2(t){return t.getComponent()?.type==="VERSION"}const Np="@firebase/app",HT="0.14.6";const Is=new ZS("@firebase/app"),U2="@firebase/app-compat",z2="@firebase/analytics-compat",B2="@firebase/analytics",q2="@firebase/app-check-compat",F2="@firebase/app-check",H2="@firebase/auth",G2="@firebase/auth-compat",K2="@firebase/database",Y2="@firebase/data-connect",Q2="@firebase/database-compat",X2="@firebase/functions",$2="@firebase/functions-compat",Z2="@firebase/installations",W2="@firebase/installations-compat",J2="@firebase/messaging",ej="@firebase/messaging-compat",tj="@firebase/performance",nj="@firebase/performance-compat",ij="@firebase/remote-config",sj="@firebase/remote-config-compat",rj="@firebase/storage",aj="@firebase/storage-compat",oj="@firebase/firestore",lj="@firebase/ai",cj="@firebase/firestore-compat",uj="firebase",hj="12.6.0";const jp="[DEFAULT]",dj={[Np]:"fire-core",[U2]:"fire-core-compat",[B2]:"fire-analytics",[z2]:"fire-analytics-compat",[F2]:"fire-app-check",[q2]:"fire-app-check-compat",[H2]:"fire-auth",[G2]:"fire-auth-compat",[K2]:"fire-rtdb",[Y2]:"fire-data-connect",[Q2]:"fire-rtdb-compat",[X2]:"fire-fn",[$2]:"fire-fn-compat",[Z2]:"fire-iid",[W2]:"fire-iid-compat",[J2]:"fire-fcm",[ej]:"fire-fcm-compat",[tj]:"fire-perf",[nj]:"fire-perf-compat",[ij]:"fire-rc",[sj]:"fire-rc-compat",[rj]:"fire-gcs",[aj]:"fire-gcs-compat",[oj]:"fire-fst",[cj]:"fire-fst-compat",[lj]:"fire-vertex","fire-js":"fire-js",[uj]:"fire-js-all"};const Gh=new Map,fj=new Map,Dp=new Map;function GT(t,e){try{t.container.addComponent(e)}catch(i){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Kh(t){const e=t.name;if(Dp.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const i of Gh.values())GT(i,t);for(const i of fj.values())GT(i,t);return!0}function mj(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function pj(t){return t==null?!1:t.settings!==void 0}const gj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new $S("app","Firebase",gj);class yj{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const vj=hj;function eb(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r={name:jp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Er.create("bad-app-name",{appName:String(o)});if(i||(i=XS()),!i)throw Er.create("no-options");const c=Gh.get(o);if(c){if(Hh(i,c.options)&&Hh(r,c.config))return c;throw Er.create("duplicate-app",{appName:o})}const u=new E2(o);for(const g of Dp.values())u.addComponent(g);const m=new yj(i,r,u);return Gh.set(o,m),m}function _j(t=jp){const e=Gh.get(t);if(!e&&t===jp&&XS())return eb();if(!e)throw Er.create("no-app",{appName:t});return e}function wo(t,e,i){let r=dj[t]??t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(u.join(" "));return}Kh(new mc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Tj="firebase-heartbeat-database",Ej=1,pc="firebase-heartbeat-store";let Jm=null;function tb(){return Jm||(Jm=M2(Tj,Ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(i){console.warn(i)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),Jm}async function xj(t){try{const i=(await tb()).transaction(pc),r=await i.objectStore(pc).get(nb(t));return await i.done,r}catch(e){if(e instanceof Lo)Is.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e?.message});Is.warn(i.message)}}}async function KT(t,e){try{const r=(await tb()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,nb(t)),await r.done}catch(i){if(i instanceof Lo)Is.warn(i.message);else{const r=Er.create("idb-set",{originalErrorMessage:i?.message});Is.warn(r.message)}}}function nb(t){return`${t.name}!${t.options.appId}`}const Sj=1024,bj=30;class Aj{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Rj(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=YT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>bj){const o=Cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=YT(),{heartbeatsToSend:i,unsentEntries:r}=wj(this._heartbeatsCache.heartbeats),o=Fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Is.warn(e),""}}}function YT(){return new Date().toISOString().substring(0,10)}function wj(t,e=Sj){const i=[];let r=t.slice();for(const o of t){const c=i.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),QT(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),QT(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f2()?m2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xj(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function QT(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}function Cj(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}function Nj(t){Kh(new mc("platform-logger",e=>new O2(e),"PRIVATE")),Kh(new mc("heartbeat",e=>new Aj(e),"PRIVATE")),wo(Np,HT,t),wo(Np,HT,"esm2020"),wo("fire-js","")}Nj("");var XT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xr,ib;(function(){var t;function e(N,R){function D(){}D.prototype=R.prototype,N.F=R.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(U,L,F){for(var I=Array(arguments.length-2),He=2;He<arguments.length;He++)I[He-2]=arguments[He];return R.prototype[L].apply(U,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,D){D||(D=0);const U=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)U[L]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(L=0;L<16;++L)U[L]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=N.g[0],D=N.g[1],L=N.g[2];let F=N.g[3],I;I=R+(F^D&(L^F))+U[0]+3614090360&4294967295,R=D+(I<<7&4294967295|I>>>25),I=F+(L^R&(D^L))+U[1]+3905402710&4294967295,F=R+(I<<12&4294967295|I>>>20),I=L+(D^F&(R^D))+U[2]+606105819&4294967295,L=F+(I<<17&4294967295|I>>>15),I=D+(R^L&(F^R))+U[3]+3250441966&4294967295,D=L+(I<<22&4294967295|I>>>10),I=R+(F^D&(L^F))+U[4]+4118548399&4294967295,R=D+(I<<7&4294967295|I>>>25),I=F+(L^R&(D^L))+U[5]+1200080426&4294967295,F=R+(I<<12&4294967295|I>>>20),I=L+(D^F&(R^D))+U[6]+2821735955&4294967295,L=F+(I<<17&4294967295|I>>>15),I=D+(R^L&(F^R))+U[7]+4249261313&4294967295,D=L+(I<<22&4294967295|I>>>10),I=R+(F^D&(L^F))+U[8]+1770035416&4294967295,R=D+(I<<7&4294967295|I>>>25),I=F+(L^R&(D^L))+U[9]+2336552879&4294967295,F=R+(I<<12&4294967295|I>>>20),I=L+(D^F&(R^D))+U[10]+4294925233&4294967295,L=F+(I<<17&4294967295|I>>>15),I=D+(R^L&(F^R))+U[11]+2304563134&4294967295,D=L+(I<<22&4294967295|I>>>10),I=R+(F^D&(L^F))+U[12]+1804603682&4294967295,R=D+(I<<7&4294967295|I>>>25),I=F+(L^R&(D^L))+U[13]+4254626195&4294967295,F=R+(I<<12&4294967295|I>>>20),I=L+(D^F&(R^D))+U[14]+2792965006&4294967295,L=F+(I<<17&4294967295|I>>>15),I=D+(R^L&(F^R))+U[15]+1236535329&4294967295,D=L+(I<<22&4294967295|I>>>10),I=R+(L^F&(D^L))+U[1]+4129170786&4294967295,R=D+(I<<5&4294967295|I>>>27),I=F+(D^L&(R^D))+U[6]+3225465664&4294967295,F=R+(I<<9&4294967295|I>>>23),I=L+(R^D&(F^R))+U[11]+643717713&4294967295,L=F+(I<<14&4294967295|I>>>18),I=D+(F^R&(L^F))+U[0]+3921069994&4294967295,D=L+(I<<20&4294967295|I>>>12),I=R+(L^F&(D^L))+U[5]+3593408605&4294967295,R=D+(I<<5&4294967295|I>>>27),I=F+(D^L&(R^D))+U[10]+38016083&4294967295,F=R+(I<<9&4294967295|I>>>23),I=L+(R^D&(F^R))+U[15]+3634488961&4294967295,L=F+(I<<14&4294967295|I>>>18),I=D+(F^R&(L^F))+U[4]+3889429448&4294967295,D=L+(I<<20&4294967295|I>>>12),I=R+(L^F&(D^L))+U[9]+568446438&4294967295,R=D+(I<<5&4294967295|I>>>27),I=F+(D^L&(R^D))+U[14]+3275163606&4294967295,F=R+(I<<9&4294967295|I>>>23),I=L+(R^D&(F^R))+U[3]+4107603335&4294967295,L=F+(I<<14&4294967295|I>>>18),I=D+(F^R&(L^F))+U[8]+1163531501&4294967295,D=L+(I<<20&4294967295|I>>>12),I=R+(L^F&(D^L))+U[13]+2850285829&4294967295,R=D+(I<<5&4294967295|I>>>27),I=F+(D^L&(R^D))+U[2]+4243563512&4294967295,F=R+(I<<9&4294967295|I>>>23),I=L+(R^D&(F^R))+U[7]+1735328473&4294967295,L=F+(I<<14&4294967295|I>>>18),I=D+(F^R&(L^F))+U[12]+2368359562&4294967295,D=L+(I<<20&4294967295|I>>>12),I=R+(D^L^F)+U[5]+4294588738&4294967295,R=D+(I<<4&4294967295|I>>>28),I=F+(R^D^L)+U[8]+2272392833&4294967295,F=R+(I<<11&4294967295|I>>>21),I=L+(F^R^D)+U[11]+1839030562&4294967295,L=F+(I<<16&4294967295|I>>>16),I=D+(L^F^R)+U[14]+4259657740&4294967295,D=L+(I<<23&4294967295|I>>>9),I=R+(D^L^F)+U[1]+2763975236&4294967295,R=D+(I<<4&4294967295|I>>>28),I=F+(R^D^L)+U[4]+1272893353&4294967295,F=R+(I<<11&4294967295|I>>>21),I=L+(F^R^D)+U[7]+4139469664&4294967295,L=F+(I<<16&4294967295|I>>>16),I=D+(L^F^R)+U[10]+3200236656&4294967295,D=L+(I<<23&4294967295|I>>>9),I=R+(D^L^F)+U[13]+681279174&4294967295,R=D+(I<<4&4294967295|I>>>28),I=F+(R^D^L)+U[0]+3936430074&4294967295,F=R+(I<<11&4294967295|I>>>21),I=L+(F^R^D)+U[3]+3572445317&4294967295,L=F+(I<<16&4294967295|I>>>16),I=D+(L^F^R)+U[6]+76029189&4294967295,D=L+(I<<23&4294967295|I>>>9),I=R+(D^L^F)+U[9]+3654602809&4294967295,R=D+(I<<4&4294967295|I>>>28),I=F+(R^D^L)+U[12]+3873151461&4294967295,F=R+(I<<11&4294967295|I>>>21),I=L+(F^R^D)+U[15]+530742520&4294967295,L=F+(I<<16&4294967295|I>>>16),I=D+(L^F^R)+U[2]+3299628645&4294967295,D=L+(I<<23&4294967295|I>>>9),I=R+(L^(D|~F))+U[0]+4096336452&4294967295,R=D+(I<<6&4294967295|I>>>26),I=F+(D^(R|~L))+U[7]+1126891415&4294967295,F=R+(I<<10&4294967295|I>>>22),I=L+(R^(F|~D))+U[14]+2878612391&4294967295,L=F+(I<<15&4294967295|I>>>17),I=D+(F^(L|~R))+U[5]+4237533241&4294967295,D=L+(I<<21&4294967295|I>>>11),I=R+(L^(D|~F))+U[12]+1700485571&4294967295,R=D+(I<<6&4294967295|I>>>26),I=F+(D^(R|~L))+U[3]+2399980690&4294967295,F=R+(I<<10&4294967295|I>>>22),I=L+(R^(F|~D))+U[10]+4293915773&4294967295,L=F+(I<<15&4294967295|I>>>17),I=D+(F^(L|~R))+U[1]+2240044497&4294967295,D=L+(I<<21&4294967295|I>>>11),I=R+(L^(D|~F))+U[8]+1873313359&4294967295,R=D+(I<<6&4294967295|I>>>26),I=F+(D^(R|~L))+U[15]+4264355552&4294967295,F=R+(I<<10&4294967295|I>>>22),I=L+(R^(F|~D))+U[6]+2734768916&4294967295,L=F+(I<<15&4294967295|I>>>17),I=D+(F^(L|~R))+U[13]+1309151649&4294967295,D=L+(I<<21&4294967295|I>>>11),I=R+(L^(D|~F))+U[4]+4149444226&4294967295,R=D+(I<<6&4294967295|I>>>26),I=F+(D^(R|~L))+U[11]+3174756917&4294967295,F=R+(I<<10&4294967295|I>>>22),I=L+(R^(F|~D))+U[2]+718787259&4294967295,L=F+(I<<15&4294967295|I>>>17),I=D+(F^(L|~R))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const D=R-this.blockSize,U=this.C;let L=this.h,F=0;for(;F<R;){if(L==0)for(;F<=D;)o(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<R;)if(U[L++]=N.charCodeAt(F++),L==this.blockSize){o(this,U),L=0;break}}else for(;F<R;)if(U[L++]=N[F++],L==this.blockSize){o(this,U),L=0;break}}this.h=L,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,D=0;D<4;++D)for(let U=0;U<32;U+=8)N[R++]=this.g[D]>>>U&255;return N};function c(N,R){var D=m;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=R(N)}function u(N,R){this.h=R;const D=[];let U=!0;for(let L=N.length-1;L>=0;L--){const F=N[L]|0;U&&F==R||(D[L]=F,U=!1)}this.g=D}var m={};function g(N){return-128<=N&&N<128?c(N,function(R){return new u([R|0],R<0?-1:0)}):new u([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return P(y(-N));const R=[];let D=1;for(let U=0;N>=D;U++)R[U]=N/D|0,D*=4294967296;return new u(R,0)}function v(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return P(v(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(R,8));let U=T;for(let F=0;F<N.length;F+=8){var L=Math.min(8,N.length-F);const I=parseInt(N.substring(F,F+L),R);L<8?(L=y(Math.pow(R,L)),U=U.j(L).add(y(I))):(U=U.j(D),U=U.add(y(I)))}return U}var T=g(0),S=g(1),w=g(16777216);t=u.prototype,t.m=function(){if(M(this))return-P(this).m();let N=0,R=1;for(let D=0;D<this.g.length;D++){const U=this.i(D);N+=(U>=0?U:4294967296+U)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(V(this))return"0";if(M(this))return"-"+P(this).toString(N);const R=y(Math.pow(N,6));var D=this;let U="";for(;;){const L=he(D,R).g;D=k(D,L.j(R));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=L,V(D))return F+U;for(;F.length<6;)F="0"+F;U=F+U}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function V(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function M(N){return N.h==-1}t.l=function(N){return N=k(this,N),M(N)?-1:V(N)?0:1};function P(N){const R=N.g.length,D=[];for(let U=0;U<R;U++)D[U]=~N.g[U];return new u(D,~N.h).add(S)}t.abs=function(){return M(this)?P(this):this},t.add=function(N){const R=Math.max(this.g.length,N.g.length),D=[];let U=0;for(let L=0;L<=R;L++){let F=U+(this.i(L)&65535)+(N.i(L)&65535),I=(F>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);U=I>>>16,F&=65535,I&=65535,D[L]=I<<16|F}return new u(D,D[D.length-1]&-2147483648?-1:0)};function k(N,R){return N.add(P(R))}t.j=function(N){if(V(this)||V(N))return T;if(M(this))return M(N)?P(this).j(P(N)):P(P(this).j(N));if(M(N))return P(this.j(P(N)));if(this.l(w)<0&&N.l(w)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,D=[];for(var U=0;U<2*R;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<N.g.length;L++){const F=this.i(U)>>>16,I=this.i(U)&65535,He=N.i(L)>>>16,ge=N.i(L)&65535;D[2*U+2*L]+=I*ge,B(D,2*U+2*L),D[2*U+2*L+1]+=F*ge,B(D,2*U+2*L+1),D[2*U+2*L+1]+=I*He,B(D,2*U+2*L+1),D[2*U+2*L+2]+=F*He,B(D,2*U+2*L+2)}for(N=0;N<R;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=R;N<2*R;N++)D[N]=0;return new u(D,0)};function B(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function q(N,R){this.g=N,this.h=R}function he(N,R){if(V(R))throw Error("division by zero");if(V(N))return new q(T,T);if(M(N))return R=he(P(N),R),new q(P(R.g),P(R.h));if(M(R))return R=he(N,P(R)),new q(P(R.g),R.h);if(N.g.length>30){if(M(N)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var D=S,U=R;U.l(N)<=0;)D=ee(D),U=ee(U);var L=ce(D,1),F=ce(U,1);for(U=ce(U,2),D=ce(D,2);!V(U);){var I=F.add(U);I.l(N)<=0&&(L=L.add(D),F=I),U=ce(U,1),D=ce(D,1)}return R=k(N,L.j(R)),new q(L,R)}for(L=T;N.l(R)>=0;){for(D=Math.max(1,Math.floor(N.m()/R.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),F=y(D),I=F.j(R);M(I)||I.l(N)>0;)D-=U,F=y(D),I=F.j(R);V(F)&&(F=S),L=L.add(F),N=k(N,I)}return new q(L,N)}t.B=function(N){return he(this,N).h},t.and=function(N){const R=Math.max(this.g.length,N.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)&N.i(U);return new u(D,this.h&N.h)},t.or=function(N){const R=Math.max(this.g.length,N.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)|N.i(U);return new u(D,this.h|N.h)},t.xor=function(N){const R=Math.max(this.g.length,N.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)^N.i(U);return new u(D,this.h^N.h)};function ee(N){const R=N.g.length+1,D=[];for(let U=0;U<R;U++)D[U]=N.i(U)<<1|N.i(U-1)>>>31;return new u(D,N.h)}function ce(N,R){const D=R>>5;R%=32;const U=N.g.length-D,L=[];for(let F=0;F<U;F++)L[F]=R>0?N.i(F+D)>>>R|N.i(F+D+1)<<32-R:N.i(F+D);return new u(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ib=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,xr=u}).apply(typeof XT<"u"?XT:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sb,$l,rb,Dh,Vp,ab,ob,lb;(function(){var t,e=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=i(this);function o(h,_){if(_)e:{var x=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var G=h[C];if(!(G in x))break e;x=x[G]}h=h[h.length-1],C=x[h],_=_(C),_!=C&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var x=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&x.push([C,_[C]]);return x}});var c=c||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,x){return h.call.apply(h.bind,arguments)}function y(h,_,x){return y=g,y.apply(null,arguments)}function v(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var C=x.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function T(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(C,G,W){for(var de=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)de[Me-2]=arguments[Me];return _.prototype[G].apply(C,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const x=Array(_);for(let C=0;C<_;C++)x[C]=h[C];return x}return[]}function V(h,_){for(let C=1;C<arguments.length;C++){const G=arguments[C];var x=typeof G;if(x=x!="object"?x:G?Array.isArray(G)?"array":x:"null",x=="array"||x=="object"&&typeof G.length=="number"){x=h.length||0;const W=G.length||0;h.length=x+W;for(let de=0;de<W;de++)h[x+de]=G[de]}else h.push(G)}}class M{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(h){u.setTimeout(()=>{throw h},0)}function k(){var h=N;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,x){const C=q.get();C.set(_,x),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new M(()=>new he,h=>h.reset());class he{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ce=!1,N=new B,R=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(D)}};function D(){for(var h;h=k();){try{h.h.call(h.g)}catch(x){P(x)}var _=q;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ce=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,_),u.removeEventListener("test",x,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function He(h,_){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}T(He,L),He.prototype.init=function(h,_){const x=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(h,_,x,C,G){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!C,this.ha=G,this.key=++Z,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h,_,x){for(const C in h)_.call(x,h[C],C,h)}function Re(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function A(h){const _={};for(const x in h)_[x]=h[x];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(h,_){let x,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(x in C)h[x]=C[x];for(let W=0;W<K.length;W++)x=K[W],Object.prototype.hasOwnProperty.call(C,x)&&(h[x]=C[x])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,_,x,C,G){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const de=Te(h,_,C,G);return de>-1?(_=h[de],x||(_.fa=!1)):(_=new ue(_,this.src,W,!!C,G),_.fa=x,h.push(_)),_};function _e(h,_){const x=_.type;if(x in h.g){var C=h.g[x],G=Array.prototype.indexOf.call(C,_,void 0),W;(W=G>=0)&&Array.prototype.splice.call(C,G,1),W&&(me(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Te(h,_,x,C){for(let G=0;G<h.length;++G){const W=h[G];if(!W.da&&W.listener==_&&W.capture==!!x&&W.ha==C)return G}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),$e={};function Ue(h,_,x,C,G){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Ue(h,_[W],x,C,G);return null}return x=Or(x),h&&h[ge]?h.J(_,x,m(C)?!!C.capture:!1,G):Ft(h,_,x,!1,C,G)}function Ft(h,_,x,C,G,W){if(!_)throw Error("Invalid event type");const de=m(G)?!!G.capture:!!G;let Me=wi(h);if(Me||(h[Ne]=Me=new le(h)),x=Me.add(_,x,C,de,W),x.proxy)return x;if(C=cn(),x.proxy=C,C.src=h,C.listener=x,h.addEventListener)F||(G=de),G===void 0&&(G=!1),h.addEventListener(_.toString(),C,G);else if(h.attachEvent)h.attachEvent(Nn(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return x}function cn(){function h(x){return _.call(h.src,h.listener,x)}const _=Pr;return h}function Ai(h,_,x,C,G){if(Array.isArray(_))for(var W=0;W<_.length;W++)Ai(h,_[W],x,C,G);else C=m(C)?!!C.capture:!!C,x=Or(x),h&&h[ge]?(h=h.i,W=String(_).toString(),W in h.g&&(_=h.g[W],x=Te(_,x,C,G),x>-1&&(me(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[W],h.h--)))):h&&(h=wi(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Te(_,x,C,G)),(x=h>-1?_[h]:null)&&oi(x))}function oi(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ge])_e(_.i,h);else{var x=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(x,C,h.capture):_.detachEvent?_.detachEvent(Nn(x),C):_.addListener&&_.removeListener&&_.removeListener(C),(x=wi(_))?(_e(x,h),x.h==0&&(x.src=null,_[Ne]=null)):me(h)}}}function Nn(h){return h in $e?$e[h]:$e[h]="on"+h}function Pr(h,_){if(h.da)h=!0;else{_=new He(_,this);const x=h.listener,C=h.ha||h.src;h.fa&&oi(h),h=x.call(C,_)}return h}function wi(h){return h=h[Ne],h instanceof le?h:null}var kr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(h){return typeof h=="function"?h:(h[kr]||(h[kr]=function(_){return h.handleEvent(_)}),h[kr])}function _t(){U.call(this),this.i=new le(this),this.M=this,this.G=null}T(_t,U),_t.prototype[ge]=!0,_t.prototype.removeEventListener=function(h,_,x,C){Ai(this,h,_,x,C)};function bt(h,_){var x,C=h.G;if(C)for(x=[];C;C=C.G)x.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new L(_,h);else if(_ instanceof L)_.target=_.target||h;else{var G=_;_=new L(C,h),te(_,G)}G=!0;let W,de;if(x)for(de=x.length-1;de>=0;de--)W=_.g=x[de],G=Ri(W,C,!0,_)&&G;if(W=_.g=h,G=Ri(W,C,!0,_)&&G,G=Ri(W,C,!1,_)&&G,x)for(de=0;de<x.length;de++)W=_.g=x[de],G=Ri(W,C,!1,_)&&G}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let C=0;C<x.length;C++)me(x[C]);delete h.g[_],h.h--}}this.G=null},_t.prototype.J=function(h,_,x,C){return this.i.add(String(h),_,!1,x,C)},_t.prototype.K=function(h,_,x,C){return this.i.add(String(h),_,!0,x,C)};function Ri(h,_,x,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let W=0;W<_.length;++W){const de=_[W];if(de&&!de.da&&de.capture==x){const Me=de.listener,wt=de.ha||de.src;de.fa&&_e(h.i,de),G=Me.call(wt,C)!==!1&&G}}return G&&!C.defaultPrevented}function X(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function re(h){h.g=X(()=>{h.g=null,h.i&&(h.i=!1,re(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class fe extends U{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(h){U.call(this),this.h=h,this.g={}}T(ye,U);var jt=[];function Ra(h){be(h.g,function(_,x){this.g.hasOwnProperty(x)&&oi(_)},h),h.g={}}ye.prototype.N=function(){ye.Z.N.call(this),Ra(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=u.JSON.stringify,Ci=u.JSON.parse,Ca=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Lr(){}function zn(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){L.call(this,"d")}T(Wt,L);function Bn(){L.call(this,"c")}T(Bn,L);var At={},Fc=null;function Na(){return Fc=Fc||new _t}At.Ia="serverreachability";function Hc(h){L.call(this,At.Ia,h)}T(Hc,L);function Ni(h){const _=Na();bt(_,new Hc(_))}At.STAT_EVENT="statevent";function Ur(h,_){L.call(this,At.STAT_EVENT,h),this.stat=_}T(Ur,L);function Dt(h){const _=Na();bt(_,new Ur(_,h))}At.Ja="timingevent";function ji(h,_){L.call(this,At.Ja,h),this.size=_}T(ji,L);function Di(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function Gd(h,_,x,C,G,W){h.info(function(){if(h.g)if(W){var de="",Me=W.split("&");for(let Ze=0;Ze<Me.length;Ze++){var wt=Me[Ze].split("=");if(wt.length>1){const mt=wt[0];wt=wt[1];const Gn=mt.split("_");de=Gn.length>=2&&Gn[1]=="type"?de+(mt+"="+wt+"&"):de+(mt+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+_+`
`+x+`
`+de})}function Gc(h,_,x,C,G,W,de){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+_+`
`+x+`
`+W+" "+de})}function Vi(h,_,x,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kd(h,x)+(C?" "+C:"")})}function zr(h,_){h.info(function(){return"TIMEOUT: "+_})}ci.prototype.info=function(){};function Kd(h,_){if(!h.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var x=W[h];if(!(x.length<2)){var C=x[1];if(Array.isArray(C)&&!(C.length<1)){var G=C[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<C.length;de++)C[de]=""}}}}return cs(W)}catch{return _}}var Br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function qr(){}T(qr,Lr),qr.prototype.g=function(){return new XMLHttpRequest},Qo=new qr;function us(h){return encodeURIComponent(String(h))}function Kc(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function ui(h,_,x,C){this.j=h,this.i=_,this.l=x,this.S=C||1,this.V=new ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Vt={},Yt={};function Ii(h,_,x){h.M=1,h.A=Fr(Mt(_)),h.u=x,h.R=!0,ja(h,null)}function ja(h,_){h.F=Date.now(),Mi(h),h.B=Mt(h.A);var x=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Ma(x.i,"t",C),h.C=0,x=h.j.L,h.h=new hi,h.g=ou(h.j,x?_:null,!h.u),h.P>0&&(h.O=new fe(y(h.Y,h,h.g),h.P)),_=h.V,x=h.g,C=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(jt[0]=G.toString()),G=jt);for(let W=0;W<G.length;W++){const de=Ue(x,G[W],C||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=h.J?A(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ni(),Gd(h.i,h.v,h.B,h.l,h.S,h.u)}ui.prototype.ba=function(h){h=h.target;const _=this.O;_&&mi(h)==3?_.j():this.Y(h)},ui.prototype.Y=function(h){try{if(h==this.g)e:{const Me=mi(this.g),wt=this.g.ya(),Ze=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Me!=4||wt==7||(wt==8||Ze<=0?Ni(3):Ni(2)),Pi(this);var _=this.g.ca();this.X=_;var x=Yd(this);if(this.o=_==200,Gc(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,G=this.g;if((C=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var W=C;break t}}W=null}if(h=W)Vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,h);else{this.o=!1,this.m=3,Dt(12),jn(this),qn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<x.length;)if(mt=Qc(this,x),mt==Yt){Me==4&&(this.m=4,Dt(14),h=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Vt){this.m=4,Dt(15),Vi(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Vi(this.i,this.l,mt,null),ki(this,mt);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||x.length!=0||this.h.h||(this.m=1,Dt(16),h=!1),this.o=this.o&&h,!h)Vi(this.i,this.l,x,"[Invalid Chunked Response]"),jn(this),qn(this);else if(x.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),cl(de),de.P=!0,Dt(11))}}else Vi(this.i,this.l,x,null),ki(this,x);Me==4&&jn(this),this.o&&!this.K&&(Me==4?iu(this.j,this):(this.o=!1,Mi(this)))}else ds(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),jn(this),qn(this)}}}catch{}finally{}};function Yd(h){if(!Yc(h))return h.g.la();const _=Jt(h.g);if(_==="")return"";let x="";const C=_.length,G=mi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),qn(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<C;W++)h.h.h=!0,x+=h.h.i.decode(_[W],{stream:!(G&&W==C-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function Yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qc(h,_){var x=h.C,C=_.indexOf(`
`,x);return C==-1?Yt:(x=Number(_.substring(x,C)),isNaN(x)?Vt:(C+=1,C+x>_.length?Yt:(_=_.slice(C,C+x),h.C=C+x,_)))}ui.prototype.cancel=function(){this.K=!0,jn(this)};function Mi(h){h.T=Date.now()+h.H,Da(h,h.H)}function Da(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Di(y(h.aa,h),_)}function Pi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ui.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(Ni(),Dt(17)),jn(this),this.m=2,qn(this)):Da(this,this.T-h)};function qn(h){h.j.I==0||h.K||iu(h.j,h)}function jn(h){Pi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Ra(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ki(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||Li(x.h,h))){if(!h.L&&Li(x.h,h)&&x.I==3){try{var C=x.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)Ua(x),Ys(x);else break e;$r(x),Dt(18)}}else x.xa=G[1],0<x.xa-x.K&&G[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Di(y(x.Va,x),6e3));Oi(x.h)<=1&&x.ta&&(x.ta=void 0)}else Hi(x,11)}else if((h.L||x.g==h)&&Ua(x),!I(_))for(G=x.Ba.g.parse(_),_=0;_<G.length;_++){let Ze=G[_];const mt=Ze[0];if(!(mt<=x.K))if(x.K=mt,Ze=Ze[1],x.I==2)if(Ze[0]=="c"){x.M=Ze[1],x.ba=Ze[2];const Gn=Ze[3];Gn!=null&&(x.ka=Gn,x.j.info("VER="+x.ka));const Gi=Ze[4];Gi!=null&&(x.za=Gi,x.j.info("SVER="+x.za));const pi=Ze[5];pi!=null&&typeof pi=="number"&&pi>0&&(C=1.5*pi,x.O=C,x.j.info("backChannelRequestTimeoutMs_="+C)),C=x;const gi=h.g;if(gi){const Zr=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var W=C.h;W.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Zo(W,W.h),W.h=null))}if(C.G){const za=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(C.wa=za,et(C.J,C.G,za))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),C=x;var de=h;if(C.na=au(C,C.L?C.ba:null,C.W),de.L){Wo(C.h,de);var Me=de,wt=C.O;wt&&(Me.H=wt),Me.D&&(Pi(Me),Mi(Me)),C.g=de}else tu(C);x.i.length>0&&Fi(x)}else Ze[0]!="stop"&&Ze[0]!="close"||Hi(x,7);else x.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Hi(x,7):ol(x):Ze[0]!="noop"&&x.l&&x.l.qa(Ze),x.A=0)}}Ni(4)}catch{}}var It=class{constructor(h,_){this.g=h,this.map=_}};function Xo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Oi(h){return h.h?1:h.g?h.g.size:0}function Li(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Zo(h,_){h.g?h.g.add(_):h.h=_}function Wo(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Xo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return w(h.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const C=h[x].indexOf("=");let G,W=null;C>=0?(G=h[x].substring(0,C),W=h[x].substring(C+1)):G=h[x],_(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Dn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,zs(this,h.u),this.h=h.h,el(this,Jc(h.i)),this.m=h.m):h&&(_=String(h).match(Xc))?(this.l=!1,Qt(this,_[1]||"",!0),this.o=Ui(_[2]||""),this.g=Ui(_[3]||"",!0),zs(this,_[4]),this.h=Ui(_[5]||"",!0),el(this,_[6]||"",!0),this.m=Ui(_[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Dn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Hr(_,Ia,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Hr(_,Ia,!0),"@"),h.push(us(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Hr(x,x.charAt(0)=="/"?tl:$c,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Hr(x,Zc)),h.join("")},Dn.prototype.resolve=function(h){const _=Mt(this);let x=!!h.j;x?Qt(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var C=h.h;if(x)zs(_,h.u);else if(x=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var G=_.h.lastIndexOf("/");G!=-1&&(C=_.h.slice(0,G+1)+C)}if(G=C,G==".."||G==".")C="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){C=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let de=0;de<G.length;){const Me=G[de++];Me=="."?C&&de==G.length&&W.push(""):Me==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),C&&de==G.length&&W.push("")):(W.push(Me),C=!0)}C=W.join("/")}else C=G}return x?_.h=C:x=h.i.toString()!=="",x?el(_,Jc(h.i)):x=!!h.m,x&&(_.m=h.m),_};function Mt(h){return new Dn(h)}function Qt(h,_,x){h.j=x?Ui(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function zs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function el(h,_,x){_ instanceof qs?(h.i=_,Pa(h.i,h.l)):(x||(_=Hr(_,Bs)),h.i=new qs(_,h.l))}function et(h,_,x){h.i.set(_,x)}function Fr(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ui(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hr(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,_n),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ia=/[#\/\?@]/g,$c=/[#\?:]/g,tl=/[#\?]/g,Bs=/[#\?@]/g,Zc=/#/g;function qs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Va(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=qs.prototype,t.add=function(h,_){Tn(this),this.i=null,h=Fs(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function Wc(h,_){Tn(h),_=Fs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function nl(h,_){return Tn(h),_=Fs(h,_),h.g.has(_)}t.forEach=function(h,_){Tn(this),this.g.forEach(function(x,C){x.forEach(function(G){h.call(_,G,C,this)},this)},this)};function il(h,_){Tn(h);let x=[];if(typeof _=="string")nl(h,_)&&(x=x.concat(h.g.get(Fs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}t.set=function(h,_){return Tn(this),this.i=null,h=Fs(this,h),nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=il(this,h),h.length>0?String(h[0]):_):_};function Ma(h,_,x){Wc(h,_),x.length>0&&(h.i=null,h.g.set(Fs(h,_),w(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var x=_[C];const G=us(x);x=il(this,x);for(let W=0;W<x.length;W++){let de=G;x[W]!==""&&(de+="="+us(x[W])),h.push(de)}}return this.i=h.join("&")};function Jc(h){const _=new qs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Fs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Pa(h,_){_&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(x,C){const G=C.toLowerCase();C!=G&&(Wc(this,C),Ma(this,G,x))},h)),h.j=_}function di(h,_){const x=new ci;if(u.Image){const C=new Image;C.onload=v(Fn,x,"TestLoadImage: loaded",!0,_,C),C.onerror=v(Fn,x,"TestLoadImage: error",!1,_,C),C.onabort=v(Fn,x,"TestLoadImage: abort",!1,_,C),C.ontimeout=v(Fn,x,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function sl(h,_){const x=new ci,C=new AbortController,G=setTimeout(()=>{C.abort(),Fn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(W=>{clearTimeout(G),W.ok?Fn(x,"TestPingServer: ok",!0,_):Fn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Fn(x,"TestPingServer: error",!1,_)})}function Fn(h,_,x,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(x)}catch{}}function Hs(){this.g=new Ca}function zi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(zi,Lr),zi.prototype.g=function(){return new Gr(this.i,this.h)};function Gr(h,_){_t.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Gr,_t),t=Gr.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,fi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Gs(this):fi(this),this.readyState==3&&ka(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Gs(this))},t.Na=function(h){this.g&&(this.response=h,Gs(this))},t.ga=function(){this.g&&Gs(this)};function Gs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,fi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hn(h){let _="";return be(h,function(x,C){_+=C,_+=":",_+=x,_+=`\r
`}),_}function Kr(h,_,x){e:{for(C in x){var C=!1;break e}C=!0}C||(x=Hn(x),typeof h=="string"?x!=null&&us(x):et(h,_,x))}function it(h){_t.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(it,_t);var Bi=/^https?$/i,rl=["POST","PUT"];t=it.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,x,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(W){Yr(this,W);return}if(h=x||"",x=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)x.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const W of C.keys())x.set(W,C.get(W));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),G=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(rl,_,void 0)>=0)||C||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of x)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Yr(this,W)}};function Yr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,al(h),hs(h)}function al(h){h.A||(h.A=!0,bt(h,"complete"),bt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,bt(this,"complete"),bt(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},t.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof c<"u"){if(h.v&&mi(h)==4)setTimeout(h.Ca.bind(h),0);else if(bt(h,"readystatechange"),mi(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var C;if(C=W===0){let de=String(h.D).match(Xc)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),C=!Bi.test(de?de.toLowerCase():"")}x=C}if(x)bt(h,"complete"),bt(h,"success");else{h.o=6;try{var G=mi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",al(h)}}finally{hs(h)}}}}function hs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||bt(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ci(_)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(h){const _={};h=(h.g&&mi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(I(h[C]))continue;var x=Kc(h[C]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=_[G]||[];_[G]=W,W.push(x)}Re(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Ks(h){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,h),this.Za=qi("retryDelaySeedMs",1e4,h),this.Ta=qi("forwardChannelMaxRetries",2,h),this.va=qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(h&&h.concurrentRequestLimit),this.Ba=new Hs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ks.prototype,t.ka=8,t.I=1,t.connect=function(h,_,x,C){Dt(0),this.W=h,this.H=_||{},x&&C!==void 0&&(this.H.OSID=x,this.H.OAID=C),this.F=this.X,this.J=au(this,null,this.W),Fi(this)};function ol(h){if(Oa(h),h.I==3){var _=h.V++,x=Mt(h.J);if(et(x,"SID",h.M),et(x,"RID",_),et(x,"TYPE","terminate"),Xr(h,x),_=new ui(h,h.j,_),_.M=2,_.A=Fr(Mt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=_.A,x=!0),x||(_.g=ou(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Mi(_)}ru(h)}function Ys(h){h.g&&(cl(h),h.g.cancel(),h.g=null)}function Oa(h){Ys(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ua(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Fi(h){if(!$o(h.h)&&!h.m){h.m=!0;var _=h.Ea;ee||R(),ce||(ee(),ce=!0),N.add(_,h),h.D=0}}function La(h,_){return Oi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Di(y(h.Ea,h,_),su(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new ui(this,this.j,h);let W=this.o;if(this.U&&(W?(W=A(W),te(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var C=this.i[x];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=eu(this,G,_),x=Mt(this.J),et(x,"RID",h),et(x,"CVER",22),this.G&&et(x,"X-HTTP-Session-Id",this.G),Xr(this,x),W&&(this.R?_="headers="+us(Hn(W))+"&"+_:this.u&&Kr(x,this.u,W)),Zo(this.h,G),this.Ra&&et(x,"TYPE","init"),this.S?(et(x,"$req",_),et(x,"SID","null"),G.U=!0,Ii(G,x,null)):Ii(G,x,_),this.I=2}}else this.I==3&&(h?ll(this,h):this.i.length==0||$o(this.h)||ll(this))};function ll(h,_){var x;_?x=_.l:x=h.V++;const C=Mt(h.J);et(C,"SID",h.M),et(C,"RID",x),et(C,"AID",h.K),Xr(h,C),h.u&&h.o&&Kr(C,h.u,h.o),x=new ui(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=eu(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Zo(h.h,x),Ii(x,C,_)}function Xr(h,_){h.H&&be(h.H,function(x,C){et(_,C,x)}),h.l&&be({},function(x,C){et(_,C,x)})}function eu(h,_,x){x=Math.min(h.i.length,x);const C=h.l?y(h.l.Ka,h.l,h):null;e:{var G=h.i;let Me=-1;for(;;){const wt=["count="+x];Me==-1?x>0?(Me=G[0].g,wt.push("ofs="+Me)):Me=0:wt.push("ofs="+Me);let Ze=!0;for(let mt=0;mt<x;mt++){var W=G[mt].g;const Gn=G[mt].map;if(W-=Me,W<0)Me=Math.max(0,G[mt].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var de=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Gi,pi]of de){let gi=pi;m(pi)&&(gi=cs(pi)),wt.push(W+Gi+"="+encodeURIComponent(gi))}}catch(Gi){throw wt.push(W+"type="+encodeURIComponent("_badmap")),Gi}}catch{C&&C(Gn)}}if(Ze){de=wt.join("&");break e}}de=void 0}return h=h.i.splice(0,x),_.G=h,de}function tu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ee||R(),ce||(ee(),ce=!0),N.add(_,h),h.A=0}}function $r(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Di(y(h.Da,h),su(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Di(y(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Ys(this),nu(this))};function cl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function nu(h){h.g=new ui(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Mt(h.na);et(_,"RID","rpc"),et(_,"SID",h.M),et(_,"AID",h.K),et(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(_,"TO",h.ia),et(_,"TYPE","xmlhttp"),Xr(h,_),h.u&&h.o&&Kr(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Fr(Mt(_)),x.u=null,x.R=!0,ja(x,h)}t.Va=function(){this.C!=null&&(this.C=null,Ys(this),$r(this),Dt(19))};function Ua(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function iu(h,_){var x=null;if(h.g==_){Ua(h),cl(h),h.g=null;var C=2}else if(Li(h.h,_))x=_.G,Wo(h.h,_),C=1;else return;if(h.I!=0){if(_.o)if(C==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;C=Na(),bt(C,new ji(C,x)),Fi(h)}else tu(h);else if(G=_.m,G==3||G==0&&_.X>0||!(C==1&&La(h,_)||C==2&&$r(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),G){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function su(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function Hi(h,_){if(h.j.info("Error code "+_),_==2){var x=y(h.bb,h),C=h.Ua;const G=!C;C=new Dn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(C,"https"),Fr(C),G?di(C.toString(),x):sl(C.toString(),x)}else Dt(2);h.I=0,h.l&&h.l.pa(_),ru(h),Oa(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function ru(h){if(h.I=0,h.ja=[],h.l){const _=Jo(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function au(h,_,x){var C=x instanceof Dn?Mt(x):new Dn(x);if(C.g!="")_&&(C.g=_+"."+C.g),zs(C,C.u);else{var G=u.location;C=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const W=new Dn(null);C&&Qt(W,C),_&&(W.g=_),G&&zs(W,G),x&&(W.h=x),C=W}return x=h.G,_=h.wa,x&&_&&et(C,x,_),et(C,"VER",h.ka),Xr(h,C),C}function ou(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new it(new zi({ab:x})):new it(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}t=lu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qs(){}Qs.prototype.g=function(h,_){return new pn(h,_)};function pn(h,_){_t.call(this),this.g=new Ks(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new fs(this)}T(pn,_t),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ol(this.g)},pn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=cs(h),h=x);_.i.push(new It(_.Ya++,h)),_.I==3&&Fi(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,pn.Z.N.call(this)};function cu(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}T(cu,Wt);function uu(){Bn.call(this),this.status=1}T(uu,Bn);function fs(h){this.g=h}T(fs,lu),fs.prototype.ra=function(){bt(this.g,"a")},fs.prototype.qa=function(h){bt(this.g,new cu(h))},fs.prototype.pa=function(h){bt(this.g,new uu)},fs.prototype.oa=function(){bt(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,lb=function(){return new Qs},ob=function(){return Na()},ab=At,Vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Dh=Br,Yo.COMPLETE="complete",rb=Yo,zn.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",_t.prototype.listen=_t.prototype.J,$l=zn,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,sb=it}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const $T="@firebase/firestore",ZT="4.9.3";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Uo="12.7.0";const xa=new ZS("@firebase/firestore");function yo(){return xa.logLevel}function ve(t,...e){if(xa.logLevel<=Ye.DEBUG){const i=e.map(Dg);xa.debug(`Firestore (${Uo}): ${t}`,...i)}}function Ms(t,...e){if(xa.logLevel<=Ye.ERROR){const i=e.map(Dg);xa.error(`Firestore (${Uo}): ${t}`,...i)}}function No(t,...e){if(xa.logLevel<=Ye.WARN){const i=e.map(Dg);xa.warn(`Firestore (${Uo}): ${t}`,...i)}}function Dg(t){if(typeof t=="string")return t;try{return(function(i){return JSON.stringify(i)})(t)}catch{return t}}function je(t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,cb(t,r,i)}function cb(t,e,i){let r=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ms(r),new Error(r)}function Je(t,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,t||cb(e,o,r)}function Ie(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Lo{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class ub{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class Dj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Vj{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new js,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new js)}}),0),u()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new ub(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class Ij{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mj{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Ij(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pj{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pj(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=c=>{c.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new WT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new WT(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<t;r++)i[r]=Math.floor(256*Math.random());return i}class Vg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=kj(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Ip(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.charAt(r),c=e.charAt(r);if(o!==c)return ep(o)===ep(c)?qe(o,c):ep(o)?1:-1}return qe(t.length,e.length)}const Oj=55296,Lj=57343;function ep(t){const e=t.charCodeAt(0);return e>=Oj&&e<=Lj}function jo(t,e,i){return t.length===e.length&&t.every(((r,o)=>i(r,e[o])))}const JT="__name__";class $i{constructor(e,i,r){i===void 0?i=0:i>e.length&&je(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&je(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=$i.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=$i.isNumericId(e),o=$i.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?$i.extractNumericId(e).compare($i.extractNumericId(i)):Ip(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class ct extends $i{construct(e,i,r){return new ct(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ct(i)}static emptyPath(){return new ct([])}}const Uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends $i{construct(e,i,r){return new on(e,i,r)}static isValidIdentifier(e){return Uj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JT}static keyField(){return new on([JT])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(r+=m,o++):(c(),o++)}if(c(),u)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(ct.fromString(e))}static fromName(e){return new we(ct.fromString(e).popFirst(5))}static empty(){return new we(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ct(e.slice()))}}function hb(t,e,i){if(!i)throw new pe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zj(t,e,i,r){if(e===!0&&r===!0)throw new pe(se.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function eE(t){if(!we.isDocumentKey(t))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tE(t){if(we.isDocumentKey(t))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function db(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gd(t);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function Bj(t,e){if(e<=0)throw new pe(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function qt(t,e){const i={typeString:t};return e&&(i.value=e),i}function Ic(t,e){if(!db(t))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){i=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new pe(se.INVALID_ARGUMENT,i);return!0}const nE=-62135596800,iE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*iE);return new ot(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<nE)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:qt("string",ot._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ot(0,0))}static max(){return new De(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function qj(t,e){const i=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new ot(i+1,0):new ot(i,r));return new br(o,we.empty(),e)}function Fj(t){return new br(t.readTime,t.key,gc)}class br{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new br(De.min(),we.empty(),gc)}static max(){return new br(De.max(),we.empty(),gc)}}function Hj(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(t.documentKey,e.documentKey),i!==0?i:qe(t.largestBatchId,e.largestBatchId))}const Gj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zo(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==Gj)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof oe?i:oe.resolve(i)}catch(i){return oe.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):oe.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):oe.reject(i)}static resolve(e){return new oe(((i,r)=>{i(e)}))}static reject(e){return new oe(((i,r)=>{r(e)}))}static waitFor(e){return new oe(((i,r)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&i()}),(g=>r(g)))})),u=!0,c===o&&i()}))}static or(e){let i=oe.resolve(!1);for(const r of e)i=i.next((o=>o?oe.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new oe(((r,o)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((v=>{u[y]=v,++m,m===c&&r(u)}),(v=>o(v)))}}))}static doWhile(e,i){return new oe(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function Yj(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Bo(t){return t.name==="IndexedDbTransactionError"}class yd{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;const Ig=-1;function vd(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function Qj(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const fb="";function Xj(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=sE(e)),e=$j(t.get(i),e);return sE(e)}function $j(t,e){let i=e;const r=t.length;for(let o=0;o<r;o++){const c=t.charAt(o);switch(c){case"\0":i+="";break;case fb:i+="";break;default:i+=c}}return i}function sE(t){return t+fb+""}function rE(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Vr(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function mb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??an.RED,this.left=o??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new an(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Kt(this.comparator);return i.data=e,i}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Kt(on.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pb("Invalid base64 string: "+c):c}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Zj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const i=Zj.exec(t);if(Je(!!i,46558,{timestamp:t}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wr(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}const gb="server_timestamp",yb="__type__",vb="__previous_value__",_b="__local_write_time__";function Mg(t){return(t?.mapValue?.fields||{})[yb]?.stringValue===gb}function _d(t){const e=t.mapValue.fields[vb];return Mg(e)?_d(e):e}function yc(t){const e=Ar(t.mapValue.fields[_b].timestampValue);return new ot(e.seconds,e.nanos)}class Wj{constructor(e,i,r,o,c,u,m,g,y,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const Qh="(default)";class vc{constructor(e,i){this.projectId=e,this.database=i||Qh}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const Tb="__type__",Jj="__max__",yh={mapValue:{}},Eb="__vector__",Xh="value";function Rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mg(t)?4:tD(t)?9007199254740991:eD(t)?10:11:je(28295,{value:t})}function rs(t,e){if(t===e)return!0;const i=Rr(t);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Ar(o.timestampValue),m=Ar(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,c){return wr(o.bytesValue).isEqual(wr(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(t,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Nt(o.doubleValue),m=Nt(c.doubleValue);return u===m?Yh(u)===Yh(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(rE(u)!==rE(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!rs(u[g],m[g])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function _c(t,e){return(t.values||[]).find((i=>rs(i,e)))!==void 0}function Do(t,e){if(t===e)return 0;const i=Rr(t),r=Rr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Nt(c.integerValue||c.doubleValue),g=Nt(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return oE(t.timestampValue,e.timestampValue);case 4:return oE(yc(t),yc(e));case 5:return Ip(t.stringValue,e.stringValue);case 6:return(function(c,u){const m=wr(c),g=wr(u);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let y=0;y<m.length&&y<g.length;y++){const v=qe(m[y],g[y]);if(v!==0)return v}return qe(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=qe(Nt(c.latitude),Nt(u.latitude));return m!==0?m:qe(Nt(c.longitude),Nt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lE(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},g=u.fields||{},y=m[Xh]?.arrayValue,v=g[Xh]?.arrayValue,T=qe(y?.values?.length||0,v?.values?.length||0);return T!==0?T:lE(y,v)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===yh.mapValue&&u===yh.mapValue)return 0;if(c===yh.mapValue)return 1;if(u===yh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=u.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const S=Ip(g[T],v[T]);if(S!==0)return S;const w=Do(m[g[T]],y[v[T]]);if(w!==0)return w}return qe(g.length,v.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:i})}}function oE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const i=Ar(t),r=Ar(e),o=qe(i.seconds,r.seconds);return o!==0?o:qe(i.nanos,r.nanos)}function lE(t,e){const i=t.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Do(i[o],r[o]);if(c)return c}return qe(i.length,r.length)}function Vo(t){return Mp(t)}function Mp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(i){const r=Ar(i);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(i){return wr(i).toBase64()})(t.bytesValue):"referenceValue"in t?(function(i){return we.fromName(i).toString()})(t.referenceValue):"geoPointValue"in t?(function(i){return`geo(${i.latitude},${i.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Mp(c);return r+"]"})(t.arrayValue):"mapValue"in t?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${Mp(i.fields[u])}`;return o+"}"})(t.mapValue):je(61005,{value:t})}function Vh(t){switch(Rr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(t);return e?16+Vh(e):16;case 5:return 2*t.stringValue.length;case 6:return wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Vh(c)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Vr(r.fields,((c,u)=>{o+=c.length+Vh(u)})),o})(t.mapValue);default:throw je(13486,{value:t})}}function cE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pp(t){return!!t&&"integerValue"in t}function Pg(t){return!!t&&"arrayValue"in t}function uE(t){return!!t&&"nullValue"in t}function hE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function eD(t){return(t?.mapValue?.fields||{})[Tb]?.stringValue===Eb}function ic(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vr(t.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ic(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ic(t.arrayValue.values[i]);return e}return{...t}}function tD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Jj}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Ih(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(i)}setAll(e){let i=on.emptyPath(),r={},o=[];e.forEach(((u,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=m.popLast()}u?r[m.lastSegment()]=ic(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Ih(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Vr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Rn(ic(this.value))}}function xb(t){const e=[];return Vr(t.fields,((i,r)=>{const o=new on([i]);if(Ih(r)){const c=xb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Un(e)}class fn{constructor(e,i,r,o,c,u,m){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,De.min(),De.min(),De.min(),Rn.empty(),0)}static newFoundDocument(e,i,r,o){return new fn(e,1,i,De.min(),r,o,0)}static newNoDocument(e,i){return new fn(e,2,i,De.min(),De.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,De.min(),De.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(e,i){this.position=e,this.inclusive=i}}function dE(t,e,i){let r=0;for(let o=0;o<t.position.length;o++){const c=e[o],u=t.position[o];if(c.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),i.key):r=Do(u,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function fE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!rs(t.position[i],e.position[i]))return!1;return!0}class Tc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Sb{}class Bt extends Sb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new sD(e,i,r):i==="array-contains"?new oD(e,r):i==="in"?new lD(e,r):i==="not-in"?new cD(e,r):i==="array-contains-any"?new uD(e,r):new Bt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new rD(e,r):new aD(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Do(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(Do(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends Sb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new bi(e,i)}matches(e){return bb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bb(t){return t.op==="and"}function Ab(t){return iD(t)&&bb(t)}function iD(t){for(const e of t.filters)if(e instanceof bi)return!1;return!0}function kp(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(Ab(t))return t.filters.map((e=>kp(e))).join(",");{const e=t.filters.map((i=>kp(i))).join(",");return`${t.op}(${e})`}}function wb(t,e){return t instanceof Bt?(function(r,o){return o instanceof Bt&&r.op===o.op&&r.field.isEqual(o.field)&&rs(r.value,o.value)})(t,e):t instanceof bi?(function(r,o){return o instanceof bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,m)=>c&&wb(u,o.filters[m])),!0):!1})(t,e):void je(19439)}function Rb(t){return t instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Vo(i.value)}`})(t):t instanceof bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Rb).join(" ,")+"}"})(t):"Filter"}class sD extends Bt{constructor(e,i,r){super(e,i,r),this.key=we.fromName(r.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class rD extends Bt{constructor(e,i){super(e,"in",i),this.keys=Cb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class aD extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=Cb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Cb(t,e){return(e.arrayValue?.values||[]).map((i=>we.fromName(i.referenceValue)))}class oD extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pg(i)&&_c(i.arrayValue,this.value)}}class lD extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_c(this.value.arrayValue,i)}}class cD extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_c(this.value.arrayValue,i)}}class uD extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}class hD{constructor(e,i=null,r=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function mE(t,e=null,i=[],r=[],o=null,c=null,u=null){return new hD(t,e,i,r,o,c,u)}function kg(t){const e=Ie(t);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>kp(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vd(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Vo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Vo(r))).join(",")),e.Te=i}return e.Te}function Og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!nD(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!wb(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fE(t.startAt,e.startAt)&&fE(t.endAt,e.endAt)}function Op(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class qo{constructor(e,i=null,r=[],o=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dD(t,e,i,r,o,c,u,m){return new qo(t,e,i,r,o,c,u,m)}function Td(t){return new qo(t)}function pE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nb(t){return t.collectionGroup!==null}function sc(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Kt(on.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Tc(c,r))})),i.has(on.keyField().canonicalString())||e.Ie.push(new Tc(on.keyField(),r))}return e.Ie}function Wi(t){const e=Ie(t);return e.Ee||(e.Ee=fD(e,sc(t))),e.Ee}function fD(t,e){if(t.limitType==="F")return mE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Tc(o.field,c)}));const i=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return mE(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}}function Lp(t,e){const i=t.filters.concat([e]);return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function Zh(t,e,i){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Ed(t,e){return Og(Wi(t),Wi(e))&&t.limitType===e.limitType}function jb(t){return`${kg(Wi(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Rb(o))).join(", ")}]`),vd(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Vo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Vo(o))).join(",")),`Target(${r})`})(Wi(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):we.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(t,e)&&(function(r,o){for(const c of sc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,m,g){const y=dE(u,m,g);return u.inclusive?y<=0:y<0})(r.startAt,sc(r),o)||r.endAt&&!(function(u,m,g){const y=dE(u,m,g);return u.inclusive?y>=0:y>0})(r.endAt,sc(r),o))})(t,e)}function mD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Db(t){return(e,i)=>{let r=!1;for(const o of sc(t)){const c=pD(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function pD(t,e,i){const r=t.field.isKeyField()?we.comparator(e.key,i.key):(function(c,u,m){const g=u.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Do(g,y):je(42886)})(t.field,e,i);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}class ba{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return mb(this.inner)}size(){return this.innerSize}}const gD=new vt(we.comparator);function Ps(){return gD}const Vb=new vt(we.comparator);function Zl(...t){let e=Vb;for(const i of t)e=e.insert(i.key,i);return e}function Ib(t){let e=Vb;return t.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ga(){return rc()}function Mb(){return rc()}function rc(){return new ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yD=new vt(we.comparator),vD=new Kt(we.comparator);function Fe(...t){let e=vD;for(const i of t)e=e.add(i);return e}const _D=new Kt(qe);function TD(){return _D}function Lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function Pb(t){return{integerValue:""+t}}function ED(t,e){return Qj(e)?Pb(e):Lg(t,e)}class Sd{constructor(){this._=void 0}}function xD(t,e,i){return t instanceof Ec?(function(o,c){const u={fields:{[yb]:{stringValue:gb},[_b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mg(c)&&(c=_d(c)),c&&(u.fields[vb]=c),{mapValue:u}})(i,e):t instanceof xc?Ob(t,e):t instanceof Sc?Lb(t,e):(function(o,c){const u=kb(o,c),m=gE(u)+gE(o.Ae);return Pp(u)&&Pp(o.Ae)?Pb(m):Lg(o.serializer,m)})(t,e)}function SD(t,e,i){return t instanceof xc?Ob(t,e):t instanceof Sc?Lb(t,e):i}function kb(t,e){return t instanceof Wh?(function(r){return Pp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Ec extends Sd{}class xc extends Sd{constructor(e){super(),this.elements=e}}function Ob(t,e){const i=Ub(e);for(const r of t.elements)i.some((o=>rs(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Sc extends Sd{constructor(e){super(),this.elements=e}}function Lb(t,e){let i=Ub(e);for(const r of t.elements)i=i.filter((o=>!rs(o,r)));return{arrayValue:{values:i}}}class Wh extends Sd{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function gE(t){return Nt(t.integerValue||t.doubleValue)}function Ub(t){return Pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bD{constructor(e,i){this.field=e,this.transform=i}}function AD(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof xc&&o instanceof xc||r instanceof Sc&&o instanceof Sc?jo(r.elements,o.elements,rs):r instanceof Wh&&o instanceof Wh?rs(r.Ae,o.Ae):r instanceof Ec&&o instanceof Ec})(t.transform,e.transform)}class wD{constructor(e,i){this.version=e,this.transformResults=i}}class si{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bd{}function zb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ug(t.key,si.none()):new Mc(t.key,t.data,si.none());{const i=t.data,r=Rn.empty();let o=new Kt(on.comparator);for(let c of e.fields)if(!o.has(c)){let u=i.field(c);u===null&&c.length>1&&(c=c.popLast(),u=i.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Ir(t.key,r,new Un(o.toArray()),si.none())}}function RD(t,e,i){t instanceof Mc?(function(o,c,u){const m=o.value.clone(),g=vE(o.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,i):t instanceof Ir?(function(o,c,u){if(!Mh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=vE(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(Bb(o)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(t,e,i):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,i)}function ac(t,e,i,r){return t instanceof Mc?(function(c,u,m,g){if(!Mh(c.precondition,u))return m;const y=c.value.clone(),v=_E(c.fieldTransforms,g,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,i,r):t instanceof Ir?(function(c,u,m,g){if(!Mh(c.precondition,u))return m;const y=_E(c.fieldTransforms,g,u),v=u.data;return v.setAll(Bb(c)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,i,r):(function(c,u,m){return Mh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,i)}function CD(t,e){let i=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),c=kb(r.transform,o||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function yE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jo(r,o,((c,u)=>AD(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends bd{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ir extends bd{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=t.data.field(i);e.set(i,r)}})),e}function vE(t,e,i){const r=new Map;Je(t.length===i.length,32656,{Re:i.length,Ve:t.length});for(let o=0;o<i.length;o++){const c=t[o],u=c.transform,m=e.data.field(c.field);r.set(c.field,SD(u,m,i[o]))}return r}function _E(t,e,i){const r=new Map;for(const o of t){const c=o.transform,u=i.data.field(o.field);r.set(o.field,xD(c,u,e))}return r}class Ug extends bd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ND extends bd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jD{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&RD(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ac(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ac(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Mb();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=i.has(o.key)?null:m;const g=zb(u,m);g!==null&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((i,r)=>yE(i,r)))&&jo(this.baseMutations,e.baseMutations,((i,r)=>yE(i,r)))}}class zg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return yD})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new zg(e,i,r,o)}}class DD{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VD{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,Ke;function ID(t){switch(t){case se.OK:return je(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function qb(t){if(t===void 0)return Ms("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return je(39323,{code:t})}}(Ke=Ut||(Ut={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function MD(){return new TextEncoder}const PD=new xr([4294967295,4294967295],0);function TE(t){const e=MD().encode(t),i=new ib;return i.update(e),new Uint8Array(i.digest())}function EE(t){const e=new DataView(t.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xr([i,r],0),new xr([o,c],0)]}class Bg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=xr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(xr.fromNumber(r)));return o.compare(PD)===1&&(o=new xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=TE(e),[r,o]=EE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Bg(c,o,i);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const i=TE(e),[r,o]=EE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.Se(u)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ad{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ad(De.min(),o,new vt(qe),Ps(),Fe())}}class Pc{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Pc(r,i,Fe(),Fe(),Fe())}}class Ph{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Fb{constructor(e,i){this.targetId=e,this.Ce=i}}class Hb{constructor(e,i,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class xE{constructor(){this.ve=0,this.Fe=SE(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),r=Fe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:je(38017,{changeType:c})}})),new Pc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=SE()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ps(),this.Je=vh(),this.He=vh(),this.Ye=new vt(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Op(c))if(r===0){const u=new we(c.path);this.et(i,u,fn.newNoDocument(u,De.min()))}else Je(r===1,20013,{expectedCount:r});else{const u=this._t(i);if(u!==r){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let u,m;try{u=wr(r).toUint8Array()}catch(g){if(g instanceof pb)return No("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Bg(u,o,c)}catch(g){return No(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Op(m.target)){const g=new we(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,fn.newNoDocument(g,e))}c.Be&&(i.set(u,c.ke()),c.qe())}}));let r=Fe();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Ad(e,i,this.Ye,this.je,r);return this.je=Ps(),this.Je=vh(),this.He=vh(),this.Ye=new vt(qe),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new xE,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Kt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Kt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ve("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xE),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function vh(){return new vt(we.comparator)}function SE(){return new vt(we.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},LD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class zD{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Up(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BD(t,e){return Jh(t,e.toTimestamp())}function Ji(t){return Je(!!t,49232),De.fromTimestamp((function(i){const r=Ar(i);return new ot(r.seconds,r.nanos)})(t))}function qg(t,e){return zp(t,e).canonicalString()}function zp(t,e){const i=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?i:i.child(e)}function Kb(t){const e=ct.fromString(t);return Je(Zb(e),10190,{key:e.toString()}),e}function Bp(t,e){return qg(t.databaseId,e.path)}function tp(t,e){const i=Kb(e);if(i.get(1)!==t.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new we(Qb(i))}function Yb(t,e){return qg(t.databaseId,e)}function qD(t){const e=Kb(t);return e.length===4?ct.emptyPath():Qb(e)}function qp(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qb(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bE(t,e,i){return{name:Bp(t,e),fields:i.value.mapValue.fields}}function FD(t,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:je(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(Je(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(y){const v=y.code===void 0?se.UNKNOWN:qb(y.code);return new pe(v,y.message||"")})(u);i=new Hb(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=tp(t,r.document.name),c=Ji(r.document.updateTime),u=r.document.createTime?Ji(r.document.createTime):De.min(),m=new Rn({mapValue:{fields:r.document.fields}}),g=fn.newFoundDocument(o,c,u,m),y=r.targetIds||[],v=r.removedTargetIds||[];i=new Ph(y,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=tp(t,r.document),c=r.readTime?Ji(r.readTime):De.min(),u=fn.newNoDocument(o,c),m=r.removedTargetIds||[];i=new Ph([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=tp(t,r.document),c=r.removedTargetIds||[];i=new Ph([],c,o,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new VD(o,c),m=r.targetId;i=new Fb(m,u)}}return i}function HD(t,e){let i;if(e instanceof Mc)i={update:bE(t,e.key,e.value)};else if(e instanceof Ug)i={delete:Bp(t,e.key)};else if(e instanceof Ir)i={update:bE(t,e.key,e.data),updateMask:JD(e.fieldMask)};else{if(!(e instanceof ND))return je(16599,{Vt:e.type});i={verify:Bp(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const m=u.transform;if(m instanceof Ec)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Sc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wh)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw je(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:je(27497)})(t,e.precondition)),i}function GD(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((i=>(function(o,c){let u=o.updateTime?Ji(o.updateTime):Ji(c);return u.isEqual(De.min())&&(u=Ji(c)),new wD(u,o.transformResults||[])})(i,e)))):[]}function KD(t,e){return{documents:[Yb(t,e.path)]}}function YD(t,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Yb(t,o);const c=(function(y){if(y.length!==0)return $b(bi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:_o(S.field),direction:$D(S.dir)}})(v)))})(e.orderBy);u&&(i.structuredQuery.orderBy=u);const m=Up(t,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function QD(t){let e=qD(t.parent);const i=t.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Je(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];i.where&&(c=(function(T){const S=Xb(T);return S instanceof bi&&Ab(S)?S.getFilters():[S]})(i.where));let u=[];i.orderBy&&(u=(function(T){return T.map((S=>(function(V){return new Tc(To(V.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,vd(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(T){const S=!!T.before,w=T.values||[];return new $h(w,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(T){const S=!T.before,w=T.values||[];return new $h(w,S)})(i.endAt)),dD(e,o,u,c,m,"F",g,y)}function XD(t,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Xb(t){return t.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=To(i.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=To(i.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=To(i.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=To(i.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(i){return Bt.create(To(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(i){return bi.create(i.compositeFilter.filters.map((r=>Xb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(i.compositeFilter.op))})(t):je(30097,{filter:t})}function $D(t){return OD[t]}function ZD(t){return LD[t]}function WD(t){return UD[t]}function _o(t){return{fieldPath:t.canonicalString()}}function To(t){return on.fromServerFormat(t.fieldPath)}function $b(t){return t instanceof Bt?(function(i){if(i.op==="=="){if(hE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NAN"}};if(uE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(hE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NOT_NAN"}};if(uE(i.value))return{unaryFilter:{field:_o(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(i.field),op:ZD(i.op),value:i.value}}})(t):t instanceof bi?(function(i){const r=i.getFilters().map((o=>$b(o)));return r.length===1?r[0]:{compositeFilter:{op:WD(i.op),filters:r}}})(t):je(54877,{filter:t})}function JD(t){const e=[];return t.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Zb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class vr{constructor(e,i,r,o,c=De.min(),u=De.min(),m=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eV{constructor(e){this.yt=e}}function tV(t){const e=QD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zh(e,e.limit,"L"):e}class nV{constructor(){this.Cn=new iV}addToCollectionParentIndex(e,i){return this.Cn.add(i),oe.resolve()}getCollectionParents(e,i){return oe.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return oe.resolve()}deleteFieldIndex(e,i){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,i){return oe.resolve()}getDocumentsMatchingTarget(e,i){return oe.resolve(null)}getIndexType(e,i){return oe.resolve(0)}getFieldIndexes(e,i){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,i){return oe.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return oe.resolve(br.min())}updateCollectionGroup(e,i,r){return oe.resolve()}updateIndexEntries(e,i){return oe.resolve()}}class iV{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Kt(ct.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kt(ct.comparator)).toArray()}}const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wb=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(Wb,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const wE="LruGarbageCollector",sV=1048576;function RE([t,e],[i,r]){const o=qe(t,i);return o===0?qe(e,r):o}class rV{constructor(e){this.Ir=e,this.buffer=new Kt(RE),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();RE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aV{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(wE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Bo(i)?ve(wE,"Ignoring IndexedDB error during garbage collection: ",i):await zo(i)}await this.Vr(3e5)}))}}class oV{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return oe.resolve(yd.ce);const r=new rV(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(AE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,u,m,g,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,i)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),yo()<=Ye.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function lV(t,e){return new oV(t,e)}class cV{constructor(){this.changes=new ba((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?oe.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uV{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hV{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ac(r.mutation,o,Un.empty(),ot.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Fe()){const o=ga();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let u=Zl();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,i){const r=ga();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Fe())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{i.set(u,m)}))}))}computeViews(e,i,r,o){let c=Ps();const u=rc(),m=(function(){return rc()})();return i.forEach(((g,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Ir)?c=c.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),ac(v.mutation,y,v.mutation.getFieldMask(),ot.now())):u.set(y.key,Un.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,v)=>u.set(y,v))),i.forEach(((y,v)=>m.set(y,new uV(v,u.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,i){const r=rc();let o=new vt(((u,m)=>u-m)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((u=>{for(const m of u)m.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let v=r.get(g)||Un.empty();v=m.applyToLocalView(y,v),r.set(g,v);const T=(o.get(m.batchId)||Fe()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,v=g.value,T=Mb();v.forEach((S=>{if(!c.has(S)){const w=zb(i.get(S),r.get(S));w!==null&&T.set(S,w),c=c.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,T))}return oe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Nb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):oe.resolve(ga());let m=gc,g=c;return u.next((y=>oe.forEach(y,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Fe()))).next((v=>({batchId:m,changes:Ib(v)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next((r=>{let o=Zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let u=Zl();return this.indexManager.getCollectionParents(e,c).next((m=>oe.forEach(m,(g=>{const y=(function(T,S){return new qo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((T,S)=>{u=u.insert(T,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((u=>{c.forEach(((g,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,fn.newInvalidDocument(v)))}));let m=Zl();return u.forEach(((g,y)=>{const v=c.get(g);v!==void 0&&ac(v.mutation,y,Un.empty(),ot.now()),xd(i,y)&&(m=m.insert(g,y))})),m}))}}class dV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return oe.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ji(o.createTime)}})(i)),oe.resolve()}getNamedQuery(e,i){return oe.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:tV(o.bundledQuery),readTime:Ji(o.readTime)}})(i)),oe.resolve()}}class fV{constructor(){this.overlays=new vt(we.comparator),this.qr=new Map}getOverlay(e,i){return oe.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ga();return oe.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),oe.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,i,r){const o=ga(),c=i.length+1,u=new we(i.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new vt(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let v=c.get(y.largestBatchId);v===null&&(v=ga(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=ga(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>m.set(y,v))),!(m.size()>=o)););return oe.resolve(m)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new DD(i,r));let c=this.qr.get(i);c===void 0&&(c=Fe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class mV{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,oe.resolve()}}class Fg{constructor(){this.Qr=new Kt($t.$r),this.Ur=new Kt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new $t(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new $t(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new we(new ct([])),r=new $t(i,e),o=new $t(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new ct([])),r=new $t(i,e),o=new $t(i,e+1);let c=Fe();return this.Ur.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const i=new $t(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}class pV{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Kt($t.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new jD(c,i,r,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new $t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,i){return oe.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return oe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Ig:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),oe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Kt(qe);return i.forEach((o=>{const c=new $t(o,0),u=new $t(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{r=r.add(m.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;we.isDocumentKey(c)||(c=c.child(""));const u=new $t(new we(c),0);let m=new Kt(qe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),u),oe.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(i.mutations,(o=>{const c=new $t(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new $t(i,0),o=this.Zr.firstAfterOrEqual(r);return oe.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gV{constructor(e){this.ri=e,this.docs=(function(){return new vt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,u=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return oe.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(e,i){let r=Ps();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():fn.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Ps();const u=i.path,m=new we(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||Hj(Fj(v),r)<=0||(o.has(v.key)||xd(i,v))&&(c=c.insert(v.key,v.mutableCopy()))}return oe.resolve(c)}getAllFromCollectionGroup(e,i,r,o){je(9500)}ii(e,i){return oe.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new yV(this)}getSize(e){return oe.resolve(this.size)}}class yV extends cV{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),oe.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class vV{constructor(e){this.persistence=e,this.si=new ba((i=>kg(i)),Og),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),oe.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Io(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,oe.resolve()}updateTargetData(e,i){return this.Pr(i),oe.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(c).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return oe.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),oe.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),oe.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),oe.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return oe.resolve(r)}containsKey(e,i){return oe.resolve(this._i.containsKey(i))}}class Jb{constructor(e,i){this.ui={},this.overlays={},this.ci=new yd(0),this.li=!1,this.li=!0,this.hi=new mV,this.referenceDelegate=e(this),this.Pi=new vV(this),this.indexManager=new nV,this.remoteDocumentCache=(function(o){return new gV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eV(i),this.Ii=new dV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fV,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new pV(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ve("MemoryPersistence","Starting transaction:",e);const o=new _V(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class _V extends Kj{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new Fg,this.Vi=null}static mi(e){return new Hg(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),oe.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const o=we.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return oe.or([()=>oe.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ed{constructor(e,i){this.persistence=e,this.pi=new ba((r=>Xj(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=lV(this,i)}static mi(e,i){return new ed(e,i)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return oe.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?oe.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,i).next((m=>{m||(r++,c.removeEntry(u,De.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vh(e.data.value)),i}br(e,i,r){return oe.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return oe.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Fe(),o=Fe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Gg(e,i.fromCache,r,o)}}class TV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return d2()?8:Yj(u2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new TV;return this.Ss(e,i,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,i,u,m.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(yo()<=Ye.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",vo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(yo()<=Ye.DEBUG&&ve("QueryEngine","Query:",vo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(yo()<=Ye.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",vo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(i))):oe.resolve())}ys(e,i){if(pE(i))return oe.resolve(null);let r=Wi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Zh(i,null,"F"),r=Wi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Fe(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(i,m);return this.Cs(i,y,u,g.readTime)?this.ys(e,Zh(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,r,o){return pE(i)||o.isEqual(De.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((c=>{const u=this.Ds(i,c);return this.Cs(i,u,r,o)?oe.resolve(null):(yo()<=Ye.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(i)),this.vs(e,u,i,qj(o,gc)).next((m=>m)))}))}Ds(e,i){let r=new Kt(Db(e));return i.forEach(((o,c)=>{xd(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return yo()<=Ye.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",vo(i)),this.ps.getDocumentsMatchingQuery(e,i,br.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Kg="LocalStore",xV=3e8;class SV{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new vt(qe),this.xs=new ba((c=>kg(c)),Og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bV(t,e,i,r){return new SV(t,e,i,r)}async function e1(t,e){const i=Ie(t);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],m=[];let g=Fe();for(const y of o){u.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:m})))}))}))}function AV(t,e){const i=Ie(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,v){const T=y.batch,S=T.keys();let w=oe.resolve();return S.forEach((V=>{w=w.next((()=>v.getEntry(g,V))).next((M=>{const P=y.docVersions.get(V);Je(P!==null,48541),M.version.compareTo(P)<0&&(T.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),v.addEntry(M)))}))})),w.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Fe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function t1(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function wV(t,e){const i=Ie(t),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(i.Pi.removeMatchingKeys(c,v.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(c,v.addedDocuments,T))));let w=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(ln.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),o=o.insert(T,w),(function(M,P,k){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=xV?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(S,w,v)&&m.push(i.Pi.updateTargetData(c,w))}));let g=Ps(),y=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,v))})),m.push(RV(c,u,e.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!r.isEqual(De.min())){const v=i.Pi.getLastRemoteSnapshotVersion(c).next((T=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(v)}return oe.waitFor(m).next((()=>u.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function RV(t,e,i){let r=Fe(),o=Fe();return i.forEach((c=>r=r.add(c))),e.getEntries(t,r).next((c=>{let u=Ps();return i.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(De.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):ve(Kg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function CV(t,e){const i=Ie(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ig),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NV(t,e){const i=Ie(t);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,oe.resolve(o)):i.Pi.allocateTargetId(r).next((u=>(o=new vr(e,u,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Fp(t,e,i){const r=Ie(t),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Bo(u))throw u;ve(Kg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function CE(t,e,i){const r=Ie(t);let o=De.min(),c=Fe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,v){const T=Ie(g),S=T.xs.get(v);return S!==void 0?oe.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,v)})(r,u,Wi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,i?o:De.min(),i?c:Fe()))).next((m=>(jV(r,mD(e),m),{documents:m,Qs:c})))))}function jV(t,e,i){let r=t.Os.get(e)||De.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),t.Os.set(e,r)}class NE{constructor(){this.activeTargetIds=TD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DV{constructor(){this.Mo=new NE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new NE,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VV{Oo(e){}shutdown(){}}const jE="ConnectivityMonitor";class DE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(jE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function Hp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const np="RestConnection",IV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const u=Hp(),m=this.zo(e,i.toUriEncodedString());ve(np,`Sending RPC '${e}' ${u}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),v=Ng(y);return this.Jo(e,m,g,r,v).then((T=>(ve(np,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw No(np,`RPC '${e}' ${u} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(e,i,r,o,c,u){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=IV[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class PV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class kV extends MV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const u=Hp();return new Promise(((m,g)=>{const y=new sb;y.setWithCredentials(!0),y.listenOnce(rb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dh.NO_ERROR:const T=y.getResponseJson();ve(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),m(T);break;case Dh.TIMEOUT:ve(hn,`RPC '${e}' ${u} timed out`),g(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const S=y.getStatus();if(ve(hn,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let w=y.getResponseJson();Array.isArray(w)&&(w=w[0]);const V=w?.error;if(V&&V.status&&V.message){const M=(function(k){const B=k.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(B)>=0?B:se.UNKNOWN})(V.status);g(new pe(M,V.message))}else g(new pe(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new pe(se.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ve(hn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ve(hn,`RPC '${e}' ${u} sending request:`,o),y.send(i,"POST",v,r,15)}))}T_(e,i,r){const o=Hp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lb(),m=ob(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=c.join("");ve(hn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=u.createWebChannel(v,g);this.I_(T);let S=!1,w=!1;const V=new PV({Yo:P=>{w?ve(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(S||(ve(hn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ve(hn,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),M=(P,k,B)=>{P.listen(k,(q=>{try{B(q)}catch(he){setTimeout((()=>{throw he}),0)}}))};return M(T,$l.EventType.OPEN,(()=>{w||(ve(hn,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),M(T,$l.EventType.CLOSE,(()=>{w||(w=!0,ve(hn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(T))})),M(T,$l.EventType.ERROR,(P=>{w||(w=!0,No(hn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),V.a_(new pe(se.UNAVAILABLE,"The operation could not be completed")))})),M(T,$l.EventType.MESSAGE,(P=>{if(!w){const k=P.data[0];Je(!!k,16349);const B=k,q=B?.error||B[0]?.error;if(q){ve(hn,`RPC '${e}' stream ${o} received error:`,q);const he=q.status;let ee=(function(R){const D=Ut[R];if(D!==void 0)return qb(D)})(he),ce=q.message;ee===void 0&&(ee=se.INTERNAL,ce="Unknown error status: "+he+" with message "+q.message),w=!0,V.a_(new pe(ee,ce)),T.close()}else ve(hn,`RPC '${e}' stream ${o} received:`,k),V.u_(k)}})),M(m,ab.STAT_EVENT,(P=>{P.stat===Vp.PROXY?ve(hn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Vp.NOPROXY&&ve(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function ip(){return typeof document<"u"?document:null}function wd(t){return new zD(t,!0)}class n1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const VE="PersistentStream";class i1{constructor(e,i,r,o,c,u,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===se.RESOURCE_EXHAUSTED?(Ms(i.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(VE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ve(VE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OV extends i1{constructor(e,i,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,u),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=FD(this.serializer,e),r=(function(c){if(!("targetChange"in c))return De.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?Ji(u.readTime):De.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=qp(this.serializer),i.addTarget=(function(c,u){let m;const g=u.target;if(m=Op(g)?{documents:KD(c,g)}:{query:YD(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Gb(c,u.resumeToken);const y=Up(c,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(De.min())>0){m.readTime=Jh(c,u.snapshotVersion.toTimestamp());const y=Up(c,u.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=XD(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=qp(this.serializer),i.removeTarget=e,this.q_(i)}}class LV extends i1{constructor(e,i,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GD(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=qp(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>HD(this.serializer,r)))};this.q_(i)}}class UV{}class zV extends UV{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,zp(i,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,zp(i,r),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BV{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(i),this.aa=!1):ve("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sa="RemoteStore";class qV{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Aa(this)&&(ve(Sa,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await kc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rd(y)})(this))}))})),this.Ra=new BV(r,o)}}async function Rd(t){if(Aa(t))for(const e of t.da)await e(!0)}async function kc(t){for(const e of t.da)await e(!1)}function s1(t,e){const i=Ie(t);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),$g(i)?Xg(i):Fo(i).O_()&&Qg(i,e))}function Yg(t,e){const i=Ie(t),r=Fo(i);i.Ia.delete(e),r.O_()&&r1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Aa(i)&&i.Ra.set("Unknown"))}function Qg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fo(t).Y_(e)}function r1(t,e){t.Va.Ue(e),Fo(t).Z_(e)}function Xg(t){t.Va=new kD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fo(t).start(),t.Ra.ua()}function $g(t){return Aa(t)&&!Fo(t).x_()&&t.Ia.size>0}function Aa(t){return Ie(t).Ea.size===0}function a1(t){t.Va=void 0}async function FV(t){t.Ra.set("Online")}async function HV(t){t.Ia.forEach(((e,i)=>{Qg(t,e)}))}async function GV(t,e){a1(t),$g(t)?(t.Ra.ha(e),Xg(t)):t.Ra.set("Unknown")}async function KV(t,e,i){if(t.Ra.set("Online"),e instanceof Hb&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(t,e)}catch(r){ve(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(t,r)}else if(e instanceof Ph?t.Va.Ze(e):e instanceof Fb?t.Va.st(e):t.Va.tt(e),!i.isEqual(De.min()))try{const r=await t1(t.localStore);i.compareTo(r)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,y)=>{const v=c.Ia.get(g);if(!v)return;c.Ia.set(g,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),r1(c,g);const T=new vr(v.target,g,y,v.sequenceNumber);Qg(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(t,i)}catch(r){ve(Sa,"Failed to raise snapshot:",r),await td(t,r)}}async function td(t,e,i){if(!Bo(e))throw e;t.Ea.add(1),await kc(t),t.Ra.set("Offline"),i||(i=()=>t1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Sa,"Retrying IndexedDB access"),await i(),t.Ea.delete(1),await Rd(t)}))}function o1(t,e){return e().catch((i=>td(t,i,e)))}async function Cd(t){const e=Ie(t),i=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ig;for(;YV(e);)try{const o=await CV(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,QV(e,o)}catch(o){await td(e,o)}l1(e)&&c1(e)}function YV(t){return Aa(t)&&t.Ta.length<10}function QV(t,e){t.Ta.push(e);const i=Cr(t);i.O_()&&i.X_&&i.ea(e.mutations)}function l1(t){return Aa(t)&&!Cr(t).x_()&&t.Ta.length>0}function c1(t){Cr(t).start()}async function XV(t){Cr(t).ra()}async function $V(t){const e=Cr(t);for(const i of t.Ta)e.ea(i.mutations)}async function ZV(t,e,i){const r=t.Ta.shift(),o=zg.from(r,e,i);await o1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Cd(t)}async function WV(t,e){e&&Cr(t).X_&&await(async function(r,o){if((function(u){return ID(u)&&u!==se.ABORTED})(o.code)){const c=r.Ta.shift();Cr(r).B_(),await o1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Cd(r)}})(t,e),l1(t)&&c1(t)}async function IE(t,e){const i=Ie(t);i.asyncQueue.verifyOperationInProgress(),ve(Sa,"RemoteStore received new credentials");const r=Aa(i);i.Ea.add(3),await kc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rd(i)}async function JV(t,e){const i=Ie(t);e?(i.Ea.delete(2),await Rd(i)):e||(i.Ea.add(2),await kc(i),i.Ra.set("Unknown"))}function Fo(t){return t.ma||(t.ma=(function(i,r,o){const c=Ie(i);return c.sa(),new OV(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:FV.bind(null,t),t_:HV.bind(null,t),r_:GV.bind(null,t),H_:KV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),$g(t)?Xg(t):t.Ra.set("Unknown")):(await t.ma.stop(),a1(t))}))),t.ma}function Cr(t){return t.fa||(t.fa=(function(i,r,o){const c=Ie(i);return c.sa(),new LV(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XV.bind(null,t),r_:WV.bind(null,t),ta:$V.bind(null,t),na:ZV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cd(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Sa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Zg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const u=Date.now()+r,m=new Zg(e,i,u,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),Bo(t))return new pe(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||we.comparator(i.key,r.key):(i,r)=>we.comparator(i.key,r.key),this.keyedMap=Zl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class ME{constructor(){this.ga=new vt(we.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Mo{constructor(e,i,r,o,c,u,m,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const u=[];return i.forEach((m=>{u.push({type:0,doc:m})})),new Mo(e,i,Ro.emptySet(i),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tI{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ie(i),c=o.queries;o.queries=PE(),c.forEach(((u,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function PE(){return new ba((t=>jb(t)),Ed)}async function Jg(t,e){const i=Ie(t);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new eI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(u){const m=Wg(u,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ty(i)}async function ey(t,e){const i=Ie(t),r=e.query;let o=3;const c=i.queries.get(r);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function nI(t,e){const i=Ie(t);let r=!1;for(const o of e){const c=o.query,u=i.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(r=!0);u.wa=o}}r&&ty(i)}function iI(t,e,i){const r=Ie(t),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function ty(t){t.Ca.forEach((e=>{e.next()}))}var Gp,kE;(kE=Gp||(Gp={})).Ma="default",kE.Cache="cache";class ny{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gp.Cache}}class u1{constructor(e){this.key=e}}class h1{constructor(e){this.key=e}}class sI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=Db(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new ME,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const S=o.get(v),w=xd(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;S&&w?S.data.isEqual(w.data)?V!==M&&(r.track({type:3,doc:w}),P=!0):this.su(S,w)||(r.track({type:2,doc:w}),P=!0,(g&&this.eu(w,g)>0||y&&this.eu(w,y)<0)&&(m=!0)):!S&&w?(r.track({type:0,doc:w}),P=!0):S&&!w&&(r.track({type:1,doc:S}),P=!0,(g||y)&&(m=!0)),P&&(w?(u=u.add(w),c=M?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:m,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,T)=>(function(w,V){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:P})}};return M(w)-M(V)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new Mo(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ME,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new h1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new u1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iy="SyncEngine";class rI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class aI{constructor(e){this.key=e,this.hu=!1}}class oI{constructor(e,i,r,o,c,u){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ba((m=>jb(m)),Ed),this.Iu=new Map,this.Eu=new Set,this.du=new vt(we.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lI(t,e,i=!0){const r=y1(t);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await d1(r,e,i,!0),o}async function cI(t,e){const i=y1(t);await d1(i,e,!0,!1)}async function d1(t,e,i,r){const o=await NV(t.localStore,Wi(e)),c=o.targetId,u=t.sharedClientState.addLocalQueryTarget(c,i);let m;return r&&(m=await uI(t,e,c,u==="current",o.resumeToken)),t.isPrimaryClient&&i&&s1(t.remoteStore,o),m}async function uI(t,e,i,r,o){t.pu=(T,S,w)=>(async function(M,P,k,B){let q=P.view.ru(k);q.Cs&&(q=await CE(M.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,q))));const he=B&&B.targetChanges.get(P.targetId),ee=B&&B.targetMismatches.get(P.targetId)!=null,ce=P.view.applyChanges(q,M.isPrimaryClient,he,ee);return LE(M,P.targetId,ce.au),ce.snapshot})(t,T,S,w);const c=await CE(t.localStore,e,!0),u=new sI(e,c.Qs),m=u.ru(c.documents),g=Pc.createSynthesizedTargetChangeForCurrentChange(i,r&&t.onlineState!=="Offline",o),y=u.applyChanges(m,t.isPrimaryClient,g);LE(t,i,y.au);const v=new rI(e,i,u);return t.Tu.set(e,v),t.Iu.has(i)?t.Iu.get(i).push(e):t.Iu.set(i,[e]),y.snapshot}async function hI(t,e,i){const r=Ie(t),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!Ed(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Yg(r.remoteStore,o.targetId),Kp(r,o.targetId)})).catch(zo)):(Kp(r,o.targetId),await Fp(r.localStore,o.targetId,!0))}async function dI(t,e){const i=Ie(t),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(i.remoteStore,r.targetId))}async function fI(t,e,i){const r=TI(t);try{const o=await(function(u,m){const g=Ie(u),y=ot.now(),v=m.reduce(((w,V)=>w.add(V.key)),Fe());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let V=Ps(),M=Fe();return g.Ns.getEntries(w,v).next((P=>{V=P,V.forEach(((k,B)=>{B.isValidDocument()||(M=M.add(k))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,V))).next((P=>{T=P;const k=[];for(const B of m){const q=CD(B,T.get(B.key).overlayedDocument);q!=null&&k.push(new Ir(B.key,q,xb(q.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(w,y,k,m)})).next((P=>{S=P;const k=P.applyToLocalDocumentSet(T,M);return g.documentOverlayCache.saveOverlays(w,P.batchId,k)}))})).then((()=>({batchId:S.batchId,changes:Ib(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new vt(qe)),y=y.insert(m,g),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,i),await Oc(r,o.changes),await Cd(r.remoteStore)}catch(o){const c=Wg(o,"Failed to persist write");i.reject(c)}}async function f1(t,e){const i=Ie(t);try{const r=await wV(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=i.Au.get(c);u&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Je(u.hu,14607):o.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Oc(i,r,e)}catch(r){await zo(r)}}function OE(t,e,i){const r=Ie(t);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=Ie(u);g.onlineState=m;let y=!1;g.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(m)&&(y=!0)})),y&&ty(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mI(t,e,i){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new vt(we.comparator);u=u.insert(c,fn.newNoDocument(c,De.min()));const m=Fe().add(c),g=new Ad(De.min(),new Map,new vt(qe),u,m);await f1(r,g),r.du=r.du.remove(c),r.Au.delete(e),sy(r)}else await Fp(r.localStore,e,!1).then((()=>Kp(r,e,i))).catch(zo)}async function pI(t,e){const i=Ie(t),r=e.batch.batchId;try{const o=await AV(i.localStore,e);p1(i,r,null),m1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(i,o)}catch(o){await zo(o)}}async function gI(t,e,i){const r=Ie(t);try{const o=await(function(u,m){const g=Ie(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Je(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);p1(r,e,i),m1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Oc(r,o)}catch(o){await zo(o)}}function m1(t,e){(t.mu.get(e)||[]).forEach((i=>{i.resolve()})),t.mu.delete(e)}function p1(t,e,i){const r=Ie(t);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Kp(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),i&&t.Pu.yu(r,i);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||g1(t,r)}))}function g1(t,e){t.Eu.delete(e.path.canonicalString());const i=t.du.get(e);i!==null&&(Yg(t.remoteStore,i),t.du=t.du.remove(e),t.Au.delete(i),sy(t))}function LE(t,e,i){for(const r of i)r instanceof u1?(t.Ru.addReference(r.key,e),yI(t,r)):r instanceof h1?(ve(iy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||g1(t,r.key)):je(19791,{wu:r})}function yI(t,e){const i=e.key,r=i.path.canonicalString();t.du.get(i)||t.Eu.has(r)||(ve(iy,"New document in limbo: "+i),t.Eu.add(r),sy(t))}function sy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const i=new we(ct.fromString(e)),r=t.fu.next();t.Au.set(r,new aI(i)),t.du=t.du.insert(i,r),s1(t.remoteStore,new vr(Wi(Td(i.path)),r,"TargetPurposeLimboResolution",yd.ce))}}async function Oc(t,e,i){const r=Ie(t),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{u.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const v=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Gg.As(g.targetId,y);c.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(g,y){const v=Ie(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>oe.forEach(y,(S=>oe.forEach(S.Es,(w=>v.persistence.referenceDelegate.addReference(T,S.targetId,w))).next((()=>oe.forEach(S.ds,(w=>v.persistence.referenceDelegate.removeReference(T,S.targetId,w)))))))))}catch(T){if(!Bo(T))throw T;ve(Kg,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const w=v.Ms.get(S),V=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(S,M)}}})(r.localStore,c))}async function vI(t,e){const i=Ie(t);if(!i.currentUser.isEqual(e)){ve(iy,"User change. New user:",e.toKey());const r=await e1(i.localStore,e);i.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new pe(se.CANCELLED,u))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(i,r.Ls)}}function _I(t,e){const i=Ie(t),r=i.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let o=Fe();const c=i.Iu.get(e);if(!c)return o;for(const u of c){const m=i.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function y1(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mI.bind(null,e),e.Pu.H_=nI.bind(null,e.eventManager),e.Pu.yu=iI.bind(null,e.eventManager),e}function TI(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bV(this.persistence,new EV,e.initialUser,this.serializer)}Cu(e){return new Jb(Hg.mi,this.serializer)}Du(e){return new DV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class EI extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aV(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Jb((r=>ed.mi(r,i)),this.serializer)}}class Yp{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await JV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tI})()}createDatastore(e){const i=wd(e.databaseInfo.databaseId),r=(function(c){return new kV(c)})(e.databaseInfo);return(function(c,u,m,g){return new zV(c,u,m,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,u,m){return new qV(r,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>OE(this.syncEngine,i,0)),(function(){return DE.v()?new DE:new VV})())}createSyncEngine(e,i){return(function(o,c,u,m,g,y,v){const T=new oI(o,c,u,m,g,y);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ie(i);ve(Sa,"RemoteStore shutting down."),r.Ea.add(5),await kc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yp.provider={build:()=>new Yp};class ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Nr="FirestoreClient";class xI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{ve(Nr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ve(Nr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sp(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Nr,"Initializing OfflineComponentProvider");const i=t.configuration;await e.initialize(i);let r=i.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await e1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UE(t,e){t.asyncQueue.verifyOperationInProgress();const i=await SI(t);ve(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,t.configuration),t.setCredentialChangeListener((r=>IE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>IE(e.remoteStore,o))),t._onlineComponents=e}async function SI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Nr,"Using user provided OfflineComponentProvider");try{await sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;No("Error using user provided cache. Falling back to memory cache: "+i),await sp(t,new nd)}}else ve(Nr,"Using default OfflineComponentProvider"),await sp(t,new EI(void 0));return t._offlineComponents}async function v1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Nr,"Using user provided OnlineComponentProvider"),await UE(t,t._uninitializedComponentsProvider._online)):(ve(Nr,"Using default OnlineComponentProvider"),await UE(t,new Yp))),t._onlineComponents}function bI(t){return v1(t).then((e=>e.syncEngine))}async function id(t){const e=await v1(t),i=e.eventManager;return i.onListen=lI.bind(null,e.syncEngine),i.onUnlisten=hI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),i}function AI(t,e,i={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const v=new ry({next:S=>{v.Nu(),u.enqueueAndForget((()=>ey(c,T)));const w=S.docs.has(m);!w&&S.fromCache?y.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&g&&g.source==="server"?y.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new ny(Td(m.path),v,{includeMetadataChanges:!0,qa:!0});return Jg(c,T)})(await id(t),t.asyncQueue,e,i,r))),r.promise}function wI(t,e,i={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const v=new ry({next:S=>{v.Nu(),u.enqueueAndForget((()=>ey(c,T))),S.fromCache&&g.source==="server"?y.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new ny(m,v,{includeMetadataChanges:!0,qa:!0});return Jg(c,T)})(await id(t),t.asyncQueue,e,i,r))),r.promise}function _1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const zE=new Map;const T1="firestore.googleapis.com",BE=!0;class qE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=BE}else this.host=e.host,this.ssl=e.ssl??BE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sV)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jj;switch(r.type){case"firstParty":return new Mj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=zE.get(i);r&&(ve("ComponentProvider","Removing Datastore"),zE.delete(i),r.terminate())})(this),Promise.resolve()}}function RI(t,e,i,r={}){t=Cn(t,Nd);const o=Ng(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${i}`;o&&(r2(`https://${m}`),c2("Firestore",!0)),c.host!==T1&&c.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!Hh(g,u)&&(t._setSettings(g),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=dn.MOCK_USER;else{y=a2(r.mockUserToken,t._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(T)}t._authCredentials=new Dj(new ub(y,v))}}class Us{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class St{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Ic(i,St._jsonSchema))return new St(e,r||null,new we(ct.fromString(i.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:qt("string",St._jsonSchemaVersion),referencePath:qt("string")};class Sr extends Us{constructor(e,i,r){super(e,i,Td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new we(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function wa(t,e,...i){if(t=ss(t),hb("collection","path",e),t instanceof Nd){const r=ct.fromString(e,...i);return tE(r),new Sr(t,null,r)}{if(!(t instanceof St||t instanceof Sr))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...i));return tE(r),new Sr(t.firestore,null,r)}}function ai(t,e,...i){if(t=ss(t),arguments.length===1&&(e=Vg.newId()),hb("doc","path",e),t instanceof Nd){const r=ct.fromString(e,...i);return eE(r),new St(t,null,new we(r))}{if(!(t instanceof St||t instanceof Sr))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...i));return eE(r),new St(t.firestore,t instanceof Sr?t.converter:null,new we(r))}}const FE="AsyncQueue";class HE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const r=ip();r&&ve(FE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=ip();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=ip();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;ve(FE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",GE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Zg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&je(47125,{Pc:GE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function GE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function KE(t){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(t,["next","error","complete"])}class ks extends Nd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new HE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function CI(t,e){const i=typeof t=="object"?t:_j(),r=typeof t=="string"?t:Qh,o=mj(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=i2("firestore");c&&RI(o,...c)}return o}function jd(t){if(t._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NI(t),t._firestoreClient}function NI(t){const e=t._freezeSettings(),i=(function(o,c,u,m){return new Wj(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xI(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(t._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(ln.fromBase64String(e))}catch(i){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:qt("string",ni._jsonSchemaVersion),bytes:qt("string")};class Dd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vd{constructor(e){this._methodName=e}}class es{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,es._jsonSchema))return new es(e.latitude,e.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:qt("string",es._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class ts{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ts(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ts._jsonSchemaVersion="firestore/vectorValue/1.0",ts._jsonSchema={type:qt("string",ts._jsonSchemaVersion),vectorValues:qt("object")};const jI=/^__.*__$/;class DI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new Mc(e,this.data,i,this.fieldTransforms)}}class E1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function x1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class ay{constructor(e,i,r,o,c,u){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ay({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(x1(this.Ac)&&jI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||wd(e)}Cc(e,i,r,o=!1){return new ay({Ac:e,methodName:i,Dc:r,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),i=wd(t._databaseId);return new VI(t._databaseId,!!e.ignoreUndefinedProperties,i)}function S1(t,e,i,r,o,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,i,o);ly("Data must be an object, but it was:",u,r);const m=b1(r,u);let g,y;if(c.merge)g=new Un(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const T of c.mergeFields){const S=Qp(e,T,i);if(!u.contains(S))throw new pe(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);w1(v,S)||v.push(S)}g=new Un(v),y=u.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=u.fieldTransforms;return new DI(new Rn(m),g,y)}class Md extends Vd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}class oy extends Vd{_toFieldTransform(e){return new bD(e.path,new Ec)}isEqual(e){return e instanceof oy}}function II(t,e,i,r){const o=t.Cc(1,e,i);ly("Data must be an object, but it was:",o,r);const c=[],u=Rn.empty();Vr(r,((g,y)=>{const v=cy(e,g,i);y=ss(y);const T=o.yc(v);if(y instanceof Md)c.push(v);else{const S=Lc(y,T);S!=null&&(c.push(v),u.set(v,S))}}));const m=new Un(c);return new E1(u,m,o.fieldTransforms)}function MI(t,e,i,r,o,c){const u=t.Cc(1,e,i),m=[Qp(e,r,i)],g=[o];if(c.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(Qp(e,c[S])),g.push(c[S+1]);const y=[],v=Rn.empty();for(let S=m.length-1;S>=0;--S)if(!w1(y,m[S])){const w=m[S];let V=g[S];V=ss(V);const M=u.yc(w);if(V instanceof Md)y.push(w);else{const P=Lc(V,M);P!=null&&(y.push(w),v.set(w,P))}}const T=new Un(y);return new E1(v,T,u.fieldTransforms)}function PI(t,e,i,r=!1){return Lc(i,t.Cc(r?4:3,e))}function Lc(t,e){if(A1(t=ss(t)))return ly("Unsupported field value:",e,t),b1(t,e);if(t instanceof Vd)return(function(r,o){if(!x1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const m of r){let g=Lc(m,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(t,e)}return(function(r,o){if((r=ss(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ED(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:Jh(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(o.serializer,c)}}if(r instanceof es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:Gb(o.serializer,r._byteString)};if(r instanceof St){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ts)return(function(u,m){return{mapValue:{fields:{[Tb]:{stringValue:Eb},[Xh]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Lg(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${gd(r)}`)})(t,e)}function b1(t,e){const i={};return mb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(t,((r,o)=>{const c=Lc(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function A1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof es||t instanceof ni||t instanceof St||t instanceof Vd||t instanceof ts)}function ly(t,e,i){if(!A1(i)||!db(i)){const r=gd(i);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Qp(t,e,i){if((e=ss(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return cy(t,e);throw sd("Field path arguments must be of type string or ",t,!1,void 0,i)}const kI=new RegExp("[~\\*/\\[\\]]");function cy(t,e,i){if(e.search(kI)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new Dd(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function sd(t,e,i,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new pe(se.INVALID_ARGUMENT,m+t+g)}function w1(t,e){return t.some((i=>i.isEqual(e)))}class R1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Pd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OI extends R1{data(){return super.data()}}function Pd(t,e){return typeof e=="string"?cy(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}function C1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class hy extends uy{}function ns(t,e,...i){let r=[];e instanceof uy&&r.push(e),r=r.concat(i),(function(c){const u=c.filter((g=>g instanceof dy)).length,m=c.filter((g=>g instanceof kd)).length;if(u>1||u>0&&m>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class kd extends hy{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new kd(e,i,r)}_apply(e){const i=this._parse(e);return j1(e._query,i),new Us(e.firestore,e.converter,Lp(e._query,i))}_parse(e){const i=Id(e.firestore);return(function(c,u,m,g,y,v,T){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){QE(T,v);const V=[];for(const M of T)V.push(YE(g,c,M));S={arrayValue:{values:V}}}else S=YE(g,c,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||QE(T,v),S=PI(m,u,T,v==="in"||v==="not-in");return Bt.create(y,v,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function N1(t,e,i){const r=e,o=Pd("where",t);return kd._create(o,r,i)}class dy extends uy{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dy(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:bi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const g of m)j1(u,g),u=Lp(u,g)})(e._query,i),new Us(e.firestore,e.converter,Lp(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fy extends hy{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new fy(e,i)}_apply(e){const i=(function(o,c,u){if(o.startAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(c,u)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new qo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Od(t,e="asc"){const i=e,r=Pd("orderBy",t);return fy._create(r,i)}class my extends hy{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new my(e,i,r)}_apply(e){return new Us(e.firestore,e.converter,Zh(e._query,this._limit,this._limitType))}}function LI(t){return Bj("limit",t),my._create("limit",t,"F")}function YE(t,e,i){if(typeof(i=ss(i))=="string"){if(i==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nb(e)&&i.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ct.fromString(i));if(!we.isDocumentKey(r))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cE(t,new we(r))}if(i instanceof St)return cE(t,i._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(i)}.`)}function QE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j1(t,e){const i=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class UI{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Vr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Xh].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new ts(i)}convertGeoPoint(e){return new es(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=_d(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new ot(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ct.fromString(e);Je(Zb(r),9688,{name:e});const o=new vc(r.get(1),r.get(3)),c=new we(r.popFirst(5));return o.isEqual(i)||Ms(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function D1(t,e,i){let r;return r=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,r}class Jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends R1{constructor(e,i,r,o,c,u){super(e,i,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_a._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:qt("string",_a._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class kh extends _a{data(e={}){return super.data(e)}}class Ta{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new kh(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:zI(m.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}function py(t){t=Cn(t,St);const e=Cn(t.firestore,ks);return AI(jd(e),t._key).then((i=>M1(e,t,i)))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:qt("string",Ta._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class gy extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,i)}}function Ld(t){t=Cn(t,Us);const e=Cn(t.firestore,ks),i=jd(e),r=new gy(e);return C1(t._query),wI(i,t._query).then((o=>new Ta(e,r,t,o)))}function yy(t,e,i){t=Cn(t,St);const r=Cn(t.firestore,ks),o=D1(t.converter,e,i);return Ud(r,[S1(Id(r),"setDoc",t._key,o,t.converter!==null,i).toMutation(t._key,si.none())])}function vy(t,e,i,...r){t=Cn(t,St);const o=Cn(t.firestore,ks),c=Id(o);let u;return u=typeof(e=ss(e))=="string"||e instanceof Dd?MI(c,"updateDoc",t._key,e,i,r):II(c,"updateDoc",t._key,e),Ud(o,[u.toMutation(t._key,si.exists(!0))])}function V1(t){return Ud(Cn(t.firestore,ks),[new Ug(t._key,si.none())])}function I1(t,e){const i=Cn(t.firestore,ks),r=ai(t),o=D1(t.converter,e);return Ud(i,[S1(Id(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then((()=>r))}function BI(t,...e){t=ss(t);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||KE(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(KE(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,u,m;if(t instanceof St)u=Cn(t.firestore,ks),m=Td(t._key.path),c={next:g=>{e[r]&&e[r](M1(u,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Cn(t,Us);u=Cn(g.firestore,ks),m=g._query;const y=new gy(u);c={next:v=>{e[r]&&e[r](new Ta(u,y,g,v))},error:e[r+1],complete:e[r+2]},C1(t._query)}return(function(y,v,T,S){const w=new ry(S),V=new ny(v,w,T);return y.asyncQueue.enqueueAndForget((async()=>Jg(await id(y),V))),()=>{w.Nu(),y.asyncQueue.enqueueAndForget((async()=>ey(await id(y),V)))}})(jd(u),m,o,c)}function Ud(t,e){return(function(r,o){const c=new js;return r.asyncQueue.enqueueAndForget((async()=>fI(await bI(r),o,c))),c.promise})(jd(t),e)}function M1(t,e,i){const r=i.docs.get(e._key),o=new gy(t);return new _a(t,o,e._key,r,new Jl(i.hasPendingWrites,i.fromCache),e.converter)}function rd(){return new oy("serverTimestamp")}(function(e,i=!0){(function(o){Uo=o})(vj),Kh(new mc("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),m=new ks(new Vj(r.getProvider("auth-internal")),new Pj(u,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(y.options.projectId,v)})(u,o),u);return c={useFetchStreams:i,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),wo($T,ZT,e),wo($T,ZT,"esm2020")})();var qI="firebase",FI="12.7.0";wo(qI,FI,"app");const HI={apiKey:"AIzaSyBLudSWDzq8_frN8BRVTHXJKMih7QnHFN8",authDomain:"xantos-pizza-grill.firebaseapp.com",projectId:"xantos-pizza-grill",storageBucket:"xantos-pizza-grill.firebasestorage.app",messagingSenderId:"500986013090",appId:"1:500986013090:web:1664fe5fc1f014b62d3efb"},GI=eb(HI),Zt=CI(GI);async function Xp(){try{const t=ns(wa(Zt,"products"),Od("category"));return(await Ld(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error fetching products:",t),t}}async function KI(t){try{const e=await I1(wa(Zt,"products"),t);return await _y(),e.id}catch(e){throw console.error("Error creating product:",e),e}}async function YI(t,e){try{const i=ai(Zt,"products",t);await vy(i,e),await _y()}catch(i){throw console.error("Error updating product:",i),i}}async function QI(t){try{const e=ai(Zt,"products",t);await V1(e),await _y()}catch(e){throw console.error("Error deleting product:",e),e}}async function oc(){try{const t=ai(Zt,"metadata","products"),e=await py(t);if(e.exists()){const r=e.data().lastUpdated;if(r)return r.toDate?r.toDate():new Date(r)}return null}catch(t){return console.error("Error fetching products metadata:",t),null}}async function _y(){try{const t=ai(Zt,"metadata","products");await yy(t,{lastUpdated:rd()},{merge:!0})}catch(t){console.error("Error updating products metadata:",t)}}async function XE(t){try{const e=ai(Zt,"metadata","products");await yy(e,{mostPopularProductIds:t,mostPopularLastUpdated:rd(),lastUpdated:rd()},{merge:!0})}catch(e){throw console.error("Error setting most popular product IDs:",e),e}}async function ad(){try{const t=ai(Zt,"metadata","products"),e=await py(t);if(e.exists()){const i=e.data(),r=i.mostPopularProductIds||[];let o=null;const c=i.mostPopularLastUpdated;return c&&(c.toDate?o=c.toDate():o=new Date(c)),{lastUpdated:o,productIds:r}}return{lastUpdated:null,productIds:[]}}catch(t){return console.error("Error fetching most popular metadata and IDs:",t),{lastUpdated:null,productIds:[]}}}const Ty=j.createContext({});function zd(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const P1=typeof window<"u",Ey=P1?j.useLayoutEffect:j.useEffect,Bd=j.createContext(null);function xy(t,e){t.indexOf(e)===-1&&t.push(e)}function Sy(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const as=(t,e,i)=>i>e?e:i<t?t:i;let by=()=>{};const Os={},k1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function O1(t){return typeof t=="object"&&t!==null}const L1=t=>/^0[^.\s]+$/u.test(t);function Ay(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,XI=(t,e)=>i=>e(t(i)),Uc=(...t)=>t.reduce(XI),bc=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class wy{constructor(){this.subscriptions=[]}add(e){return xy(this.subscriptions,e),()=>Sy(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ds=t=>t*1e3,ii=t=>t/1e3;function U1(t,e){return e?t*(1e3/e):0}const z1=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,$I=1e-7,ZI=12;function WI(t,e,i,r,o){let c,u,m=0;do u=e+(i-e)/2,c=z1(u,r,o)-t,c>0?i=u:e=u;while(Math.abs(c)>$I&&++m<ZI);return u}function zc(t,e,i,r){if(t===e&&i===r)return ri;const o=c=>WI(c,0,1,t,i);return c=>c===0||c===1?c:z1(o(c),e,r)}const B1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,q1=t=>e=>1-t(1-e),F1=zc(.33,1.53,.69,.99),Ry=q1(F1),H1=B1(Ry),G1=t=>(t*=2)<1?.5*Ry(t):.5*(2-Math.pow(2,-10*(t-1))),Cy=t=>1-Math.sin(Math.acos(t)),K1=q1(Cy),Y1=B1(Cy),JI=zc(.42,0,1,1),eM=zc(0,0,.58,1),Q1=zc(.42,0,.58,1),tM=t=>Array.isArray(t)&&typeof t[0]!="number",X1=t=>Array.isArray(t)&&typeof t[0]=="number",nM={linear:ri,easeIn:JI,easeInOut:Q1,easeOut:eM,circIn:Cy,circInOut:Y1,circOut:K1,backIn:Ry,backInOut:H1,backOut:F1,anticipate:G1},iM=t=>typeof t=="string",$E=t=>{if(X1(t)){by(t.length===4);const[e,i,r,o]=t;return zc(e,i,r,o)}else if(iM(t))return nM[t];return t},Th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sM(t,e){let i=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(v){u.has(v)&&(y.schedule(v),t()),v(m)}const y={schedule:(v,T=!1,S=!1)=>{const V=S&&o?i:r;return T&&u.add(v),V.has(v)||V.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(m=v,o){c=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),i.clear(),o=!1,c&&(c=!1,y.process(v))}};return y}const rM=40;function $1(t,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,u=Th.reduce((q,he)=>(q[he]=sM(c),q),{}),{setup:m,read:g,resolveKeyframes:y,preUpdate:v,update:T,preRender:S,render:w,postRender:V}=u,M=()=>{const q=Os.useManualTiming?o.timestamp:performance.now();i=!1,Os.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,rM),1)),o.timestamp=q,o.isProcessing=!0,m.process(o),g.process(o),y.process(o),v.process(o),T.process(o),S.process(o),w.process(o),V.process(o),o.isProcessing=!1,i&&e&&(r=!1,t(M))},P=()=>{i=!0,r=!0,o.isProcessing||t(M)};return{schedule:Th.reduce((q,he)=>{const ee=u[he];return q[he]=(ce,N=!1,R=!1)=>(i||P(),ee.schedule(ce,N,R)),q},{}),cancel:q=>{for(let he=0;he<Th.length;he++)u[Th[he]].cancel(q)},state:o,steps:u}}const{schedule:ft,cancel:jr,state:rn,steps:rp}=$1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let Oh;function aM(){Oh=void 0}const yn={now:()=>(Oh===void 0&&yn.set(rn.isProcessing||Os.useManualTiming?rn.timestamp:performance.now()),Oh),set:t=>{Oh=t,queueMicrotask(aM)}},Z1=t=>e=>typeof e=="string"&&e.startsWith(t),W1=Z1("--"),oM=Z1("var(--"),Ny=t=>oM(t)?lM.test(t.split("/*")[0].trim()):!1,lM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ZE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Ho={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ac={...Ho,transform:t=>as(0,1,t)},Eh={...Ho,default:1},lc=t=>Math.round(t*1e5)/1e5,jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cM(t){return t==null}const uM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dy=(t,e)=>i=>!!(typeof i=="string"&&uM.test(i)&&i.startsWith(t)||e&&!cM(i)&&Object.prototype.hasOwnProperty.call(i,e)),J1=(t,e,i)=>r=>{if(typeof r!="string")return r;const[o,c,u,m]=r.match(jy);return{[t]:parseFloat(o),[e]:parseFloat(c),[i]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},hM=t=>as(0,255,t),ap={...Ho,transform:t=>Math.round(hM(t))},ya={test:Dy("rgb","red"),parse:J1("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+ap.transform(t)+", "+ap.transform(e)+", "+ap.transform(i)+", "+lc(Ac.transform(r))+")"};function dM(t){let e="",i="",r="",o="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const $p={test:Dy("#"),parse:dM,transform:ya.transform},Bc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yr=Bc("deg"),is=Bc("%"),Ee=Bc("px"),fM=Bc("vh"),mM=Bc("vw"),WE={...is,parse:t=>is.parse(t)/100,transform:t=>is.transform(t*100)},Eo={test:Dy("hsl","hue"),parse:J1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+is.transform(lc(e))+", "+is.transform(lc(i))+", "+lc(Ac.transform(r))+")"},zt={test:t=>ya.test(t)||$p.test(t)||Eo.test(t),parse:t=>ya.test(t)?ya.parse(t):Eo.test(t)?Eo.parse(t):$p.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ya.transform(t):Eo.transform(t),getAnimatableNone:t=>{const e=zt.parse(t);return e.alpha=0,zt.transform(e)}},pM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gM(t){return isNaN(t)&&typeof t=="string"&&(t.match(jy)?.length||0)+(t.match(pM)?.length||0)>0}const eA="number",tA="color",yM="var",vM="var(",JE="${}",_M=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let c=0;const m=e.replace(_M,g=>(zt.test(g)?(r.color.push(c),o.push(tA),i.push(zt.parse(g))):g.startsWith(vM)?(r.var.push(c),o.push(yM),i.push(g)):(r.number.push(c),o.push(eA),i.push(parseFloat(g))),++c,JE)).split(JE);return{values:i,split:m,indexes:r,types:o}}function nA(t){return wc(t).values}function iA(t){const{split:e,types:i}=wc(t),r=e.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=e[u],o[u]!==void 0){const m=i[u];m===eA?c+=lc(o[u]):m===tA?c+=zt.transform(o[u]):c+=o[u]}return c}}const TM=t=>typeof t=="number"?0:zt.test(t)?zt.getAnimatableNone(t):t;function EM(t){const e=nA(t);return iA(t)(e.map(TM))}const Dr={test:gM,parse:nA,createTransformer:iA,getAnimatableNone:EM};function op(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function xM({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let o=0,c=0,u=0;if(!e)o=c=u=i;else{const m=i<.5?i*(1+e):i+e-i*e,g=2*i-m;o=op(g,m,t+1/3),c=op(g,m,t),u=op(g,m,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function od(t,e){return i=>i>0?e:t}const gt=(t,e,i)=>t+(e-t)*i,lp=(t,e,i)=>{const r=t*t,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},SM=[$p,ya,Eo],bM=t=>SM.find(e=>e.test(t));function ex(t){const e=bM(t);if(!e)return!1;let i=e.parse(t);return e===Eo&&(i=xM(i)),i}const tx=(t,e)=>{const i=ex(t),r=ex(e);if(!i||!r)return od(t,e);const o={...i};return c=>(o.red=lp(i.red,r.red,c),o.green=lp(i.green,r.green,c),o.blue=lp(i.blue,r.blue,c),o.alpha=gt(i.alpha,r.alpha,c),ya.transform(o))},Zp=new Set(["none","hidden"]);function AM(t,e){return Zp.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function wM(t,e){return i=>gt(t,e,i)}function Vy(t){return typeof t=="number"?wM:typeof t=="string"?Ny(t)?od:zt.test(t)?tx:NM:Array.isArray(t)?sA:typeof t=="object"?zt.test(t)?tx:RM:od}function sA(t,e){const i=[...t],r=i.length,o=t.map((c,u)=>Vy(c)(c,e[u]));return c=>{for(let u=0;u<r;u++)i[u]=o[u](c);return i}}function RM(t,e){const i={...t,...e},r={};for(const o in i)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Vy(t[o])(t[o],e[o]));return o=>{for(const c in r)i[c]=r[c](o);return i}}function CM(t,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][r[c]],m=t.values[u]??0;i[o]=m,r[c]++}return i}const NM=(t,e)=>{const i=Dr.createTransformer(e),r=wc(t),o=wc(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Zp.has(t)&&!o.values.length||Zp.has(e)&&!r.values.length?AM(t,e):Uc(sA(CM(r,o),o.values),i):od(t,e)};function rA(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?gt(t,e,i):Vy(t)(t,e)}const jM=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ft.update(e,i),stop:()=>jr(e),now:()=>rn.isProcessing?rn.timestamp:yn.now()}},aA=(t,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let c=0;c<o;c++)r+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ld=2e4;function Iy(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<ld;)e+=i,r=t.next(e);return e>=ld?1/0:e}function DM(t,e=100,i){const r=i({...t,keyframes:[0,e]}),o=Math.min(Iy(r),ld);return{type:"keyframes",ease:c=>r.next(o*c).value/e,duration:ii(o)}}const VM=5;function oA(t,e,i){const r=Math.max(e-VM,0);return U1(i-t(r),e-r)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cp=.001;function IM({duration:t=xt.duration,bounce:e=xt.bounce,velocity:i=xt.velocity,mass:r=xt.mass}){let o,c,u=1-e;u=as(xt.minDamping,xt.maxDamping,u),t=as(xt.minDuration,xt.maxDuration,ii(t)),u<1?(o=y=>{const v=y*u,T=v*t,S=v-i,w=Wp(y,u),V=Math.exp(-T);return cp-S/w*V},c=y=>{const T=y*u*t,S=T*i+i,w=Math.pow(u,2)*Math.pow(y,2)*t,V=Math.exp(-T),M=Wp(Math.pow(y,2),u);return(-o(y)+cp>0?-1:1)*((S-w)*V)/M}):(o=y=>{const v=Math.exp(-y*t),T=(y-i)*t+1;return-cp+v*T},c=y=>{const v=Math.exp(-y*t),T=(i-y)*(t*t);return v*T});const m=5/t,g=PM(o,c,m);if(t=Ds(t),isNaN(g))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const y=Math.pow(g,2)*r;return{stiffness:y,damping:u*2*Math.sqrt(r*y),duration:t}}}const MM=12;function PM(t,e,i){let r=i;for(let o=1;o<MM;o++)r=r-t(r)/e(r);return r}function Wp(t,e){return t*Math.sqrt(1-e*e)}const kM=["duration","bounce"],OM=["stiffness","damping","mass"];function nx(t,e){return e.some(i=>t[i]!==void 0)}function LM(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!nx(t,OM)&&nx(t,kM))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,c=2*as(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:xt.mass,stiffness:o,damping:c}}else{const i=IM(t);e={...e,...i,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function cd(t=xt.visualDuration,e=xt.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=i;const c=i.keyframes[0],u=i.keyframes[i.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:y,mass:v,duration:T,velocity:S,isResolvedFromDuration:w}=LM({...i,velocity:-ii(i.velocity||0)}),V=S||0,M=y/(2*Math.sqrt(g*v)),P=u-c,k=ii(Math.sqrt(g/v)),B=Math.abs(P)<5;r||(r=B?xt.restSpeed.granular:xt.restSpeed.default),o||(o=B?xt.restDelta.granular:xt.restDelta.default);let q;if(M<1){const ee=Wp(k,M);q=ce=>{const N=Math.exp(-M*k*ce);return u-N*((V+M*k*P)/ee*Math.sin(ee*ce)+P*Math.cos(ee*ce))}}else if(M===1)q=ee=>u-Math.exp(-k*ee)*(P+(V+k*P)*ee);else{const ee=k*Math.sqrt(M*M-1);q=ce=>{const N=Math.exp(-M*k*ce),R=Math.min(ee*ce,300);return u-N*((V+M*k*P)*Math.sinh(R)+ee*P*Math.cosh(R))/ee}}const he={calculatedDuration:w&&T||null,next:ee=>{const ce=q(ee);if(w)m.done=ee>=T;else{let N=ee===0?V:0;M<1&&(N=ee===0?Ds(V):oA(q,ee,ce));const R=Math.abs(N)<=r,D=Math.abs(u-ce)<=o;m.done=R&&D}return m.value=m.done?u:ce,m},toString:()=>{const ee=Math.min(Iy(he),ld),ce=aA(N=>he.next(ee*N).value,ee,30);return ee+"ms "+ce},toTransition:()=>{}};return he}cd.applyToOptions=t=>{const e=DM(t,100,cd);return t.ease=e.ease,t.duration=Ds(e.duration),t.type="keyframes",t};function Jp({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:y=.5,restSpeed:v}){const T=t[0],S={done:!1,value:T},w=R=>m!==void 0&&R<m||g!==void 0&&R>g,V=R=>m===void 0?g:g===void 0||Math.abs(m-R)<Math.abs(g-R)?m:g;let M=i*e;const P=T+M,k=u===void 0?P:u(P);k!==P&&(M=k-T);const B=R=>-M*Math.exp(-R/r),q=R=>k+B(R),he=R=>{const D=B(R),U=q(R);S.done=Math.abs(D)<=y,S.value=S.done?k:U};let ee,ce;const N=R=>{w(S.value)&&(ee=R,ce=cd({keyframes:[S.value,V(S.value)],velocity:oA(q,R,S.value),damping:o,stiffness:c,restDelta:y,restSpeed:v}))};return N(0),{calculatedDuration:null,next:R=>{let D=!1;return!ce&&ee===void 0&&(D=!0,he(R),N(R)),ee!==void 0&&R>=ee?ce.next(R-ee):(!D&&he(R),S)}}}function UM(t,e,i){const r=[],o=i||Os.mix||rA,c=t.length-1;for(let u=0;u<c;u++){let m=o(t[u],t[u+1]);if(e){const g=Array.isArray(e)?e[u]||ri:e;m=Uc(g,m)}r.push(m)}return r}function zM(t,e,{clamp:i=!0,ease:r,mixer:o}={}){const c=t.length;if(by(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=UM(e,r,o),g=m.length,y=v=>{if(u&&v<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const S=bc(t[T],t[T+1],v);return m[T](S)};return i?v=>y(as(t[0],t[c-1],v)):y}function BM(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const o=bc(0,e,r);t.push(gt(i,1,o))}}function qM(t){const e=[0];return BM(e,t.length-1),e}function FM(t,e){return t.map(i=>i*e)}function HM(t,e){return t.map(()=>e||Q1).splice(0,t.length-1)}function cc({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=tM(r)?r.map($E):$E(r),c={done:!1,value:e[0]},u=FM(i&&i.length===e.length?i:qM(e),t),m=zM(u,e,{ease:Array.isArray(o)?o:HM(e,o)});return{calculatedDuration:t,next:g=>(c.value=m(g),c.done=g>=t,c)}}const GM=t=>t!==null;function My(t,{repeat:e,repeatType:i="loop"},r,o=1){const c=t.filter(GM),m=o<0||e&&i!=="loop"&&e%2===1?0:c.length-1;return!m||r===void 0?c[m]:r}const KM={decay:Jp,inertia:Jp,tween:cc,keyframes:cc,spring:cd};function lA(t){typeof t.type=="string"&&(t.type=KM[t.type])}class Py{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const YM=t=>t/100;class ky extends Py{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lA(e);const{type:i=cc,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:m}=e;const g=i||cc;g!==cc&&typeof m[0]!="number"&&(this.mixKeyframes=Uc(YM,rA(m[0],m[1])),m=[0,100]);const y=g({...e,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=Iy(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:v,repeat:T,repeatType:S,repeatDelay:w,type:V,onUpdate:M,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const k=this.currentTime-y*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?k<0:k>o;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,he=r;if(T){const R=Math.min(this.currentTime,o)/m;let D=Math.floor(R),U=R%1;!U&&R>=1&&(U=1),U===1&&D--,D=Math.min(D,T+1),!!(D%2)&&(S==="reverse"?(U=1-U,w&&(U-=w/m)):S==="mirror"&&(he=u)),q=as(0,1,U)*m}const ee=B?{done:!1,value:v[0]}:he.next(q);c&&(ee.value=c(ee.value));let{done:ce}=ee;!B&&g!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return N&&V!==Jp&&(ee.value=My(v,this.options,P,this.speed)),M&&M(ee.value),N&&this.finish(),ee}then(e,i){return this.finished.then(e,i)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){e=Ds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=jM,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function QM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const va=t=>t*180/Math.PI,eg=t=>{const e=va(Math.atan2(t[1],t[0]));return tg(e)},XM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:eg,rotateZ:eg,skewX:t=>va(Math.atan(t[1])),skewY:t=>va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tg=t=>(t=t%360,t<0&&(t+=360),t),ix=eg,sx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$M={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sx,scaleY:rx,scale:t=>(sx(t)+rx(t))/2,rotateX:t=>tg(va(Math.atan2(t[6],t[5]))),rotateY:t=>tg(va(Math.atan2(-t[2],t[0]))),rotateZ:ix,rotate:ix,skewX:t=>va(Math.atan(t[4])),skewY:t=>va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ng(t){return t.includes("scale")?1:0}function ig(t,e){if(!t||t==="none")return ng(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=$M,o=i;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XM,o=m}if(!o)return ng(e);const c=r[e],u=o[1].split(",").map(WM);return typeof c=="function"?c(u):u[c]}const ZM=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return ig(i,e)};function WM(t){return parseFloat(t.trim())}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(Go),ax=t=>t===Ho||t===Ee,JM=new Set(["x","y","z"]),e4=Go.filter(t=>!JM.has(t));function t4(t){const e=[];return e4.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const _r={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ig(e,"x"),y:(t,{transform:e})=>ig(e,"y")};_r.translateX=_r.x;_r.translateY=_r.y;const Ea=new Set;let sg=!1,rg=!1,ag=!1;function cA(){if(rg){const t=Array.from(Ea).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=t4(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rg=!1,sg=!1,Ea.forEach(t=>t.complete(ag)),Ea.clear()}function uA(){Ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rg=!0)})}function n4(){ag=!0,uA(),cA(),ag=!1}class Oy{constructor(e,i,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ea.add(this),sg||(sg=!0,ft.read(uA),ft.resolveKeyframes(cA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&i){const m=r.readValue(i,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}QM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ea.delete(this)}cancel(){this.state==="scheduled"&&(Ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const i4=t=>t.startsWith("--");function s4(t,e,i){i4(e)?t.style.setProperty(e,i):t.style[e]=i}const r4=Ay(()=>window.ScrollTimeline!==void 0),a4={};function o4(t,e){const i=Ay(t);return()=>a4[e]??i()}const hA=o4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ec=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,ox={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ec([0,.65,.55,1]),circOut:ec([.55,0,1,.45]),backIn:ec([.31,.01,.66,-.59]),backOut:ec([.33,1.53,.69,.99])};function dA(t,e){if(t)return typeof t=="function"?hA()?aA(t,e):"ease-out":X1(t)?ec(t):Array.isArray(t)?t.map(i=>dA(i,e)||ox.easeOut):ox[t]}function l4(t,e,i,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},y=void 0){const v={[e]:i};g&&(v.offset=g);const T=dA(m,o);Array.isArray(T)&&(v.easing=T);const S={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),t.animate(v,S)}function fA(t){return typeof t=="function"&&"applyToOptions"in t}function c4({type:t,...e}){return fA(t)&&hA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class u4 extends Py{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,by(typeof e.type!="string");const y=c4(e);this.animation=l4(i,r,o,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const v=My(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):s4(i,r,v),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&r4()?(this.animation.timeline=e,ri):i(this)}}const mA={anticipate:G1,backInOut:H1,circInOut:Y1};function h4(t){return t in mA}function d4(t){typeof t.ease=="string"&&h4(t.ease)&&(t.ease=mA[t.ease])}const up=10;class f4 extends u4{constructor(e){d4(e),lA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const m=new ky({...u,autoplay:!1}),g=Math.max(up,yn.now()-this.startTime),y=as(0,up,g-up);i.setWithVelocity(m.sample(Math.max(0,g-y)).value,m.sample(g).value,y),m.stop()}}const lx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dr.test(t)||t==="0")&&!t.startsWith("url("));function m4(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function p4(t,e,i,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=lx(o,e),m=lx(c,e);return!u||!m?!1:m4(t)||(i==="spring"||fA(i))&&r}function og(t){t.duration=0,t.type="keyframes"}const g4=new Set(["opacity","clipPath","filter","transform"]),y4=Ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function v4(t){const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=e.owner.getProps();return y4()&&i&&g4.has(i)&&(i!=="transform"||!y)&&!g&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const _4=40;class T4 extends Py{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:y,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const S={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:c,repeatType:u,name:g,motionValue:y,element:v,...T},w=v?.KeyframeResolver||Oy;this.keyframeResolver=new w(m,(V,M,P)=>this.onKeyframesResolved(V,M,S,!P),g,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:y,onUpdate:v}=r;this.resolvedAt=yn.now(),p4(e,c,u,m)||((Os.instantAnimations||!g)&&v?.(My(e,r,i)),e[0]=e[e.length-1],og(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>_4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},w=!y&&v4(S)?new f4({...S,element:S.motionValue.owner.current}):new ky(S);w.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),n4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const E4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x4(t){const e=E4.exec(t);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function pA(t,e,i=1){const[r,o]=x4(t);if(!r)return;const c=window.getComputedStyle(e).getPropertyValue(r);if(c){const u=c.trim();return k1(u)?parseFloat(u):u}return Ny(o)?pA(o,e,i+1):o}function Ly(t,e){return t?.[e]??t?.default??t}const S4={type:"spring",stiffness:500,damping:25,restSpeed:10},b4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A4={type:"keyframes",duration:.8},w4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R4=(t,{keyframes:e})=>e.length>2?A4:Ko.has(t)?t.startsWith("scale")?b4(e[1]):S4:w4;function C4({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:y,...v}){return!!Object.keys(v).length}const N4=t=>t!==null;function j4(t,{repeat:e,repeatType:i="loop"},r){const o=t.filter(N4),c=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[c]}function gA(t,e,i,r=0,o=1){const c=Array.from(t).sort((y,v)=>y.sortNodePosition(v)).indexOf(e),u=t.size,m=(u-1)*r;return typeof i=="function"?i(c,u):o===1?c*r:m-c*r}const Uy=(t,e,i,r={},o,c)=>u=>{const m=Ly(r,t)||{},g=m.delay||r.delay||0;let{elapsed:y=0}=r;y=y-Ds(g);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-y,onUpdate:S=>{e.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:c?void 0:o};C4(m)||Object.assign(v,R4(t,v)),v.duration&&(v.duration=Ds(v.duration)),v.repeatDelay&&(v.repeatDelay=Ds(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(og(v),v.delay===0&&(T=!0)),(Os.instantAnimations||Os.skipAnimations)&&(T=!0,og(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,T&&!c&&e.get()!==void 0){const S=j4(v.keyframes,m);if(S!==void 0){ft.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new ky(v):new T4(v)},yA=new Set(["width","height","top","left","right","bottom",...Go]),cx=30,D4=t=>!isNaN(parseFloat(t));class V4{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=yn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=D4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new wy);const r=this.events[e].add(i);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cx)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,cx);return U1(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(t,e){return new V4(t,e)}function ux(t){const e=[{},{}];return t?.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function zy(t,e,i,r){if(typeof e=="function"){const[o,c]=ux(r);e=e(i!==void 0?i:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=ux(r);e=e(i!==void 0?i:t.custom,o,c)}return e}function Co(t,e,i){const r=t.getProps();return zy(r,e,i!==void 0?i:r.custom,t)}const lg=t=>Array.isArray(t);function I4(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Po(i))}function M4(t){return lg(t)?t[t.length-1]||0:t}function By(t,e){const i=Co(t,e);let{transitionEnd:r={},transition:o={},...c}=i||{};c={...c,...r};for(const u in c){const m=M4(c[u]);I4(t,u,m)}}const mn=t=>!!(t&&t.getVelocity);function P4(t){return!!(mn(t)&&t.add)}function cg(t,e){const i=t.getValue("willChange");if(P4(i))return i.add(e);if(!i&&Os.WillChange){const r=new Os.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function qy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const k4="framerAppearId",vA="data-"+qy(k4);function _A(t){return t.props[vA]}function O4({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function TA(t,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...m}=e;r&&(c=r);const g=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const v in m){const T=t.getValue(v,t.latestValues[v]??null),S=m[v];if(S===void 0||y&&O4(y,v))continue;const w={delay:i,...Ly(c||{},v)},V=T.get();if(V!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===V&&!w.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const k=_A(t);if(k){const B=window.MotionHandoffAnimation(k,v,ft);B!==null&&(w.startTime=B,M=!0)}}cg(t,v),T.start(Uy(v,T,S,t.shouldReduceMotion&&yA.has(v)?{type:!1}:w,t,M));const P=T.animation;P&&g.push(P)}return u&&Promise.all(g).then(()=>{ft.update(()=>{u&&By(t,u)})}),g}function ug(t,e,i={}){const r=Co(t,e,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const c=r?()=>Promise.all(TA(t,r,i)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:T}=o;return L4(t,e,g,y,v,T,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,y]=m==="beforeChildren"?[c,u]:[u,c];return g().then(()=>y())}else return Promise.all([c(),u(i.delay)])}function L4(t,e,i=0,r=0,o=0,c=1,u){const m=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),m.push(ug(g,e,{...u,delay:i+(typeof r=="function"?0:r)+gA(t.variantChildren,g,r,o,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function EA(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(c=>ug(t,c,i));r=Promise.all(o)}else if(typeof e=="string")r=ug(t,e,i);else{const o=typeof e=="function"?Co(t,e,i.custom):e;r=Promise.all(TA(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}const U4={test:t=>t==="auto",parse:t=>t},xA=t=>e=>e.test(t),SA=[Ho,Ee,is,yr,mM,fM,U4],hx=t=>SA.find(xA(t));function z4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||L1(t):!0}const B4=new Set(["brightness","contrast","saturate","opacity"]);function q4(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(jy)||[];if(!r)return t;const o=i.replace(r,"");let c=B4.has(e)?1:0;return r!==i&&(c*=100),e+"("+c+o+")"}const F4=/\b([a-z-]*)\(.*?\)/gu,hg={...Dr,getAnimatableNone:t=>{const e=t.match(F4);return e?e.map(q4).join(" "):t}},dx={...Ho,transform:Math.round},H4={rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:yr,skewX:yr,skewY:yr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Ac,originX:WE,originY:WE,originZ:Ee},Fy={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,inset:Ee,insetBlock:Ee,insetBlockStart:Ee,insetBlockEnd:Ee,insetInline:Ee,insetInlineStart:Ee,insetInlineEnd:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,paddingBlock:Ee,paddingBlockStart:Ee,paddingBlockEnd:Ee,paddingInline:Ee,paddingInlineStart:Ee,paddingInlineEnd:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,marginBlock:Ee,marginBlockStart:Ee,marginBlockEnd:Ee,marginInline:Ee,marginInlineStart:Ee,marginInlineEnd:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...H4,zIndex:dx,fillOpacity:Ac,strokeOpacity:Ac,numOctaves:dx},G4={...Fy,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:hg,WebkitFilter:hg},bA=t=>G4[t];function AA(t,e){let i=bA(t);return i!==hg&&(i=Dr),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const K4=new Set(["auto","none","0"]);function Y4(t,e,i){let r=0,o;for(;r<t.length&&!o;){const c=t[r];typeof c=="string"&&!K4.has(c)&&wc(c).values.length&&(o=t[r]),r++}if(o&&i)for(const c of e)t[c]=AA(i,o)}class Q4 extends Oy{constructor(e,i,r,o,c){super(e,i,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let T=e[v];if(typeof T=="string"&&(T=T.trim(),Ny(T))){const S=pA(T,i.current);S!==void 0&&(e[v]=S),v===e.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!yA.has(r)||e.length!==2)return;const[o,c]=e,u=hx(o),m=hx(c),g=ZE(o),y=ZE(c);if(g!==y&&_r[r]){this.needsMeasurement=!0;return}if(u!==m)if(ax(u)&&ax(m))for(let v=0;v<e.length;v++){const T=e[v];typeof T=="string"&&(e[v]=parseFloat(T))}else _r[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||z4(e[o]))&&r.push(o);r.length&&Y4(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_r[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=_r[i](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function X4(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=i?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const wA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function RA(t){return O1(t)&&"offsetHeight"in t}const{schedule:Hy}=$1(queueMicrotask,!1),xi={x:!1,y:!1};function CA(){return xi.x||xi.y}function $4(t){return t==="x"||t==="y"?xi[t]?null:(xi[t]=!0,()=>{xi[t]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function NA(t,e){const i=X4(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function fx(t){return!(t.pointerType==="touch"||CA())}function Z4(t,e,i={}){const[r,o,c]=NA(t,i),u=m=>{if(!fx(m))return;const{target:g}=m,y=e(g,m);if(typeof y!="function"||!g)return;const v=T=>{fx(T)&&(y(T),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",u,o)}),c}const jA=(t,e)=>e?t===e?!0:jA(t,e.parentElement):!1,Gy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,W4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DA(t){return W4.has(t.tagName)||t.isContentEditable===!0}const Lh=new WeakSet;function mx(t){return e=>{e.key==="Enter"&&t(e)}}function hp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const J4=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=mx(()=>{if(Lh.has(i))return;hp(i,"down");const o=mx(()=>{hp(i,"up")}),c=()=>hp(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",c,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function px(t){return Gy(t)&&!CA()}function eP(t,e,i={}){const[r,o,c]=NA(t,i),u=m=>{const g=m.currentTarget;if(!px(m))return;Lh.add(g);const y=e(g,m),v=(w,V)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Lh.has(g)&&Lh.delete(g),px(w)&&typeof y=="function"&&y(w,{success:V})},T=w=>{v(w,g===window||g===document||i.useGlobalTarget||jA(g,w.target))},S=w=>{v(w,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),RA(m)&&(m.addEventListener("focus",y=>J4(y,o)),!DA(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function VA(t){return O1(t)&&"ownerSVGElement"in t}function tP(t){return VA(t)&&t.tagName==="svg"}const nP=[...SA,zt,Dr],iP=t=>nP.find(xA(t)),gx=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:gx(),y:gx()}),yx=()=>({min:0,max:0}),Gt=()=>({x:yx(),y:yx()}),dg={current:null},IA={current:!1},sP=typeof window<"u";function rP(){if(IA.current=!0,!!sP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dg.current=t.matches;t.addEventListener("change",e),e()}else dg.current=!1}const aP=new WeakMap;function qd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Rc(t){return typeof t=="string"||Array.isArray(t)}const Ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Ky];function Fd(t){return qd(t.animate)||Yy.some(e=>Rc(t[e]))}function MA(t){return!!(Fd(t)||t.variants)}function oP(t,e,i){for(const r in e){const o=e[r],c=i[r];if(mn(o))t.addValue(r,o);else if(mn(c))t.addValue(r,Po(o,{owner:t}));else if(c!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,Po(u!==void 0?u:o,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const vx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ud={};function PA(t){ud=t}function lP(){return ud}class cP{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Oy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=yn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ft.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=y,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Fd(i),this.isVariantNode=MA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in T){const w=T[S];g[S]!==void 0&&mn(w)&&w.set(g[S])}}mount(e){this.current=e,aP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(IA.current||rP(),this.shouldReduceMotion=dg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jr(this.notifyUpdate),jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ko.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ud){const i=ud[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<vx.length;r++){const o=vx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=oP(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=Po(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(k1(r)||L1(r))?r=parseFloat(r):!iP(r)&&Dr.test(i)&&(r=AA(e,i)),this.setBaseTarget(e,mn(r)?r.get():r)),mn(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=zy(this.props,i,this.presenceContext?.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!mn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new wy),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){Hy.render(this.render)}}class Mr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kA extends cP{constructor(){super(...arguments),this.KeyframeResolver=Q4}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){const r=e.style;return r?r[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mn(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function OA({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function uP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hP(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function dp(t){return t===void 0||t===1}function fg({scale:t,scaleX:e,scaleY:i}){return!dp(t)||!dp(e)||!dp(i)}function pa(t){return fg(t)||LA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LA(t){return _x(t.x)||_x(t.y)}function _x(t){return t&&t!=="0%"}function hd(t,e,i){const r=t-i,o=e*r;return i+o}function Tx(t,e,i,r,o){return o!==void 0&&(t=hd(t,o,r)),hd(t,i,r)+e}function mg(t,e=0,i=1,r,o){t.min=Tx(t.min,e,i,r,o),t.max=Tx(t.max,e,i,r,o)}function UA(t,{x:e,y:i}){mg(t.x,e.translate,e.scale,e.originPoint),mg(t.y,i.translate,i.scale,i.originPoint)}const Ex=.999999999999,xx=1.0000000000001;function dP(t,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let c,u;for(let m=0;m<o;m++){c=i[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&bo(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,UA(t,u)),r&&pa(c.latestValues)&&bo(t,c.latestValues))}e.x<xx&&e.x>Ex&&(e.x=1),e.y<xx&&e.y>Ex&&(e.y=1)}function So(t,e){t.min=t.min+e,t.max=t.max+e}function Sx(t,e,i,r,o=.5){const c=gt(t.min,t.max,o);mg(t,e,i,c,r)}function bo(t,e){Sx(t.x,e.x,e.scaleX,e.scale,e.originX),Sx(t.y,e.y,e.scaleY,e.scale,e.originY)}function zA(t,e){return OA(hP(t.getBoundingClientRect(),e))}function fP(t,e,i){const r=zA(t,i),{scroll:o}=e;return o&&(So(r.x,o.offset.x),So(r.y,o.offset.y)),r}const mP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pP=Go.length;function gP(t,e,i){let r="",o=!0;for(let c=0;c<pP;c++){const u=Go[c],m=t[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||i){const y=wA(m,Fy[u]);if(!g){o=!1;const v=mP[u]||u;r+=`${v}(${y}) `}i&&(e[u]=y)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function Qy(t,e,i){const{style:r,vars:o,transformOrigin:c}=t;let u=!1,m=!1;for(const g in e){const y=e[g];if(Ko.has(g)){u=!0;continue}else if(W1(g)){o[g]=y;continue}else{const v=wA(y,Fy[g]);g.startsWith("origin")?(m=!0,c[g]=v):r[g]=v}}if(e.transform||(u||i?r.transform=gP(e,t.transform,i):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:y="50%",originZ:v=0}=c;r.transformOrigin=`${g} ${y} ${v}`}}function BA(t,{style:e,vars:i},r,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,r);for(u in i)c.setProperty(u,i[u])}function bx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const i=bx(t,e.target.x),r=bx(t,e.target.y);return`${i}% ${r}%`}},yP={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,o=Dr.parse(t);if(o.length>5)return r;const c=Dr.createTransformer(t),u=typeof o[0]!="number"?1:0,m=i.x.scale*e.x,g=i.y.scale*e.y;o[0+u]/=m,o[1+u]/=g;const y=gt(m,g,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),c(o)}},pg={borderRadius:{...Xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xl,borderTopRightRadius:Xl,borderBottomLeftRadius:Xl,borderBottomRightRadius:Xl,boxShadow:yP};function qA(t,{layout:e,layoutId:i}){return Ko.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!pg[t]||t==="opacity")}function Xy(t,e,i){const r=t.style,o=e?.style,c={};if(!r)return c;for(const u in r)(mn(r[u])||o&&mn(o[u])||qA(u,t)||i?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function vP(t){return window.getComputedStyle(t)}class _P extends kA{constructor(){super(...arguments),this.type="html",this.renderInstance=BA}readValueFromInstance(e,i){if(Ko.has(i))return this.projection?.isProjecting?ng(i):ZM(e,i);{const r=vP(e),o=(W1(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:i}){return zA(e,i)}build(e,i,r){Qy(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return Xy(e,i,r)}}const TP={offset:"stroke-dashoffset",array:"stroke-dasharray"},EP={offset:"strokeDashoffset",array:"strokeDasharray"};function xP(t,e,i=1,r=0,o=!0){t.pathLength=1;const c=o?TP:EP;t[c.offset]=Ee.transform(-r);const u=Ee.transform(e),m=Ee.transform(i);t[c.array]=`${u} ${m}`}const SP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function FA(t,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...m},g,y,v){if(Qy(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete T.transformBox);for(const w of SP)T[w]!==void 0&&(S[w]=T[w],delete T[w]);e!==void 0&&(T.x=e),i!==void 0&&(T.y=i),r!==void 0&&(T.scale=r),o!==void 0&&xP(T,o,c,u,!1)}const HA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),GA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bP(t,e,i,r){BA(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(HA.has(o)?o:qy(o),e.attrs[o])}function KA(t,e,i){const r=Xy(t,e,i);for(const o in t)if(mn(t[o])||mn(e[o])){const c=Go.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=t[o]}return r}class AP extends kA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(Ko.has(i)){const r=bA(i);return r&&r.default||0}return i=HA.has(i)?i:qy(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return KA(e,i,r)}build(e,i,r){FA(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){bP(e,i,r,o)}mount(e){this.isSVGTag=GA(e.tagName),super.mount(e)}}const wP=Yy.length;function YA(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?YA(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<wP;i++){const r=Yy[i],o=t.props[r];(Rc(o)||o===!1)&&(e[r]=o)}return e}function QA(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const RP=[...Ky].reverse(),CP=Ky.length;function NP(t){return e=>Promise.all(e.map(({animation:i,options:r})=>EA(t,i,r)))}function jP(t){let e=NP(t),i=Ax(),r=!0;const o=g=>(y,v)=>{const T=Co(t,v,g==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:w,...V}=T;y={...y,...V,...w}}return y};function c(g){e=g(t)}function u(g){const{props:y}=t,v=YA(t.parent)||{},T=[],S=new Set;let w={},V=1/0;for(let P=0;P<CP;P++){const k=RP[P],B=i[k],q=y[k]!==void 0?y[k]:v[k],he=Rc(q),ee=k===g?B.isActive:null;ee===!1&&(V=P);let ce=q===v[k]&&q!==y[k]&&he;if(ce&&r&&t.manuallyAnimateOnMount&&(ce=!1),B.protectedKeys={...w},!B.isActive&&ee===null||!q&&!B.prevProp||qd(q)||typeof q=="boolean")continue;const N=DP(B.prevProp,q);let R=N||k===g&&B.isActive&&!ce&&he||P>V&&he,D=!1;const U=Array.isArray(q)?q:[q];let L=U.reduce(o(k),{});ee===!1&&(L={});const{prevResolvedValues:F={}}=B,I={...F,...L},He=ue=>{R=!0,S.has(ue)&&(D=!0,S.delete(ue)),B.needsAnimating[ue]=!0;const me=t.getValue(ue);me&&(me.liveStyle=!1)};for(const ue in I){const me=L[ue],be=F[ue];if(w.hasOwnProperty(ue))continue;let Re=!1;lg(me)&&lg(be)?Re=!QA(me,be):Re=me!==be,Re?me!=null?He(ue):S.add(ue):me!==void 0&&S.has(ue)?He(ue):B.protectedKeys[ue]=!0}B.prevProp=q,B.prevResolvedValues=L,B.isActive&&(w={...w,...L}),r&&t.blockInitialAnimation&&(R=!1);const ge=ce&&N;R&&(!ge||D)&&T.push(...U.map(ue=>{const me={type:k};if(typeof ue=="string"&&r&&!ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Re=Co(be,ue);if(be.enteringChildren&&Re){const{delayChildren:A}=Re.transition||{};me.delay=gA(be.enteringChildren,t,A)}}return{animation:ue,options:me}}))}if(S.size){const P={};if(typeof y.initial!="boolean"){const k=Co(t,Array.isArray(y.initial)?y.initial[0]:y.initial);k&&k.transition&&(P.transition=k.transition)}S.forEach(k=>{const B=t.getBaseTarget(k),q=t.getValue(k);q&&(q.liveStyle=!0),P[k]=B??null}),T.push({animation:P})}let M=!!T.length;return r&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(T):Promise.resolve()}function m(g,y){if(i[g].isActive===y)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(g,y)),i[g].isActive=y;const v=u(g);for(const T in i)i[T].protectedKeys={};return v}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>i,reset:()=>{i=Ax()}}}function DP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QA(e,t):!1}function fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ax(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}const XA=1e-4,VP=1-XA,IP=1+XA,$A=.01,MP=0-$A,PP=0+$A;function vn(t){return t.max-t.min}function kP(t,e,i){return Math.abs(t-e)<=i}function wx(t,e,i,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=vn(i)/vn(e),t.translate=gt(i.min,i.max,t.origin)-t.originPoint,(t.scale>=VP&&t.scale<=IP||isNaN(t.scale))&&(t.scale=1),(t.translate>=MP&&t.translate<=PP||isNaN(t.translate))&&(t.translate=0)}function uc(t,e,i,r){wx(t.x,e.x,i.x,r?r.originX:void 0),wx(t.y,e.y,i.y,r?r.originY:void 0)}function Rx(t,e,i){t.min=i.min+e.min,t.max=t.min+vn(e)}function OP(t,e,i){Rx(t.x,e.x,i.x),Rx(t.y,e.y,i.y)}function Cx(t,e,i){t.min=e.min-i.min,t.max=t.min+vn(e)}function dd(t,e,i){Cx(t.x,e.x,i.x),Cx(t.y,e.y,i.y)}function Nx(t,e,i,r,o){return t-=e,t=hd(t,1/i,r),o!==void 0&&(t=hd(t,1/o,r)),t}function LP(t,e=0,i=1,r=.5,o,c=t,u=t){if(is.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=gt(c.min,c.max,r);t===c&&(m-=e),t.min=Nx(t.min,e,i,m,o),t.max=Nx(t.max,e,i,m,o)}function jx(t,e,[i,r,o],c,u){LP(t,e[i],e[r],e[o],e.scale,c,u)}const UP=["x","scaleX","originX"],zP=["y","scaleY","originY"];function Dx(t,e,i,r){jx(t.x,e,UP,i?i.x:void 0,r?r.x:void 0),jx(t.y,e,zP,i?i.y:void 0,r?r.y:void 0)}function Vx(t,e){t.min=e.min,t.max=e.max}function Ti(t,e){Vx(t.x,e.x),Vx(t.y,e.y)}function Ix(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mx(t){return t.translate===0&&t.scale===1}function ZA(t){return Mx(t.x)&&Mx(t.y)}function Px(t,e){return t.min===e.min&&t.max===e.max}function BP(t,e){return Px(t.x,e.x)&&Px(t.y,e.y)}function kx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WA(t,e){return kx(t.x,e.x)&&kx(t.y,e.y)}function Ox(t){return vn(t.x)/vn(t.y)}function Lx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ti(t){return[t("x"),t("y")]}function qP(t,e,i){let r="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=i?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:y,rotate:v,rotateX:T,rotateY:S,skewX:w,skewY:V}=i;y&&(r=`perspective(${y}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),S&&(r+=`rotateY(${S}deg) `),w&&(r+=`skewX(${w}deg) `),V&&(r+=`skewY(${V}deg) `)}const m=t.x.scale*e.x,g=t.y.scale*e.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const JA=["TopLeft","TopRight","BottomLeft","BottomRight"],FP=JA.length,Ux=t=>typeof t=="string"?parseFloat(t):t,zx=t=>typeof t=="number"||Ee.test(t);function HP(t,e,i,r,o,c){o?(t.opacity=gt(0,i.opacity??1,GP(r)),t.opacityExit=gt(e.opacity??1,0,KP(r))):c&&(t.opacity=gt(e.opacity??1,i.opacity??1,r));for(let u=0;u<FP;u++){const m=`border${JA[u]}Radius`;let g=Bx(e,m),y=Bx(i,m);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||zx(g)===zx(y)?(t[m]=Math.max(gt(Ux(g),Ux(y),r),0),(is.test(y)||is.test(g))&&(t[m]+="%")):t[m]=y}(e.rotate||i.rotate)&&(t.rotate=gt(e.rotate||0,i.rotate||0,r))}function Bx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GP=ew(0,.5,K1),KP=ew(.5,.95,ri);function ew(t,e,i){return r=>r<t?0:r>e?1:i(bc(t,e,r))}function YP(t,e){const i=yn.now(),r=({timestamp:o})=>{const c=o-i;c>=e&&(jr(r),t(c-e))};return ft.setup(r,!0),()=>jr(r)}function Cc(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}function Uh(t){return mn(t)?t.get():t}function QP(t,e,i){const r=mn(t)?t:Po(t);return r.start(Uy("",r,e,i)),r.animation}const XP=(t,e)=>t.depth-e.depth;class $P{constructor(){this.children=[],this.isDirty=!1}add(e){xy(this.children,e),this.isDirty=!0}remove(e){Sy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XP),this.isDirty=!1,this.children.forEach(e)}}class ZP{constructor(){this.members=[]}add(e){xy(this.members,e),e.scheduleRender()}remove(e){if(Sy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},fp=["","X","Y","Z"],WP=1e3;let JP=0;function mp(t,e,i,r){const{latestValues:o}=e;o[t]&&(i[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function tw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=_A(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ft,!(o||c))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&tw(r)}function nw({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},m=e?.()){this.id=JP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nk),this.nodes.forEach(ak),this.nodes.forEach(ok),this.nodes.forEach(ik)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new $P)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new wy),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=VA(u)&&!tP(u),this.instance=u;const{layoutId:m,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),t){let v,T=0;const S=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{T=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==T&&(T=w,this.root.updateBlockedByResize=!0,v&&v(),v=YP(S,250),zh.hasAnimatedSinceResize&&(zh.hasAnimatedSinceResize=!1,this.nodes.forEach(Hx)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||y.getDefaultTransition()||dk,{onLayoutAnimationStart:M,onLayoutAnimationComplete:P}=y.getProps(),k=!this.targetLayout||!WA(this.targetLayout,w),B=!T&&S;if(this.options.layoutRoot||this.resumeFrom||B||T&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Ly(V,"layout"),onPlay:M,onComplete:P};(y.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,B)}else T||Hx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rk),this.nodes.forEach(ek),this.nodes.forEach(tk)):this.nodes.forEach(Fx),this.clearAllSnapshots();const m=yn.now();rn.delta=as(0,1e3/60,m-rn.timestamp),rn.timestamp=m,rn.isProcessing=!0,rp.update.process(rn),rp.preRender.process(rn),rp.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sk),this.sharedNodes.forEach(ck)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!ZA(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;u&&this.instance&&(m||pa(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),fk(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mk))){const{scroll:y}=this.root;y&&(So(m.x,y.offset.x),So(m.y,y.offset.y))}return m}removeElementScroll(u){const m=Gt();if(Ti(m,u),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:v,options:T}=y;y!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&Ti(m,u),So(m.x,v.offset.x),So(m.y,v.offset.y))}return m}applyTransform(u,m=!1){const g=Gt();Ti(g,u);for(let y=0;y<this.path.length;y++){const v=this.path[y];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&bo(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),pa(v.latestValues)&&bo(g,v.latestValues)}return pa(this.latestValues)&&bo(g,this.latestValues),g}removeTransform(u){const m=Gt();Ti(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!pa(y.latestValues))continue;fg(y.latestValues)&&y.updateSnapshot();const v=Gt(),T=y.measurePageBox();Ti(v,T),Dx(m,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return pa(this.latestValues)&&Dx(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=rn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),UA(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fg(this.parent.latestValues)||LA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),dd(this.relativeTargetOrigin,m,g),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(g=!1),g)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Ti(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;dP(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ix(this.prevProjectionDelta.x,this.projectionDelta.x),Ix(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!Lx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(u,m=!1){const g=this.snapshot,y=g?g.latestValues:{},v={...this.latestValues},T=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Gt(),w=g?g.source:void 0,V=this.layout?this.layout.source:void 0,M=w!==V,P=this.getStack(),k=!P||P.members.length<=1,B=!!(M&&!k&&this.options.crossfade===!0&&!this.path.some(hk));this.animationProgress=0;let q;this.mixTargetDelta=he=>{const ee=he/1e3;Gx(T.x,u.x,ee),Gx(T.y,u.y,ee),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dd(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uk(this.relativeTarget,this.relativeTargetOrigin,S,ee),q&&BP(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Gt()),Ti(q,this.relativeTarget)),M&&(this.animationValues=v,HP(v,y,this.latestValues,ee,B,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Po(0)),this.currentAnimation=QP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:y,latestValues:v}=u;if(!(!m||!g||!y)){if(this!==u&&this.layout&&y&&iw(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||Gt();const T=vn(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+T;const S=vn(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+S}Ti(m,g),bo(m,v),uc(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ZP),this.sharedNodes.get(u).add(m);const y=m.options.initialPromotionConfig;m.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const y={};g.z&&mp("z",u,y,this.animationValues);for(let v=0;v<fp.length;v++)mp(`rotate${fp[v]}`,u,y,this.animationValues),mp(`skew${fp[v]}`,u,y,this.animationValues);u.render();for(const v in y)u.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Uh(m?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Uh(m?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let T=qP(this.projectionDeltaWithTransform,this.treeScale,v);g&&(T=g(v,T)),u.transform=T;const{x:S,y:w}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,y.animationValues?u.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const V in pg){if(v[V]===void 0)continue;const{correct:M,applyTo:P,isCSSVariable:k}=pg[V],B=T==="none"?v[V]:M(v[V],y);if(P){const q=P.length;for(let he=0;he<q;he++)u[P[he]]=B}else k?this.options.visualElement.renderState.vars[V]=B:u[V]=B}this.options.layoutId&&(u.pointerEvents=y===this?Uh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(qx),this.root.sharedNodes.clear()}}}function ek(t){t.updateLayout()}function tk(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?ti(v=>{const T=c?e.measuredBox[v]:e.layoutBox[v],S=vn(T);T.min=i[v].min,T.max=T.min+S}):iw(o,e.layoutBox,i)&&ti(v=>{const T=c?e.measuredBox[v]:e.layoutBox[v],S=vn(i[v]);T.max=T.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const u=xo();uc(u,i,e.layoutBox);const m=xo();c?uc(m,t.applyTransform(r,!0),e.measuredBox):uc(m,i,e.layoutBox);const g=!ZA(u);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:S}=v;if(T&&S){const w=Gt();dd(w,e.layoutBox,T.layoutBox);const V=Gt();dd(V,i,S.layoutBox),WA(w,V)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function nk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ik(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sk(t){t.clearSnapshot()}function qx(t){t.clearMeasurements()}function Fx(t){t.isLayoutDirty=!1}function rk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ak(t){t.resolveTargetDelta()}function ok(t){t.calcProjection()}function lk(t){t.resetSkewAndRotation()}function ck(t){t.removeLeadSnapshot()}function Gx(t,e,i){t.translate=gt(e.translate,0,i),t.scale=gt(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Kx(t,e,i,r){t.min=gt(e.min,i.min,r),t.max=gt(e.max,i.max,r)}function uk(t,e,i,r){Kx(t.x,e.x,i.x,r),Kx(t.y,e.y,i.y,r)}function hk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dk={duration:.45,ease:[.4,0,.1,1]},Yx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qx=Yx("applewebkit/")&&!Yx("chrome/")?Math.round:ri;function Xx(t){t.min=Qx(t.min),t.max=Qx(t.max)}function fk(t){Xx(t.x),Xx(t.y)}function iw(t,e,i){return t==="position"||t==="preserve-aspect"&&!kP(Ox(e),Ox(i),.2)}function mk(t){return t!==t.root&&t.scroll?.wasRoot}const pk=nw({attachResizeListener:(t,e)=>Cc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pp={current:void 0},sw=nw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pp.current){const t=new pk({});t.mount(window),t.setOptions({layoutScroll:!0}),pp.current=t}return pp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$y=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $x(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gk(...t){return e=>{let i=!1;const r=t.map(o=>{const c=$x(o,e);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():$x(t[o],null)}}}}function yk(...t){return j.useCallback(gk(...t),t)}class vk extends j.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=RA(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _k({children:t,isPresent:e,anchorX:i,root:r}){const o=j.useId(),c=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=j.useContext($y),g=t.props?.ref??t?.ref,y=yk(c,g);return j.useInsertionEffect(()=>{const{width:v,height:T,top:S,left:w,right:V}=u.current;if(e||!c.current||!v||!T)return;const M=i==="left"?`left: ${w}`:`right: ${V}`;c.current.dataset.motionPopId=o;const P=document.createElement("style");m&&(P.nonce=m);const k=r??document.head;return k.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${T}px !important;
            ${M}px !important;
            top: ${S}px !important;
          }
        `),()=>{k.contains(P)&&k.removeChild(P)}},[e]),d.jsx(vk,{isPresent:e,childRef:c,sizeRef:u,children:j.cloneElement(t,{ref:y})})}const Tk=({children:t,initial:e,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const y=zd(Ek),v=j.useId();let T=!0,S=j.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:i,custom:o,onExitComplete:w=>{y.set(w,!0);for(const V of y.values())if(!V)return;r&&r()},register:w=>(y.set(w,!1),()=>y.delete(w))}),[i,y,r]);return c&&T&&(S={...S}),j.useMemo(()=>{y.forEach((w,V)=>y.set(V,!1))},[i]),j.useEffect(()=>{!i&&!y.size&&r&&r()},[i]),u==="popLayout"&&(t=d.jsx(_k,{isPresent:i,anchorX:m,root:g,children:t})),d.jsx(Bd.Provider,{value:S,children:t})};function Ek(){return new Map}function rw(t=!0){const e=j.useContext(Bd);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,c=j.useId();j.useEffect(()=>{if(t)return o(c)},[t]);const u=j.useCallback(()=>t&&r&&r(c),[c,r,t]);return!i&&r?[!1,u]:[!0]}const xh=t=>t.key||"";function Zx(t){const e=[];return j.Children.forEach(t,i=>{j.isValidElement(i)&&e.push(i)}),e}const xk=({children:t,custom:e,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[y,v]=rw(u),T=j.useMemo(()=>Zx(t),[t]),S=u&&!y?[]:T.map(xh),w=j.useRef(!0),V=j.useRef(T),M=zd(()=>new Map),P=j.useRef(new Set),[k,B]=j.useState(T),[q,he]=j.useState(T);Ey(()=>{w.current=!1,V.current=T;for(let N=0;N<q.length;N++){const R=xh(q[N]);S.includes(R)?(M.delete(R),P.current.delete(R)):M.get(R)!==!0&&M.set(R,!1)}},[q,S.length,S.join("-")]);const ee=[];if(T!==k){let N=[...T];for(let R=0;R<q.length;R++){const D=q[R],U=xh(D);S.includes(U)||(N.splice(R,0,D),ee.push(D))}return c==="wait"&&ee.length&&(N=ee),he(Zx(N)),B(T),null}const{forceRender:ce}=j.useContext(Ty);return d.jsx(d.Fragment,{children:q.map(N=>{const R=xh(N),D=u&&!y?!1:T===q||S.includes(R),U=()=>{if(P.current.has(R))return;if(P.current.add(R),M.has(R))M.set(R,!0);else return;let L=!0;M.forEach(F=>{F||(L=!1)}),L&&(ce?.(),he(V.current),u&&v?.(),r&&r())};return d.jsx(Tk,{isPresent:D,initial:!w.current||i?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:g,onExitComplete:D?void 0:U,anchorX:m,children:N},R)})})},aw=j.createContext({strict:!1}),Wx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Jx=!1;function Sk(){if(Jx)return;const t={};for(const e in Wx)t[e]={isEnabled:i=>Wx[e].some(r=>!!i[r])};PA(t),Jx=!0}function ow(){return Sk(),lP()}function bk(t){const e=ow();for(const i in t)e[i]={...e[i],...t[i]};PA(e)}const Ak=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ak.has(t)}let lw=t=>!fd(t);function wk(t){typeof t=="function"&&(lw=e=>e.startsWith("on")?!fd(e):t(e))}try{wk(require("@emotion/is-prop-valid").default)}catch{}function Rk(t,e,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(lw(o)||i===!0&&fd(o)||!e&&!fd(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Hd=j.createContext({});function Ck(t,e){if(Fd(t)){const{initial:i,animate:r}=t;return{initial:i===!1||Rc(i)?i:void 0,animate:Rc(r)?r:void 0}}return t.inherit!==!1?e:{}}function Nk(t){const{initial:e,animate:i}=Ck(t,j.useContext(Hd));return j.useMemo(()=>({initial:e,animate:i}),[eS(e),eS(i)])}function eS(t){return Array.isArray(t)?t.join(" "):t}const Zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cw(t,e,i){for(const r in e)!mn(e[r])&&!qA(r,i)&&(t[r]=e[r])}function jk({transformTemplate:t},e){return j.useMemo(()=>{const i=Zy();return Qy(i,e,t),Object.assign({},i.vars,i.style)},[e])}function Dk(t,e){const i=t.style||{},r={};return cw(r,i,t),Object.assign(r,jk(t,e)),r}function Vk(t,e){const i={},r=Dk(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const uw=()=>({...Zy(),attrs:{}});function Ik(t,e,i,r){const o=j.useMemo(()=>{const c=uw();return FA(c,e,GA(r),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};cw(c,t.style,t),o.style={...c,...o.style}}return o}const Mk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wy(t){return typeof t!="string"||t.includes("-")?!1:!!(Mk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Pk(t,e,i,{latestValues:r},o,c=!1,u){const g=(u??Wy(t)?Ik:Vk)(e,r,o,t),y=Rk(e,typeof t=="string",c),v=t!==j.Fragment?{...y,...g,ref:i}:{},{children:T}=e,S=j.useMemo(()=>mn(T)?T.get():T,[T]);return j.createElement(t,{...v,children:S})}function kk({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,o){return{latestValues:Ok(i,r,o,t),renderState:e()}}function Ok(t,e,i,r){const o={},c=r(t,{});for(const S in c)o[S]=Uh(c[S]);let{initial:u,animate:m}=t;const g=Fd(t),y=MA(t);e&&y&&!g&&t.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let v=i?i.initial===!1:!1;v=v||u===!1;const T=v?m:u;if(T&&typeof T!="boolean"&&!qd(T)){const S=Array.isArray(T)?T:[T];for(let w=0;w<S.length;w++){const V=zy(t,S[w]);if(V){const{transitionEnd:M,transition:P,...k}=V;for(const B in k){let q=k[B];if(Array.isArray(q)){const he=v?q.length-1:0;q=q[he]}q!==null&&(o[B]=q)}for(const B in M)o[B]=M[B]}}}return o}const hw=t=>(e,i)=>{const r=j.useContext(Hd),o=j.useContext(Bd),c=()=>kk(t,e,r,o);return i?c():zd(c)},Lk=hw({scrapeMotionValuesFromProps:Xy,createRenderState:Zy}),Uk=hw({scrapeMotionValuesFromProps:KA,createRenderState:uw}),zk=Symbol.for("motionComponentSymbol");function Bk(t,e,i){const r=j.useRef(i);j.useInsertionEffect(()=>{r.current=i});const o=j.useRef(null);return j.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const u=r.current;if(typeof u=="function")if(c){const m=u(c);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[e])}const dw=j.createContext({});function tc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qk(t,e,i,r,o,c){const{visualElement:u}=j.useContext(Hd),m=j.useContext(aw),g=j.useContext(Bd),y=j.useContext($y).reducedMotion,v=j.useRef(null);r=r||m.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:u,props:i,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y,isSVG:c}));const T=v.current,S=j.useContext(dw);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&Fk(v.current,i,o,S);const w=j.useRef(!1);j.useInsertionEffect(()=>{T&&w.current&&T.update(i,g)});const V=i[vA],M=j.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return Ey(()=>{T&&(w.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),M.current&&T.animationState&&T.animationState.animateChanges())}),j.useEffect(()=>{T&&(!M.current&&T.animationState&&T.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),M.current=!1),T.enteringChildren=void 0)}),T}function Fk(t,e,i,r){const{layoutId:o,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:y,layoutCrossfade:v}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:fw(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||m&&tc(m),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:y})}function fw(t){if(t)return t.options.allowProjection!==!1?t.projection:fw(t.parent)}function gp(t,{forwardMotionProps:e=!1,type:i}={},r,o){r&&bk(r);const c=i?i==="svg":Wy(t),u=c?Uk:Lk;function m(y,v){let T;const S={...j.useContext($y),...y,layoutId:Hk(y)},{isStatic:w}=S,V=Nk(y),M=u(y,w);if(!w&&P1){Gk();const P=Kk(S);T=P.MeasureLayout,V.visualElement=qk(t,M,S,o,P.ProjectionNode,c)}return d.jsxs(Hd.Provider,{value:V,children:[T&&V.visualElement?d.jsx(T,{visualElement:V.visualElement,...S}):null,Pk(t,y,Bk(M,V.visualElement,v),M,w,e,c)]})}m.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const g=j.forwardRef(m);return g[zk]=t,g}function Hk({layoutId:t}){const e=j.useContext(Ty).id;return e&&t!==void 0?e+"-"+t:t}function Gk(t,e){j.useContext(aw).strict}function Kk(t){const e=ow(),{drag:i,layout:r}=e;if(!i&&!r)return{};const o={...i,...r};return{MeasureLayout:i?.isEnabled(t)||r?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function Yk(t,e){if(typeof Proxy>"u")return gp;const i=new Map,r=(c,u)=>gp(c,u,t,e),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(i.has(u)||i.set(u,gp(u,void 0,t,e)),i.get(u))})}const Qk=(t,e)=>e.isSVG??Wy(t)?new AP(e):new _P(e,{allowProjection:t!==j.Fragment});class Xk extends Mr{constructor(e){super(e),e.animationState||(e.animationState=jP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $k=0;class Zk extends Mr{constructor(){super(...arguments),this.id=$k++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wk={animation:{Feature:Xk},exit:{Feature:Zk}};function qc(t){return{point:{x:t.pageX,y:t.pageY}}}const Jk=t=>e=>Gy(e)&&t(e,qc(e));function hc(t,e,i,r){return Cc(t,e,Jk(i),r)}const mw=({current:t})=>t?t.ownerDocument.defaultView:null,tS=(t,e)=>Math.abs(t-e);function eO(t,e){const i=tS(t.x,e.x),r=tS(t.y,e.y);return Math.sqrt(i**2+r**2)}const nS=new Set(["auto","scroll"]);class pw{constructor(e,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=vp(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,M=eO(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!M)return;const{point:P}=w,{timestamp:k}=rn;this.history.push({...P,timestamp:k});const{onStart:B,onMove:q}=this.handlers;V||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,V)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=yp(V,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(w,V)=>{this.end();const{onEnd:M,onSessionEnd:P,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=vp(w.type==="pointercancel"?this.lastMoveEventInfo:yp(V,this.transformPagePoint),this.history);this.startEvent&&M&&M(w,B),P&&P(w,B)},!Gy(e))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const g=qc(e),y=yp(g,this.transformPagePoint),{point:v}=y,{timestamp:T}=rn;this.history=[{...v,timestamp:T}];const{onSessionStart:S}=i;S&&S(e,vp(y,this.history)),this.removeListeners=Uc(hc(this.contextWindow,"pointermove",this.handlePointerMove),hc(this.contextWindow,"pointerup",this.handlePointerUp),hc(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let i=e.parentElement;for(;i;){const r=getComputedStyle(i);(nS.has(r.overflowX)||nS.has(r.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const i=this.scrollPositions.get(e);if(!i)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:o.x-i.x,y:o.y-i.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,o),ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),jr(this.updatePoint)}}function yp(t,e){return e?{point:e(t.point)}:t}function iS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vp({point:t},e){return{point:t,delta:iS(t,gw(e)),offset:iS(t,tO(e)),velocity:nO(e,.1)}}function tO(t){return t[0]}function gw(t){return t[t.length-1]}function nO(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=gw(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>Ds(e)));)i--;if(!r)return{x:0,y:0};const c=ii(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function iO(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?gt(i,t,r.max):Math.min(t,i)),t}function sS(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function sO(t,{top:e,left:i,bottom:r,right:o}){return{x:sS(t.x,i,o),y:sS(t.y,e,r)}}function rS(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function rO(t,e){return{x:rS(t.x,e.x),y:rS(t.y,e.y)}}function aO(t,e){let i=.5;const r=vn(t),o=vn(e);return o>r?i=bc(e.min,e.max-r,t.min):r>o&&(i=bc(t.min,t.max-o,e.min)),as(0,1,i)}function oO(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const gg=.35;function lO(t=gg){return t===!1?t=0:t===!0&&(t=gg),{x:aS(t,"left","right"),y:aS(t,"top","bottom")}}function aS(t,e,i){return{min:oS(t,e),max:oS(t,i)}}function oS(t,e){return typeof t=="number"?t:t[e]||0}const cO=new WeakMap;class uO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=T=>{i?(this.stopAnimation(),this.snapToCursor(qc(T).point)):this.pauseAnimation()},u=(T,S)=>{this.stopAnimation();const{drag:w,dragPropagation:V,onDragStart:M}=this.getProps();if(w&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$4(w),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(k=>{let B=this.getAxisMotionValue(k).get()||0;if(is.test(B)){const{projection:q}=this.visualElement;if(q&&q.layout){const he=q.layout.layoutBox[k];he&&(B=vn(he)*(parseFloat(B)/100))}}this.originPoint[k]=B}),M&&ft.postRender(()=>M(T,S)),cg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},m=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:w,dragDirectionLock:V,onDirectionLock:M,onDrag:P}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=S;if(V&&this.currentDirection===null){this.currentDirection=hO(k),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",S.point,k),this.updateAxis("y",S.point,k),this.visualElement.render(),P&&P(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>ti(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new pw(e,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:mw(this.visualElement),element:this.visualElement.current})}stop(e,i){const r=e||this.latestPointerEvent,o=i||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&ft.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!Sh(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=iO(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&tc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=sO(r.layoutBox,e):this.constraints=!1,this.elastic=lO(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ti(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=oO(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!tc(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=fP(r,o.root,this.visualElement.getTransformPagePoint());let u=rO(o.layout.layoutBox,c);if(i){const m=i(uP(u));this.hasMutatedConstraints=!!m,m&&(u=OA(m))}return u}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},y=ti(v=>{if(!Sh(v,i,this.currentDirection))return;let T=g&&g[v]||{};u&&(T={min:0,max:0});const S=o?200:1e6,w=o?40:1e7,V={type:"inertia",velocity:r?e[v]:0,bounceStiffness:S,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(v,V)});return Promise.all(y).then(m)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return cg(this.visualElement,e),r.start(Uy(e,r,0,i,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ti(i=>{const{drag:r}=this.getProps();if(!Sh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(i);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[i],g=c.get()||0;c.set(e[i]-gt(u,m,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!tc(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ti(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();o[u]=aO({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ti(u=>{if(!Sh(u,e,null))return;const m=this.getAxisMotionValue(u),{min:g,max:y}=this.constraints[u];m.set(gt(g,y,o[u]))})}addListeners(){if(!this.visualElement.current)return;cO.set(this.visualElement,this);const e=this.visualElement.current,i=hc(e,"pointerdown",g=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&!DA(g.target)&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();tc(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ft.read(r);const u=Cc(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(ti(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=g[v].translate,T.set(T.get()+g[v].translate))}),this.visualElement.render())}));return()=>{u(),i(),c(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=gg,dragMomentum:m=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function Sh(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function hO(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class dO extends Mr{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new uO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}update(){const{dragControls:e}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};e!==i&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const lS=t=>(e,i)=>{t&&ft.postRender(()=>t(e,i))};class fO extends Mr{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new pw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:lS(e),onStart:lS(i),onMove:r,onEnd:(c,u)=>{delete this.session,o&&ft.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let _p=!1;class mO extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=e;c&&(i.group&&i.group.add(c),r&&r.register&&o&&r.register(c),_p&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,_p=!0,o||e.layoutDependency!==i||i===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||ft.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;_p=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yw(t){const[e,i]=rw(),r=j.useContext(Ty);return d.jsx(mO,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(dw),isPresent:e,safeToRemove:i})}const pO={pan:{Feature:fO},drag:{Feature:dO,ProjectionNode:sw,MeasureLayout:yw}};function cS(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,c=r[o];c&&ft.postRender(()=>c(e,qc(e)))}class gO extends Mr{mount(){const{current:e}=this.node;e&&(this.unmount=Z4(e,(i,r)=>(cS(this.node,r,"Start"),o=>cS(this.node,o,"End"))))}unmount(){}}class yO extends Mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(Cc(this.node.current,"focus",()=>this.onFocus()),Cc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uS(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),c=r[o];c&&ft.postRender(()=>c(e,qc(e)))}class vO extends Mr{mount(){const{current:e}=this.node;e&&(this.unmount=eP(e,(i,r)=>(uS(this.node,r,"Start"),(o,{success:c})=>uS(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yg=new WeakMap,Tp=new WeakMap,_O=t=>{const e=yg.get(t.target);e&&e(t)},TO=t=>{t.forEach(_O)};function EO({root:t,...e}){const i=t||document;Tp.has(i)||Tp.set(i,{});const r=Tp.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(TO,{root:t,...e})),r[o]}function xO(t,e,i){const r=EO(e);return yg.set(t,i),r.observe(t),()=>{yg.delete(t),r.unobserve(t)}}const SO={some:0,all:1};class bO extends Mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:c}=e,u={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:SO[o]},m=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=y?v:T;S&&S(g)};return xO(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(AO(e,i))&&this.startObserver()}unmount(){}}function AO({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const wO={inView:{Feature:bO},tap:{Feature:vO},focus:{Feature:yO},hover:{Feature:gO}},RO={layout:{ProjectionNode:sw,MeasureLayout:yw}},CO={...Wk,...wO,...pO,...RO},vw=Yk(CO,Qk);function NO(t){t.values.forEach(e=>e.stop())}function vg(t,e){[...e].reverse().forEach(r=>{const o=t.getVariant(r);o&&By(t,o),t.variantChildren&&t.variantChildren.forEach(c=>{vg(c,e)})})}function jO(t,e){if(Array.isArray(e))return vg(t,e);if(typeof e=="string")return vg(t,[e]);By(t,e)}function DO(){const t=new Set,e={subscribe(i){return t.add(i),()=>void t.delete(i)},start(i,r){const o=[];return t.forEach(c=>{o.push(EA(c,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return t.forEach(r=>{jO(r,i)})},stop(){t.forEach(i=>{NO(i)})},mount(){return()=>{e.stop()}}};return e}function VO(){const t=zd(DO);return Ey(t.mount,[]),t}const IO=VO;var _g=new Map,bh=new WeakMap,hS=0,MO;function PO(t){return t?(bh.has(t)||(hS+=1,bh.set(t,hS.toString())),bh.get(t)):"0"}function kO(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?PO(t.root):t[e]}`).toString()}function OO(t){const e=kO(t);let i=_g.get(e);if(!i){const r=new Map;let o;const c=new IntersectionObserver(u=>{u.forEach(m=>{var g;const y=m.isIntersecting&&o.some(v=>m.intersectionRatio>=v);t.trackVisibility&&typeof m.isVisible>"u"&&(m.isVisible=y),(g=r.get(m.target))==null||g.forEach(v=>{v(y,m)})})},t);o=c.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),i={id:e,observer:c,elements:r},_g.set(e,i)}return i}function LO(t,e,i={},r=MO){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const g=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof i.threshold=="number"?i.threshold:0,time:0,boundingClientRect:g,intersectionRect:g,rootBounds:g}),()=>{}}const{id:o,observer:c,elements:u}=OO(i),m=u.get(t)||[];return u.has(t)||u.set(t,m),m.push(e),c.observe(t),function(){m.splice(m.indexOf(e),1),m.length===0&&(u.delete(t),c.unobserve(t)),u.size===0&&(c.disconnect(),_g.delete(o))}}function UO({threshold:t,delay:e,trackVisibility:i,rootMargin:r,root:o,triggerOnce:c,skip:u,initialInView:m,fallbackInView:g,onChange:y}={}){var v;const[T,S]=j.useState(null),w=j.useRef(y),V=j.useRef(m),[M,P]=j.useState({inView:!!m,entry:void 0});w.current=y,j.useEffect(()=>{if(V.current===void 0&&(V.current=m),u||!T)return;let he;return he=LO(T,(ee,ce)=>{const N=V.current;V.current=ee,!(N===void 0&&!ee)&&(P({inView:ee,entry:ce}),w.current&&w.current(ee,ce),ce.isIntersecting&&c&&he&&(he(),he=void 0))},{root:o,rootMargin:r,threshold:t,trackVisibility:i,delay:e},g),()=>{he&&he()}},[Array.isArray(t)?t.toString():t,T,o,r,c,u,i,g,e]);const k=(v=M.entry)==null?void 0:v.target,B=j.useRef(void 0);!T&&k&&!c&&!u&&B.current!==k&&(B.current=k,P({inView:!!m,entry:void 0}),V.current=m);const q=[S,M.inView,M.entry];return q.ref=q[0],q.inView=q[1],q.entry=q[2],q}const Zi=({children:t,delay:e=0})=>{const i=IO(),{ref:r,inView:o}=UO({triggerOnce:!0,threshold:.15});return j.useEffect(()=>{o&&i.start("visible")},[o,i]),d.jsx(vw.div,{ref:r,initial:"hidden",animate:i,transition:{duration:.6,delay:e,ease:"easeOut"},variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},style:{width:"100%"},children:t})},_w="xanthos_products",Tw="xanthos_products_lastUpdated",Ew="xanthos_mostPopularProductIds",xw="xanthos_mostPopular_lastUpdated";function dS(){try{const t=localStorage.getItem(_w);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function fS(t){try{localStorage.setItem(_w,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function zO(){try{const t=localStorage.getItem(Tw);if(t)return new Date(t)}catch(t){console.error("Error reading lastUpdated from localStorage:",t)}return null}function mS(t){try{localStorage.setItem(Tw,t.toISOString())}catch(e){console.error("Error saving lastUpdated to localStorage:",e)}}function pS(){try{const t=localStorage.getItem(Ew);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function gS(t){try{localStorage.setItem(Ew,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function BO(){try{const t=localStorage.getItem(xw);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function yS(t){try{localStorage.setItem(xw,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}const Sw=[{id:"p-margherita",category:"Pizza",name:"Margherita",desc:"Tomato, mozzarella, basil",price:79,image:"margherita.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Basil",extraPrice:5},{name:"Garlic",extraPrice:5}]},{id:"p-pepperoni",category:"Pizza",name:"Pepperoni",desc:"Spicy pepperoni, mozzarella",price:89,image:"pepperoni.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Chili flakes"},{name:"Garlic",extraPrice:5}]},{id:"p-hawaiian",category:"Pizza",name:"Hawaiian",desc:"Tomato sauce, mozzarella, ham, pineapple",price:95,image:"hawaiian.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Pineapple",extraPrice:8},{name:"Ham",extraPrice:12}]},{id:"p-veggie",category:"Pizza",name:"Veggie Deluxe",desc:"Mozzarella, peppers, mushrooms, onions, olives",price:92,image:"veggie.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Mushrooms",extraPrice:6},{name:"Olives",extraPrice:5}]},{id:"p-meatlover",category:"Pizza",name:"Meat Lover",desc:"Pepperoni, minced beef, ham, bacon",price:109,image:"meatlover.jpg",ingredients:[{name:"Extra bacon",extraPrice:12},{name:"Extra cheese",extraPrice:10},{name:"Chili oil",extraPrice:5}]},{id:"g-chicken",category:"Grill",name:"Grilled Chicken",desc:"Herb marinated chicken breast",price:99,image:"chicken.jpg",ingredients:[{name:"Extra sauce",extraPrice:8},{name:"Side salad",extraPrice:12}]},{id:"g-ribs",category:"Grill",name:"BBQ Ribs",desc:"Slow-cooked pork ribs",price:129,image:"ribs.jpg",ingredients:[{name:"Extra BBQ sauce",extraPrice:8},{name:"Corn on the cob",extraPrice:10}]},{id:"g-steak",category:"Grill",name:"Beef Steak",desc:"200g grilled steak with seasoning",price:149,image:"steak.jpg",ingredients:[{name:"Pepper sauce",extraPrice:10},{name:"Garlic butter",extraPrice:6}]},{id:"g-burger",category:"Grill",name:"Classic Burger",desc:"Beef patty, cheddar, lettuce, tomato",price:89,image:"burger.jpg",ingredients:[{name:"Extra cheese",extraPrice:8},{name:"Bacon",extraPrice:10},{name:"Jalapeos",extraPrice:5}]},{id:"s-fries",category:"Sides",name:"Pommes Frites",desc:"Crispy golden fries",price:29,image:"fries.jpg",ingredients:[{name:"Dip  Garlic",extraPrice:5},{name:"Dip  Chili Mayo",extraPrice:5}]},{id:"s-salad",category:"Sides",name:"Side Salad",desc:"Fresh greens, cucumber, tomato",price:24,image:"salad.jpg",ingredients:[{name:"Feta",extraPrice:8},{name:"Olives",extraPrice:6}]},{id:"d-cola",category:"Drinks",name:"Coca-Cola",desc:"330ml",price:19,image:"cocacola.jpg",ingredients:[]},{id:"d-water",category:"Drinks",name:"Mineral Water",desc:"500ml",price:14,image:"water.jpg",ingredients:[]},{id:"d-fanta",category:"Drinks",name:"Fanta",desc:"330ml",price:19,image:"fanta.jpg",ingredients:[]},{id:"d-sprite",category:"Drinks",name:"Sprite",desc:"330ml",price:19,image:"sprite.jpg",ingredients:[]}];function qO({item:t}){const{addItem:e}=Vc();return d.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:t.name}),d.jsx("p",{className:"text-sm text-gray-600",children:t.desc})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-bold",children:[t.price,",-"]}),d.jsx("button",{onClick:i=>{i.stopPropagation(),e(t)},className:"mt-2 bg-red-600 text-white px-3 py-1 rounded",children:"Add"})]})]})})}function FO({item:t,onClose:e,onConfirm:i}){const[r,o]=j.useState([]),[c,u]=j.useState(!1),[m,g]=j.useState(!1),[y,v]=j.useState(1),T=()=>v(k=>k+1),S=()=>v(k=>k>1?k-1:1),w=k=>{o(B=>B.includes(k)?B.filter(q=>q!==k):[...B,k])},V=()=>{u(!0),setTimeout(()=>{u(!1),i(r,y)},800)},M=()=>{m||(g(!0),setTimeout(()=>{e()},200))},P=r.reduce((k,B)=>k+(B.extraPrice||0),0);return j.useEffect(()=>{const k=B=>{B.key==="Escape"&&!m&&M()};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[m]),d.jsx("div",{className:`modal-overlay ${m?"modal-closing":""}`,onClick:M,children:d.jsxs("div",{className:`modal-box ${m?"modal-closing":""}`,onClick:k=>k.stopPropagation(),children:[d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-image-wrapper",children:[d.jsx("img",{className:"modalImage",src:`./assets/${t.image}`,alt:t.image}),d.jsxs("div",{className:"modal-price-badge",children:[t.price," kr"]})]}),d.jsxs("div",{className:"modal-header-section",children:[d.jsxs("h3",{className:"modal-title-text",children:["Tilpas din ",t.name]}),t.desc&&d.jsx("p",{className:"modal-item-desc",children:t.desc})]}),t.ingredients&&t.ingredients.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-section-divider"}),d.jsx("p",{className:"modal-desc",children:"Vlg tilvalg:"}),d.jsx("div",{className:"modal-ingredients",children:t.ingredients.map(k=>d.jsxs("label",{className:"modal-ingredient",children:[d.jsx("input",{type:"checkbox",checked:r.includes(k),onChange:()=>w(k)}),d.jsx("span",{className:"custom-checkbox"}),d.jsxs("span",{className:"ingredient-label",children:[d.jsx("span",{className:"ingredient-name",children:k.name}),k.extraPrice?d.jsxs("span",{className:"ingredient-price",children:["+",k.extraPrice," kr"]}):null]})]},k.name))})]})]}),d.jsx("button",{onClick:M,className:"modal-cancel",children:d.jsx(KS,{width:20,height:20})}),d.jsxs("div",{className:"modal-buttons",children:[d.jsxs("div",{className:"modal-qty",children:[d.jsx("button",{onClick:S,disabled:y<=1,"aria-label":"Decrease quantity",children:""}),d.jsx("span",{children:y}),d.jsx("button",{onClick:T,"aria-label":"Increase quantity",children:"+"})]}),d.jsxs("div",{className:"modal-add-wrapper",children:[d.jsx("button",{onClick:V,className:"modal-confirm",children:d.jsxs("span",{children:["Tilfj til kurv  ",(t.price+P)*y," kr"]})}),c&&d.jsx("div",{className:"add-notify",children:"Tilfjet!"})]})]})]})})}function vS(){const[t,e]=j.useState(""),[i,r]=j.useState(!1),[o,c]=j.useState("Most Popular"),[u,m]=j.useState(null),[g,y]=j.useState([]),[v,T]=j.useState(!0),[S,w]=j.useState(null),[V,M]=j.useState(!1),[P,k]=j.useState([]),B=j.useRef({}),q=j.useRef(null),he=j.useRef({}),{addItem:ee,items:ce,updateQty:N,removeItem:R,clear:D,total:U}=Vc(),L=j.useRef(ce.length);j.useEffect(()=>{const A=window.innerWidth<720,K=ce.length>L.current;A&&K&&ce.length>0&&!V&&M(!0),L.current=ce.length},[ce.length,V]),j.useEffect(()=>{async function A(){try{T(!0),w(null);const te=dS(),le=zO();if(te&&te.length>0){const _e=te.map(Ne=>({...Ne,id:Ne.id||""}));y(_e),T(!1);const Te=await oc();if(Te&&(!le||Te.getTime()>le.getTime())){const Ue=(await Xp()).map(Ft=>({...Ft,id:Ft.id||""}));y(Ue),fS(Ue),mS(Te)}}else{const Te=(await Xp()).map($e=>({...$e,id:$e.id||""}));y(Te),fS(Te);const Ne=await oc();Ne&&mS(Ne)}}catch(te){console.error("Error loading products:",te),w("Kunne ikke indlse produkter. Prv venligst igen.");const le=dS();if(le&&le.length>0){const _e=le.map(Te=>({...Te,id:Te.id||""}));y(_e)}}finally{T(!1)}}A();async function K(){try{const te=pS(),le=BO();if(te&&te.length>=0&&le){k(te);const{lastUpdated:_e,productIds:Te}=await ad();_e&&(!le||_e.getTime()>le.getTime())&&(k(Te),gS(Te),yS(_e))}else{const{lastUpdated:_e,productIds:Te}=await ad();k(Te),gS(Te),_e&&yS(_e)}}catch(te){console.error("Error loading most popular product IDs:",te);const le=pS();le&&k(le)}}K()},[]);const F=P.length>0?["Most Popular",...new Set(g.map(A=>A.category))]:[...new Set(g.map(A=>A.category))],I=A=>{m(A)},He=()=>{m(null)},ge=(A,K,te)=>{ee({...A,selectedIngredients:K,qty:te}),m(null)};j.useEffect(()=>(u?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[u]),j.useEffect(()=>(V?document.body.classList.add("cart-drawer-open"):document.body.classList.remove("cart-drawer-open"),()=>{document.body.classList.remove("cart-drawer-open")}),[V]),j.useEffect(()=>(i?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[i]),j.useEffect(()=>{const A=()=>{Object.values(he.current).forEach(te=>{if(!te)return;const le=te.getBoundingClientRect();le.top<=0&&le.bottom>0?te.classList.add("is-sticky"):te.classList.remove("is-sticky")})},K=setTimeout(()=>{A()},100);return window.addEventListener("scroll",A,{passive:!0}),()=>{clearTimeout(K),window.removeEventListener("scroll",A)}},[g]),j.useEffect(()=>{if(v||g.length===0)return;const A=()=>{const te=document.querySelector(".menu-filters")?.querySelector(".categoriesContainer"),le=document.querySelector(".categoriesContainer-revealOnScroll");if(!te||!le)return;te.getBoundingClientRect().top<=0?le.classList.add("is-visible"):le.classList.remove("is-visible")};return window.addEventListener("scroll",A,{passive:!0}),window.addEventListener("resize",A,{passive:!0}),()=>{window.removeEventListener("scroll",A),window.removeEventListener("resize",A)}},[v,g.length]);const Z=g.filter(A=>A.name.toLowerCase().includes(t.toLowerCase())||A.desc.toLowerCase().includes(t.toLowerCase())||A.tags?.some(te=>te.toLowerCase().includes(t.toLowerCase()))||A.category.toLowerCase().includes(t.toLowerCase())),ue=Z.filter(A=>A.id&&P.includes(A.id)),me=j.useRef(!1),be=j.useRef(!1),Re=A=>{me.current=!0,c(A);const K=A==="Most Popular"?q.current:B.current[A];K&&K.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{me.current=!1},1e3)};return j.useEffect(()=>{be.current||v||g.length===0||window.scrollY>0||P.length>0&&ue.length>0&&(o!=="Most Popular"?(be.current=!0,c("Most Popular")):be.current=!0)},[v,g.length,P.length,ue.length,o]),j.useEffect(()=>{if(v||g.length===0||!o)return;const A=document.querySelector(".categoriesContainer-revealOnScroll");if(!A||!A.classList.contains("is-visible"))return;const K=A.querySelectorAll("button");let te=null;if(K.forEach(le=>{le.textContent?.trim()===o&&(te=le)}),te&&A){const le=A.getBoundingClientRect(),_e=te.getBoundingClientRect(),Te=A.scrollLeft+(_e.left-le.left)-le.width/2+_e.width/2;A.scrollTo({left:Te,behavior:"smooth"})}},[o,v,g.length]),j.useEffect(()=>{if(v||g.length===0)return;const A=()=>{if(me.current||!be.current)return;const le=window.scrollY||window.pageYOffset,Te=window.innerHeight*.3;let Ne=null,$e=1/0;if(q.current){const Ue=q.current.getBoundingClientRect(),Ft=Ue.top+le,cn=Math.abs(le+Te-Ft);Ue.top<=Te&&Ue.bottom>0&&cn<$e&&($e=cn,Ne="Most Popular")}Object.entries(B.current).forEach(([Ue,Ft])=>{if(!Ft)return;const cn=Ft.getBoundingClientRect(),Ai=cn.top+le,oi=Math.abs(le+Te-Ai);cn.top<=Te&&cn.bottom>0&&oi<$e&&($e=oi,Ne=Ue)}),Ne&&Ne!==o&&c(Ne)};let K=!1;const te=()=>{K||(window.requestAnimationFrame(()=>{A(),K=!1}),K=!0)};return window.addEventListener("scroll",te,{passive:!0}),window.addEventListener("resize",A,{passive:!0}),A(),()=>{window.removeEventListener("scroll",te),window.removeEventListener("resize",A)}},[v,g.length,o]),v?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{children:"Indlser menuen..."})})}):S?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{style:{color:"red"},children:S})})}):d.jsxs("main",{className:"menuPageContainer max-w-6xl",children:[d.jsxs("div",{className:"menu-header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-subtitle",children:"Vlg en kategori for at se vores retter."}),d.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2 mb-0",children:[d.jsx("span",{role:"img","aria-label":"bestik",className:"menu-header-icon",children:""}),"Bestil takeaway"]})]}),d.jsxs("button",{className:"allergen-btn",onClick:()=>r(!0),children:[d.jsx("span",{className:"allergen-btn-text",children:"Allergener"}),d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2L2 20h20L12 2z"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),d.jsx("circle",{cx:"12",cy:"17",r:"1"})]})]})]}),i&&d.jsx("div",{className:"allergen-modal",onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>r(!1),400)},children:d.jsxs("div",{className:"max-w-6xl modal-content",onClick:A=>A.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Allergener & Kontakt"}),d.jsx("p",{className:"modal-text",children:"Kontakt os hvis du har sprgsml om allergener, ingredienser eller bestilling."}),d.jsxs("div",{className:"contact-box",children:[d.jsx("p",{className:"contact-header",children:"Kontakt os direkte"}),d.jsx("a",{href:"tel:YOUR_PHONE_NUMBER",className:"contact-btn call",children:" Ring: YOUR_PHONE_NUMBER"}),d.jsx("a",{href:"sms:YOUR_PHONE_NUMBER",className:"contact-btn sms",children:" Send SMS"}),d.jsx("a",{href:"https://wa.me/yourphonenumber",className:"contact-btn whatsapp",target:"_blank",children:" WhatsApp"})]}),d.jsxs("div",{className:"hours-box",children:[d.jsx("h4",{className:"hours-title",children:"bningstider"}),d.jsx("p",{className:"hours-text",children:"YOUR_OPENING_HOURS"})]}),d.jsxs("div",{className:"allergen-box",children:[d.jsx("h4",{className:"allergen-title",children:"Almindelige allergener"}),d.jsxs("ul",{className:"allergen-list",children:[d.jsx("li",{children:" Gluten"}),d.jsx("li",{children:" Laktose"}),d.jsx("li",{children:" g"}),d.jsx("li",{children:" Ndder"}),d.jsx("li",{children:" Fisk"}),d.jsx("li",{children:" Skaldyr"}),d.jsx("li",{children:" Rejer"}),d.jsx("li",{children:" Sulfitter"})]}),d.jsx("p",{className:"modal-note",children:"Kontakt os for detaljer om specifikke retter."})]}),d.jsx("div",{className:"modal-close-btn",children:d.jsx("button",{onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>r(!1),400)},"aria-label":"Close",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"custom-x-icon",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]})}),d.jsxs("div",{className:"menu-grid",children:[d.jsxs("aside",{className:"menu-sidebar",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:A=>e(A.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]}),d.jsx("div",{className:"categoriesContainer",children:F.map(A=>d.jsx("button",{className:A===o?"solid":"ghost",onClick:()=>Re(A),children:A},A))})]}),d.jsx("div",{className:"categoriesContainer-revealOnScroll",children:F.map(A=>d.jsx("button",{className:A===o?"solid":"ghost",onClick:()=>Re(A),children:A},A))}),d.jsxs("section",{className:"menu-products",children:[d.jsxs("div",{className:"menu-filters",children:[d.jsx(Zi,{children:d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:A=>e(A.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]})}),d.jsx(Zi,{children:d.jsx("div",{className:"categoriesContainer",children:F.map(A=>d.jsx("button",{className:A===o?"solid":"ghost",onClick:()=>Re(A),children:A},A))})})]}),d.jsx(Zi,{children:P.length>0&&ue.length>0&&d.jsxs("div",{className:"menu-category-block menu-popular-block",ref:A=>{q.current=A},children:[d.jsx("h3",{className:"menu-category-title",ref:A=>{he.current["Most Popular"]=A},children:"Most Popular"}),d.jsx("div",{className:"menu-products-grid",children:ue.map(A=>d.jsxs("div",{className:"menu-item-simple",onClick:K=>{K.stopPropagation(),A.ingredients&&A.ingredients.length>0&&I(A)},children:[d.jsx("img",{src:`./assets/${A.image}`,alt:A.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:A.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[A.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:A.desc}),A.tags&&A.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:A.tags.slice(0,2).map(K=>d.jsx("span",{className:"menu-item-simple-tag",children:K},K))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:K=>{K.stopPropagation(),A.ingredients&&A.ingredients.length>0?I(A):ge(A,[],1)},children:"+"})]},A.id))})]})}),Array.from(new Set(g.map(A=>A.category))).map(A=>{const K=Z.filter(te=>te.category===A);return K.length===0?null:d.jsxs("div",{className:"menu-category-block",ref:te=>{B.current[A]=te},children:[d.jsx("h3",{className:"menu-category-title",ref:te=>{he.current[A]=te},children:A}),d.jsx("div",{className:"menu-products-grid",children:K.map(te=>d.jsxs("div",{className:"menu-item-simple",onClick:le=>{le.stopPropagation(),te.ingredients&&te.ingredients.length>0&&I(te)},children:[d.jsx("img",{src:`./assets/${te.image}`,alt:te.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:te.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[te.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:te.desc}),te.tags&&te.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:te.tags.slice(0,2).map(le=>d.jsx("span",{className:"menu-item-simple-tag",children:le},le))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:le=>{le.stopPropagation(),te.ingredients&&te.ingredients.length>0?I(te):ge(te,[],1)},children:"+"})]},te.id))})]},A)}),u&&d.jsx(FO,{item:u,onClose:He,onConfirm:(A,K)=>ge(u,A,K)}),Z.length===0&&d.jsx("p",{className:"no-results",children:"Ingen resultater fundet "})]}),d.jsx("div",{className:`cart-drawer-overlay ${V?"cart-drawer-open":""}`,onClick:()=>M(!1),children:d.jsxs("div",{className:`cart-drawer ${V?"cart-drawer-open":""}`,onClick:A=>A.stopPropagation(),children:[d.jsxs("div",{className:"cart-drawer-header",children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("div",{className:"cart-drawer-header-actions",children:[ce.length>0&&d.jsx("button",{className:"cart-drawer-clear",onClick:()=>{window.confirm("Er du sikker p, at du vil fjerne alle varer fra kurven?")&&D()},"aria-label":"Fjern alle varer",children:"Tm kurv"}),d.jsx("button",{className:"cart-drawer-close",onClick:()=>M(!1),"aria-label":"Luk kurv",children:d.jsx(KS,{width:24,height:24})})]})]}),ce.length===0?d.jsx("p",{className:"menu-cart-empty",children:"Din kurv er tom. Tilfj lkre retter fra menuen."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"menu-cart-items",children:ce.map(A=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:A.name}),A.selectedIngredients&&A.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:A.selectedIngredients.map((K,te)=>d.jsxs("span",{children:[K.name,K.extraPrice?` (+${K.extraPrice} kr)`:"",te<A.selectedIngredients.length-1?", ":""]},te))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(A.price*A.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>N(A.id,Math.max(1,A.qty-1)),"aria-label":"Fjern en",children:""}),d.jsx("span",{children:A.qty}),d.jsx("button",{onClick:()=>N(A.id,A.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>R(A.id),children:"Fjern"})]})]},A.id))}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",U.toFixed(2)]})]}),d.jsx(dt,{to:"/checkout",className:"nav-cta menu-cart-cta",onClick:()=>M(!1),children:"G til checkout"})]})]})}),d.jsxs("button",{className:"mobile-cart-button",onClick:()=>M(!0),"aria-label":"bn kurv",children:[d.jsx(fc,{}),ce.length>0&&d.jsx("span",{className:"mobile-cart-badge",children:ce.reduce((A,K)=>A+K.qty,0)})]}),d.jsxs("aside",{className:"menu-cart-panel",children:[d.jsxs("div",{className:"menu-cart-header",children:[d.jsxs("div",{children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("span",{className:"menu-cart-count",children:[ce.length," varer"]})]}),ce.length>0&&d.jsx("button",{className:"menu-cart-clear",onClick:()=>{window.confirm("Er du sikker p, at du vil fjerne alle varer fra kurven?")&&D()},"aria-label":"Fjern alle varer",children:"Tm kurv"})]}),ce.length===0?d.jsx("p",{className:"menu-cart-empty",children:"Din kurv er tom. Tilfj lkre retter fra menuen."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"menu-cart-items",children:ce.map(A=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:A.name}),A.selectedIngredients&&A.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:A.selectedIngredients.map((K,te)=>d.jsxs("span",{children:[K.name,K.extraPrice?` (+${K.extraPrice} kr)`:"",te<A.selectedIngredients.length-1?", ":""]},te))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(A.price*A.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>N(A.id,Math.max(1,A.qty-1)),"aria-label":"Fjern en",children:""}),d.jsx("span",{children:A.qty}),d.jsx("button",{onClick:()=>N(A.id,A.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>R(A.id),children:"Fjern"})]})]},A.id))}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",U.toFixed(2)]})]}),d.jsx(dt,{to:"/checkout",className:"nav-cta menu-cart-cta",children:"G til checkout"})]})]})]})]})}async function Tg(t,e=!1){try{let i=ns(wa(Zt,"reviews"),Od("createdAt","desc"));t&&(i=ns(i,LI(t)));const o=(await Ld(i)).docs.map(c=>{const u=c.data(),m=u.createdAt;return{id:c.id,...u,createdAt:m?.toDate?m.toDate():new Date(m)}});return e?o:o.filter(c=>c.approved!==!1)}catch(i){throw console.error("Error fetching reviews:",i),i}}async function _S(t,e){try{const i=ai(Zt,"reviews",t);await vy(i,e),await bw()}catch(i){throw console.error("Error updating review:",i),i}}async function Ao(){try{const t=ai(Zt,"metadata","reviews"),e=await py(t);if(e.exists()){const r=e.data().lastUpdated;if(r)return r.toDate?r.toDate():new Date(r)}return null}catch(t){return console.error("Error fetching reviews metadata:",t),null}}async function bw(){try{const t=ai(Zt,"metadata","reviews");await yy(t,{lastUpdated:rd()},{merge:!0})}catch(t){console.error("Error updating reviews metadata:",t)}}async function HO(t){try{const e=ai(Zt,"reviews",t);await V1(e),await bw()}catch(e){throw console.error("Error deleting review:",e),e}}const Aw="xanthos_reviews",ww="xanthos_reviews_lastUpdated";function TS(){try{const t=localStorage.getItem(Aw);if(t)return JSON.parse(t).map(i=>({...i,createdAt:i.createdAt?new Date(i.createdAt):new Date}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function ES(t){try{const e=t.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt}));localStorage.setItem(Aw,JSON.stringify(e))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function GO(){try{const t=localStorage.getItem(ww);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function xS(t){try{localStorage.setItem(ww,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}const SS=[{id:1,title:"BBQ Ribs Combo",description:"Saftiga ribs med vr hemlagade BBQ-ss + liten Cola",price:"159,-",image:"./assets/pepperoni.jpg"},{id:2,title:"Pepperoni Pizza Deal",description:"Stor pepperoni pizza + valgfri dip",price:"119,-",image:"./assets/pepperoni.jpg"},{id:3,title:"Mixed Grill Plate",description:"Kebabspyd, plser & pommes frites",price:"169,-",image:"./assets/pepperoni.jpg"}];function KO(){const t=new Date().getDate()%SS.length,e=SS[t],[i,r]=j.useState({name:"",email:"",message:""}),[o,c]=j.useState([]),[u,m]=j.useState(!0),[g,y]=j.useState(4.6),[v,T]=j.useState(500);function S(){const M=new Date,P=M.getHours(),k=M.getMinutes(),B=P+k/60;return B>=11&&B<22}function w(M){M.preventDefault(),alert("Tak for din besked! Vi vender tilbage snarest."),r({name:"",email:"",message:""})}j.useEffect(()=>{async function M(){try{m(!0);const P=TS(),k=GO();if(P&&P.length>0){c(P);const B=P.reduce((he,ee)=>he+ee.rating,0)/P.length;y(Math.round(B*10)/10),T(P.length),m(!1);const q=await Ao();if(q&&(!k||q.getTime()>k.getTime())){const ee=await Tg(6);if(c(ee),ES(ee),xS(q),ee.length>0){const ce=ee.reduce((N,R)=>N+R.rating,0)/ee.length;y(Math.round(ce*10)/10),T(ee.length)}}}else{const B=await Tg(6);if(c(B),ES(B),B.length>0){const he=B.reduce((ee,ce)=>ee+ce.rating,0)/B.length;y(Math.round(he*10)/10),T(B.length)}const q=await Ao();q&&xS(q)}}catch(P){console.error("Error loading reviews:",P);const k=TS();if(k&&k.length>0){c(k);const B=k.reduce((q,he)=>q+he.rating,0)/k.length;y(Math.round(B*10)/10),T(k.length)}}finally{m(!1)}}M()},[]);function V(M){const P=Math.floor(M),k=M%1>=.5,B=5-P-(k?1:0);return d.jsxs(d.Fragment,{children:["".repeat(P),k&&"","".repeat(B)]})}return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"hero-section",children:[d.jsx("div",{className:"hero-overlay"}),d.jsxs("div",{className:"hero-container",children:[d.jsxs("div",{className:"hero-content",children:[d.jsxs("div",{className:"hero-badge",children:[d.jsx("span",{className:S()?"open-dot":"closed-dot"}),S()?"ben nu":"Lukket  bner kl. 11:00"]}),d.jsxs("h1",{className:"hero-title",children:[d.jsx(wp,{}),"Velkommen til Xanthos Pizza & Grill"]}),d.jsx("p",{className:"hero-subtitle",children:"Autentiske pizzor och grillfavoriter. Bestll enkelt online och hmta eller f hemleverans."}),d.jsxs("div",{className:"hero-features",children:[d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Pickup"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Levering"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"4.6/5 (500+ anmeldelser)"]})]}),d.jsxs("div",{className:"hero-cta",children:[d.jsxs(dt,{to:"/bestil",className:"btn-primary",children:["Bestil takeaway",d.jsx(qh,{})]}),d.jsx(dt,{to:"/menu",className:"btn-secondary",children:"Se menu"})]})]}),d.jsx(Zi,{children:d.jsx("div",{className:"hero-special",children:d.jsxs("div",{className:"special-card",children:[d.jsx("span",{className:"special-badge",children:"Dagens tilbud"}),d.jsx("div",{className:"special-image",children:d.jsx("img",{src:e.image,alt:e.title})}),d.jsx("h3",{className:"special-title",children:e.title}),d.jsx("p",{className:"special-desc",children:e.description}),d.jsx("p",{className:"special-price",children:e.price})]})})})]})]}),d.jsxs("main",{className:"home-main",children:[d.jsx("section",{className:"trust-section",children:d.jsxs("div",{className:"trust-grid",children:[d.jsx(Zi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Levering"}),d.jsx("p",{children:"Hurtig & varm"})]})}),d.jsx(Zi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Afhentning"}),d.jsx("p",{children:"Klar p 15 min"})]})}),d.jsx(Zi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Sikker betaling"}),d.jsx("p",{children:"Kort & MobilePay"})]})}),d.jsx(Zi,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"4.6 stjerner"}),d.jsx("p",{children:"500+ anmeldelser"})]})})]})}),d.jsxs("section",{className:"section about-section",children:[d.jsx(Zi,{children:d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Om os"}),d.jsx("p",{className:"section-subtitle",children:"Din lokale pizzabar og grill"})]})}),d.jsx(Zi,{children:d.jsxs("div",{className:"about-content",children:[d.jsxs("div",{className:"about-text",children:[d.jsx("p",{children:"Xanthos Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]}),d.jsx("div",{className:"about-image",children:d.jsx("div",{className:"about-image-placeholder",children:d.jsx(wp,{})})})]})})]}),d.jsxs("section",{className:"section popular-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Populre retter"}),d.jsx("p",{className:"section-subtitle",children:"Kundernas favoriter just nu"})]}),d.jsx("div",{className:"popular-grid",children:Sw.slice(0,3).map(M=>d.jsx(qO,{item:M},M.id))})]}),d.jsx("section",{className:"section info-section",children:d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-card hours-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"bningstider"})]}),d.jsxs("div",{className:"hours-list",children:[d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Mandag  Torsdag"}),d.jsx("span",{className:"hours-time",children:"11:00  21:00"})]}),d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Fredag  Sndag"}),d.jsx("span",{className:"hours-time",children:"11:00  23:00"})]})]}),d.jsxs("div",{className:`hours-status ${S()?"open":"closed"}`,children:[d.jsx("span",{className:"status-dot"}),S()?"ben nu":"Lukket"]})]}),d.jsxs("div",{className:"info-card contact-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"Kontakt os"})]}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("a",{href:"tel:70123456",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Telefon:"}),d.jsx("span",{className:"contact-value",children:"70 12 34 56"})]}),d.jsxs("a",{href:"mailto:info@pizza-grill.dk",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"E-mail:"}),d.jsx("span",{className:"contact-value",children:"info@pizza-grill.dk"})]}),d.jsxs("div",{className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Adresse:"}),d.jsx("span",{className:"contact-value",children:"Hovedgade 123, 1234 By"})]})]})]})]})}),d.jsxs("section",{className:"section reviews-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Hvad vores kunder siger"}),d.jsx("p",{className:"section-subtitle",children:"Anmeldelser fra vores glade kunder"})]}),u?d.jsx("div",{className:"reviews-loading",children:"Indlser anmeldelser..."}):o.length===0?d.jsx("div",{className:"reviews-empty",children:d.jsx("p",{children:"Ingen anmeldelser endnu. Vr den frste til at anmelde!"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"reviews-grid",children:o.slice(0,3).map(M=>d.jsxs("div",{className:"review-card",children:[d.jsx("div",{className:"review-stars",children:V(M.rating)}),d.jsxs("p",{className:"review-text",children:['"',M.text,'"']}),d.jsxs("p",{className:"review-author",children:[" ",M.author]})]},M.id))}),d.jsxs("p",{className:"reviews-average",children:[" ",g.toFixed(1)," gennemsnitlig vurdering fra"," ",v," anmeldelse",v!==1?"r":""]})]})]}),d.jsxs("section",{className:"section contact-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Skriv til os"}),d.jsx("p",{className:"section-subtitle",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."})]}),d.jsxs("form",{className:"contact-form",onSubmit:w,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Navn"}),d.jsx("input",{type:"text",id:"name",value:i.name,onChange:M=>r({...i,name:M.target.value}),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"E-mail"}),d.jsx("input",{type:"email",id:"email",value:i.email,onChange:M=>r({...i,email:M.target.value}),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"message",children:"Besked"}),d.jsx("textarea",{id:"message",rows:5,value:i.message,onChange:M=>r({...i,message:M.target.value}),required:!0})]}),d.jsx("button",{type:"submit",className:"btn-primary btn-submit",children:"Send besked"})]})]}),d.jsx("section",{className:"section cta-section",children:d.jsxs("div",{className:"cta-content",children:[d.jsx("h2",{className:"cta-title",children:"Klar til at bestille?"}),d.jsx("p",{className:"cta-subtitle",children:"Udforsk vores menu og bestil dine favoritter nu"}),d.jsx(dt,{to:"/bestil",className:"btn-primary btn-large",children:"Bestil nu "})]})})]})]})}function YO(){const t=Sg(),{items:e,updateQty:i,removeItem:r,clear:o,total:c}=Vc(),[u,m]=j.useState(!1),g=.25,y=Math.round(c*g/(1+g)),v=c-y,T=e.reduce((S,w)=>S+w.qty,0);return d.jsx("main",{className:"cart-page",children:d.jsxs("div",{className:"cart-page-container",children:[d.jsxs("div",{className:"cart-page-header",children:[d.jsxs("div",{className:"cart-page-title-section",children:[d.jsxs("h1",{className:"cart-page-title",children:[d.jsx(fc,{className:"cart-page-icon"}),"Din kurv"]}),e.length>0&&d.jsxs("p",{className:"cart-page-subtitle",children:[T," ",T===1?"vare":"varer"]})]}),e.length>0&&d.jsxs("button",{className:`cart-clear-btn ${u?"active":""}`,onClick:()=>m(!0),"aria-label":"Tm kurv",children:[d.jsx(OT,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),u&&d.jsxs("div",{className:"cart-confirm-box",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>m(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{o(),m(!1)},children:"Ja, tm kurv"})]})]}),e.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"}),d.jsx(dt,{to:"/menu",className:"cart-empty-cta",children:"Se menu"})]}):d.jsxs("div",{className:"cart-content",children:[d.jsxs("div",{className:"cart-items-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Varer"}),d.jsx("div",{className:"cart-items-list",children:e.map(S=>{const w=S.selectedIngredients?.reduce((k,B)=>k+(B.extraPrice||0),0)||0,V=S.price-w,M=S.price,P=M*S.qty;return d.jsxs("div",{className:"cart-item-card",children:[d.jsx("div",{className:"cart-item-image-wrapper",children:S.image&&d.jsx("img",{src:`./assets/${S.image}`,alt:S.name,className:"cart-item-image",onError:k=>{k.target.src="./assets/pizza-placeholder.jpg"}})}),d.jsxs("div",{className:"cart-item-info",children:[d.jsxs("div",{className:"cart-item-header",children:[d.jsx("h3",{className:"cart-item-name",children:S.name}),d.jsx("button",{className:"cart-item-remove",onClick:()=>r(S.id),"aria-label":"Fjern vare",children:d.jsx(OT,{})})]}),S.desc&&d.jsx("p",{className:"cart-item-description",children:S.desc}),d.jsxs("div",{className:"cart-item-pricing",children:[d.jsxs("div",{className:"cart-item-base-price",children:[d.jsx("span",{children:"Basispris:"}),d.jsxs("span",{children:[V," kr"]})]}),w>0&&d.jsxs("div",{className:"cart-item-extras-price",children:[d.jsx("span",{children:"Tilvalg:"}),d.jsxs("span",{children:["+",w," kr"]})]}),d.jsxs("div",{className:"cart-item-unit-price",children:[d.jsx("span",{children:"Pris pr. stk:"}),d.jsxs("strong",{children:[M," kr"]})]})]}),S.selectedIngredients&&S.selectedIngredients.length>0&&d.jsxs("div",{className:"cart-item-ingredients",children:[d.jsx("p",{className:"cart-ingredients-label",children:"Tilvalg:"}),d.jsx("div",{className:"cart-ingredients-list",children:S.selectedIngredients.map((k,B)=>d.jsxs("span",{className:"cart-ingredient-tag",children:[k.name,k.extraPrice&&d.jsxs("span",{className:"cart-ingredient-price",children:["+",k.extraPrice," kr"]})]},B))})]}),d.jsxs("div",{className:"cart-item-footer",children:[d.jsxs("div",{className:"cart-item-qty",children:[d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(S.id,Math.max(1,S.qty-1)),disabled:S.qty<=1,"aria-label":"Reducer antal",children:""}),d.jsx("span",{className:"cart-qty-value",children:S.qty}),d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(S.id,S.qty+1),"aria-label":"g antal",children:"+"})]}),d.jsxs("div",{className:"cart-item-total",children:[d.jsx("span",{className:"cart-item-total-label",children:"I alt:"}),d.jsxs("span",{className:"cart-item-total-price",children:[P," kr"]})]})]})]})]},S.id)})})]}),d.jsxs("div",{className:"cart-summary-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Ordreoversigt"}),d.jsxs("div",{className:"cart-summary-card",children:[d.jsxs("div",{className:"cart-summary-details",children:[d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Antal varer"}),d.jsxs("span",{children:[T," ",T===1?"vare":"varer"]})]}),d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Subtotal (ekskl. moms)"}),d.jsxs("span",{children:[v," kr"]})]}),d.jsxs("div",{className:"cart-summary-row cart-summary-vat",children:[d.jsx("span",{children:"Moms (25%)"}),d.jsxs("span",{children:[y," kr"]})]}),d.jsx("div",{className:"cart-summary-divider"}),d.jsxs("div",{className:"cart-summary-total",children:[d.jsx("span",{children:"Total inkl. moms"}),d.jsxs("strong",{children:[c," kr"]})]})]}),d.jsxs("div",{className:"cart-summary-actions",children:[d.jsx(dt,{to:"/menu",className:"cart-continue-shopping",children:"Fortst shopping"}),d.jsxs("button",{onClick:()=>t("/checkout"),className:"cart-checkout-btn",children:["G til betaling",d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})]})]})})}async function QO(t){try{return(await I1(wa(Zt,"orders"),{...t,createdAt:ot.now()})).id}catch(e){throw console.error("Error creating order:",e),e}}async function bS(t=!1,e=!1){try{let i=ns(wa(Zt,"orders"));if(t){const c=new Date;c.setHours(0,0,0,0);const u=ot.fromDate(c);i=ns(i,N1("createdAt",">=",u))}i=ns(i,Od("createdAt","desc"));let o=(await Ld(i)).docs.map(c=>({id:c.id,...c.data(),createdAt:c.data().createdAt?.toDate()||new Date}));return e&&(o=o.filter(c=>c.status!=="ready")),o}catch(i){throw console.error("Error fetching orders:",i),i}}async function XO(t,e){try{const i=ai(Zt,"orders",t);await vy(i,{status:e})}catch(i){throw console.error("Error updating order status:",i),i}}async function $O(t){try{const e=ns(wa(Zt,"orders")),r=(await Ld(e)).docs.find(o=>o.id===t);return r?{id:r.id,...r.data(),createdAt:r.data().createdAt?.toDate()||new Date}:null}catch(e){throw console.error("Error fetching order:",e),e}}function ZO(t,e,i=!1,r=!1){try{let o=ns(wa(Zt,"orders"));if(i){const u=new Date;u.setHours(0,0,0,0);const m=ot.fromDate(u);o=ns(o,N1("createdAt",">=",m))}return o=ns(o,Od("createdAt","desc")),BI(o,u=>{let m=u.docs.map(g=>({id:g.id,...g.data(),createdAt:g.data().createdAt?.toDate()||new Date}));r&&(m=m.filter(g=>g.status!=="ready")),t(m)},u=>{console.error("Error in orders subscription:",u),e&&e(u)})}catch(o){return console.error("Error setting up orders subscription:",o),e&&e(o),()=>{}}}const AS=30;function WO(){const{items:t,total:e,clear:i}=Vc(),[r,o]=j.useState(""),[c,u]=j.useState(""),[m,g]=j.useState(""),[y,v]=j.useState("pickup"),[T,S]=j.useState(""),[w,V]=j.useState("card"),[M,P]=j.useState(""),[k,B]=j.useState(""),[q,he]=j.useState(""),[ee,ce]=j.useState(""),[N,R]=j.useState(!1),D=Sg(),U=y==="delivery"?e+AS:e,L=y==="delivery";function F(ge){const Z=ge.replace(/\s+/g,"").replace(/[^0-9]/gi,""),ue=Z.match(/\d{4,16}/g),me=ue&&ue[0]||"",be=[];for(let Re=0,A=me.length;Re<A;Re+=4)be.push(me.substring(Re,Re+4));return be.length?be.join(" "):Z}function I(ge){const Z=ge.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return Z.length>=2?Z.substring(0,2)+"/"+Z.substring(2,4):Z}async function He(ge){if(ge.preventDefault(),L&&w==="card"){if(!M||!k||!q||!ee){alert("Udfyld venligst alle betalingsoplysninger");return}if(M.replace(/\s/g,"").length<16){alert("Ugyldigt kortnummer");return}}R(!0);try{L&&w==="card"&&await new Promise(ue=>setTimeout(ue,2e3));const Z=await QO({items:t,total:U,name:r,phone:c,address:y==="delivery"?m:null,method:y,note:T,paymentMethod:L?w:"cash",paymentStatus:L&&w==="card"?"paid":"pending",status:"pending"});i(),R(!1),D("/confirmation/"+Z)}catch(Z){console.error("Error placing order:",Z),alert("Der opstod en fejl ved placering af ordren. Prv venligst igen."),R(!1)}}return d.jsx("main",{className:"checkout-page",children:d.jsxs("div",{className:"checkout-container",children:[d.jsxs("h2",{className:"checkout-title",children:[d.jsx(fc,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Gennemfr bestilling"]}),t.length===0?d.jsxs("div",{className:"checkout-empty",children:[d.jsx("p",{children:"Din kurv er tom "}),d.jsx(dt,{to:"/bestil",className:"checkout-link",children:"Se menuen"})]}):d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("form",{onSubmit:He,className:"checkout-form",children:[d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Kontaktoplysninger"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn"}),d.jsx("input",{type:"text",required:!0,value:r,onChange:ge=>o(ge.target.value),className:"form-input",placeholder:"Indtast dit navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[d.jsx(Ap,{style:{marginRight:"0.35rem",verticalAlign:"middle"}}),"Telefonnummer"]}),d.jsx("input",{type:"tel",required:!0,value:c,onChange:ge=>u(ge.target.value),className:"form-input",placeholder:"+45 12 34 56 78"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Afhentning eller levering"}),d.jsxs("div",{className:"method-selector",children:[d.jsxs("label",{className:`method-option ${y==="pickup"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"pickup",checked:y==="pickup",onChange:ge=>v(ge.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Afhentning"}),d.jsx("div",{className:"method-desc",children:"Hent din bestilling i butikken"})]})]})]}),d.jsxs("label",{className:`method-option ${y==="delivery"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"delivery",checked:y==="delivery",onChange:ge=>v(ge.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Levering"}),d.jsx("div",{className:"method-desc",children:"Vi bringer det til dig"})]})]})]})]}),y==="delivery"&&d.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[d.jsx("label",{className:"form-label",children:"Leveringsadresse"}),d.jsx("input",{type:"text",required:y==="delivery",value:m,onChange:ge=>g(ge.target.value),className:"form-input",placeholder:"Gadenavn og nummer"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Bemrkninger (valgfrit)"}),d.jsx("div",{className:"form-group",children:d.jsx("textarea",{value:T,onChange:ge=>S(ge.target.value),className:"form-textarea",placeholder:"Har du nogen srlige nsker eller allergener?",rows:4})})]}),L&&d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:" Betalingsmetode"}),d.jsxs("div",{className:"payment-methods",children:[d.jsxs("label",{className:`payment-method-option ${w==="card"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"card",checked:w==="card",onChange:ge=>V(ge.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"Kortbetaling"}),d.jsx("div",{className:"payment-method-desc",children:"Visa, Mastercard, Dankort"})]})]})]}),d.jsxs("label",{className:`payment-method-option ${w==="mobilepay"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"mobilepay",checked:w==="mobilepay",onChange:ge=>V(ge.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"MobilePay"}),d.jsx("div",{className:"payment-method-desc",children:"Betal med MobilePay"})]})]})]})]}),w==="card"&&d.jsxs("div",{className:"payment-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn p kort"}),d.jsx("input",{type:"text",required:w==="card",value:k,onChange:ge=>B(ge.target.value),className:"form-input",placeholder:"Fulde navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Kortnummer"}),d.jsx("input",{type:"text",required:w==="card",value:M,onChange:ge=>P(F(ge.target.value)),className:"form-input",placeholder:"1234 5678 9012 3456",maxLength:19})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"Udlbsdato"}),d.jsx("input",{type:"text",required:w==="card",value:q,onChange:ge=>he(I(ge.target.value)),className:"form-input",placeholder:"MM/",maxLength:5})]}),d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"CVV"}),d.jsx("input",{type:"text",required:w==="card",value:ee,onChange:ge=>ce(ge.target.value.replace(/\D/g,"").slice(0,3)),className:"form-input",placeholder:"123",maxLength:3})]})]})]}),w==="mobilepay"&&d.jsx("div",{className:"mobilepay-info",children:d.jsx("p",{children:"Du vil blive omdirigeret til MobilePay for at gennemfre betalingen."})})]}),d.jsxs("div",{className:"checkout-actions",children:[d.jsx("button",{type:"button",onClick:()=>D("/cart"),className:"btn-secondary",disabled:N,children:"Tilbage"}),d.jsx("button",{type:"submit",className:"btn-primary",disabled:N,children:N?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Behandler..."]}):d.jsxs(d.Fragment,{children:[L?"Betal og placer ordre":"Placer ordre",d.jsx(qh,{style:{marginLeft:"0.5rem",verticalAlign:"middle"}})]})})]}),d.jsx("p",{className:"checkout-note",children:L?" Din betaling er sikker og krypteret. Vi ringer til dig, nr din bestilling er klar!":" Betaling sker ved afhentning. Vi ringer til dig, nr din bestilling er klar!"})]}),d.jsxs("aside",{className:"checkout-summary",children:[d.jsxs("div",{className:"summary-header",children:[d.jsx("h3",{children:"Din bestilling"}),d.jsxs("span",{className:"summary-count",children:[t.length," ",t.length===1?"vare":"varer"]})]}),d.jsx("div",{className:"summary-items",children:t.map(ge=>d.jsxs("div",{className:"summary-item",children:[d.jsxs("div",{className:"summary-item-info",children:[d.jsx("span",{className:"summary-item-name",children:ge.name}),d.jsxs("span",{className:"summary-item-qty",children:["x",ge.qty]})]}),d.jsxs("span",{className:"summary-item-price",children:["DKK ",(ge.price*ge.qty).toFixed(2)]})]},ge.id))}),d.jsxs("div",{className:"summary-total",children:[d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["DKK ",e.toFixed(2)]})]}),y==="delivery"&&d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Leveringsgebyr"}),d.jsxs("span",{children:["DKK ",AS.toFixed(2)]})]}),d.jsxs("div",{className:"summary-total-row summary-total-final",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",U.toFixed(2)]})]})]})]})]})]})})}function JO({orderId:t}){const[e,i]=j.useState(null),[r,o]=j.useState(!0);return j.useEffect(()=>{async function c(){try{const u=await $O(t);i(u)}catch(u){console.error("Error loading order:",u)}finally{o(!1)}}c()},[t]),r?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow text-center",children:"Indlser ordre..."})}):e?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded shadow p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thanks  your order is placed!"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Order #",e.id]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:"Items"}),d.jsx("ul",{className:"mt-2",children:e.items.map(c=>d.jsxs("li",{children:[c.qty,"  ",c.name,"  ",c.price*c.qty,",-"]},c.id))})]}),d.jsxs("div",{className:"mt-4",children:["Total: ",d.jsxs("strong",{children:[e.total,",-"]})]}),d.jsxs("div",{className:"mt-4",children:["We will call you at ",d.jsx("strong",{children:e.phone})," when your order is ready."]})]})}):d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow",children:"Ordre ikke fundet."})})}async function e3(){try{console.log("Initializing products in Firebase...");for(const t of Sw)await KI({category:t.category,name:t.name,desc:t.desc,price:t.price,image:t.image,ingredients:t.ingredients||[]}),console.log(`Created product: ${t.name}`);console.log("All products initialized successfully!")}catch(t){throw console.error("Error initializing products:",t),t}}const Jy="admin_products",ev="admin_products_lastUpdated",Rw="admin_reviews",Cw="admin_reviews_lastUpdated",Nw="xanthos_mostPopularProductIds",jw="xanthos_mostPopular_lastUpdated";function wS(){try{const t=localStorage.getItem(Jy);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function Ep(t){try{localStorage.setItem(Jy,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function t3(){try{const t=localStorage.getItem(ev);if(t)return new Date(t)}catch(t){console.error("Error reading products lastUpdated from localStorage:",t)}return null}function xp(t){try{localStorage.setItem(ev,t.toISOString())}catch(e){console.error("Error saving products lastUpdated to localStorage:",e)}}function RS(){try{const t=localStorage.getItem(Nw);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function Ah(t){try{localStorage.setItem(Nw,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function n3(){try{const t=localStorage.getItem(jw);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function wh(t){try{localStorage.setItem(jw,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}function CS(){try{const t=localStorage.getItem(Rw);if(t)return JSON.parse(t).map(i=>({...i,createdAt:new Date(i.createdAt)}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function Rh(t){try{localStorage.setItem(Rw,JSON.stringify(t))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function i3(){try{const t=localStorage.getItem(Cw);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function Ch(t){try{localStorage.setItem(Cw,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}function s3(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),i=t.createGain();e.connect(i),i.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1e3,t.currentTime+.1),e.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}catch(t){console.error("Error playing notification sound:",t)}}function r3(){const[t,e]=j.useState("orders"),[i,r]=j.useState([]),[o,c]=j.useState(!0),[u,m]=j.useState(null),g=j.useRef(new Set),y=j.useRef(null),v=j.useRef(!0),[T,S]=j.useState([]),[w,V]=j.useState(!1),[M,P]=j.useState(!1),[k,B]=j.useState([]),[q,he]=j.useState(!0),[ee,ce]=j.useState(null),[N,R]=j.useState(""),[D,U]=j.useState(null),[L,F]=j.useState(!1),[I,He]=j.useState(!1),[ge,Z]=j.useState([]),[ue,me]=j.useState(!1),[be,Re]=j.useState([]),[A,K]=j.useState(!0),[te,le]=j.useState(null),_e=()=>{try{const X=localStorage.getItem("admin_todays_orders");if(!X)return null;const re=JSON.parse(X),fe=new Date(re.date),ye=new Date;return fe.getDate()!==ye.getDate()||fe.getMonth()!==ye.getMonth()||fe.getFullYear()!==ye.getFullYear()?null:re.orders}catch(X){return console.error("Error reading today's orders from localStorage:",X),null}},Te=X=>{try{localStorage.setItem("admin_todays_orders",JSON.stringify({date:new Date().toISOString(),orders:X}))}catch(re){console.error("Error saving today's orders to localStorage:",re)}},Ne=(X,re)=>{try{const fe=_e();if(fe){const ye=fe.map(jt=>jt.id===X?{...jt,status:re}:jt);Te(ye),M&&S(ye)}}catch(fe){console.error("Error updating stored order status:",fe)}};async function $e(X=!1){try{c(!0),m(null);const re=await bS(!0,!0);r(re),X&&g.current.clear(),re.forEach(fe=>{fe.id&&g.current.add(fe.id)})}catch(re){console.error("Error loading orders:",re),m("Kunne ikke indlse ordrer. Prv venligst igen.")}finally{c(!1)}}async function Ue(){try{V(!0);const X=_e();if(X&&X.length>0){S(X),V(!1);return}const re=await bS(!0,!1);S(re),Te(re)}catch(X){console.error("Error loading all today's orders:",X),alert("Kunne ikke indlse alle dagens ordrer. Prv venligst igen.")}finally{V(!1)}}async function Ft(){try{he(!0),ce(null);const X=await oc(),re=t3(),fe=wS();if(fe&&re&&X&&Math.abs(X.getTime()-re.getTime())<1e3){console.log("Using cached products (metadata unchanged)"),B(fe),he(!1),await cn();return}console.log("Fetching products from Firebase (metadata changed or no cache)");const ye=await Xp();B(ye),Ep(ye),X&&xp(X),await cn()}catch(X){console.error("Error loading products:",X),ce("Kunne ikke indlse produkter. Prv venligst igen.");const re=wS();re&&(console.log("Using cached products as fallback"),B(re))}finally{he(!1)}}async function cn(){try{const X=RS(),re=n3();if(X&&re){Z(X);const{lastUpdated:fe,productIds:ye}=await ad();fe&&fe.getTime()>re.getTime()&&(Z(ye),Ah(ye),wh(fe))}else{const{lastUpdated:fe,productIds:ye}=await ad();Z(ye),Ah(ye),fe&&wh(fe)}}catch(X){console.error("Error loading most popular product IDs:",X);const re=RS();re&&Z(re)}}async function Ai(X){try{me(!0);const fe=ge.includes(X)?ge.filter(ye=>ye!==X):[...ge,X];await XE(fe),Z(fe),Ah(fe),wh(new Date)}catch(re){console.error("Error updating most popular products:",re),alert("Kunne ikke opdatere mest populre produkter. Prv venligst igen.")}finally{me(!1)}}async function oi(){if(confirm("Er du sikker p, at du vil fjerne alle produkter fra 'Most Popular'?"))try{me(!0),await XE([]),Z([]),alert("Alle produkter fjernet fra 'Most Popular'!"),Ah([]),wh(new Date)}catch(X){console.error("Error clearing most popular products:",X),alert("Kunne ikke fjerne produkter. Prv venligst igen.")}finally{me(!1)}}async function Nn(){try{K(!0),le(null);const X=await Ao(),re=i3(),fe=CS();if(fe&&re&&X&&Math.abs(X.getTime()-re.getTime())<1e3){console.log("Using cached reviews (metadata unchanged)"),Re(fe),K(!1);return}console.log("Fetching reviews from Firebase (metadata changed or no cache)");const ye=await Tg(void 0,!0);Re(ye),Rh(ye),X&&Ch(X)}catch(X){console.error("Error loading reviews:",X),le("Kunne ikke indlse anmeldelser. Prv venligst igen.");const re=CS();re&&(console.log("Using cached reviews as fallback"),Re(re))}finally{K(!1)}}j.useEffect(()=>(t==="orders"?($e(),v.current=!0,y.current=ZO(X=>{if(v.current)r(X),X.forEach(re=>{re.id&&g.current.add(re.id)}),v.current=!1,c(!1);else{const re=g.current,fe=X.filter(ye=>ye.id&&!re.has(ye.id));fe.length>0&&(document.hidden||s3(),r(ye=>{const jt=new Set(ye.map(Ci=>Ci.id));return[...fe.filter(Ci=>Ci.id&&!jt.has(Ci.id)),...ye].sort((Ci,Ca)=>{const Lr=zn=>zn.createdAt instanceof Date?zn.createdAt.getTime():zn.createdAt&&typeof zn.createdAt=="object"&&"toDate"in zn.createdAt?zn.createdAt.toDate().getTime():new Date(zn.createdAt).getTime();return Lr(Ca)-Lr(Ci)})}),fe.forEach(ye=>{ye.id&&g.current.add(ye.id)}))}},X=>{console.error("Error in orders subscription:",X),m("Fejl ved real-time opdatering af ordrer.")},!0,!0)):t==="products"?Ft():t==="reviews"&&Nn(),()=>{y.current&&(y.current(),y.current=null)}),[t]),j.useEffect(()=>()=>{y.current&&(y.current(),y.current=null)},[]);async function Pr(){if(confirm("Er du sikker p, at du vil initialisere alle produkter? Dette kan oprette dubletter hvis produkter allerede findes.")){F(!0),He(!1),ce(null);try{await e3(),He(!0),localStorage.removeItem(Jy),localStorage.removeItem(ev),await Ft(),setTimeout(()=>He(!1),5e3)}catch(X){console.error("Error initializing products:",X),ce("Kunne ikke initialisere produkter. Tjek konsollen for detaljer.")}finally{F(!1)}}}async function wi(X,re){try{await XO(X,re),r(re==="ready"?fe=>fe.filter(ye=>ye.id!==X):fe=>fe.map(ye=>ye.id===X?{...ye,status:re}:ye)),Ne(X,re),M&&S(fe=>fe.map(ye=>ye.id===X?{...ye,status:re}:ye))}catch(fe){console.error("Error updating order status:",fe),alert("Kunne ikke opdatere ordrestatus. Prv venligst igen.")}}async function kr(X,re){try{await YI(X,re);const fe=k.map(jt=>jt.id===X?{...jt,...re}:jt);B(fe),Ep(fe);const ye=await oc();ye&&xp(ye),U(null),alert("Produkt opdateret med succes!")}catch(fe){console.error("Error updating product:",fe),alert("Kunne ikke opdatere produkt. Prv venligst igen.")}}async function Or(X){if(confirm("Er du sikker p, at du vil slette dette produkt?"))try{await QI(X);const re=k.filter(ye=>ye.id!==X);B(re),Ep(re);const fe=await oc();fe&&xp(fe),alert("Produkt slettet!")}catch(re){console.error("Error deleting product:",re),alert("Kunne ikke slette produkt. Prv venligst igen.")}}async function _t(X){try{await _S(X,{approved:!0});const re=be.map(ye=>ye.id===X?{...ye,approved:!0}:ye);Re(re),Rh(re);const fe=await Ao();fe&&Ch(fe),alert("Anmeldelse godkendt!")}catch(re){console.error("Error approving review:",re),alert("Kunne ikke godkende anmeldelse. Prv venligst igen.")}}async function bt(X){if(confirm("Er du sikker p, at du vil afvise denne anmeldelse?"))try{await _S(X,{approved:!1});const re=be.map(ye=>ye.id===X?{...ye,approved:!1}:ye);Re(re),Rh(re);const fe=await Ao();fe&&Ch(fe),alert("Anmeldelse afvist!")}catch(re){console.error("Error rejecting review:",re),alert("Kunne ikke afvise anmeldelse. Prv venligst igen.")}}async function Ri(X){if(confirm("Er du sikker p, at du vil slette denne anmeldelse?"))try{await HO(X);const re=be.filter(ye=>ye.id!==X);Re(re),Rh(re);const fe=await Ao();fe&&Ch(fe),alert("Anmeldelse slettet!")}catch(re){console.error("Error deleting review:",re),alert("Kunne ikke slette anmeldelse. Prv venligst igen.")}}return d.jsx("main",{className:"admin-page",children:d.jsxs("div",{className:"admin-container",children:[d.jsx("h1",{className:"admin-title",children:"Admin Panel"}),d.jsxs("div",{className:"admin-tabs",children:[d.jsxs("button",{className:`admin-tab ${t==="orders"?"active":""}`,onClick:()=>e("orders"),children:[" Ordrer (",i.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="products"?"active":""}`,onClick:()=>e("products"),children:[" Produkter (",k.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="reviews"?"active":""}`,onClick:()=>e("reviews"),children:[" Anmeldelser (",be.length,")"]})]}),t==="orders"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Ordre Administration"}),d.jsx("button",{onClick:()=>$e(!0),className:"btn-refresh",disabled:o,children:o?"Indlser...":" Opdater"})]}),d.jsxs("div",{className:"todays-orders-subsection",children:[d.jsxs("div",{className:"todays-orders-header",children:[d.jsxs("h3",{className:"todays-orders-title",children:["Alle Dagens Ordrer (",T.length,")"]}),d.jsxs("div",{className:"todays-orders-actions",children:[M&&d.jsx("button",{onClick:()=>{localStorage.removeItem("admin_todays_orders"),Ue()},className:"btn-refresh btn-small",disabled:w,children:w?"Indlser...":" Opdater"}),d.jsx("button",{onClick:()=>{M?P(!1):(P(!0),Ue())},className:"btn-refresh btn-small",disabled:w,children:M?" Skjul":" Vis Alle Dagens Ordrer"})]})]}),M&&d.jsx("div",{children:w?d.jsx("div",{className:"loading-state",children:"Indlser alle dagens ordrer..."}):T.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer i dag endnu."}):d.jsx("div",{className:"orders-list",children:T.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:re=>wi(X.id,re.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(re=>d.jsxs("li",{children:[re.qty,"  ",re.name,"  DKK"," ",(re.price*re.qty).toFixed(2)]},re.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})})]}),u&&d.jsx("div",{className:"alert alert-error",children:u}),o?d.jsx("div",{className:"loading-state",children:"Indlser ordrer..."}):i.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer endnu."}):d.jsx("div",{className:"orders-list",children:i.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:re=>wi(X.id,re.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(re=>d.jsxs("li",{children:[re.qty,"  ",re.name,"  DKK"," ",(re.price*re.qty).toFixed(2)]},re.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})]}),t==="products"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Produkt Administration"}),d.jsx("div",{className:"section-actions",children:d.jsx("button",{onClick:Ft,className:"btn-refresh",disabled:q,children:q?"Indlser...":" Opdater"})})]}),I&&d.jsx("div",{className:"alert alert-success",children:" Produkter blev initialiseret med succes!"}),ee&&d.jsx("div",{className:"alert alert-error",children:ee}),q?d.jsx("div",{className:"loading-state",children:"Indlser produkter..."}):k.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"Ingen produkter endnu."}),d.jsx("button",{onClick:Pr,className:"btn-init",disabled:L,children:L?"Initialiserer...":"Initialiser Produkter"})]}):d.jsxs(d.Fragment,{children:[D&&d.jsx(a3,{product:D,onSave:X=>kr(D.id,X),onCancel:()=>U(null)}),d.jsxs("div",{className:"most-popular-selector",children:[d.jsxs("div",{className:"most-popular-header",children:[d.jsx("label",{className:"most-popular-label",children:" Mest Populre Produkter:"}),ge.length>0&&d.jsxs("button",{onClick:oi,className:"btn-clear-popular",disabled:ue,title:"Fjern alle produkter fra Most Popular",children:[" Fjern Alle (",ge.length,")"]})]}),ue&&d.jsx("div",{className:"saving-indicator",children:"Gemmer..."}),d.jsx("p",{className:"most-popular-info",children:'Vlg produkter der skal vises i "Most Popular" sektionen p menuen. Klik p et produkt for at tilfje/fjerne det.'}),d.jsx("div",{className:"most-popular-products-grid",children:k.map(X=>{const re=ge.includes(X.id||"");return d.jsxs("div",{className:`most-popular-product-card ${re?"is-popular":""}`,onClick:()=>!ue&&Ai(X.id),children:[d.jsx("div",{className:"most-popular-product-checkbox",children:re?"":""}),d.jsx("img",{src:`./assets/${X.image}`,alt:X.name,className:"most-popular-product-image"}),d.jsxs("div",{className:"most-popular-product-info",children:[d.jsx("div",{className:"most-popular-product-name",children:X.name}),d.jsx("div",{className:"most-popular-product-category",children:X.category})]})]},X.id)})}),ge.length>0&&d.jsxs("div",{className:"most-popular-summary",children:[d.jsx("strong",{children:ge.length})," produkt",ge.length!==1?"er":"",' valgt til "Most Popular"']})]}),d.jsxs("div",{className:"products-search-container",children:[d.jsx("input",{type:"text",placeholder:" Sg efter produkter (navn, kategori, beskrivelse, tags, ingredienser)...",value:N,onChange:X=>R(X.target.value),className:"products-search-input"}),N&&d.jsx("button",{onClick:()=>R(""),className:"products-search-clear",title:"Ryd sgning",children:""})]}),(()=>{const X=k.filter(re=>{if(!N.trim())return!0;const fe=N.toLowerCase();return[re.name,re.category,re.desc,...re.tags||[],...re.ingredients?.map(jt=>jt.name)||[]].join(" ").toLowerCase().includes(fe)});return X.length===0&&N?d.jsxs("div",{className:"empty-state",children:[d.jsxs("p",{children:['Ingen produkter fundet for "',N,'"']}),d.jsx("button",{onClick:()=>R(""),className:"btn-refresh",children:"Ryd sgning"})]}):d.jsx("div",{className:"products-grid",children:X.map(re=>d.jsxs("div",{className:"product-card",children:[d.jsxs("div",{className:"product-header",children:[d.jsx("img",{src:`./assets/${re.image}`,alt:re.name}),d.jsxs("div",{children:[d.jsx("div",{className:"product-name",children:re.name}),d.jsx("div",{className:"product-category",children:re.category})]}),d.jsxs("div",{className:"product-price",children:["DKK ",re.price.toFixed(2)]})]}),d.jsx("div",{className:"product-desc",children:re.desc}),re.ingredients&&re.ingredients.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tilvalg:"}),d.jsx("ul",{children:re.ingredients.map((fe,ye)=>d.jsxs("li",{children:[fe.name,fe.extraPrice&&` (+DKK ${fe.extraPrice})`]},ye))})]}),re.tags&&re.tags.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tags:"}),d.jsx("ul",{children:re.tags.map((fe,ye)=>d.jsx("li",{children:fe},ye))})]}),d.jsxs("div",{className:"product-actions",children:[d.jsx("button",{onClick:()=>U(re),className:"btn-edit",children:" Rediger"}),d.jsx("button",{onClick:()=>Or(re.id),className:"btn-delete",children:" Slet"})]})]},re.id))})})(),N&&d.jsxs("div",{className:"products-search-results-info",children:["Viser"," ",k.filter(X=>{const re=N.toLowerCase();return[X.name,X.category,X.desc,...X.tags||[],...X.ingredients?.map(ye=>ye.name)||[]].join(" ").toLowerCase().includes(re)}).length," ","af ",k.length," produkter"]})]})]}),t==="reviews"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Anmeldelses Administration"}),d.jsx("button",{onClick:Nn,className:"btn-refresh",disabled:A,children:A?"Indlser...":" Opdater"})]}),te&&d.jsx("div",{className:"alert alert-error",children:te}),A?d.jsx("div",{className:"loading-state",children:"Indlser anmeldelser..."}):be.length===0?d.jsx("div",{className:"empty-state",children:"Ingen anmeldelser endnu."}):d.jsx("div",{className:"reviews-list",children:be.map(X=>d.jsxs("div",{className:`review-card-admin ${X.approved===!1?"review-rejected":X.approved===!0?"review-approved":"review-pending"}`,children:[d.jsxs("div",{className:"review-card-header",children:[d.jsxs("div",{className:"review-info",children:[d.jsx("div",{className:"review-author",children:X.author}),d.jsxs("div",{className:"review-rating",children:["".repeat(X.rating),"".repeat(5-X.rating)]}),d.jsx("div",{className:"review-date",children:X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")})]}),d.jsx("div",{className:"review-status",children:X.approved===!0?d.jsx("span",{className:"status-badge status-approved",children:" Godkendt"}):X.approved===!1?d.jsx("span",{className:"status-badge status-rejected",children:" Afvist"}):d.jsx("span",{className:"status-badge status-pending",children:" Afventer"})})]}),d.jsxs("div",{className:"review-text-admin",children:['"',X.text,'"']}),d.jsxs("div",{className:"review-actions",children:[X.approved!==!0&&d.jsx("button",{onClick:()=>_t(X.id),className:"btn-approve",children:" Godkend"}),X.approved!==!1&&d.jsx("button",{onClick:()=>bt(X.id),className:"btn-reject",children:" Afvis"}),d.jsx("button",{onClick:()=>Ri(X.id),className:"btn-delete",children:" Slet"})]})]},X.id))})]})]})})}function a3({product:t,onSave:e,onCancel:i}){const[r,o]=j.useState(t.name),[c,u]=j.useState(t.desc),[m,g]=j.useState(t.price.toString()),[y,v]=j.useState(t.category),[T,S]=j.useState(t.image),[w,V]=j.useState(t.tags||[]),[M,P]=j.useState(t.ingredients||[]);function k(ee){ee.preventDefault(),e({name:r,desc:c,price:parseFloat(m),category:y,image:T,tags:w.length>0?w:[],ingredients:M.length>0?M:[]})}function B(){P([...M,{name:"",extraPrice:void 0}])}function q(ee){P(M.filter((ce,N)=>N!==ee))}function he(ee,ce,N){const R=[...M];R[ee]={...R[ee],[ce]:ce==="extraPrice"?N===""?void 0:Number(N):N},P(R)}return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-backdrop",onClick:i}),d.jsxs("div",{className:"product-edit-form",children:[d.jsx("h3",{children:"Rediger Produkt"}),d.jsxs("form",{onSubmit:k,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Navn"}),d.jsx("input",{type:"text",value:r,onChange:ee=>o(ee.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Kategori"}),d.jsxs("select",{value:y,onChange:ee=>v(ee.target.value),required:!0,children:[d.jsx("option",{value:"Pizza",children:"Pizza"}),d.jsx("option",{value:"Grill",children:"Grill"}),d.jsx("option",{value:"Sides",children:"Sides"}),d.jsx("option",{value:"Drinks",children:"Drinks"})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Beskrivelse"}),d.jsx("textarea",{value:c,onChange:ee=>u(ee.target.value),required:!0,rows:3})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("div",{className:"form-group-header",children:[d.jsx("label",{children:"Tilvalg (Ingredienser)"}),d.jsx("button",{type:"button",onClick:B,className:"btn-add-small",children:"+ Tilfj tilvalg"})]}),M.length===0?d.jsx("p",{className:"form-hint",children:'Ingen tilvalg tilfjet. Klik p "Tilfj tilvalg" for at tilfje.'}):d.jsx("div",{className:"ingredients-list",children:M.map((ee,ce)=>d.jsxs("div",{className:"ingredient-item",children:[d.jsx("input",{type:"text",placeholder:"Navn p tilvalg",value:ee.name,onChange:N=>he(ce,"name",N.target.value),className:"ingredient-name"}),d.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ekstra pris (valgfrit)",value:ee.extraPrice||"",onChange:N=>he(ce,"extraPrice",N.target.value),className:"ingredient-price"}),d.jsx("button",{type:"button",onClick:()=>q(ce),className:"btn-remove",children:""})]},ce))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tags"}),d.jsx("div",{className:"tags-checkbox-group",children:[{value:"vegetarian",label:" Vegetar"},{value:"vegan",label:" Vegansk"},{value:"spicy",label:" Strk"},{value:"glutenfree",label:" Glutenfri"},{value:"halal",label:" Halal"},{value:"popular",label:" Populr"}].map(ee=>d.jsxs("label",{className:"tag-checkbox-label",children:[d.jsx("input",{type:"checkbox",value:ee.value,checked:w.includes(ee.value),onChange:ce=>{ce.target.checked?V([...w,ee.value]):V(w.filter(N=>N!==ee.value))},className:"tag-checkbox"}),d.jsx("span",{className:"tag-checkbox-text",children:ee.label})]},ee.value))}),w.length>0&&d.jsxs("div",{className:"selected-tags",children:[d.jsx("strong",{children:"Valgte tags:"})," ",w.join(", ")]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Pris (DKK)"}),d.jsx("input",{type:"number",step:"0.01",value:m,onChange:ee=>g(ee.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Billede filnavn"}),d.jsx("input",{type:"text",value:T,onChange:ee=>S(ee.target.value),required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Gem"}),d.jsx("button",{type:"button",onClick:i,className:"btn-cancel",children:"Annuller"})]})]})]})]})}function o3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Om os"}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{className:"text-gray-700",children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]})})}function l3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Kontakt"}),d.jsx("p",{className:"mb-4 text-gray-700",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kontaktoplysninger"}),d.jsxs("p",{className:"text-gray-700",children:["Telefon: ",d.jsx("strong",{children:"70 12 34 56"})]}),d.jsxs("p",{className:"text-gray-700",children:["E-mail: ",d.jsx("strong",{children:"info@pizza-grill.dk"})]}),d.jsxs("p",{className:"text-gray-700",children:["Adresse: ",d.jsx("strong",{children:"Hovedgade 123, 1234 By"})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Skriv til os"}),d.jsxs("form",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Navn"}),d.jsx("input",{className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"E-mail"}),d.jsx("input",{type:"email",className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Besked"}),d.jsx("textarea",{rows:4,className:"w-full p-2 border rounded"})]}),d.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",children:"Send besked"})]})]})]})})}function c3(){return d.jsx("main",{className:"privacy-policy-page",children:d.jsxs("div",{className:"privacy-policy-container",children:[d.jsx("h1",{className:"privacy-policy-title",children:"Privatlivspolitik"}),d.jsxs("p",{className:"privacy-policy-updated",children:["Sidst opdateret: ",new Date().toLocaleDateString("da-DK",{year:"numeric",month:"long",day:"numeric"})]}),d.jsxs("div",{className:"privacy-policy-content",children:[d.jsx("section",{className:"privacy-section",children:d.jsx("p",{className:"privacy-intro",children:'Denne privatlivspolitik forklarer, hvordan Xanthos Pizza & Grill ("vi", "os" eller "vores") indsamler, bruger og beskytter dine personoplysninger, nr du bruger vores hjemmeside og bestiller gennem vores tjenester. Vi respekterer dit privatliv og er forpligtet til at beskytte dine personoplysninger i overensstemmelse med GDPR (Generel Dataforordning).'})}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"1. Hvilke oplysninger indsamler vi?"}),d.jsx("p",{children:"Vi indsamler kun de oplysninger, der er ndvendige for at behandle og levere din bestilling:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Kontaktoplysninger:"})," Navn, telefonnummer, e-mailadresse og leveringsadresse"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Bestillingsoplysninger:"})," Detaljer om dine bestilte produkter, antal og srlige instruktioner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsoplysninger:"})," Betalingsmetode (kort eller MobilePay) - betalingsoplysninger behandles sikkert af vores betalingsudbyder og gemmes aldrig p vores servere"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Tekniske oplysninger:"})," IP-adresse, browser-type og enhedsoplysninger (automatisk indsamlet)"]})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"2. Hvordan bruger vi dine oplysninger?"}),d.jsx("p",{children:"Vi bruger dine personoplysninger til flgende forml:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"At behandle og levere din bestilling"}),d.jsx("li",{children:"At kommunikere med dig vedrrende din bestilling (bekrftelse, opdateringer, problemer)"}),d.jsx("li",{children:"At hndtere betalinger gennem vores betalingsudbydere"}),d.jsx("li",{children:"At opfylde juridiske forpligtelser (f.eks. regnskabsfring)"}),d.jsx("li",{children:"At forbedre vores tjenester og brugeroplevelse"}),d.jsx("li",{children:"At hndtere klager og henvendelser"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"3. Cookies og lokal lagring"}),d.jsx("p",{children:"Vi bruger ikke tracking- eller marketingcookies. Vi bruger kun ndvendige cookies og lokal lagring for at sikre, at hjemmesiden fungerer korrekt:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Session cookies:"})," For at huske din indkbskurv under din besg"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Lokal lagring:"})," For at gemme din kurv, s den ikke forsvinder, hvis du lukker browseren"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Produktcache:"})," For at forbedre indlsningstiden ved at cache produktdata lokalt"]})]}),d.jsx("p",{children:"Du kan til enhver tid slette cookies og lokal lagring gennem dine browserindstillinger. Dette kan pvirke funktionaliteten af hjemmesiden."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"4. Deling af oplysninger"}),d.jsx("p",{children:"Vi deler kun dine oplysninger med:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsudbydere:"})," For at behandle betalinger (kortoplysninger behandles sikkert og gemmes ikke hos os)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Leveringspartnere:"})," Hvis du vlger levering, deler vi din adresse med vores leveringspartner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Juridiske myndigheder:"})," Hvis det er pkrvet ved lov eller retslig ordre"]})]}),d.jsx("p",{children:"Vi slger eller udlejer aldrig dine personoplysninger til tredjeparter til markedsfringsforml."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"5. Databehandling og opbevaring"}),d.jsx("p",{children:"Vi opbevarer dine personoplysninger kun s lnge, det er ndvendigt for at:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Opfylde din bestilling og levere tjenesten"}),d.jsx("li",{children:"Opfylde juridiske forpligtelser (f.eks. regnskabsfring i 5 r)"}),d.jsx("li",{children:"Hndtere eventuelle klager eller retskrav"})]}),d.jsx("p",{children:"Efter opbevaringsperioden slettes eller anonymiseres dine personoplysninger sikkert."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"6. Dine rettigheder"}),d.jsx("p",{children:"I henhold til GDPR har du flgende rettigheder:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigt:"})," Du kan anmode om at se, hvilke personoplysninger vi har om dig"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til berigtigelse:"})," Du kan anmode om rettelse af forkerte eller ufuldstndige oplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til sletning:"})," Du kan anmode om sletning af dine personoplysninger (med visse undtagelser)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til dataportabilitet:"})," Du kan anmode om at modtage dine data i et struktureret format"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigelse:"})," Du kan gre indsigelse mod behandling af dine personoplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til begrnsning:"})," Du kan anmode om begrnsning af behandlingen af dine oplysninger"]})]}),d.jsxs("p",{children:["For at udve disse rettigheder, kontakt os p"," ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"7. Datasikkerhed"}),d.jsx("p",{children:"Vi implementerer passende tekniske og organisatoriske foranstaltninger for at beskytte dine personoplysninger mod uautoriseret adgang, tab, delggelse eller ndring:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Krypteret datatransmission (HTTPS/SSL)"}),d.jsx("li",{children:"Sikker betalingsbehandling gennem certificerede betalingsudbydere"}),d.jsx("li",{children:"Begrnset adgang til personoplysninger (kun autoriseret personale)"}),d.jsx("li",{children:"Regelmssige sikkerhedsopdateringer og -revisioner"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"8. Brns privatliv"}),d.jsx("p",{children:"Vores tjenester er ikke mlrettet brn under 18 r. Vi indsamler bevidst ikke personoplysninger fra brn. Hvis du er forlder eller vrge og opdager, at dit barn har givet os personoplysninger, kontakt os, s vi kan slette disse oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"9. ndringer i privatlivspolitikken"}),d.jsx("p",{children:"Vi kan opdatere denne privatlivspolitik fra tid til tid. Vsentlige ndringer vil blive meddelt p hjemmesiden eller via e-mail. Vi opfordrer dig til at gennemg denne side jvnligt for at holde dig informeret om, hvordan vi beskytter dine oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"10. Kontakt os"}),d.jsx("p",{children:"Hvis du har sprgsml, bekymringer eller nsker at udve dine rettigheder vedrrende denne privatlivspolitik, kan du kontakte os:"}),d.jsxs("div",{className:"privacy-contact",children:[d.jsx("p",{children:d.jsx("strong",{children:"Xanthos Pizza & Grill"})}),d.jsxs("p",{children:["E-mail: ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]}),d.jsxs("p",{children:["Telefon: ",d.jsx("a",{href:"tel:+4570123456",className:"privacy-link",children:"70 12 34 56"})]})]}),d.jsx("p",{children:"Du har ogs ret til at klage til Datatilsynet, hvis du mener, at vi behandler dine personoplysninger i strid med gldende lovgivning."})]})]})]})})}function u3(){const t=ls();return j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t.pathname]),null}const Ei=({children:t})=>{const e=ls();return j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e.pathname]),d.jsx(vw.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},style:{position:"relative",width:"100%"},children:t},e.pathname)};function h3(){const t=ls();return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(GN,{}),d.jsxs("div",{className:"flex-1 app-bg",children:[d.jsx(u3,{}),d.jsx(xk,{mode:"wait",initial:!1,children:d.jsxs(oN,{location:t,children:[d.jsx(ei,{path:"/",element:d.jsx(Ei,{children:d.jsx(KO,{})})}),d.jsx(ei,{path:"/menu",element:d.jsx(Ei,{children:d.jsx(vS,{})})}),d.jsx(ei,{path:"/bestil",element:d.jsx(Ei,{children:d.jsx(vS,{})})}),d.jsx(ei,{path:"/om-os",element:d.jsx(Ei,{children:d.jsx(o3,{})})}),d.jsx(ei,{path:"/kontakt",element:d.jsx(Ei,{children:d.jsx(l3,{})})}),d.jsx(ei,{path:"/privacy",element:d.jsx(Ei,{children:d.jsx(c3,{})})}),d.jsx(ei,{path:"/cart",element:d.jsx(Ei,{children:d.jsx(YO,{})})}),d.jsx(ei,{path:"/checkout",element:d.jsx(Ei,{children:d.jsx(WO,{})})}),d.jsx(ei,{path:"/confirmation/:orderId",element:d.jsx(Ei,{children:d.jsx(f3,{})})}),d.jsx(ei,{path:"/admin",element:d.jsx(Ei,{children:d.jsx(r3,{})})}),d.jsx(ei,{path:"*",element:d.jsx(Ei,{children:d.jsx(m3,{})})})]},t.pathname)})]}),d.jsx(KN,{})]})}function d3(){return d.jsx(jN,{basename:"/xantos-pizza-grill/",children:d.jsx(zN,{children:d.jsx(h3,{})})})}function f3(){const t=window.location.pathname.split("/"),e=t[t.length-1];return d.jsx(JO,{orderId:e})}function m3(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow",children:["Page not found  ",d.jsx(dt,{to:"/",children:"Go home"})]})})}gC.createRoot(document.getElementById("root")).render(d.jsx(j.StrictMode,{children:d.jsx(d3,{})}));
