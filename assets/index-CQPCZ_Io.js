(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var mf={exports:{}},to={};var Av;function lb(){if(Av)return to;Av=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,u){var m=null;if(u!==void 0&&(m=""+u),o.key!==void 0&&(m=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:m,ref:o!==void 0?o:null,props:u}}return to.Fragment=t,to.jsx=i,to.jsxs=i,to}var wv;function ob(){return wv||(wv=1,mf.exports=lb()),mf.exports}var d=ob(),gf={exports:{}},je={};var Nv;function cb(){if(Nv)return je;Nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.iterator;function V(I){return I===null||typeof I!="object"?null:(I=A&&I[A]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,H={};function Z(I,J,ce){this.props=I,this.context=J,this.refs=H,this.updater=ce||U}Z.prototype.isReactComponent={},Z.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},Z.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ee(){}ee.prototype=Z.prototype;function se(I,J,ce){this.props=I,this.context=J,this.refs=H,this.updater=ce||U}var ge=se.prototype=new ee;ge.constructor=se,P(ge,Z.prototype),ge.isPureReactComponent=!0;var oe=Array.isArray;function _e(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(I,J,ce){var fe=ce.ref;return{$$typeof:r,type:I,key:J,ref:fe!==void 0?fe:null,props:ce}}function M(I,J){return R(I.type,J,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function L(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ce){return J[ce]})}var C=/\/+/g;function He(I,J){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):J.toString(36)}function ve(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(_e,_e):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Q(I,J,ce,fe,Ae){var Re=typeof I;(Re==="undefined"||Re==="boolean")&&(I=null);var Me=!1;if(I===null)Me=!0;else switch(Re){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(I.$$typeof){case r:case t:Me=!0;break;case T:return Me=I._init,Q(Me(I._payload),J,ce,fe,Ae)}}if(Me)return Ae=Ae(I),Me=fe===""?"."+He(I,0):fe,oe(Ae)?(ce="",Me!=null&&(ce=Me.replace(C,"$&/")+"/"),Q(Ae,J,ce,"",function(Li){return Li})):Ae!=null&&(D(Ae)&&(Ae=M(Ae,ce+(Ae.key==null||I&&I.key===Ae.key?"":(""+Ae.key).replace(C,"$&/")+"/")+Me)),J.push(Ae)),1;Me=0;var _t=fe===""?".":fe+":";if(oe(I))for(var st=0;st<I.length;st++)fe=I[st],Re=_t+He(fe,st),Me+=Q(fe,J,ce,Re,Ae);else if(st=V(I),typeof st=="function")for(I=st.call(I),st=0;!(fe=I.next()).done;)fe=fe.value,Re=_t+He(fe,st++),Me+=Q(fe,J,ce,Re,Ae);else if(Re==="object"){if(typeof I.then=="function")return Q(ve(I),J,ce,fe,Ae);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Me}function le(I,J,ce){if(I==null)return I;var fe=[],Ae=0;return Q(I,fe,"","",function(Re){return J.call(ce,Re,Ae++)}),fe}function B(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(ce){(I._status===0||I._status===-1)&&(I._status=1,I._result=ce)},function(ce){(I._status===0||I._status===-1)&&(I._status=2,I._result=ce)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var de=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},he={map:le,forEach:function(I,J,ce){le(I,function(){J.apply(this,arguments)},ce)},count:function(I){var J=0;return le(I,function(){J++}),J},toArray:function(I){return le(I,function(J){return J})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return je.Activity=S,je.Children=he,je.Component=Z,je.Fragment=i,je.Profiler=o,je.PureComponent=se,je.StrictMode=s,je.Suspense=v,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,je.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},je.cache=function(I){return function(){return I.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(I,J,ce){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var fe=P({},I.props),Ae=I.key;if(J!=null)for(Re in J.key!==void 0&&(Ae=""+J.key),J)!w.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(fe[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)fe.children=ce;else if(1<Re){for(var Me=Array(Re),_t=0;_t<Re;_t++)Me[_t]=arguments[_t+2];fe.children=Me}return R(I.type,Ae,fe)},je.createContext=function(I){return I={$$typeof:m,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},je.createElement=function(I,J,ce){var fe,Ae={},Re=null;if(J!=null)for(fe in J.key!==void 0&&(Re=""+J.key),J)w.call(J,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=J[fe]);var Me=arguments.length-2;if(Me===1)Ae.children=ce;else if(1<Me){for(var _t=Array(Me),st=0;st<Me;st++)_t[st]=arguments[st+2];Ae.children=_t}if(I&&I.defaultProps)for(fe in Me=I.defaultProps,Me)Ae[fe]===void 0&&(Ae[fe]=Me[fe]);return R(I,Re,Ae)},je.createRef=function(){return{current:null}},je.forwardRef=function(I){return{$$typeof:p,render:I}},je.isValidElement=D,je.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:B}},je.memo=function(I,J){return{$$typeof:y,type:I,compare:J===void 0?null:J}},je.startTransition=function(I){var J=N.T,ce={};N.T=ce;try{var fe=I(),Ae=N.S;Ae!==null&&Ae(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(_e,de)}catch(Re){de(Re)}finally{J!==null&&ce.types!==null&&(J.types=ce.types),N.T=J}},je.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},je.use=function(I){return N.H.use(I)},je.useActionState=function(I,J,ce){return N.H.useActionState(I,J,ce)},je.useCallback=function(I,J){return N.H.useCallback(I,J)},je.useContext=function(I){return N.H.useContext(I)},je.useDebugValue=function(){},je.useDeferredValue=function(I,J){return N.H.useDeferredValue(I,J)},je.useEffect=function(I,J){return N.H.useEffect(I,J)},je.useEffectEvent=function(I){return N.H.useEffectEvent(I)},je.useId=function(){return N.H.useId()},je.useImperativeHandle=function(I,J,ce){return N.H.useImperativeHandle(I,J,ce)},je.useInsertionEffect=function(I,J){return N.H.useInsertionEffect(I,J)},je.useLayoutEffect=function(I,J){return N.H.useLayoutEffect(I,J)},je.useMemo=function(I,J){return N.H.useMemo(I,J)},je.useOptimistic=function(I,J){return N.H.useOptimistic(I,J)},je.useReducer=function(I,J,ce){return N.H.useReducer(I,J,ce)},je.useRef=function(I){return N.H.useRef(I)},je.useState=function(I){return N.H.useState(I)},je.useSyncExternalStore=function(I,J,ce){return N.H.useSyncExternalStore(I,J,ce)},je.useTransition=function(){return N.H.useTransition()},je.version="19.2.0",je}var Rv;function am(){return Rv||(Rv=1,gf.exports=cb()),gf.exports}var k=am(),pf={exports:{}},no={},yf={exports:{}},vf={};var Cv;function ub(){return Cv||(Cv=1,(function(r){function t(Q,le){var B=Q.length;Q.push(le);e:for(;0<B;){var de=B-1>>>1,he=Q[de];if(0<o(he,le))Q[de]=le,Q[B]=he,B=de;else break e}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var le=Q[0],B=Q.pop();if(B!==le){Q[0]=B;e:for(var de=0,he=Q.length,I=he>>>1;de<I;){var J=2*(de+1)-1,ce=Q[J],fe=J+1,Ae=Q[fe];if(0>o(ce,B))fe<he&&0>o(Ae,ce)?(Q[de]=Ae,Q[fe]=B,de=fe):(Q[de]=ce,Q[J]=B,de=J);else if(fe<he&&0>o(Ae,B))Q[de]=Ae,Q[fe]=B,de=fe;else break e}}return le}function o(Q,le){var B=Q.sortIndex-le.sortIndex;return B!==0?B:Q.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var m=Date,p=m.now();r.unstable_now=function(){return m.now()-p}}var v=[],y=[],T=1,S=null,A=3,V=!1,U=!1,P=!1,H=!1,Z=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ge(Q){for(var le=i(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=Q)s(y),le.sortIndex=le.expirationTime,t(v,le);else break;le=i(y)}}function oe(Q){if(P=!1,ge(Q),!U)if(i(v)!==null)U=!0,_e||(_e=!0,L());else{var le=i(y);le!==null&&ve(oe,le.startTime-Q)}}var _e=!1,N=-1,w=5,R=-1;function M(){return H?!0:!(r.unstable_now()-R<w)}function D(){if(H=!1,_e){var Q=r.unstable_now();R=Q;var le=!0;try{e:{U=!1,P&&(P=!1,ee(N),N=-1),V=!0;var B=A;try{t:{for(ge(Q),S=i(v);S!==null&&!(S.expirationTime>Q&&M());){var de=S.callback;if(typeof de=="function"){S.callback=null,A=S.priorityLevel;var he=de(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof he=="function"){S.callback=he,ge(Q),le=!0;break t}S===i(v)&&s(v),ge(Q)}else s(v);S=i(v)}if(S!==null)le=!0;else{var I=i(y);I!==null&&ve(oe,I.startTime-Q),le=!1}}break e}finally{S=null,A=B,V=!1}le=void 0}}finally{le?L():_e=!1}}}var L;if(typeof se=="function")L=function(){se(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,He=C.port2;C.port1.onmessage=D,L=function(){He.postMessage(null)}}else L=function(){Z(D,0)};function ve(Q,le){N=Z(function(){Q(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var B=A;A=le;try{return Q()}finally{A=B}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var B=A;A=Q;try{return le()}finally{A=B}},r.unstable_scheduleCallback=function(Q,le,B){var de=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?de+B:de):B=de,Q){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=B+he,Q={id:T++,callback:le,priorityLevel:Q,startTime:B,expirationTime:he,sortIndex:-1},B>de?(Q.sortIndex=B,t(y,Q),i(v)===null&&Q===i(y)&&(P?(ee(N),N=-1):P=!0,ve(oe,B-de))):(Q.sortIndex=he,t(v,Q),U||V||(U=!0,_e||(_e=!0,L()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var le=A;return function(){var B=A;A=le;try{return Q.apply(this,arguments)}finally{A=B}}}})(vf)),vf}var jv;function hb(){return jv||(jv=1,yf.exports=ub()),yf.exports}var _f={exports:{}},Wt={};var Dv;function db(){if(Dv)return Wt;Dv=1;var r=am();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(v,y,null,T)},Wt.flushSync=function(v){var y=m.T,T=s.p;try{if(m.T=null,s.p=2,v)return v()}finally{m.T=y,s.p=T,s.d.f()}},Wt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Wt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Wt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:V}):T==="script"&&s.d.X(v,{crossOrigin:S,integrity:A,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Wt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);s.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Wt.requestFormReset=function(v){s.d.r(v)},Wt.unstable_batchedUpdates=function(v,y){return v(y)},Wt.useFormState=function(v,y,T){return m.H.useFormState(v,y,T)},Wt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var Iv;function fb(){if(Iv)return _f.exports;Iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_f.exports=db(),_f.exports}var Vv;function mb(){if(Vv)return no;Vv=1;var r=hb(),t=am(),i=fb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=f;break}if(b===l){_=!0,l=h,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,l=h;break}if(b===l){_=!0,l=f,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case Z:return"Profiler";case H:return"StrictMode";case oe:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case se:return e.displayName||"Context";case ee:return(e._context.displayName||"Context")+".Consumer";case ge:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:He(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return He(e(n))}catch{}}return null}var ve=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},de=[],he=-1;function I(e){return{current:e}}function J(e){0>he||(e.current=de[he],de[he]=null,he--)}function ce(e,n){he++,de[he]=e.current,e.current=n}var fe=I(null),Ae=I(null),Re=I(null),Me=I(null);function _t(e,n){switch(ce(Re,n),ce(Ae,e),ce(fe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yy(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(fe),ce(fe,e)}function st(){J(fe),J(Ae),J(Re)}function Li(e){e.memoizedState!==null&&ce(Me,e);var n=fe.current,a=Xy(n,e.type);n!==a&&(ce(Ae,e),ce(fe,a))}function fr(e){Ae.current===e&&(J(fe),J(Ae)),Me.current===e&&(J(Me),Zl._currentValue=B)}var mr,gr;function Rn(e){if(mr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);mr=n&&n[1]||"",gr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mr+e+gr}var X=!1;function ae(e,n){if(!e||X)return"";X=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch($){var K=$}Reflect.construct(e,[],ie)}else{try{ie.call()}catch($){K=$}e.call(ie.prototype)}}else{try{throw Error()}catch($){K=$}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var j=_.split(`
`),G=b.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===G.length)for(l=j.length-1,h=G.length-1;1<=l&&0<=h&&j[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==G[h]){var W=`
`+j[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{X=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Rn(a):""}function Ee(e,n){switch(e.tag){case 26:case 27:case 5:return Rn(e.type);case 16:return Rn("Lazy");case 13:return e.child!==n&&n!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return ae(e.type,!1);case 11:return ae(e.type.render,!1);case 1:return ae(e.type,!0);case 31:return Rn("Activity");default:return""}}function be(e){try{var n="",a=null;do n+=Ee(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fe=Object.prototype.hasOwnProperty,At=r.unstable_scheduleCallback,zi=r.unstable_cancelCallback,ai=r.unstable_shouldYield,Ga=r.unstable_requestPaint,Ut=r.unstable_now,an=r.unstable_getCurrentPriorityLevel,el=r.unstable_ImmediatePriority,tl=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,ph=r.unstable_LowPriority,ko=r.unstable_IdlePriority,Lo=r.log,zo=r.unstable_setDisableYieldValue,Gn=null,Ft=null;function Cn(e){if(typeof Lo=="function"&&zo(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Gn,e)}catch{}}var Et=Math.clz32?Math.clz32:Po,Uo=Math.log,Ka=Math.LN2;function Po(e){return e>>>=0,e===0?32:31-(Uo(e)/Ka|0)|0}var si=256,oa=262144,wt=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=li(l):(_&=b,_!==0?h=li(_):a||(a=b&~e,a!==0&&(h=li(a))))):(b=l&~f,b!==0?h=li(b):_!==0?h=li(_):a||(a=l&~e,a!==0&&(h=li(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function yh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),e}function ci(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ca(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vh(e,n,a,l,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,j=e.expirationTimes,G=e.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Et(a),ie=1<<W;b[W]=0,j[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var $=K[W];$!==null&&($.lane&=-536870913)}a&=~ie}l!==0&&ua(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function ua(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Et(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function nl(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Et(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function il(e,n){var a=n&-n;return a=(a&42)!==0?1:ha(a),(a&(e.suspendedLanes|n))!==0?0:a}function ha(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qo(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:vv(e.type))}function Qn(e,n){var a=le.p;try{return le.p=e,n()}finally{le.p=a}}var Yn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Yn,Pt="__reactProps$"+Yn,ui="__reactContainer$"+Yn,Qa="__reactEvents$"+Yn,_h="__reactListeners$"+Yn,Ho="__reactHandles$"+Yn,Fo="__reactResources$"+Yn,hi="__reactMarker$"+Yn;function Ya(e){delete e[Nt],delete e[Pt],delete e[Qa],delete e[_h],delete e[Ho]}function di(e){var n=e[Nt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ui]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=nv(e);e!==null;){if(a=e[Nt])return a;e=nv(e)}return n}e=a,a=e.parentNode}return null}function jn(e){if(e=e[Nt]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function fi(e){var n=e[Fo];return n||(n=e[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Rt(e){e[hi]=!0}var rl=new Set,al={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(al[e]=n,e=0;e<n.length;e++)rl.add(n[e])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ol={};function Go(e){return Fe.call(ol,e)?!0:Fe.call(ll,e)?!1:sl.test(e)?ol[e]=!0:(ll[e]=!0,!1)}function Xa(e,n,a){if(Go(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function _n(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ct(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cl(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Je(e){if(!e._valueTracker){var n=yr(e)?"checked":"value";e._valueTracker=cl(e,n,""+e[n])}}function da(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=yr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fa=/[\n"\\]/g;function on(e){return e.replace(fa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $a(e,n,a,l,h,f,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Bt(n)):e.value!==""+Bt(n)&&(e.value=""+Bt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?ul(e,_,Bt(n)):a!=null?ul(e,_,Bt(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Bt(b):e.removeAttribute("name")}function Ko(e,n,a,l,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(e);return}a=a!=null?""+Bt(a):"",n=n!=null?""+Bt(n):a,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Je(e)}function ul(e,n,a){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vr(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qo(e,n,a){if(n!=null&&(n=""+Bt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Bt(a):""}function _r(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Bt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Je(e)}function cn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Yo.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function dl(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&hl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&hl(e,f,n[f])}function Za(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var fl=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,yi=null;function ma(e){var n=jn(e);if(n&&(e=n.stateNode)){var a=e[Pt]||null;e:switch(e=n.stateNode,n.type){case"input":if($a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[Pt]||null;if(!h)throw Error(s(90));$a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&da(l)}break e;case"textarea":Qo(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&vr(e,!!a.multiple,n,!1)}}}var Wa=!1;function br(e,n,a){if(Wa)return e(n,a);Wa=!0;try{var l=e(n);return l}finally{if(Wa=!1,(Tr!==null||yi!==null)&&(qc(),Tr&&(n=Tr,e=yi,yi=Tr=null,ma(n),e)))for(n=0;n<e.length;n++)ma(e[n])}}function $n(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(In)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){ga=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{ga=!1}var vi=null,ml=null,pa=null;function gl(){if(pa)return pa;var e,n=ml,a=n.length,l,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return pa=h.slice(e,1<l?1-l:void 0)}function ya(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Zn(){return!1}function Gt(e){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Zn,this.isPropagationStopped=Zn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Gt(Bi),Sr=S({},Bi,{view:0,detail:0}),pl=Gt(Sr),xr,es,Ei,ts=S({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(xr=e.screenX-Ei.screenX,es=e.screenY-Ei.screenY):es=xr=0,Ei=e),xr)},movementY:function(e){return"movementY"in e?e.movementY:es}}),yl=Gt(ts),va=S({},ts,{dataTransfer:0}),$o=Gt(va),Zo=S({},Sr,{relatedTarget:0}),_a=Gt(Zo),vl=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=Gt(vl),ns=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wo=Gt(ns),ec=S({},Bi,{data:0}),Ti=Gt(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ic[e])?!!n[e]:!1}function Ar(){return rc}var sn=S({},Sr,{key:function(e){if(e.key){var n=tc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ac=Gt(sn),sc=S({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Gt(sc),c=S({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),g=Gt(c),E=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Gt(E),q=S({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Gt(q),ue=S({},Bi,{newState:0,oldState:0}),Ie=Gt(ue),Tt=[9,13,27,32],Xe=In&&"CompositionEvent"in window,dt=null;In&&"documentMode"in document&&(dt=document.documentMode);var Vn=In&&"TextEvent"in window&&!dt,bi=In&&(!Xe||dt&&8<dt&&11>=dt),Jn=" ",Wn=!1;function Ea(e,n){switch(e){case"keyup":return Tt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function is(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function DT(e,n){switch(e){case"compositionend":return is(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return e=n.data,e===Jn&&Wn?null:e;default:return null}}function IT(e,n){if(rs)return e==="compositionend"||!Xe&&Ea(e,n)?(e=gl(),pa=ml=vi=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VT[e.type]:n==="textarea"}function sg(e,n,a,l){Tr?yi?yi.push(l):yi=[l]:Tr=l,n=Xc(n,"onChange"),0<n.length&&(a=new _i("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var _l=null,El=null;function OT(e){qy(e,0)}function lc(e){var n=vn(e);if(da(n))return e}function lg(e,n){if(e==="change")return n}var og=!1;if(In){var Eh;if(In){var Th="oninput"in document;if(!Th){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Th=typeof cg.oninput=="function"}Eh=Th}else Eh=!1;og=Eh&&(!document.documentMode||9<document.documentMode)}function ug(){_l&&(_l.detachEvent("onpropertychange",hg),El=_l=null)}function hg(e){if(e.propertyName==="value"&&lc(El)){var n=[];sg(n,El,e,Dn(e)),br(OT,n)}}function MT(e,n,a){e==="focusin"?(ug(),_l=n,El=a,_l.attachEvent("onpropertychange",hg)):e==="focusout"&&ug()}function kT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(El)}function LT(e,n){if(e==="click")return lc(n)}function zT(e,n){if(e==="input"||e==="change")return lc(n)}function UT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:UT;function Tl(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Fe.call(n,h)||!En(e[h],n[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,n){var a=dg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function mg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pi(e.document)}return n}function bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PT=In&&"documentMode"in document&&11>=document.documentMode,as=null,Sh=null,bl=null,xh=!1;function pg(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xh||as==null||as!==pi(l)||(l=as,"selectionStart"in l&&bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&Tl(bl,l)||(bl=l,l=Xc(Sh,"onSelect"),0<l.length&&(n=new _i("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=as)))}function Ta(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ss={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Ah={},yg={};In&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function ba(e){if(Ah[e])return Ah[e];if(!ss[e])return e;var n=ss[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in yg)return Ah[e]=n[a];return e}var vg=ba("animationend"),_g=ba("animationiteration"),Eg=ba("animationstart"),BT=ba("transitionrun"),qT=ba("transitionstart"),HT=ba("transitioncancel"),Tg=ba("transitionend"),bg=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function ei(e,n){bg.set(e,n),mi(n,[e])}var oc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],ls=0,Nh=0;function cc(){for(var e=ls,n=Nh=ls=0;n<e;){var a=On[n];On[n++]=null;var l=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Sg(a,h,f)}}function uc(e,n,a,l){On[ls++]=e,On[ls++]=n,On[ls++]=a,On[ls++]=l,Nh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rh(e,n,a,l){return uc(e,n,a,l),hc(e)}function Sa(e,n){return uc(e,null,null,n),hc(e)}function Sg(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Et(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function hc(e){if(50<Fl)throw Fl=0,Ld=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var os={};function FT(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,a,l){return new FT(e,n,a,l)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var a=e.alternate;return a===null?(a=Tn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function dc(e,n,a,l,h,f){var _=0;if(l=e,typeof e=="function")Ch(e)&&(_=1);else if(typeof e=="string")_=X1(e,a,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=Tn(31,a,n,h),e.elementType=R,e.lanes=f,e;case P:return xa(a.children,h,f,n);case H:_=8,h|=24;break;case Z:return e=Tn(12,a,n,h|2),e.elementType=Z,e.lanes=f,e;case oe:return e=Tn(13,a,n,h),e.elementType=oe,e.lanes=f,e;case _e:return e=Tn(19,a,n,h),e.elementType=_e,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:_=10;break e;case ee:_=9;break e;case ge:_=11;break e;case N:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Tn(_,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function xa(e,n,a,l){return e=Tn(7,e,l,n),e.lanes=a,e}function jh(e,n,a){return e=Tn(6,e,null,n),e.lanes=a,e}function Ag(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function Dh(e,n,a){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var wg=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var a=wg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:be(n)},wg.set(e,n),n)}return{value:e,source:n,stack:be(n)}}var cs=[],us=0,fc=null,Sl=0,kn=[],Ln=0,wr=null,Si=1,xi="";function Fi(e,n){cs[us++]=Sl,cs[us++]=fc,fc=e,Sl=n}function Ng(e,n,a){kn[Ln++]=Si,kn[Ln++]=xi,kn[Ln++]=wr,wr=e;var l=Si;e=xi;var h=32-Et(l)-1;l&=~(1<<h),a+=1;var f=32-Et(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-Et(n)+h|a<<h|l,xi=f+e}else Si=1<<f|a<<h|l,xi=e}function Ih(e){e.return!==null&&(Fi(e,1),Ng(e,1,0))}function Vh(e){for(;e===fc;)fc=cs[--us],cs[us]=null,Sl=cs[--us],cs[us]=null;for(;e===wr;)wr=kn[--Ln],kn[Ln]=null,xi=kn[--Ln],kn[Ln]=null,Si=kn[--Ln],kn[Ln]=null}function Rg(e,n){kn[Ln++]=Si,kn[Ln++]=xi,kn[Ln++]=wr,Si=n.id,xi=n.overflow,wr=e}var Kt=null,ct=null,qe=!1,Nr=null,zn=!1,Oh=Error(s(519));function Rr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(Mn(n,e)),Oh}function Cg(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Nt]=e,n[Pt]=l,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Kl.length;a++)Le(Kl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Ko(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),_r(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ky(n.textContent,a)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Rr(e,!0)}function jg(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Kt=Kt.return}}function hs(e){if(e!==Kt)return!1;if(!qe)return jg(e),qe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jd(e.type,e.memoizedProps)),a=!a),a&&ct&&Rr(e),jg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ct=tv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ct=tv(e)}else n===27?(n=ct,qr(e.type)?(e=rf,rf=null,ct=e):ct=n):ct=Kt?Pn(e.stateNode.nextSibling):null;return!0}function Aa(){ct=Kt=null,qe=!1}function Mh(){var e=Nr;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Nr=null),e}function xl(e){Nr===null?Nr=[e]:Nr.push(e)}var kh=I(null),wa=null,Gi=null;function Cr(e,n,a){ce(kh,n._currentValue),n._currentValue=a}function Ki(e){e._currentValue=kh.current,J(kh)}function Lh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function zh(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var j=0;j<n.length;j++)if(b.context===n[j]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Lh(f.return,a,e),l||(_=null);break e}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Lh(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ds(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;En(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===Me.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Zl):e=[Zl])}h=h.return}e!==null&&zh(n,e,a,l),n.flags|=262144}function mc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Na(e){wa=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return Dg(wa,e)}function gc(e,n){return wa===null&&Na(e),Dg(e,n)}function Dg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return a}var GT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},KT=r.unstable_scheduleCallback,QT=r.unstable_NormalPriority,jt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new GT,data:new Map,refCount:0}}function Al(e){e.refCount--,e.refCount===0&&KT(QT,function(){e.controller.abort()})}var wl=null,Ph=0,fs=0,ms=null;function YT(e,n){if(wl===null){var a=wl=[];Ph=0,fs=Hd(),ms={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ph++,n.then(Ig,Ig),n}function Ig(){if(--Ph===0&&wl!==null){ms!==null&&(ms.status="fulfilled");var e=wl;wl=null,fs=0,ms=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function XT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=Q.S;Q.S=function(e,n){py=Ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YT(e,n),Vg!==null&&Vg(e,n)};var Ra=I(null);function Bh(){var e=Ra.current;return e!==null?e:lt.pooledCache}function pc(e,n){n===null?ce(Ra,Ra.current):ce(Ra,n.pool)}function Og(){var e=Bh();return e===null?null:{parent:jt._currentValue,pool:e}}var gs=Error(s(460)),qh=Error(s(474)),yc=Error(s(542)),vc={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Xn,Xn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e}throw ja=n,gs}}function Ca(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ja=a,gs):a}}var ja=null;function Lg(){if(ja===null)throw Error(s(459));var e=ja;return ja=null,e}function zg(e){if(e===gs||e===yc)throw Error(s(483))}var ps=null,Nl=0;function _c(e){var n=Nl;return Nl+=1,ps===null&&(ps=[]),kg(ps,e,n)}function Rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ec(e,n){throw n.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ug(e){function n(z,O){if(e){var F=z.deletions;F===null?(z.deletions=[O],z.flags|=16):F.push(O)}}function a(z,O){if(!e)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function l(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=Hi(z,O),z.index=0,z.sibling=null,z}function f(z,O,F){return z.index=F,e?(F=z.alternate,F!==null?(F=F.index,F<O?(z.flags|=67108866,O):F):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function _(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function b(z,O,F,te){return O===null||O.tag!==6?(O=jh(F,z.mode,te),O.return=z,O):(O=h(O,F),O.return=z,O)}function j(z,O,F,te){var Se=F.type;return Se===P?W(z,O,F.props.children,te,F.key):O!==null&&(O.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===w&&Ca(Se)===O.type)?(O=h(O,F.props),Rl(O,F),O.return=z,O):(O=dc(F.type,F.key,F.props,null,z.mode,te),Rl(O,F),O.return=z,O)}function G(z,O,F,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=Dh(F,z.mode,te),O.return=z,O):(O=h(O,F.children||[]),O.return=z,O)}function W(z,O,F,te,Se){return O===null||O.tag!==7?(O=xa(F,z.mode,te,Se),O.return=z,O):(O=h(O,F),O.return=z,O)}function ie(z,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=jh(""+O,z.mode,F),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return F=dc(O.type,O.key,O.props,null,z.mode,F),Rl(F,O),F.return=z,F;case U:return O=Dh(O,z.mode,F),O.return=z,O;case w:return O=Ca(O),ie(z,O,F)}if(ve(O)||L(O))return O=xa(O,z.mode,F,null),O.return=z,O;if(typeof O.then=="function")return ie(z,_c(O),F);if(O.$$typeof===se)return ie(z,gc(z,O),F);Ec(z,O)}return null}function K(z,O,F,te){var Se=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Se!==null?null:b(z,O,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return F.key===Se?j(z,O,F,te):null;case U:return F.key===Se?G(z,O,F,te):null;case w:return F=Ca(F),K(z,O,F,te)}if(ve(F)||L(F))return Se!==null?null:W(z,O,F,te,null);if(typeof F.then=="function")return K(z,O,_c(F),te);if(F.$$typeof===se)return K(z,O,gc(z,F),te);Ec(z,F)}return null}function $(z,O,F,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(F)||null,b(O,z,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case V:return z=z.get(te.key===null?F:te.key)||null,j(O,z,te,Se);case U:return z=z.get(te.key===null?F:te.key)||null,G(O,z,te,Se);case w:return te=Ca(te),$(z,O,F,te,Se)}if(ve(te)||L(te))return z=z.get(F)||null,W(O,z,te,Se,null);if(typeof te.then=="function")return $(z,O,F,_c(te),Se);if(te.$$typeof===se)return $(z,O,F,gc(O,te),Se);Ec(O,te)}return null}function ye(z,O,F,te){for(var Se=null,Qe=null,Te=O,Oe=O=0,Ue=null;Te!==null&&Oe<F.length;Oe++){Te.index>Oe?(Ue=Te,Te=null):Ue=Te.sibling;var Ye=K(z,Te,F[Oe],te);if(Ye===null){Te===null&&(Te=Ue);break}e&&Te&&Ye.alternate===null&&n(z,Te),O=f(Ye,O,Oe),Qe===null?Se=Ye:Qe.sibling=Ye,Qe=Ye,Te=Ue}if(Oe===F.length)return a(z,Te),qe&&Fi(z,Oe),Se;if(Te===null){for(;Oe<F.length;Oe++)Te=ie(z,F[Oe],te),Te!==null&&(O=f(Te,O,Oe),Qe===null?Se=Te:Qe.sibling=Te,Qe=Te);return qe&&Fi(z,Oe),Se}for(Te=l(Te);Oe<F.length;Oe++)Ue=$(Te,z,Oe,F[Oe],te),Ue!==null&&(e&&Ue.alternate!==null&&Te.delete(Ue.key===null?Oe:Ue.key),O=f(Ue,O,Oe),Qe===null?Se=Ue:Qe.sibling=Ue,Qe=Ue);return e&&Te.forEach(function(Qr){return n(z,Qr)}),qe&&Fi(z,Oe),Se}function we(z,O,F,te){if(F==null)throw Error(s(151));for(var Se=null,Qe=null,Te=O,Oe=O=0,Ue=null,Ye=F.next();Te!==null&&!Ye.done;Oe++,Ye=F.next()){Te.index>Oe?(Ue=Te,Te=null):Ue=Te.sibling;var Qr=K(z,Te,Ye.value,te);if(Qr===null){Te===null&&(Te=Ue);break}e&&Te&&Qr.alternate===null&&n(z,Te),O=f(Qr,O,Oe),Qe===null?Se=Qr:Qe.sibling=Qr,Qe=Qr,Te=Ue}if(Ye.done)return a(z,Te),qe&&Fi(z,Oe),Se;if(Te===null){for(;!Ye.done;Oe++,Ye=F.next())Ye=ie(z,Ye.value,te),Ye!==null&&(O=f(Ye,O,Oe),Qe===null?Se=Ye:Qe.sibling=Ye,Qe=Ye);return qe&&Fi(z,Oe),Se}for(Te=l(Te);!Ye.done;Oe++,Ye=F.next())Ye=$(Te,z,Oe,Ye.value,te),Ye!==null&&(e&&Ye.alternate!==null&&Te.delete(Ye.key===null?Oe:Ye.key),O=f(Ye,O,Oe),Qe===null?Se=Ye:Qe.sibling=Ye,Qe=Ye);return e&&Te.forEach(function(sb){return n(z,sb)}),qe&&Fi(z,Oe),Se}function rt(z,O,F,te){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case V:e:{for(var Se=F.key;O!==null;){if(O.key===Se){if(Se=F.type,Se===P){if(O.tag===7){a(z,O.sibling),te=h(O,F.props.children),te.return=z,z=te;break e}}else if(O.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===w&&Ca(Se)===O.type){a(z,O.sibling),te=h(O,F.props),Rl(te,F),te.return=z,z=te;break e}a(z,O);break}else n(z,O);O=O.sibling}F.type===P?(te=xa(F.props.children,z.mode,te,F.key),te.return=z,z=te):(te=dc(F.type,F.key,F.props,null,z.mode,te),Rl(te,F),te.return=z,z=te)}return _(z);case U:e:{for(Se=F.key;O!==null;){if(O.key===Se)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(z,O.sibling),te=h(O,F.children||[]),te.return=z,z=te;break e}else{a(z,O);break}else n(z,O);O=O.sibling}te=Dh(F,z.mode,te),te.return=z,z=te}return _(z);case w:return F=Ca(F),rt(z,O,F,te)}if(ve(F))return ye(z,O,F,te);if(L(F)){if(Se=L(F),typeof Se!="function")throw Error(s(150));return F=Se.call(F),we(z,O,F,te)}if(typeof F.then=="function")return rt(z,O,_c(F),te);if(F.$$typeof===se)return rt(z,O,gc(z,F),te);Ec(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(z,O.sibling),te=h(O,F),te.return=z,z=te):(a(z,O),te=jh(F,z.mode,te),te.return=z,z=te),_(z)):a(z,O)}return function(z,O,F,te){try{Nl=0;var Se=rt(z,O,F,te);return ps=null,Se}catch(Te){if(Te===gs||Te===yc)throw Te;var Qe=Tn(29,Te,null,z.mode);return Qe.lanes=te,Qe.return=z,Qe}finally{}}}var Da=Ug(!0),Pg=Ug(!1),jr=!1;function Hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=hc(e),Sg(e,null,a),n}return uc(e,l,n,a),hc(e)}function Cl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,nl(e,a)}}function Gh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Kh=!1;function jl(){if(Kh){var e=ms;if(e!==null)throw e}}function Dl(e,n,a,l){Kh=!1;var h=e.updateQueue;jr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var j=b,G=j.next;j.next=null,_===null?f=G:_.next=G,_=j;var W=e.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==_&&(b===null?W.firstBaseUpdate=G:b.next=G,W.lastBaseUpdate=j))}if(f!==null){var ie=h.baseState;_=0,W=G=j=null,b=f;do{var K=b.lane&-536870913,$=K!==b.lane;if($?(ze&K)===K:(l&K)===K){K!==0&&K===fs&&(Kh=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ye=e,we=b;K=n;var rt=a;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){ie=ye.call(rt,ie,K);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,K=typeof ye=="function"?ye.call(rt,ie,K):ye,K==null)break e;ie=S({},ie,K);break e;case 2:jr=!0}}K=b.callback,K!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[K]:$.push(K))}else $={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(G=W=$,j=ie):W=W.next=$,_|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;$=b,b=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);W===null&&(j=ie),h.baseState=j,h.firstBaseUpdate=G,h.lastBaseUpdate=W,f===null&&(h.shared.lanes=0),Lr|=_,e.lanes=_,e.memoizedState=ie}}function Bg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function qg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bg(a[e],n)}var ys=I(null),Tc=I(0);function Hg(e,n){e=tr,ce(Tc,e),ce(ys,n),tr=e|n.baseLanes}function Qh(){ce(Tc,tr),ce(ys,ys.current)}function Yh(){tr=Tc.current,J(ys),J(Tc)}var bn=I(null),Un=null;function Vr(e){var n=e.alternate;ce(bt,bt.current&1),ce(bn,e),Un===null&&(n===null||ys.current!==null||n.memoizedState!==null)&&(Un=e)}function Xh(e){ce(bt,bt.current),ce(bn,e),Un===null&&(Un=e)}function Fg(e){e.tag===22?(ce(bt,bt.current),ce(bn,e),Un===null&&(Un=e)):Or()}function Or(){ce(bt,bt.current),ce(bn,bn.current)}function Sn(e){J(bn),Un===e&&(Un=null),J(bt)}var bt=I(0);function bc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tf(a)||nf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Ve=null,nt=null,Dt=null,Sc=!1,vs=!1,Ia=!1,xc=0,Il=0,_s=null,$T=0;function pt(){throw Error(s(321))}function $h(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!En(e[a],n[a]))return!1;return!0}function Zh(e,n,a,l,h,f){return Qi=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Np:dd,Ia=!1,f=a(l,h),Ia=!1,vs&&(f=Kg(n,a,l,h)),Gg(e),f}function Gg(e){Q.H=Ml;var n=nt!==null&&nt.next!==null;if(Qi=0,Dt=nt=Ve=null,Sc=!1,Il=0,_s=null,n)throw Error(s(300));e===null||It||(e=e.dependencies,e!==null&&mc(e)&&(It=!0))}function Kg(e,n,a,l){Ve=e;var h=0;do{if(vs&&(_s=null),Il=0,vs=!1,25<=h)throw Error(s(301));if(h+=1,Dt=nt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Rp,f=n(a,l)}while(vs);return f}function ZT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Vl(n):n,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Ve.flags|=1024),n}function Jh(){var e=xc!==0;return xc=0,e}function Wh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function ed(e){if(Sc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Sc=!1}Qi=0,Dt=nt=Ve=null,vs=!1,Il=xc=0,_s=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ve.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function St(){if(nt===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var n=Dt===null?Ve.memoizedState:Dt.next;if(n!==null)Dt=n,nt=e;else{if(e===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Ve.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(e){var n=Il;return Il+=1,_s===null&&(_s=[]),e=kg(_s,e,n),n=Ve,(Dt===null?n.memoizedState:Dt.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Np:dd),e}function wc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vl(e);if(e.$$typeof===se)return Qt(e)}throw Error(s(438,String(e)))}function td(e){var n=null,a=Ve.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ac(),Ve.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=M;return n.index++,a}function Yi(e,n){return typeof n=="function"?n(e):n}function Nc(e){var n=St();return nd(n,nt,e)}function nd(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var b=_=null,j=null,G=n,W=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(ze&ie)===ie:(Qi&ie)===ie){var K=G.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===fs&&(W=!0);else if((Qi&K)===K){G=G.next,K===fs&&(W=!0);continue}else ie={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(b=j=ie,_=f):j=j.next=ie,Ve.lanes|=K,Lr|=K;ie=G.action,Ia&&a(f,ie),f=G.hasEagerState?G.eagerState:a(f,ie)}else K={lane:ie,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(b=j=K,_=f):j=j.next=K,Ve.lanes|=ie,Lr|=ie;G=G.next}while(G!==null&&G!==n);if(j===null?_=f:j.next=b,!En(f,e.memoizedState)&&(It=!0,W&&(a=ms,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=j,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function id(e){var n=St(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);En(f,n.memoizedState)||(It=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Qg(e,n,a){var l=Ve,h=St(),f=qe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!En((nt||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,sd($g.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Es(9,{destroy:void 0},Xg.bind(null,l,h,a,n),null),lt===null)throw Error(s(349));f||(Qi&127)!==0||Yg(l,n,a)}return a}function Yg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ve.updateQueue,n===null?(n=Ac(),Ve.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Xg(e,n,a,l){n.value=a,n.getSnapshot=l,Zg(n)&&Jg(e)}function $g(e,n,a){return a(function(){Zg(n)&&Jg(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!En(e,a)}catch{return!0}}function Jg(e){var n=Sa(e,2);n!==null&&mn(n,e,2)}function rd(e){var n=ln();if(typeof e=="function"){var a=e;if(e=a(),Ia){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function Wg(e,n,a,l){return e.baseState=a,nd(e,nt,typeof l=="function"?l:Yi)}function JT(e,n,a,l,h){if(jc(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,ep(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ep(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=Q.T,_={};Q.T=_;try{var b=a(h,l),j=Q.S;j!==null&&j(_,b),tp(e,n,b)}catch(G){ad(e,n,G)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=a(h,l),tp(e,n,f)}catch(G){ad(e,n,G)}}function tp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){np(e,n,l)},function(l){return ad(e,n,l)}):np(e,n,a)}function np(e,n,a){n.status="fulfilled",n.value=a,ip(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,ep(e,a)))}function ad(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ip(n),n=n.next;while(n!==l)}e.action=null}function ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function rp(e,n){return n}function ap(e,n){if(qe){var a=lt.formState;if(a!==null){e:{var l=Ve;if(qe){if(ct){t:{for(var h=ct,f=zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Pn(h.nextSibling),l=h.data==="F!";break e}}Rr(l)}l=!1}l&&(n=a[0])}}return a=ln(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:n},a.queue=l,a=xp.bind(null,Ve,l),l.dispatch=a,l=rd(!1),f=hd.bind(null,Ve,!1,l.queue),l=ln(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=JT.bind(null,Ve,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function sp(e){var n=St();return lp(n,nt,e)}function lp(e,n,a){if(n=nd(e,n,rp)[0],e=Nc(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Vl(n)}catch(_){throw _===gs?yc:_}else l=n;n=St();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ve.flags|=2048,Es(9,{destroy:void 0},WT.bind(null,h,a),null)),[l,f,e]}function WT(e,n){e.action=n}function op(e){var n=St(),a=nt;if(a!==null)return lp(n,a,e);St(),n=n.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Es(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=Ac(),Ve.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function cp(){return St().memoizedState}function Rc(e,n,a,l){var h=ln();Ve.flags|=e,h.memoizedState=Es(1|n,{destroy:void 0},a,l===void 0?null:l)}function Cc(e,n,a,l){var h=St();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&$h(l,nt.memoizedState.deps)?h.memoizedState=Es(n,f,a,l):(Ve.flags|=e,h.memoizedState=Es(1|n,f,a,l))}function up(e,n){Rc(8390656,8,e,n)}function sd(e,n){Cc(2048,8,e,n)}function e1(e){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=Ac(),Ve.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function hp(e){var n=St().memoizedState;return e1({ref:n,nextImpl:e}),function(){if(($e&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function dp(e,n){return Cc(4,2,e,n)}function fp(e,n){return Cc(4,4,e,n)}function mp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gp(e,n,a){a=a!=null?a.concat([e]):null,Cc(4,4,mp.bind(null,n,e),a)}function ld(){}function pp(e,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&$h(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function yp(e,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&$h(n,l[1]))return l[0];if(l=e(),Ia){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,n],l}function od(e,n,a){return a===void 0||(Qi&1073741824)!==0&&(ze&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=vy(),Ve.lanes|=e,Lr|=e,a)}function vp(e,n,a,l){return En(a,n)?a:ys.current!==null?(e=od(e,a,l),En(e,n)||(It=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(ze&261930)===0?(It=!0,e.memoizedState=a):(e=vy(),Ve.lanes|=e,Lr|=e,n)}function _p(e,n,a,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var _=Q.T,b={};Q.T=b,hd(e,!1,n,a);try{var j=h(),G=Q.S;if(G!==null&&G(b,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var W=XT(j,l);Ol(e,n,W,wn(e))}else Ol(e,n,l,wn(e))}catch(ie){Ol(e,n,{then:function(){},status:"rejected",reason:ie},wn())}finally{le.p=f,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function t1(){}function cd(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Ep(e).queue;_p(e,h,n,B,a===null?t1:function(){return Tp(e),a(l)})}function Ep(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:B},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tp(e){var n=Ep(e);n.next===null&&(n=e.alternate.memoizedState),Ol(e,n.next.queue,{},wn())}function ud(){return Qt(Zl)}function bp(){return St().memoizedState}function Sp(){return St().memoizedState}function n1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();e=Dr(a);var l=Ir(n,e,a);l!==null&&(mn(l,n,a),Cl(l,n,a)),n={cache:Uh()},e.payload=n;return}n=n.return}}function i1(e,n,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(e)?Ap(n,a):(a=Rh(e,n,a,l),a!==null&&(mn(a,e,l),wp(a,n,l)))}function xp(e,n,a){var l=wn();Ol(e,n,a,l)}function Ol(e,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(e))Ap(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,b=f(_,a);if(h.hasEagerState=!0,h.eagerState=b,En(b,_))return uc(e,n,h,0),lt===null&&cc(),!1}catch{}finally{}if(a=Rh(e,n,h,l),a!==null)return mn(a,e,l),wp(a,n,l),!0}return!1}function hd(e,n,a,l){if(l={lane:2,revertLane:Hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(e)){if(n)throw Error(s(479))}else n=Rh(e,a,l,2),n!==null&&mn(n,e,2)}function jc(e){var n=e.alternate;return e===Ve||n!==null&&n===Ve}function Ap(e,n){vs=Sc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function wp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,nl(e,a)}}var Ml={readContext:Qt,use:wc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Ml.useEffectEvent=pt;var Np={readContext:Qt,use:wc,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Qt,useEffect:up,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Rc(4194308,4,mp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Rc(4194308,4,e,n)},useInsertionEffect:function(e,n){Rc(4,2,e,n)},useMemo:function(e,n){var a=ln();n=n===void 0?null:n;var l=e();if(Ia){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=ln();if(a!==void 0){var h=a(n);if(Ia){Cn(!0);try{a(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=i1.bind(null,Ve,e),[l.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=rd(e);var n=e.queue,a=xp.bind(null,Ve,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:ld,useDeferredValue:function(e,n){var a=ln();return od(a,e,n)},useTransition:function(){var e=rd(!1);return e=_p.bind(null,Ve,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ve,h=ln();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),lt===null)throw Error(s(349));(ze&127)!==0||Yg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,up($g.bind(null,l,f,e),[e]),l.flags|=2048,Es(9,{destroy:void 0},Xg.bind(null,l,f,a,n),null),a},useId:function(){var e=ln(),n=lt.identifierPrefix;if(qe){var a=xi,l=Si;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=$T++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ud,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=hd.bind(null,Ve,!0,a),a.dispatch=n,[e,n]},useMemoCache:td,useCacheRefresh:function(){return ln().memoizedState=n1.bind(null,Ve)},useEffectEvent:function(e){var n=ln(),a={impl:e};return n.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},dd={readContext:Qt,use:wc,useCallback:pp,useContext:Qt,useEffect:sd,useImperativeHandle:gp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:yp,useReducer:Nc,useRef:cp,useState:function(){return Nc(Yi)},useDebugValue:ld,useDeferredValue:function(e,n){var a=St();return vp(a,nt.memoizedState,e,n)},useTransition:function(){var e=Nc(Yi)[0],n=St().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:Qg,useId:bp,useHostTransitionStatus:ud,useFormState:sp,useActionState:sp,useOptimistic:function(e,n){var a=St();return Wg(a,nt,e,n)},useMemoCache:td,useCacheRefresh:Sp};dd.useEffectEvent=hp;var Rp={readContext:Qt,use:wc,useCallback:pp,useContext:Qt,useEffect:sd,useImperativeHandle:gp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:yp,useReducer:id,useRef:cp,useState:function(){return id(Yi)},useDebugValue:ld,useDeferredValue:function(e,n){var a=St();return nt===null?od(a,e,n):vp(a,nt.memoizedState,e,n)},useTransition:function(){var e=id(Yi)[0],n=St().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:Qg,useId:bp,useHostTransitionStatus:ud,useFormState:op,useActionState:op,useOptimistic:function(e,n){var a=St();return nt!==null?Wg(a,nt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Sp};Rp.useEffectEvent=hp;function fd(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var md={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=wn(),h=Dr(l);h.payload=n,a!=null&&(h.callback=a),n=Ir(e,h,l),n!==null&&(mn(n,e,l),Cl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=wn(),h=Dr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ir(e,h,l),n!==null&&(mn(n,e,l),Cl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=wn(),l=Dr(a);l.tag=2,n!=null&&(l.callback=n),n=Ir(e,l,a),n!==null&&(mn(n,e,a),Cl(n,e,a))}};function Cp(e,n,a,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Tl(a,l)||!Tl(h,f):!0}function jp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&md.enqueueReplaceState(n,n.state,null)}function Va(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Dp(e){oc(e)}function Ip(e){console.error(e)}function Vp(e){oc(e)}function Dc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Op(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(e,n,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(e,n)},a}function Mp(e){return e=Dr(e),e.tag=3,e}function kp(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Op(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Op(n,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function r1(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ds(n,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Hc():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Pd(e,l,h)),!1;case 22:return a.flags|=65536,l===vc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Pd(e,l,h)),!1}throw Error(s(435,a.tag))}return Pd(e,l,h),Hc(),!1}if(qe)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Oh&&(e=Error(s(422),{cause:l}),xl(Mn(e,a)))):(l!==Oh&&(n=Error(s(423),{cause:l}),xl(Mn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Mn(l,a),h=gd(e.stateNode,l,h),Gh(e,h),yt!==4&&(yt=2)),!1;var f=Error(s(520),{cause:l});if(f=Mn(f,a),Hl===null?Hl=[f]:Hl.push(f),yt!==4&&(yt=2),n===null)return!0;l=Mn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=gd(a.stateNode,l,e),Gh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zr===null||!zr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Mp(h),kp(h,e,a,l),Gh(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),It=!1;function Yt(e,n,a,l){n.child=e===null?Pg(n,null,a,l):Da(n,e.child,a,l)}function Lp(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Na(n),l=Zh(e,n,a,_,f,h),b=Jh(),e!==null&&!It?(Wh(e,n,h),Xi(e,n,h)):(qe&&b&&Ih(n),n.flags|=1,Yt(e,n,l,h),n.child)}function zp(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!Ch(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Up(e,n,f,l,h)):(e=dc(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xd(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(_,l)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Up(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(Tl(f,l)&&e.ref===n.ref)if(It=!1,n.pendingProps=l=f,xd(e,h))(e.flags&131072)!==0&&(It=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return yd(e,n,a,l,h)}function Pp(e,n,a,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Bp(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pc(n,f!==null?f.cachePool:null),f!==null?Hg(n,f):Qh(),Fg(n);else return l=n.lanes=536870912,Bp(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(pc(n,f.cachePool),Hg(n,f),Or(),n.memoizedState=null):(e!==null&&pc(n,null),Qh(),Or());return Yt(e,n,h,a),n.child}function kl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(e,n,a,l,h){var f=Bh();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&pc(n,null),Qh(),Fg(n),e!==null&&ds(e,n,l,!0),n.childLanes=h,null}function Ic(e,n){return n=Oc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qp(e,n,a){return Da(n,e.child,null,a),e=Ic(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function a1(e,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qe){if(l.mode==="hidden")return e=Ic(n,l),n.lanes=536870912,kl(null,e);if(Xh(n),(e=ct)?(e=ev(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Si,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Ag(e),a.return=n,n.child=a,Kt=n,ct=null)):e=null,e===null)throw Rr(n);return n.lanes=536870912,null}return Ic(n,l)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Xh(n),h)if(n.flags&256)n.flags&=-257,n=qp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(It||ds(e,n,a,!1),h=(a&e.childLanes)!==0,It||h){if(l=lt,l!==null&&(_=il(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Sa(e,_),mn(l,e,_),pd;Hc(),n=qp(e,n,a)}else e=f.treeContext,ct=Pn(_.nextSibling),Kt=n,qe=!0,Nr=null,zn=!1,e!==null&&Rg(n,e),n=Ic(n,l),n.flags|=4096;return n}return e=Hi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Vc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function yd(e,n,a,l,h){return Na(n),a=Zh(e,n,a,l,void 0,h),l=Jh(),e!==null&&!It?(Wh(e,n,h),Xi(e,n,h)):(qe&&l&&Ih(n),n.flags|=1,Yt(e,n,a,h),n.child)}function Hp(e,n,a,l,h,f){return Na(n),n.updateQueue=null,a=Kg(n,l,a,h),Gg(e),l=Jh(),e!==null&&!It?(Wh(e,n,f),Xi(e,n,f)):(qe&&l&&Ih(n),n.flags|=1,Yt(e,n,a,f),n.child)}function Fp(e,n,a,l,h){if(Na(n),n.stateNode===null){var f=os,_=a.contextType;typeof _=="object"&&_!==null&&(f=Qt(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=md,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Hh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Qt(_):os,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&md.enqueueReplaceState(f,f.state,null),Dl(n,l,f,h),jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,j=Va(a,b);f.props=j;var G=f.context,W=a.contextType;_=os,typeof W=="object"&&W!==null&&(_=Qt(W));var ie=a.getDerivedStateFromProps;W=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||G!==_)&&jp(n,f,l,_),jr=!1;var K=n.memoizedState;f.state=K,Dl(n,l,f,h),jl(),G=n.memoizedState,b||K!==G||jr?(typeof ie=="function"&&(fd(n,a,ie,l),G=n.memoizedState),(j=jr||Cp(n,a,j,l,K,G,_))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=_,l=j):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Fh(e,n),_=n.memoizedProps,W=Va(a,_),f.props=W,ie=n.pendingProps,K=f.context,G=a.contextType,j=os,typeof G=="object"&&G!==null&&(j=Qt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ie||K!==j)&&jp(n,f,l,j),jr=!1,K=n.memoizedState,f.state=K,Dl(n,l,f,h),jl();var $=n.memoizedState;_!==ie||K!==$||jr||e!==null&&e.dependencies!==null&&mc(e.dependencies)?(typeof b=="function"&&(fd(n,a,b,l),$=n.memoizedState),(W=jr||Cp(n,a,W,l,K,$,j)||e!==null&&e.dependencies!==null&&mc(e.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,j)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),f.props=l,f.state=$,f.context=j,l=W):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Vc(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Da(n,e.child,null,h),n.child=Da(n,null,a,h)):Yt(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function Gp(e,n,a,l){return Aa(),n.flags|=256,Yt(e,n,a,l),n.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(e){return{baseLanes:e,cachePool:Og()}}function Ed(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=An),e}function Kp(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(qe){if(h?Vr(n):Or(),(e=ct)?(e=ev(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Si,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Ag(e),a.return=n,n.child=a,Kt=n,ct=null)):e=null,e===null)throw Rr(n);return nf(e)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Or(),h=n.mode,b=Oc({mode:"hidden",children:b},h),l=xa(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=_d(a),l.childLanes=Ed(e,_,a),n.memoizedState=vd,kl(null,l)):(Vr(n),Td(n,b))}var j=e.memoizedState;if(j!==null&&(b=j.dehydrated,b!==null)){if(f)n.flags&256?(Vr(n),n.flags&=-257,n=bd(e,n,a)):n.memoizedState!==null?(Or(),n.child=e.child,n.flags|=128,n=null):(Or(),b=l.fallback,h=n.mode,l=Oc({mode:"visible",children:l.children},h),b=xa(b,h,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Da(n,e.child,null,a),l=n.child,l.memoizedState=_d(a),l.childLanes=Ed(e,_,a),n.memoizedState=vd,n=kl(null,l));else if(Vr(n),nf(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,xl({value:l,source:null,stack:null}),n=bd(e,n,a)}else if(It||ds(e,n,a,!1),_=(a&e.childLanes)!==0,It||_){if(_=lt,_!==null&&(l=il(_,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,Sa(e,l),mn(_,e,l),pd;tf(b)||Hc(),n=bd(e,n,a)}else tf(b)?(n.flags|=192,n.child=e.child,n=null):(e=j.treeContext,ct=Pn(b.nextSibling),Kt=n,qe=!0,Nr=null,zn=!1,e!==null&&Rg(n,e),n=Td(n,l.children),n.flags|=4096);return n}return h?(Or(),b=l.fallback,h=n.mode,j=e.child,G=j.sibling,l=Hi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,G!==null?b=Hi(G,b):(b=xa(b,h,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,kl(null,l),l=n.child,b=e.child.memoizedState,b===null?b=_d(a):(h=b.cachePool,h!==null?(j=jt._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=Og(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ed(e,_,a),n.memoizedState=vd,kl(e.child,l)):(Vr(n),a=e.child,e=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function Td(e,n){return n=Oc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Oc(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function bd(e,n,a){return Da(n,e.child,null,a),e=Td(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Lh(e.return,n,a)}function Sd(e,n,a,l,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Yp(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=bt.current,b=(_&2)!==0;if(b?(_=_&1|2,n.flags|=128):_&=1,ce(bt,_),Yt(e,n,l,a),l=qe?Sl:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,a,n);else if(e.tag===19)Qp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&bc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Sd(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&bc(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Sd(n,!0,a,null,f,l);break;case"together":Sd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Lr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ds(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Hi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Hi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function xd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mc(e)))}function s1(e,n,a){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),Cr(n,jt,e.memoizedState.cache),Aa();break;case 27:case 5:Li(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:Cr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Kp(e,n,a):(Vr(n),e=Xi(e,n,a),e!==null?e.sibling:null);Vr(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ds(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Yp(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(bt,bt.current),l)break;return null;case 22:return n.lanes=0,Pp(e,n,a,n.pendingProps);case 24:Cr(n,jt,e.memoizedState.cache)}return Xi(e,n,a)}function Xp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)It=!0;else{if(!xd(e,a)&&(n.flags&128)===0)return It=!1,s1(e,n,a);It=(e.flags&131072)!==0}else It=!1,qe&&(n.flags&1048576)!==0&&Ng(n,Sl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Ca(n.elementType),n.type=e,typeof e=="function")Ch(e)?(l=Va(e,l),n.tag=1,n=Fp(null,n,e,l,a)):(n.tag=0,n=yd(null,n,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===ge){n.tag=11,n=Lp(null,n,e,l,a);break e}else if(h===N){n.tag=14,n=zp(null,n,e,l,a);break e}}throw n=He(e)||e,Error(s(306,n,""))}}return n;case 0:return yd(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Va(l,n.pendingProps),Fp(e,n,l,h,a);case 3:e:{if(_t(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Fh(e,n),Dl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Cr(n,jt,l),l!==f.cache&&zh(n,[jt],a,!0),jl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gp(e,n,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),n),xl(h),n=Gp(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=Pn(e.firstChild),Kt=n,qe=!0,Nr=null,zn=!0,a=Pg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Aa(),l===h){n=Xi(e,n,a);break e}Yt(e,n,l,a)}n=n.child}return n;case 26:return Vc(e,n),e===null?(a=sv(n.type,null,n.pendingProps,null))?n.memoizedState=a:qe||(a=n.type,e=n.pendingProps,l=$c(Re.current).createElement(a),l[Nt]=n,l[Pt]=e,Xt(l,a,e),Rt(l),n.stateNode=l):n.memoizedState=sv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Li(n),e===null&&qe&&(l=n.stateNode=iv(n.type,n.pendingProps,Re.current),Kt=n,zn=!0,h=ct,qr(n.type)?(rf=h,ct=Pn(l.firstChild)):ct=h),Yt(e,n,n.pendingProps.children,a),Vc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qe&&((h=l=ct)&&(l=k1(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Kt=n,ct=Pn(l.firstChild),zn=!1,h=!0):h=!1),h||Rr(n)),Li(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,Jd(h,f)?l=null:_!==null&&Jd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Zh(e,n,ZT,null,null,a),Zl._currentValue=h),Vc(e,n),Yt(e,n,l,a),n.child;case 6:return e===null&&qe&&((e=a=ct)&&(a=L1(a,n.pendingProps,zn),a!==null?(n.stateNode=a,Kt=n,ct=null,e=!0):e=!1),e||Rr(n)),null;case 13:return Kp(e,n,a);case 4:return _t(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Da(n,null,l,a):Yt(e,n,l,a),n.child;case 11:return Lp(e,n,n.type,n.pendingProps,a);case 7:return Yt(e,n,n.pendingProps,a),n.child;case 8:return Yt(e,n,n.pendingProps.children,a),n.child;case 12:return Yt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Cr(n,n.type,l.value),Yt(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Na(n),h=Qt(h),l=l(h),n.flags|=1,Yt(e,n,l,a),n.child;case 14:return zp(e,n,n.type,n.pendingProps,a);case 15:return Up(e,n,n.type,n.pendingProps,a);case 19:return Yp(e,n,a);case 31:return a1(e,n,a);case 22:return Pp(e,n,a,n.pendingProps);case 24:return Na(n),l=Qt(jt),e===null?(h=Bh(),h===null&&(h=lt,f=Uh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Hh(n),Cr(n,jt,h)):((e.lanes&a)!==0&&(Fh(e,n),Dl(n,null,null,a),jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cr(n,jt,l)):(l=f.cache,Cr(n,jt,l),l!==h.cache&&zh(n,[jt],a,!0))),Yt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(e){e.flags|=4}function Ad(e,n,a,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(by())e.flags|=8192;else throw ja=vc,qh}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hv(n))if(by())e.flags|=8192;else throw ja=vc,qh}function Mc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bo():536870912,e.lanes|=n,xs|=n)}function Ll(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function l1(e,n,a){var l=n.pendingProps;switch(Vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(jt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hs(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mh())),ut(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(ut(n),$p(n,f)):(ut(n),Ad(n,h,null,l,a))):f?f!==e.memoizedState?($i(n),ut(n),$p(n,f)):(ut(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(n),ut(n),Ad(n,h,e,l,a)),null;case 27:if(fr(n),a=Re.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ut(n),null}e=fe.current,hs(n)?Cg(n):(e=iv(h,l,a),n.stateNode=e,$i(n))}return ut(n),null;case 5:if(fr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ut(n),null}if(f=fe.current,hs(n))Cg(n);else{var _=$c(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Nt]=n,f[Pt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Xt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$i(n)}}return ut(n),Ad(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Re.current,hs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Nt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ky(e.nodeValue,a)),e||Rr(n,!0)}else e=$c(e).createTextNode(l),e[Nt]=n,n.stateNode=e}return ut(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=hs(n),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Nt]=n}else Aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),e=!1}else a=Mh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ut(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=hs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=n}else Aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),h=!1}else h=Mh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Mc(n,n.updateQueue),ut(n),null);case 4:return st(),e===null&&Qd(n.stateNode.containerInfo),ut(n),null;case 10:return Ki(n.type),ut(n),null;case 19:if(J(bt),l=n.memoizedState,l===null)return ut(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ll(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=bc(e),f!==null){for(n.flags|=128,Ll(l,!1),e=f.updateQueue,n.updateQueue=e,Mc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)xg(a,e),a=a.sibling;return ce(bt,bt.current&1|2),qe&&Fi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ut()>Pc&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304)}else{if(!h)if(e=bc(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Mc(n,e),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return ut(n),null}else 2*Ut()-l.renderingStartTime>Pc&&a!==536870912&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ut(),e.sibling=null,a=bt.current,ce(bt,h?a&1|2:a&1),qe&&Fi(n,l.treeForkCount),e):(ut(n),null);case 22:case 23:return Sn(n),Yh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),a=n.updateQueue,a!==null&&Mc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&J(Ra),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ki(jt),ut(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function o1(e,n){switch(Vh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ki(jt),st(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fr(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(s(340));Aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(bt),null;case 4:return st(),null;case 10:return Ki(n.type),null;case 22:case 23:return Sn(n),Yh(),e!==null&&J(Ra),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ki(jt),null;case 25:return null;default:return null}}function Zp(e,n){switch(Vh(n),n.tag){case 3:Ki(jt),st();break;case 26:case 27:case 5:fr(n);break;case 4:st();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:J(bt);break;case 10:Ki(n.type);break;case 22:case 23:Sn(n),Yh(),e!==null&&J(Ra);break;case 24:Ki(jt)}}function zl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){et(n,n.return,b)}}function Mr(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var j=a,G=b;try{G()}catch(W){et(h,j,W)}}}l=l.next}while(l!==f)}}catch(W){et(n,n.return,W)}}function Jp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{qg(n,a)}catch(l){et(e,e.return,l)}}}function Wp(e,n,a){a.props=Va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){et(e,n,l)}}function Ul(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){et(e,n,h)}}function Ai(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(e,n,h)}else a.current=null}function ey(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(e,e.return,h)}}function wd(e,n,a){try{var l=e.stateNode;j1(l,e.type,a,n),l[Pt]=n}catch(h){et(e,e.return,h)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function Nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rd(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Xn));else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Rd(e,n,a),e=e.sibling;e!==null;)Rd(e,n,a),e=e.sibling}function kc(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(kc(e,n,a),e=e.sibling;e!==null;)kc(e,n,a),e=e.sibling}function ny(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xt(n,l,a),n[Nt]=e,n[Pt]=a}catch(f){et(e,e.return,f)}}var Zi=!1,Vt=!1,Cd=!1,iy=typeof WeakSet=="function"?WeakSet:Set,qt=null;function c1(e,n){if(e=e.containerInfo,$d=iu,e=gg(e),bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,j=-1,G=0,W=0,ie=e,K=null;t:for(;;){for(var $;ie!==a||h!==0&&ie.nodeType!==3||(b=_+h),ie!==f||l!==0&&ie.nodeType!==3||(j=_+l),ie.nodeType===3&&(_+=ie.nodeValue.length),($=ie.firstChild)!==null;)K=ie,ie=$;for(;;){if(ie===e)break t;if(K===a&&++G===h&&(b=_),K===f&&++W===l&&(j=_),($=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=$}a=b===-1||j===-1?null:{start:b,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:e,selectionRange:a},iu=!1,qt=n;qt!==null;)if(n=qt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qt=e;else for(;qt!==null;){switch(n=qt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ye=Va(a.type,h);e=l.getSnapshotBeforeUpdate(ye,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){et(a,a.return,we)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)ef(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ef(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,qt=e;break}qt=n.return}}function ry(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),l&4&&zl(5,a);break;case 1:if(Wi(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){et(a,a.return,_)}else{var h=Va(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){et(a,a.return,_)}}l&64&&Jp(a),l&512&&Ul(a,a.return);break;case 3:if(Wi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qg(e,n)}catch(_){et(a,a.return,_)}}break;case 27:n===null&&l&4&&ny(a);case 26:case 5:Wi(e,a),n===null&&l&4&&ey(a),l&512&&Ul(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),l&4&&ly(e,a);break;case 13:Wi(e,a),l&4&&oy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=v1.bind(null,a),z1(e,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Vt,h=Zi;var f=Vt;Zi=l,(Vt=n)&&!f?er(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),Zi=h,Vt=f}break;case 30:break;default:Wi(e,a)}}function ay(e){var n=e.alternate;n!==null&&(e.alternate=null,ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ya(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,un=!1;function Ji(e,n,a){for(a=a.child;a!==null;)sy(e,n,a),a=a.sibling}function sy(e,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Vt||Ai(a,n),Ji(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||Ai(a,n);var l=ft,h=un;qr(a.type)&&(ft=a.stateNode,un=!1),Ji(e,n,a),Yl(a.stateNode),ft=l,un=h;break;case 5:Vt||Ai(a,n);case 6:if(l=ft,h=un,ft=null,Ji(e,n,a),ft=l,un=h,ft!==null)if(un)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(f){et(a,n,f)}else try{ft.removeChild(a.stateNode)}catch(f){et(a,n,f)}break;case 18:ft!==null&&(un?(e=ft,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Is(e)):Jy(ft,a.stateNode));break;case 4:l=ft,h=un,ft=a.stateNode.containerInfo,un=!0,Ji(e,n,a),ft=l,un=h;break;case 0:case 11:case 14:case 15:Mr(2,a,n),Vt||Mr(4,a,n),Ji(e,n,a);break;case 1:Vt||(Ai(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wp(a,n,l)),Ji(e,n,a);break;case 21:Ji(e,n,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,Ji(e,n,a),Vt=l;break;default:Ji(e,n,a)}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Is(e)}catch(a){et(n,n.return,a)}}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Is(e)}catch(a){et(n,n.return,a)}}function u1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(s(435,e.tag))}}function Lc(e,n){var a=u1(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=_1.bind(null,e,l);l.then(h,h)}})}function hn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,_=n,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(qr(b.type)){ft=b.stateNode,un=!1;break e}break;case 5:ft=b.stateNode,un=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(ft===null)throw Error(s(160));sy(f,_,h),ft=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,e),n=n.sibling}var ti=null;function cy(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),dn(e),l&4&&(Mr(3,e,e.return),zl(3,e),Mr(5,e,e.return));break;case 1:hn(n,e),dn(e),l&512&&(Vt||a===null||Ai(a,a.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(hn(n,e),dn(e),l&512&&(Vt||a===null||Ai(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Xt(f,l,a),f[Nt]=e,Rt(f),l=f;break e;case"link":var _=cv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=h.createElement(l),Xt(f,l,a),h.head.appendChild(f);break;case"meta":if(_=cv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=h.createElement(l),Xt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Nt]=e,Rt(f),l=f}e.stateNode=l}else uv(h,e.type,e.stateNode);else e.stateNode=ov(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?uv(h,e.type,e.stateNode):ov(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&wd(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(n,e),dn(e),l&512&&(Vt||a===null||Ai(a,a.return)),a!==null&&l&4&&wd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(n,e),dn(e),l&512&&(Vt||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(ye){et(e,e.return,ye)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,wd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(hn(n,e),dn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ye){et(e,e.return,ye)}}break;case 3:if(Wc=null,h=ti,ti=Zc(n.containerInfo),hn(n,e),ti=h,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Is(n.containerInfo)}catch(ye){et(e,e.return,ye)}Cd&&(Cd=!1,uy(e));break;case 4:l=ti,ti=Zc(e.stateNode.containerInfo),hn(n,e),dn(e),ti=l;break;case 12:hn(n,e),dn(e);break;case 31:hn(n,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 13:hn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=Ut()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 22:h=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,G=Zi,W=Vt;if(Zi=G||h,Vt=W||j,hn(n,e),Vt=W,Zi=G,dn(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||j||Zi||Vt||Oa(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){j=a=n;try{if(f=j.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=j.stateNode;var ie=j.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){et(j,j.return,ye)}}}else if(n.tag===6){if(a===null){j=n;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(ye){et(j,j.return,ye)}}}else if(n.tag===18){if(a===null){j=n;try{var $=j.stateNode;h?Wy($,!0):Wy(j.stateNode,!1)}catch(ye){et(j,j.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(e,a))));break;case 19:hn(n,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 30:break;case 21:break;default:hn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(ty(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Nd(e);kc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var b=Nd(e);kc(e,b,_);break;case 3:case 4:var j=a.stateNode.containerInfo,G=Nd(e);Rd(e,G,j);break;default:throw Error(s(161))}}catch(W){et(e,e.return,W)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ry(e,n.alternate,n),n=n.sibling}function Oa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mr(4,n,n.return),Oa(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Wp(n,n.return,a),Oa(n);break;case 27:Yl(n.stateNode);case 26:case 5:Ai(n,n.return),Oa(n);break;case 22:n.memoizedState===null&&Oa(n);break;case 30:Oa(n);break;default:Oa(n)}e=e.sibling}}function er(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:er(h,f,a),zl(4,f);break;case 1:if(er(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){et(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Bg(j[h],b)}catch(G){et(l,l.return,G)}}a&&_&64&&Jp(f),Ul(f,f.return);break;case 27:ny(f);case 26:case 5:er(h,f,a),a&&l===null&&_&4&&ey(f),Ul(f,f.return);break;case 12:er(h,f,a);break;case 31:er(h,f,a),a&&_&4&&ly(h,f);break;case 13:er(h,f,a),a&&_&4&&oy(h,f);break;case 22:f.memoizedState===null&&er(h,f,a),Ul(f,f.return);break;case 30:break;default:er(h,f,a)}n=n.sibling}}function jd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Al(a))}function Dd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e))}function ni(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,a,l),n=n.sibling}function hy(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,a,l),h&2048&&zl(9,n);break;case 1:ni(e,n,a,l);break;case 3:ni(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e)));break;case 12:if(h&2048){ni(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){et(n,n.return,j)}}else ni(e,n,a,l);break;case 31:ni(e,n,a,l);break;case 13:ni(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,a,l):Pl(e,n):f._visibility&2?ni(e,n,a,l):(f._visibility|=2,Ts(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jd(_,n);break;case 24:ni(e,n,a,l),h&2048&&Dd(n.alternate,n);break;default:ni(e,n,a,l)}}function Ts(e,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,_=n,b=a,j=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:Ts(f,_,b,j,h),zl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Ts(f,_,b,j,h):Pl(f,_):(W._visibility|=2,Ts(f,_,b,j,h)),h&&G&2048&&jd(_.alternate,_);break;case 24:Ts(f,_,b,j,h),h&&G&2048&&Dd(_.alternate,_);break;default:Ts(f,_,b,j,h)}n=n.sibling}}function Pl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&jd(l.alternate,l);break;case 24:Pl(a,l),h&2048&&Dd(l.alternate,l);break;default:Pl(a,l)}n=n.sibling}}var Bl=8192;function bs(e,n,a){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)dy(e,n,a),e=e.sibling}function dy(e,n,a){switch(e.tag){case 26:bs(e,n,a),e.flags&Bl&&e.memoizedState!==null&&$1(a,ti,e.memoizedState,e.memoizedProps);break;case 5:bs(e,n,a);break;case 3:case 4:var l=ti;ti=Zc(e.stateNode.containerInfo),bs(e,n,a),ti=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,bs(e,n,a),Bl=l):bs(e,n,a));break;default:bs(e,n,a)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];qt=l,gy(l,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:ql(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:ql(e);break;case 12:ql(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zc(e)):ql(e);break;default:ql(e)}}function zc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];qt=l,gy(l,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mr(8,n,n.return),zc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,zc(n));break;default:zc(n)}e=e.sibling}}function gy(e,n){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=e;qt!==null;){l=qt;var h=l.sibling,f=l.return;if(ay(l),l===a){qt=null;break e}if(h!==null){h.return=f,qt=h;break e}qt=f}}}var h1={getCacheForType:function(e){var n=Qt(jt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Qt(jt).controller.signal}},d1=typeof WeakMap=="function"?WeakMap:Map,$e=0,lt=null,ke=null,ze=0,We=0,xn=null,kr=!1,Ss=!1,Id=!1,tr=0,yt=0,Lr=0,Ma=0,Vd=0,An=0,xs=0,Hl=null,fn=null,Od=!1,Uc=0,py=0,Pc=1/0,Bc=null,zr=null,Lt=0,Ur=null,As=null,nr=0,Md=0,kd=null,yy=null,Fl=0,Ld=null;function wn(){return($e&2)!==0&&ze!==0?ze&-ze:Q.T!==null?Hd():qo()}function vy(){if(An===0)if((ze&536870912)===0||qe){var e=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),An=e}else An=536870912;return e=bn.current,e!==null&&(e.flags|=32),An}function mn(e,n,a){(e===lt&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(ws(e,0),Pr(e,ze,An,!1)),ca(e,a),(($e&2)===0||e!==lt)&&(e===lt&&(($e&2)===0&&(Ma|=a),yt===4&&Pr(e,ze,An,!1)),wi(e))}function _y(e,n,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=l?g1(e,n):Ud(e,n,!0),f=l;do{if(h===0){Ss&&!l&&Pr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!f1(a)){h=Ud(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var b=e;h=Hl;var j=b.current.memoizedState.isDehydrated;if(j&&(ws(b,_).flags|=256),_=Ud(b,_,!1),_!==2){if(Id&&!j){b.errorRecoveryDisabledLanes|=f,Ma|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ws(e,0),Pr(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Pr(l,n,An,!kr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Uc+300-Ut(),10<h)){if(Pr(l,n,An,!kr),oi(l,0,!0)!==0)break e;nr=n,l.timeoutHandle=$y(Ey.bind(null,l,a,fn,Bc,Od,n,An,Ma,xs,kr,f,"Throttled",-0,0),h);break e}Ey(l,a,fn,Bc,Od,n,An,Ma,xs,kr,f,null,-0,0)}}break}while(!0);wi(e)}function Ey(e,n,a,l,h,f,_,b,j,G,W,ie,K,$){if(e.timeoutHandle=-1,ie=n.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},dy(n,f,ie);var ye=(f&62914560)===f?Uc-Ut():(f&4194048)===f?py-Ut():0;if(ye=Z1(ie,ye),ye!==null){nr=f,e.cancelPendingCommit=ye(Ry.bind(null,e,n,f,a,l,h,_,b,j,W,ie,null,K,$)),Pr(e,f,_,!G);return}}Ry(e,n,f,a,l,h,_,b,j)}function f1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pr(e,n,a,l){n&=~Vd,n&=~Ma,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Et(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&ua(e,a,n)}function qc(){return($e&6)===0?(Gl(0),!1):!0}function zd(){if(ke!==null){if(We===0)var e=ke.return;else e=ke,Gi=wa=null,ed(e),ps=null,Nl=0,e=ke;for(;e!==null;)Zp(e.alternate,e),e=e.return;ke=null}}function ws(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,V1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),nr=0,zd(),lt=e,ke=a=Hi(e.current,null),ze=n,We=0,xn=null,kr=!1,Ss=Kn(e,n),Id=!1,xs=An=Vd=Ma=Lr=yt=0,fn=Hl=null,Od=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Et(l),f=1<<h;n|=e[h],l&=~f}return tr=n,cc(),a}function Ty(e,n){Ve=null,Q.H=Ml,n===gs||n===yc?(n=Lg(),We=3):n===qh?(n=Lg(),We=4):We=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,ke===null&&(yt=1,Dc(e,Mn(n,e.current)))}function by(){var e=bn.current;return e===null?!0:(ze&4194048)===ze?Un===null:(ze&62914560)===ze||(ze&536870912)!==0?e===Un:!1}function Sy(){var e=Q.H;return Q.H=Ml,e===null?Ml:e}function xy(){var e=Q.A;return Q.A=h1,e}function Hc(){yt=4,kr||(ze&4194048)!==ze&&bn.current!==null||(Ss=!0),(Lr&134217727)===0&&(Ma&134217727)===0||lt===null||Pr(lt,ze,An,!1)}function Ud(e,n,a){var l=$e;$e|=2;var h=Sy(),f=xy();(lt!==e||ze!==n)&&(Bc=null,ws(e,n)),n=!1;var _=yt;e:do try{if(We!==0&&ke!==null){var b=ke,j=xn;switch(We){case 8:zd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var G=We;if(We=0,xn=null,Ns(e,b,j,G),a&&Ss){_=0;break e}break;default:G=We,We=0,xn=null,Ns(e,b,j,G)}}m1(),_=yt;break}catch(W){Ty(e,W)}while(!0);return n&&e.shellSuspendCounter++,Gi=wa=null,$e=l,Q.H=h,Q.A=f,ke===null&&(lt=null,ze=0,cc()),_}function m1(){for(;ke!==null;)Ay(ke)}function g1(e,n){var a=$e;$e|=2;var l=Sy(),h=xy();lt!==e||ze!==n?(Bc=null,Pc=Ut()+500,ws(e,n)):Ss=Kn(e,n);e:do try{if(We!==0&&ke!==null){n=ke;var f=xn;t:switch(We){case 1:We=0,xn=null,Ns(e,n,f,1);break;case 2:case 9:if(Mg(f)){We=0,xn=null,wy(n);break}n=function(){We!==2&&We!==9||lt!==e||(We=7),wi(e)},f.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Mg(f)?(We=0,xn=null,wy(n)):(We=0,xn=null,Ns(e,n,f,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var b=ke;if(_?hv(_):b.stateNode.complete){We=0,xn=null;var j=b.sibling;if(j!==null)ke=j;else{var G=b.return;G!==null?(ke=G,Fc(G)):ke=null}break t}}We=0,xn=null,Ns(e,n,f,5);break;case 6:We=0,xn=null,Ns(e,n,f,6);break;case 8:zd(),yt=6;break e;default:throw Error(s(462))}}p1();break}catch(W){Ty(e,W)}while(!0);return Gi=wa=null,Q.H=l,Q.A=h,$e=a,ke!==null?0:(lt=null,ze=0,cc(),yt)}function p1(){for(;ke!==null&&!ai();)Ay(ke)}function Ay(e){var n=Xp(e.alternate,e,tr);e.memoizedProps=e.pendingProps,n===null?Fc(e):ke=n}function wy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Hp(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=Hp(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:ed(n);default:Zp(a,n),n=ke=xg(n,tr),n=Xp(a,n,tr)}e.memoizedProps=e.pendingProps,n===null?Fc(e):ke=n}function Ns(e,n,a,l){Gi=wa=null,ed(n),ps=null,Nl=0;var h=n.return;try{if(r1(e,h,n,a,ze)){yt=1,Dc(e,Mn(a,e.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;yt=1,Dc(e,Mn(a,e.current)),ke=null;return}n.flags&32768?(qe||l===1?e=!0:Ss||(ze&536870912)!==0?e=!1:(kr=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(n,e)):Fc(n)}function Fc(e){var n=e;do{if((n.flags&32768)!==0){Ny(n,kr);return}e=n.return;var a=l1(n.alternate,n,tr);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=e}while(n!==null);yt===0&&(yt=5)}function Ny(e,n){do{var a=o1(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);yt=6,ke=null}function Ry(e,n,a,l,h,f,_,b,j){e.cancelPendingCommit=null;do Gc();while(Lt!==0);if(($e&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Nh,vh(e,a,f,_,b,j),e===lt&&(ke=lt=null,ze=0),As=n,Ur=e,nr=a,Md=f,kd=h,yy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E1(pr,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=le.p,le.p=2,_=$e,$e|=4;try{c1(e,n,a)}finally{$e=_,le.p=h,Q.T=l}}Lt=1,Cy(),jy(),Dy()}}function Cy(){if(Lt===1){Lt=0;var e=Ur,n=As,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{cy(n,e);var f=Zd,_=gg(e.containerInfo),b=f.focusedElem,j=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&mg(b.ownerDocument.documentElement,b)){if(j!==null&&bh(b)){var G=j.start,W=j.end;if(W===void 0&&(W=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(W,b.value.length);else{var ie=b.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var $=K.getSelection(),ye=b.textContent.length,we=Math.min(j.start,ye),rt=j.end===void 0?we:Math.min(j.end,ye);!$.extend&&we>rt&&(_=rt,rt=we,we=_);var z=fg(b,we),O=fg(b,rt);if(z&&O&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var F=ie.createRange();F.setStart(z.node,z.offset),$.removeAllRanges(),we>rt?($.addRange(F),$.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),$.addRange(F))}}}}for(ie=[],$=b;$=$.parentNode;)$.nodeType===1&&ie.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var te=ie[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}iu=!!$d,Zd=$d=null}finally{$e=h,le.p=l,Q.T=a}}e.current=n,Lt=2}}function jy(){if(Lt===2){Lt=0;var e=Ur,n=As,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{ry(e,n.alternate,n)}finally{$e=h,le.p=l,Q.T=a}}Lt=3}}function Dy(){if(Lt===4||Lt===3){Lt=0,Ga();var e=Ur,n=As,a=nr,l=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,As=Ur=null,Iy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(zr=null),Ui(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=le.p,le.p=2,Q.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];f(b.value,{componentStack:b.stack})}}finally{Q.T=n,le.p=h}}(nr&3)!==0&&Gc(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ld?Fl++:(Fl=0,Ld=e):Fl=0,Gl(0)}}function Iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Al(n)))}function Gc(){return Cy(),jy(),Dy(),Vy()}function Vy(){if(Lt!==5)return!1;var e=Ur,n=Md;Md=0;var a=Ui(nr),l=Q.T,h=le.p;try{le.p=32>a?32:a,Q.T=null,a=kd,kd=null;var f=Ur,_=nr;if(Lt=0,As=Ur=null,nr=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,my(f.current),hy(f,f.current,_,a),$e=b,Gl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{le.p=h,Q.T=l,Iy(e,n)}}function Oy(e,n,a){n=Mn(a,n),n=gd(e.stateNode,n,2),e=Ir(e,n,2),e!==null&&(ca(e,2),wi(e))}function et(e,n,a){if(e.tag===3)Oy(e,e,a);else for(;n!==null;){if(n.tag===3){Oy(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){e=Mn(a,e),a=Mp(2),l=Ir(n,a,2),l!==null&&(kp(a,l,n,e),ca(l,2),wi(l));break}}n=n.return}}function Pd(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new d1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Id=!0,h.add(a),e=y1.bind(null,e,n,a),n.then(e,e))}function y1(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,lt===e&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Ut()-Uc?($e&2)===0&&ws(e,0):Vd|=a,xs===ze&&(xs=0)),wi(e)}function My(e,n){n===0&&(n=Bo()),e=Sa(e,n),e!==null&&(ca(e,n),wi(e))}function v1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),My(e,a)}function _1(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),My(e,a)}function E1(e,n){return At(e,n)}var Kc=null,Rs=null,Bd=!1,Qc=!1,qd=!1,Br=0;function wi(e){e!==Rs&&e.next===null&&(Rs===null?Kc=Rs=e:Rs=Rs.next=e),Qc=!0,Bd||(Bd=!0,b1())}function Gl(e,n){if(!qd&&Qc){qd=!0;do for(var a=!1,l=Kc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Et(42|e)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Uy(l,f))}else f=ze,f=oi(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Kn(l,f)||(a=!0,Uy(l,f));l=l.next}while(a);qd=!1}}function T1(){ky()}function ky(){Qc=Bd=!1;var e=0;Br!==0&&I1()&&(e=Br);for(var n=Ut(),a=null,l=Kc;l!==null;){var h=l.next,f=Ly(l,n);f===0?(l.next=null,a===null?Kc=h:a.next=h,h===null&&(Rs=a)):(a=l,(e!==0||(f&3)!==0)&&(Qc=!0)),l=h}Lt!==0&&Lt!==5||Gl(e),Br!==0&&(Br=0)}function Ly(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-Et(f),b=1<<_,j=h[_];j===-1?((b&a)===0||(b&l)!==0)&&(h[_]=yh(b,n)):j<=n&&(e.expiredLanes|=b),f&=~b}if(n=lt,a=ze,a=oi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(We===2||We===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Kn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&zi(l),Ui(a)){case 2:case 8:a=tl;break;case 32:a=pr;break;case 268435456:a=ko;break;default:a=pr}return l=zy.bind(null,e),a=At(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&zi(l),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,n){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gc()&&e.callbackNode!==a)return null;var l=ze;return l=oi(e,e===lt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_y(e,l,n),Ly(e,Ut()),e.callbackNode!=null&&e.callbackNode===a?zy.bind(null,e):null)}function Uy(e,n){if(Gc())return null;_y(e,n,!0)}function b1(){O1(function(){($e&6)!==0?At(el,T1):ky()})}function Hd(){if(Br===0){var e=fs;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Br=e}return Br}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ja(""+e)}function By(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function S1(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Py((h[Pt]||null).action),_=l.submitter;_&&(n=(n=_[Pt]||null)?Py(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var b=new _i("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var j=_?By(h,_):new FormData(h);cd(a,{pending:!0,data:j,method:h.method,action:f},null,j)}}else typeof f=="function"&&(b.preventDefault(),j=_?By(h,_):new FormData(h),cd(a,{pending:!0,data:j,method:h.method,action:f},f,j))},currentTarget:h}]})}}for(var Fd=0;Fd<wh.length;Fd++){var Gd=wh[Fd],x1=Gd.toLowerCase(),A1=Gd[0].toUpperCase()+Gd.slice(1);ei(x1,"on"+A1)}ei(vg,"onAnimationEnd"),ei(_g,"onAnimationIteration"),ei(Eg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(BT,"onTransitionRun"),ei(qT,"onTransitionStart"),ei(HT,"onTransitionCancel"),ei(Tg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function qy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var b=l[_],j=b.instance,G=b.currentTarget;if(b=b.listener,j!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=G;try{f(h)}catch(W){oc(W)}h.currentTarget=null,f=j}else for(_=0;_<l.length;_++){if(b=l[_],j=b.instance,G=b.currentTarget,b=b.listener,j!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=G;try{f(h)}catch(W){oc(W)}h.currentTarget=null,f=j}}}}function Le(e,n){var a=n[Qa];a===void 0&&(a=n[Qa]=new Set);var l=e+"__bubble";a.has(l)||(Hy(n,e,2,!1),a.add(l))}function Kd(e,n,a){var l=0;n&&(l|=4),Hy(a,e,l,n)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[Yc]){e[Yc]=!0,rl.forEach(function(a){a!=="selectionchange"&&(w1.has(a)||Kd(a,!1,e),Kd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yc]||(n[Yc]=!0,Kd("selectionchange",!1,n))}}function Hy(e,n,a,l){switch(vv(n)){case 2:var h=eb;break;case 8:h=tb;break;default:h=cf}a=h.bind(null,n,a,e),h=void 0,!ga||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Yd(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=di(b),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=f=_;continue e}b=b.parentNode}}l=l.return}br(function(){var G=f,W=Dn(a),ie=[];e:{var K=bg.get(e);if(K!==void 0){var $=_i,ye=e;switch(e){case"keypress":if(ya(a)===0)break e;case"keydown":case"keyup":$=ac;break;case"focusin":ye="focus",$=_a;break;case"focusout":ye="blur",$=_a;break;case"beforeblur":case"afterblur":$=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=g;break;case vg:case _g:case Eg:$=Jo;break;case Tg:$=x;break;case"scroll":case"scrollend":$=pl;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=qi;break;case"toggle":case"beforetoggle":$=Ie}var we=(n&4)!==0,rt=!we&&(e==="scroll"||e==="scrollend"),z=we?K!==null?K+"Capture":null:K;we=[];for(var O=G,F;O!==null;){var te=O;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||z===null||(te=$n(O,z),te!=null&&we.push(Ql(O,te,F))),rt)break;O=O.return}0<we.length&&(K=new $(K,ye,null,a,W),ie.push({event:K,listeners:we}))}}if((n&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",K&&a!==fl&&(ye=a.relatedTarget||a.fromElement)&&(di(ye)||ye[ui]))break e;if(($||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,$?(ye=a.relatedTarget||a.toElement,$=G,ye=ye?di(ye):null,ye!==null&&(rt=u(ye),we=ye.tag,ye!==rt||we!==5&&we!==27&&we!==6)&&(ye=null)):($=null,ye=G),$!==ye)){if(we=yl,te="onMouseLeave",z="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(we=qi,te="onPointerLeave",z="onPointerEnter",O="pointer"),rt=$==null?K:vn($),F=ye==null?K:vn(ye),K=new we(te,O+"leave",$,a,W),K.target=rt,K.relatedTarget=F,te=null,di(W)===G&&(we=new we(z,O+"enter",ye,a,W),we.target=F,we.relatedTarget=rt,te=we),rt=te,$&&ye)t:{for(we=N1,z=$,O=ye,F=0,te=z;te;te=we(te))F++;te=0;for(var Se=O;Se;Se=we(Se))te++;for(;0<F-te;)z=we(z),F--;for(;0<te-F;)O=we(O),te--;for(;F--;){if(z===O||O!==null&&z===O.alternate){we=z;break t}z=we(z),O=we(O)}we=null}else we=null;$!==null&&Fy(ie,K,$,we,!1),ye!==null&&rt!==null&&Fy(ie,rt,ye,we,!0)}}e:{if(K=G?vn(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Qe=lg;else if(ag(K))if(og)Qe=zT;else{Qe=kT;var Te=MT}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Za(G.elementType)&&(Qe=lg):Qe=LT;if(Qe&&(Qe=Qe(e,G))){sg(ie,Qe,a,W);break e}Te&&Te(e,K,G),e==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&ul(K,"number",K.value)}switch(Te=G?vn(G):window,e){case"focusin":(ag(Te)||Te.contentEditable==="true")&&(as=Te,Sh=G,bl=null);break;case"focusout":bl=Sh=as=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,pg(ie,a,W);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":pg(ie,a,W)}var Oe;if(Xe)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else rs?Ea(e,a)&&(Ue="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(bi&&a.locale!=="ko"&&(rs||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&rs&&(Oe=gl()):(vi=W,ml="value"in vi?vi.value:vi.textContent,rs=!0)),Te=Xc(G,Ue),0<Te.length&&(Ue=new Ti(Ue,e,null,a,W),ie.push({event:Ue,listeners:Te}),Oe?Ue.data=Oe:(Oe=is(a),Oe!==null&&(Ue.data=Oe)))),(Oe=Vn?DT(e,a):IT(e,a))&&(Ue=Xc(G,"onBeforeInput"),0<Ue.length&&(Te=new Ti("onBeforeInput","beforeinput",null,a,W),ie.push({event:Te,listeners:Ue}),Te.data=Oe)),S1(ie,e,G,a,W)}qy(ie,n)})}function Ql(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Xc(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,a),h!=null&&l.unshift(Ql(e,h,f)),h=$n(e,n),h!=null&&l.push(Ql(e,h,f))),e.tag===3)return l;e=e.return}return[]}function N1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fy(e,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var b=a,j=b.alternate,G=b.stateNode;if(b=b.tag,j!==null&&j===l)break;b!==5&&b!==26&&b!==27||G===null||(j=G,h?(G=$n(a,f),G!=null&&_.unshift(Ql(a,G,j))):h||(G=$n(a,f),G!=null&&_.push(Ql(a,G,j)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var R1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(R1,`
`).replace(C1,"")}function Ky(e,n){return n=Gy(n),Gy(e)===n}function it(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||cn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&cn(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,a,l);break;case"style":dl(e,l,f);break;case"data":if(n!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ja(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&it(e,n,"name",h.name,h,null),it(e,n,"formEncType",h.formEncType,h,null),it(e,n,"formMethod",h.formMethod,h,null),it(e,n,"formTarget",h.formTarget,h,null)):(it(e,n,"encType",h.encType,h,null),it(e,n,"method",h.method,h,null),it(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ja(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ja(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Le("beforetoggle",e),Le("toggle",e),Xa(e,"popover",l);break;case"xlinkActuate":Ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xo.get(a)||a,Xa(e,a,l))}}function Xd(e,n,a,l,h,f){switch(a){case"style":dl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?cn(e,l):(typeof l=="number"||typeof l=="bigint")&&cn(e,""+l);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Xa(e,a,l)}}}function Xt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:it(e,n,f,_,a,null)}}h&&it(e,n,"srcSet",a.srcSet,a,null),l&&it(e,n,"src",a.src,a,null);return;case"input":Le("invalid",e);var b=f=_=h=null,j=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":j=W;break;case"defaultChecked":G=W;break;case"value":f=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:it(e,n,l,W,a,null)}}Ko(e,f,b,j,G,_,h,!1);return;case"select":Le("invalid",e),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:it(e,n,h,b,a,null)}n=f,a=_,e.multiple=!!l,n!=null?vr(e,!!l,n,!1):a!=null&&vr(e,!!l,a,!0);return;case"textarea":Le("invalid",e),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:it(e,n,_,b,a,null)}_r(e,l,h,f);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(e,n,j,l,a,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(l=0;l<Kl.length;l++)Le(Kl[l],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:it(e,n,G,l,a,null)}return;default:if(Za(n)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Xd(e,n,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&it(e,n,b,l,a,null))}function j1(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,j=null,G=null,W=null;for($ in a){var ie=a[$];if(a.hasOwnProperty($)&&ie!=null)switch($){case"checked":break;case"value":break;case"defaultValue":j=ie;default:l.hasOwnProperty($)||it(e,n,$,null,l,ie)}}for(var K in l){var $=l[K];if(ie=a[K],l.hasOwnProperty(K)&&($!=null||ie!=null))switch(K){case"type":f=$;break;case"name":h=$;break;case"checked":G=$;break;case"defaultChecked":W=$;break;case"value":_=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==ie&&it(e,n,K,$,l,ie)}}$a(e,_,b,j,G,W,f,h);return;case"select":$=_=b=K=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":$=j;default:l.hasOwnProperty(f)||it(e,n,f,null,l,j)}for(h in l)if(f=l[h],j=a[h],l.hasOwnProperty(h)&&(f!=null||j!=null))switch(h){case"value":K=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==j&&it(e,n,h,f,l,j)}n=b,a=_,l=$,K!=null?vr(e,!!a,K,!1):!!l!=!!a&&(n!=null?vr(e,!!a,n,!0):vr(e,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:it(e,n,b,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":K=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&it(e,n,_,h,l,f)}Qo(e,K,$);return;case"option":for(var ye in a)if(K=a[ye],a.hasOwnProperty(ye)&&K!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:it(e,n,ye,null,l,K)}for(j in l)if(K=l[j],$=a[j],l.hasOwnProperty(j)&&K!==$&&(K!=null||$!=null))switch(j){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:it(e,n,j,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)K=a[we],a.hasOwnProperty(we)&&K!=null&&!l.hasOwnProperty(we)&&it(e,n,we,null,l,K);for(G in l)if(K=l[G],$=a[G],l.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:it(e,n,G,K,l,$)}return;default:if(Za(n)){for(var rt in a)K=a[rt],a.hasOwnProperty(rt)&&K!==void 0&&!l.hasOwnProperty(rt)&&Xd(e,n,rt,void 0,l,K);for(W in l)K=l[W],$=a[W],!l.hasOwnProperty(W)||K===$||K===void 0&&$===void 0||Xd(e,n,W,K,l,$);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&it(e,n,z,null,l,K);for(ie in l)K=l[ie],$=a[ie],!l.hasOwnProperty(ie)||K===$||K==null&&$==null||it(e,n,ie,K,l,$)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,b=h.duration;if(f&&b&&Qy(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var j=a[l],G=j.startTime;if(G>b)break;var W=j.transferSize,ie=j.initiatorType;W&&Qy(ie)&&(j=j.responseEnd,_+=W*(j<b?1:(b-G)/(j-G)))}if(--l,n+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $d=null,Zd=null;function $c(e){return e.nodeType===9?e:e.ownerDocument}function Yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Jd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wd=null;function I1(){var e=window.event;return e&&e.type==="popstate"?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(M1)}:$y;function M1(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function Jy(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Is(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Yl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[hi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Yl(e.ownerDocument.body);a=h}while(a);Is(n)}function Wy(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function ef(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ef(a),Ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function k1(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function L1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function ev(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function tf(e){return e.data==="$?"||e.data==="$~"}function nf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function z1(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var rf=null;function tv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Pn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function nv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function iv(e,n,a){switch(n=$c(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Yl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ya(e)}var Bn=new Map,rv=new Set;function Zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ir=le.d;le.d={f:U1,r:P1,D:B1,C:q1,L:H1,m:F1,X:K1,S:G1,M:Q1};function U1(){var e=ir.f(),n=qc();return e||n}function P1(e){var n=jn(e);n!==null&&n.tag===5&&n.type==="form"?Tp(n):ir.r(e)}var Cs=typeof document>"u"?null:document;function av(e,n,a){var l=Cs;if(l&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Xt(n,"link",e),Rt(n),l.head.appendChild(n)))}}function B1(e){ir.D(e),av("dns-prefetch",e,null)}function q1(e,n){ir.C(e,n),av("preconnect",e,n)}function H1(e,n,a){ir.L(e,n,a);var l=Cs;if(l&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=js(e);break;case"script":f=Ds(e)}Bn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Bn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Xl(f))||n==="script"&&l.querySelector($l(f))||(n=l.createElement("link"),Xt(n,"link",e),Rt(n),l.head.appendChild(n)))}}function F1(e,n){ir.m(e,n);var a=Cs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ds(e)}if(!Bn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Bn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(f)))return}l=a.createElement("link"),Xt(l,"link",e),Rt(l),a.head.appendChild(l)}}}function G1(e,n,a){ir.S(e,n,a);var l=Cs;if(l&&e){var h=fi(l).hoistableStyles,f=js(e);n=n||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Xl(f)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Bn.get(f))&&af(e,a);var j=_=l.createElement("link");Rt(j),Xt(j,"link",e),j._p=new Promise(function(G,W){j.onload=G,j.onerror=W}),j.addEventListener("load",function(){b.loading|=1}),j.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Jc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function K1(e,n){ir.X(e,n);var a=Cs;if(a&&e){var l=fi(a).hoistableScripts,h=Ds(e),f=l.get(h);f||(f=a.querySelector($l(h)),f||(e=S({src:e,async:!0},n),(n=Bn.get(h))&&sf(e,n),f=a.createElement("script"),Rt(f),Xt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Q1(e,n){ir.M(e,n);var a=Cs;if(a&&e){var l=fi(a).hoistableScripts,h=Ds(e),f=l.get(h);f||(f=a.querySelector($l(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&sf(e,n),f=a.createElement("script"),Rt(f),Xt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function sv(e,n,a,l){var h=(h=Re.current)?Zc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=js(a.href),a=fi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=js(a.href);var f=fi(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Xl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),f||Y1(h,e,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(a),a=fi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function js(e){return'href="'+on(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function lv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Y1(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xt(n,"link",a),Rt(n),e.head.appendChild(n))}function Ds(e){return'[src="'+on(e)+'"]'}function $l(e){return"script[async]"+e}function ov(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return n.instance=l,Rt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Rt(l),Xt(l,"style",h),Jc(l,a.precedence,e),n.instance=l;case"stylesheet":h=js(a.href);var f=e.querySelector(Xl(h));if(f)return n.state.loading|=4,n.instance=f,Rt(f),f;l=lv(a),(h=Bn.get(h))&&af(l,h),f=(e.ownerDocument||e).createElement("link"),Rt(f);var _=f;return _._p=new Promise(function(b,j){_.onload=b,_.onerror=j}),Xt(f,"link",l),n.state.loading|=4,Jc(f,a.precedence,e),n.instance=f;case"script":return f=Ds(a.src),(h=e.querySelector($l(f)))?(n.instance=h,Rt(h),h):(l=a,(h=Bn.get(f))&&(l=S({},a),sf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Rt(h),Xt(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Jc(l,a.precedence,e));return n.instance}function Jc(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function sf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wc=null;function cv(e,n,a){if(Wc===null){var l=new Map,h=Wc=new Map;h.set(a,l)}else h=Wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Nt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var b=l.get(_);b?b.push(f):l.set(_,[f])}}return l}function uv(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function X1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $1(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=js(l.href),f=n.querySelector(Xl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=eu.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Rt(f);return}f=n.ownerDocument||n,l=lv(l),(h=Bn.get(h))&&af(l,h),f=f.createElement("link"),Rt(f);var _=f;_._p=new Promise(function(b,j){_.onload=b,_.onerror=j}),Xt(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=eu.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var lf=0;function Z1(e,n){return e.stylesheets&&e.count===0&&nu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&nu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&lf===0&&(lf=62500*D1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>lf?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tu=null;function nu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tu=new Map,n.forEach(J1,e),tu=null,eu.call(e))}function J1(e,n){if(!(n.state.loading&4)){var a=tu.get(e);if(a)var l=a.get(null);else{a=new Map,tu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=eu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Zl={$$typeof:se,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function W1(e,n,a,l,h,f,_,b,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function dv(e,n,a,l,h,f,_,b,j,G,W,ie){return e=new W1(e,n,a,_,j,G,W,ie,b),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=Uh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Hh(f),e}function fv(e){return e?(e=os,e):os}function mv(e,n,a,l,h,f){h=fv(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ir(e,l,n),a!==null&&(mn(a,e,n),Cl(a,e,n))}function gv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function of(e,n){gv(e,n),(e=e.alternate)&&gv(e,n)}function pv(e){if(e.tag===13||e.tag===31){var n=Sa(e,67108864);n!==null&&mn(n,e,67108864),of(e,67108864)}}function yv(e){if(e.tag===13||e.tag===31){var n=wn();n=ha(n);var a=Sa(e,n);a!==null&&mn(a,e,n),of(e,n)}}var iu=!0;function eb(e,n,a,l){var h=Q.T;Q.T=null;var f=le.p;try{le.p=2,cf(e,n,a,l)}finally{le.p=f,Q.T=h}}function tb(e,n,a,l){var h=Q.T;Q.T=null;var f=le.p;try{le.p=8,cf(e,n,a,l)}finally{le.p=f,Q.T=h}}function cf(e,n,a,l){if(iu){var h=uf(l);if(h===null)Yd(e,n,l,ru,a),_v(e,l);else if(ib(h,e,n,a,l))l.stopPropagation();else if(_v(e,l),n&4&&-1<nb.indexOf(e)){for(;h!==null;){var f=jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=li(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var j=1<<31-Et(_);b.entanglements[1]|=j,_&=~j}wi(f),($e&6)===0&&(Pc=Ut()+500,Gl(0))}}break;case 31:case 13:b=Sa(f,2),b!==null&&mn(b,f,2),qc(),of(f,2)}if(f=uf(l),f===null&&Yd(e,n,l,ru,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Yd(e,n,l,null,a)}}function uf(e){return e=Dn(e),hf(e)}var ru=null;function hf(e){if(ru=null,e=di(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ru=e,null}function vv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case el:return 2;case tl:return 8;case pr:case ph:return 32;case ko:return 268435456;default:return 32}default:return 32}}var df=!1,Hr=null,Fr=null,Gr=null,Jl=new Map,Wl=new Map,Kr=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(e,n){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function eo(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=jn(n),n!==null&&pv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ib(e,n,a,l,h){switch(n){case"focusin":return Hr=eo(Hr,e,n,a,l,h),!0;case"dragenter":return Fr=eo(Fr,e,n,a,l,h),!0;case"mouseover":return Gr=eo(Gr,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Jl.set(f,eo(Jl.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Wl.set(f,eo(Wl.get(f)||null,e,n,a,l,h)),!0}return!1}function Ev(e){var n=di(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,Qn(e.priority,function(){yv(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Qn(e.priority,function(){yv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function au(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=uf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);fl=l,a.target.dispatchEvent(l),fl=null}else return n=jn(a),n!==null&&pv(n),e.blockedOn=a,!1;n.shift()}return!0}function Tv(e,n,a){au(e)&&a.delete(n)}function rb(){df=!1,Hr!==null&&au(Hr)&&(Hr=null),Fr!==null&&au(Fr)&&(Fr=null),Gr!==null&&au(Gr)&&(Gr=null),Jl.forEach(Tv),Wl.forEach(Tv)}function su(e,n){e.blockedOn===n&&(e.blockedOn=null,df||(df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rb)))}var lu=null;function bv(e){lu!==e&&(lu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lu===e&&(lu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(hf(l||a)===null)continue;break}var f=jn(a);f!==null&&(e.splice(n,3),n-=3,cd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Is(e){function n(j){return su(j,e)}Hr!==null&&su(Hr,e),Fr!==null&&su(Fr,e),Gr!==null&&su(Gr,e),Jl.forEach(n),Wl.forEach(n);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&Kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[Pt]||null;if(typeof f=="function")_||bv(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Pt]||null)b=_.formAction;else if(hf(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),bv(a)}}}function Sv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ff(e){this._internalRoot=e}ou.prototype.render=ff.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=wn();mv(a,l,e,n,null,null)},ou.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;mv(e.current,2,null,e,null,null),qc(),n[ui]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var n=qo();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Kr.length&&n!==0&&n<Kr[a].priority;a++);Kr.splice(a,0,e),a===0&&Ev(e)}};var xv=t.version;if(xv!=="19.2.0")throw Error(s(527,xv,"19.2.0"));le.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Gn=cu.inject(ab),Ft=cu}catch{}}return no.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=Dp,f=Ip,_=Vp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=dv(e,1,!1,null,null,a,l,null,h,f,_,Sv),e[ui]=n.current,Qd(e),new ff(n)},no.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",f=Dp,_=Ip,b=Vp,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),n=dv(e,1,!0,n,a??null,l,h,j,f,_,b,Sv),n.context=fv(null),a=n.current,l=wn(),l=ha(l),h=Dr(l),h.callback=null,Ir(a,h,l),a=l,n.current.lanes=a,ca(n,a),wi(n),e[ui]=n.current,Qd(e),new ou(n)},no.version="19.2.0",no}var Ov;function gb(){if(Ov)return pf.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pf.exports=mb(),pf.exports}var pb=gb();var Mv="popstate";function yb(r={}){function t(s,o){let{pathname:u,search:m,hash:p}=s.location;return Vf("",{pathname:u,search:m,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:go(o)}return _b(t,i,null,r)}function mt(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ii(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vb(){return Math.random().toString(36).substring(2,10)}function kv(r,t){return{usr:r.state,key:r.key,idx:t}}function Vf(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ks(t):t,state:i,key:t&&t.key||s||vb()}}function go({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ks(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function _b(r,t,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,m=o.history,p="POP",v=null,y=T();y==null&&(y=0,m.replaceState({...m.state,idx:y},""));function T(){return(m.state||{idx:null}).idx}function S(){p="POP";let H=T(),Z=H==null?null:H-y;y=H,v&&v({action:p,location:P.location,delta:Z})}function A(H,Z){p="PUSH";let ee=Vf(P.location,H,Z);y=T()+1;let se=kv(ee,y),ge=P.createHref(ee);try{m.pushState(se,"",ge)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ge)}u&&v&&v({action:p,location:P.location,delta:1})}function V(H,Z){p="REPLACE";let ee=Vf(P.location,H,Z);y=T();let se=kv(ee,y),ge=P.createHref(ee);m.replaceState(se,"",ge),u&&v&&v({action:p,location:P.location,delta:0})}function U(H){return Eb(H)}let P={get action(){return p},get location(){return r(o,m)},listen(H){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,S),v=H,()=>{o.removeEventListener(Mv,S),v=null}},createHref(H){return t(o,H)},createURL:U,encodeLocation(H){let Z=U(H);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:V,go(H){return m.go(H)}};return P}function Eb(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),mt(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:go(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function fE(r,t,i="/"){return Tb(r,t,i,!1)}function Tb(r,t,i,s){let o=typeof t=="string"?Ks(t):t,u=sr(o.pathname||"/",i);if(u==null)return null;let m=mE(r);bb(m);let p=null;for(let v=0;p==null&&v<m.length;++v){let y=Vb(u);p=Db(m[v],y,s)}return p}function mE(r,t=[],i=[],s="",o=!1){let u=(m,p,v=o,y)=>{let T={relativePath:y===void 0?m.path||"":y,caseSensitive:m.caseSensitive===!0,childrenIndex:p,route:m};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&v)return;mt(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=rr([s,T.relativePath]),A=i.concat(T);m.children&&m.children.length>0&&(mt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),mE(m.children,t,A,S,v)),!(m.path==null&&!m.index)&&t.push({path:S,score:Cb(S,m.index),routesMeta:A})};return r.forEach((m,p)=>{if(m.path===""||!m.path?.includes("?"))u(m,p);else for(let v of gE(m.path))u(m,p,!0,v)}),t}function gE(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let m=gE(s.join("/")),p=[];return p.push(...m.map(v=>v===""?u:[u,v].join("/"))),o&&p.push(...m),p.map(v=>r.startsWith("/")&&v===""?"/":v)}function bb(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:jb(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Sb=/^:[\w-]+$/,xb=3,Ab=2,wb=1,Nb=10,Rb=-2,Lv=r=>r==="*";function Cb(r,t){let i=r.split("/"),s=i.length;return i.some(Lv)&&(s+=Rb),t&&(s+=Ab),i.filter(o=>!Lv(o)).reduce((o,u)=>o+(Sb.test(u)?xb:u===""?wb:Nb),s)}function jb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Db(r,t,i=!1){let{routesMeta:s}=r,o={},u="/",m=[];for(let p=0;p<s.length;++p){let v=s[p],y=p===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",S=wu({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},T),A=v.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=wu({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),m.push({params:o,pathname:rr([u,S.pathname]),pathnameBase:zb(rr([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=rr([u,S.pathnameBase]))}return m}function wu(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=Ib(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let u=o[0],m=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},A)=>{if(T==="*"){let U=p[A]||"";m=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const V=p[A];return S&&!V?y[T]=void 0:y[T]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:m,pattern:r}}function Ib(r,t=!1,i=!0){ii(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,v)=>(s.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Vb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ii(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function sr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mb=r=>Ob.test(r);function kb(r,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ks(r):r,u;if(i)if(Mb(i))u=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${i}`)}i.startsWith("/")?u=zv(i.substring(1),"/"):u=zv(i,t)}else u=t;return{pathname:u,search:Ub(s),hash:Pb(o)}}function zv(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ef(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lb(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function pE(r){let t=Lb(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function yE(r,t,i,s=!1){let o;typeof r=="string"?o=Ks(r):(o={...r},mt(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let u=r===""||o.pathname==="",m=u?"/":o.pathname,p;if(m==null)p=i;else{let S=t.length-1;if(!s&&m.startsWith("..")){let A=m.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}p=S>=0?t[S]:"/"}let v=kb(o,p),y=m&&m!=="/"&&m.endsWith("/"),T=(u||m===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(y||T)&&(v.pathname+="/"),v}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),zb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ub=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Pb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Bb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vE=["POST","PUT","PATCH","DELETE"];new Set(vE);var qb=["GET",...vE];new Set(qb);var Qs=k.createContext(null);Qs.displayName="DataRouter";var Hu=k.createContext(null);Hu.displayName="DataRouterState";k.createContext(!1);var _E=k.createContext({isTransitioning:!1});_E.displayName="ViewTransition";var Hb=k.createContext(new Map);Hb.displayName="Fetchers";var Fb=k.createContext(null);Fb.displayName="Await";var Mi=k.createContext(null);Mi.displayName="Navigation";var wo=k.createContext(null);wo.displayName="Location";var hr=k.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var sm=k.createContext(null);sm.displayName="RouteError";function Gb(r,{relative:t}={}){mt(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=k.useContext(Mi),{hash:o,pathname:u,search:m}=Ro(r,{relative:t}),p=u;return i!=="/"&&(p=u==="/"?i:rr([i,u])),s.createHref({pathname:p,search:m,hash:o})}function No(){return k.useContext(wo)!=null}function aa(){return mt(No(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(wo).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TE(r){k.useContext(Mi).static||k.useLayoutEffect(r)}function lm(){let{isDataRoute:r}=k.useContext(hr);return r?rS():Kb()}function Kb(){mt(No(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(Qs),{basename:t,navigator:i}=k.useContext(Mi),{matches:s}=k.useContext(hr),{pathname:o}=aa(),u=JSON.stringify(pE(s)),m=k.useRef(!1);return TE(()=>{m.current=!0}),k.useCallback((v,y={})=>{if(ii(m.current,EE),!m.current)return;if(typeof v=="number"){i.go(v);return}let T=yE(v,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:rr([t,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[t,i,u,o,r])}k.createContext(null);function Ro(r,{relative:t}={}){let{matches:i}=k.useContext(hr),{pathname:s}=aa(),o=JSON.stringify(pE(i));return k.useMemo(()=>yE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Qb(r,t){return bE(r,t)}function bE(r,t,i,s,o){mt(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Mi),{matches:m}=k.useContext(hr),p=m[m.length-1],v=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let ee=S&&S.path||"";SE(y,!S||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let A=aa(),V;if(t){let ee=typeof t=="string"?Ks(t):t;mt(T==="/"||ee.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),V=ee}else V=A;let U=V.pathname||"/",P=U;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");P="/"+U.replace(/^\//,"").split("/").slice(ee.length).join("/")}let H=fE(r,{pathname:P});ii(S||H!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ii(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=Jb(H&&H.map(ee=>Object.assign({},ee,{params:Object.assign({},v,ee.params),pathname:rr([T,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:rr([T,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),m,i,s,o);return t&&Z?k.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Z):Z}function Yb(){let r=iS(),t=Bb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),i?k.createElement("pre",{style:o},i):null,m)}var Xb=k.createElement(Yb,null),$b=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?k.createElement(hr.Provider,{value:this.props.routeContext},k.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zb({routeContext:r,match:t,children:i}){let s=k.useContext(Qs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(hr.Provider,{value:r},i)}function Jb(r,t=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,m=i?.errors;if(m!=null){let T=u.findIndex(S=>S.route.id&&m?.[S.route.id]!==void 0);mt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let p=!1,v=-1;if(i)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(v=T),S.route.id){let{loaderData:A,errors:V}=i,U=S.route.loader&&!A.hasOwnProperty(S.route.id)&&(!V||V[S.route.id]===void 0);if(S.route.lazy||U){p=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let y=i&&s?(T,S)=>{s(T,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:S})}:void 0;return u.reduceRight((T,S,A)=>{let V,U=!1,P=null,H=null;i&&(V=m&&S.route.id?m[S.route.id]:void 0,P=S.route.errorElement||Xb,p&&(v<0&&A===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,H=null):v===A&&(U=!0,H=S.route.hydrateFallbackElement||null)));let Z=t.concat(u.slice(0,A+1)),ee=()=>{let se;return V?se=P:U?se=H:S.route.Component?se=k.createElement(S.route.Component,null):S.route.element?se=S.route.element:se=T,k.createElement(Zb,{match:S,routeContext:{outlet:T,matches:Z,isDataRoute:i!=null},children:se})};return i&&(S.route.ErrorBoundary||S.route.errorElement||A===0)?k.createElement($b,{location:i.location,revalidation:i.revalidation,component:P,error:V,children:ee(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:y}):ee()},null)}function om(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wb(r){let t=k.useContext(Qs);return mt(t,om(r)),t}function eS(r){let t=k.useContext(Hu);return mt(t,om(r)),t}function tS(r){let t=k.useContext(hr);return mt(t,om(r)),t}function cm(r){let t=tS(r),i=t.matches[t.matches.length-1];return mt(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function nS(){return cm("useRouteId")}function iS(){let r=k.useContext(sm),t=eS("useRouteError"),i=cm("useRouteError");return r!==void 0?r:t.errors?.[i]}function rS(){let{router:r}=Wb("useNavigate"),t=cm("useNavigate"),i=k.useRef(!1);return TE(()=>{i.current=!0}),k.useCallback(async(o,u={})=>{ii(i.current,EE),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Uv={};function SE(r,t,i){!t&&!Uv[r]&&(Uv[r]=!0,ii(!1,i))}k.memo(aS);function aS({routes:r,future:t,state:i,unstable_onError:s}){return bE(r,void 0,i,s,t)}function qn(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sS({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:u=!1}){mt(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:o,static:u,future:{}}),[m,o,u]);typeof i=="string"&&(i=Ks(i));let{pathname:v="/",search:y="",hash:T="",state:S=null,key:A="default"}=i,V=k.useMemo(()=>{let U=sr(v,m);return U==null?null:{location:{pathname:U,search:y,hash:T,state:S,key:A},navigationType:s}},[m,v,y,T,S,A,s]);return ii(V!=null,`<Router basename="${m}"> is not able to match the URL "${v}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:k.createElement(Mi.Provider,{value:p},k.createElement(wo.Provider,{children:t,value:V}))}function lS({children:r,location:t}){return Qb(Of(r),t)}function Of(r,t=[]){let i=[];return k.Children.forEach(r,(s,o)=>{if(!k.isValidElement(s))return;let u=[...t,o];if(s.type===k.Fragment){i.push.apply(i,Of(s.props.children,u));return}mt(s.type===qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let m={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(m.children=Of(s.props.children,u)),i.push(m)}),i}var vu="get",_u="application/x-www-form-urlencoded";function Fu(r){return r!=null&&typeof r.tagName=="string"}function oS(r){return Fu(r)&&r.tagName.toLowerCase()==="button"}function cS(r){return Fu(r)&&r.tagName.toLowerCase()==="form"}function uS(r){return Fu(r)&&r.tagName.toLowerCase()==="input"}function hS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dS(r,t){return r.button===0&&(!t||t==="_self")&&!hS(r)}var uu=null;function fS(){if(uu===null)try{new FormData(document.createElement("form"),0),uu=!1}catch{uu=!0}return uu}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(r){return r!=null&&!mS.has(r)?(ii(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_u}"`),null):r}function gS(r,t){let i,s,o,u,m;if(cS(r)){let p=r.getAttribute("action");s=p?sr(p,t):null,i=r.getAttribute("method")||vu,o=Tf(r.getAttribute("enctype"))||_u,u=new FormData(r)}else if(oS(r)||uS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||p.getAttribute("action");if(s=v?sr(v,t):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||vu,o=Tf(r.getAttribute("formenctype"))||Tf(p.getAttribute("enctype"))||_u,u=new FormData(p,r),!fS()){let{name:y,type:T,value:S}=r;if(T==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,S)}}else{if(Fu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vu,s=null,o=_u,m=r}return u&&o==="text/plain"&&(m=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function um(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function pS(r,t,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&sr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function yS(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _S(r,t,i){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let m=await yS(u,i);return m.links?m.links():[]}return[]}));return SS(s.flat(1).filter(vS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,t,i,s,o,u){let m=(v,y)=>i[y]?v.route.id!==i[y].route.id:!0,p=(v,y)=>i[y].pathname!==v.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==v.params["*"];return u==="assets"?t.filter((v,y)=>m(v,y)||p(v,y)):u==="data"?t.filter((v,y)=>{let T=s.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(m(v,y)||p(v,y))return!0;if(v.route.shouldRevalidate){let S=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ES(r,t,{includeHydrateFallback:i}={}){return TS(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function TS(r){return[...new Set(r)]}function bS(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function SS(r,t){let i=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(bS(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function xE(){let r=k.useContext(Qs);return um(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xS(){let r=k.useContext(Hu);return um(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hm=k.createContext(void 0);hm.displayName="FrameworkContext";function AE(){let r=k.useContext(hm);return um(r,"You must render this element inside a <HydratedRouter> element"),r}function AS(r,t){let i=k.useContext(hm),[s,o]=k.useState(!1),[u,m]=k.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=t,A=k.useRef(null);k.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let P=Z=>{Z.forEach(ee=>{m(ee.isIntersecting)})},H=new IntersectionObserver(P,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[r]),k.useEffect(()=>{if(s){let P=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(P)}}},[s]);let V=()=>{o(!0)},U=()=>{o(!1),m(!1)};return i?r!=="intent"?[u,A,{}]:[u,A,{onFocus:io(p,V),onBlur:io(v,U),onMouseEnter:io(y,V),onMouseLeave:io(T,U),onTouchStart:io(S,V)}]:[!1,A,{}]}function io(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function wS({page:r,...t}){let{router:i}=xE(),s=k.useMemo(()=>fE(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?k.createElement(RS,{page:r,matches:s,...t}):null}function NS(r){let{manifest:t,routeModules:i}=AE(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return _S(r,t,i).then(m=>{u||o(m)}),()=>{u=!0}},[r,t,i]),s}function RS({page:r,matches:t,...i}){let s=aa(),{manifest:o,routeModules:u}=AE(),{basename:m}=xE(),{loaderData:p,matches:v}=xS(),y=k.useMemo(()=>Pv(r,t,v,o,s,"data"),[r,t,v,o,s]),T=k.useMemo(()=>Pv(r,t,v,o,s,"assets"),[r,t,v,o,s]),S=k.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,P=!1;if(t.forEach(Z=>{let ee=o.routes[Z.route.id];!ee||!ee.hasLoader||(!y.some(se=>se.route.id===Z.route.id)&&Z.route.id in p&&u[Z.route.id]?.shouldRevalidate||ee.hasClientLoader?P=!0:U.add(Z.route.id))}),U.size===0)return[];let H=pS(r,m,"data");return P&&U.size>0&&H.searchParams.set("_routes",t.filter(Z=>U.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[H.pathname+H.search]},[m,p,s,o,y,t,r,u]),A=k.useMemo(()=>ES(T,o),[T,o]),V=NS(T);return k.createElement(k.Fragment,null,S.map(U=>k.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...i})),A.map(U=>k.createElement("link",{key:U,rel:"modulepreload",href:U,...i})),V.map(({key:U,link:P})=>k.createElement("link",{key:U,nonce:i.nonce,...P})))}function CS(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var wE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wE&&(window.__reactRouterVersion="7.9.6")}catch{}function jS({basename:r,children:t,window:i}){let s=k.useRef();s.current==null&&(s.current=yb({window:i,v5Compat:!0}));let o=s.current,[u,m]=k.useState({action:o.action,location:o.location}),p=k.useCallback(v=>{k.startTransition(()=>m(v))},[m]);return k.useLayoutEffect(()=>o.listen(p),[o,p]),k.createElement(sS,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=k.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:m,state:p,target:v,to:y,preventScrollReset:T,viewTransition:S,...A},V){let{basename:U}=k.useContext(Mi),P=typeof y=="string"&&NE.test(y),H,Z=!1;if(typeof y=="string"&&P&&(H=y,wE))try{let R=new URL(window.location.href),M=y.startsWith("//")?new URL(R.protocol+y):new URL(y),D=sr(M.pathname,U);M.origin===R.origin&&D!=null?y=D+M.search+M.hash:Z=!0}catch{ii(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Gb(y,{relative:o}),[se,ge,oe]=AS(s,A),_e=OS(y,{replace:m,state:p,target:v,preventScrollReset:T,relative:o,viewTransition:S});function N(R){t&&t(R),R.defaultPrevented||_e(R)}let w=k.createElement("a",{...A,...oe,href:H||ee,onClick:Z||u?t:N,ref:CS(V,ge),target:v,"data-discover":!P&&i==="render"?"true":void 0});return se&&!P?k.createElement(k.Fragment,null,w,k.createElement(wS,{page:ee})):w});ht.displayName="Link";var DS=k.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:m,viewTransition:p,children:v,...y},T){let S=Ro(m,{relative:y.relative}),A=aa(),V=k.useContext(Hu),{navigator:U,basename:P}=k.useContext(Mi),H=V!=null&&US(S)&&p===!0,Z=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,ee=A.pathname,se=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;i||(ee=ee.toLowerCase(),se=se?se.toLowerCase():null,Z=Z.toLowerCase()),se&&P&&(se=sr(se,P)||se);const ge=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let oe=ee===Z||!o&&ee.startsWith(Z)&&ee.charAt(ge)==="/",_e=se!=null&&(se===Z||!o&&se.startsWith(Z)&&se.charAt(Z.length)==="/"),N={isActive:oe,isPending:_e,isTransitioning:H},w=oe?t:void 0,R;typeof s=="function"?R=s(N):R=[s,oe?"active":null,_e?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return k.createElement(ht,{...y,"aria-current":w,className:R,ref:T,style:M,to:m,viewTransition:p},typeof v=="function"?v(N):v)});DS.displayName="NavLink";var IS=k.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:u,method:m=vu,action:p,onSubmit:v,relative:y,preventScrollReset:T,viewTransition:S,...A},V)=>{let U=LS(),P=zS(p,{relative:y}),H=m.toLowerCase()==="get"?"get":"post",Z=typeof p=="string"&&NE.test(p),ee=se=>{if(v&&v(se),se.defaultPrevented)return;se.preventDefault();let ge=se.nativeEvent.submitter,oe=ge?.getAttribute("formmethod")||m;U(ge||se.currentTarget,{fetcherKey:t,method:oe,navigate:i,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:S})};return k.createElement("form",{ref:V,method:H,action:P,onSubmit:s?v:ee,...A,"data-discover":!Z&&r==="render"?"true":void 0})});IS.displayName="Form";function VS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(r){let t=k.useContext(Qs);return mt(t,VS(r)),t}function OS(r,{target:t,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:m}={}){let p=lm(),v=aa(),y=Ro(r,{relative:u});return k.useCallback(T=>{if(dS(T,t)){T.preventDefault();let S=i!==void 0?i:go(v)===go(y);p(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:m})}},[v,p,y,i,s,t,r,o,u,m])}var MS=0,kS=()=>`__${String(++MS)}__`;function LS(){let{router:r}=RE("useSubmit"),{basename:t}=k.useContext(Mi),i=nS();return k.useCallback(async(s,o={})=>{let{action:u,method:m,encType:p,formData:v,body:y}=gS(s,t);if(o.navigate===!1){let T=o.fetcherKey||kS();await r.fetch(T,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:v,body:y,formMethod:o.method||m,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:v,body:y,formMethod:o.method||m,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function zS(r,{relative:t}={}){let{basename:i}=k.useContext(Mi),s=k.useContext(hr);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ro(r||".",{relative:t})},m=aa();if(r==null){u.search=m.search;let p=new URLSearchParams(u.search),v=p.getAll("index");if(v.some(T=>T==="")){p.delete("index"),v.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:rr([i,u.pathname])),go(u)}function US(r,{relative:t}={}){let i=k.useContext(_E);mt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=RE("useViewTransitionState"),o=Ro(r,{relative:t});if(!i.isTransitioning)return!1;let u=sr(i.currentLocation.pathname,s)||i.currentLocation.pathname,m=sr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wu(o.pathname,m)!=null||wu(o.pathname,u)!=null}const CE=k.createContext(void 0);function Co(){const r=k.useContext(CE);if(!r)throw new Error("useCart must be used within a CartProvider");return r}function PS({children:r}){const[t,i]=k.useState(()=>{try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch{return[]}});k.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const s=y=>{const T=y.selectedIngredients?.reduce((S,A)=>S+(A.extraPrice||0),0)||0;return y.price+T};function o(y){i(T=>{const S=y.id+(y.selectedIngredients?.map(U=>U.name).sort().join("-")||""),A=T.find(U=>U.id===S),V=s(y);return A?T.map(U=>U.id===S?{...U,qty:U.qty+y.qty}:U):[...T,{...y,id:S,qty:y.qty,price:V}]})}function u(y,T){i(S=>T<=0?S.filter(A=>A.id!==y):S.map(A=>A.id===y?{...A,qty:T}:A))}function m(y){i(T=>T.filter(S=>S.id!==y))}function p(){i([])}const v=t.reduce((y,T)=>y+T.price*T.qty,0);return d.jsx(CE.Provider,{value:{items:t,addItem:o,updateQty:u,removeItem:m,clear:p,total:v},children:r})}function jE(r){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...r,children:d.jsx("path",{d:"M7.2 3.1 5.4 4.3c-.8.5-1.2 1.5-1 2.4.9 4.2 4 7.7 8.1 8.9.9.3 1.9 0 2.4-.8l1.3-1.9c.4-.6.2-1.5-.4-2l-1.6-1.1c-.6-.4-1.3-.3-1.8.2l-.7.8c-1.2-.5-2.4-1.7-2.9-2.9l.8-.7c.5-.5.6-1.3.2-1.9L9.2 3.4C8.8 2.8 7.9 2.7 7.2 3.1Z",fill:"currentColor"})})}function Bv({className:r=""}){return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:r,"aria-hidden":"true",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M8 6V4h8v2"}),d.jsx("path",{d:"M6 6l1 14h10l1-14"}),d.jsx("path",{d:"M10 11v6"}),d.jsx("path",{d:"M14 11v6"})]})}function Gu(r){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...r,children:[d.jsx("path",{d:"M7.3 5h13.2l-1.3 7.4c-.2 1-1 1.6-2 1.6H9.2c-1 0-1.8-.6-2-1.6L6 4H3.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"10",cy:"19",r:"1.4",fill:"currentColor"}),d.jsx("circle",{cx:"17",cy:"19",r:"1.4",fill:"currentColor"})]})}function dm(r){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...r,children:d.jsx("path",{d:"M5 12h12.5M13 7.5 17.5 12 13 16.5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function qv(r){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...r,children:[d.jsx("path",{d:"M4.3 6.2 12 3.5l7.7 2.7L12 20.5 4.3 6.2Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinejoin:"round"}),d.jsx("circle",{cx:"12",cy:"9",r:"1.1",fill:"currentColor"}),d.jsx("circle",{cx:"9.5",cy:"12.2",r:"0.9",fill:"currentColor"}),d.jsx("circle",{cx:"14.7",cy:"13.3",r:"0.9",fill:"currentColor"})]})}function BS(r){return d.jsxs("svg",{...r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5",strokeWidth:"2"}),d.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",strokeWidth:"2"})]})}function qS(r){return d.jsx("svg",{...r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M21 12.79A9 9 0 0 1 12.21 3a7 7 0 0 0 0 14 9 9 0 0 1 8.79-4.21z",strokeWidth:"2"})})}function DE(r){return d.jsx("svg",{...r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function HS(){const[r,t]=k.useState(!1),{items:i}=Co(),s=i.reduce((m,p)=>m+p.qty,0),[o,u]=k.useState(()=>localStorage.getItem("theme")==="dark");return k.useEffect(()=>{const m=document.documentElement;o?m.setAttribute("data-theme","dark"):m.setAttribute("data-theme","light"),localStorage.setItem("theme",o?"dark":"light")},[o]),k.useEffect(()=>(document.body.style.overflow=r?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[r]),d.jsxs("header",{className:"modern-header",children:[d.jsxs("div",{className:"modern-header-container",children:[d.jsxs(ht,{to:"/",className:"modern-header-logo",children:[d.jsx("span",{className:"modern-logo-main",children:"Xanthos"}),d.jsx("span",{className:"modern-logo-sub",children:"Pizza & Grill"})]}),d.jsxs("nav",{className:"modern-header-nav",children:[d.jsx(ht,{to:"/menu",className:"modern-nav-link",children:"Menu"}),d.jsx(ht,{to:"/om-os",className:"modern-nav-link",children:"Om os"}),d.jsx(ht,{to:"/kontakt",className:"modern-nav-link",children:"Kontakt"})]}),d.jsxs("div",{className:"modern-header-actions",children:[d.jsxs("a",{href:"tel:+4570123456",className:"modern-header-phone",children:[d.jsx(jE,{}),d.jsx("span",{children:"70 12 34 56"})]}),d.jsxs(ht,{to:"/cart",className:"modern-header-cart",children:[d.jsx(Gu,{}),d.jsx("span",{children:"Kurv"}),s>0&&d.jsx("span",{className:"modern-cart-badge",children:s})]}),d.jsxs(ht,{to:"/bestil",className:"modern-header-cta",children:["Bestil",d.jsx(dm,{})]}),d.jsx("button",{className:"modern-theme-toggle",onClick:()=>u(m=>!m),"aria-label":"Skift tema",children:o?d.jsx(BS,{}):d.jsx(qS,{})}),d.jsxs("button",{className:`modern-mobile-toggle ${r?"open":""}`,onClick:()=>t(m=>!m),"aria-label":"bn/luk menu","aria-expanded":r,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]})]})]}),d.jsx("div",{className:`modern-mobile-menu ${r?"open":""}`,children:d.jsxs("nav",{className:"modern-mobile-nav",children:[d.jsx(ht,{to:"/menu",onClick:()=>t(!1),children:"Menu"}),d.jsx(ht,{to:"/om-os",onClick:()=>t(!1),children:"Om os"}),d.jsx(ht,{to:"/kontakt",onClick:()=>t(!1),children:"Kontakt"}),d.jsxs(ht,{to:"/cart",onClick:()=>t(!1),children:["Kurv ",s>0&&`(${s})`]}),d.jsx("a",{href:"tel:+4570123456",onClick:()=>t(!1),children:"Ring: 70 12 34 56"}),d.jsx(ht,{to:"/bestil",onClick:()=>t(!1),className:"modern-mobile-cta",children:"Bestil takeaway"})]})})]})}function FS(){return d.jsx("footer",{className:"footer-glass",children:d.jsxs("div",{className:"glass-box",children:[d.jsxs("div",{className:"brand",children:[d.jsx("h3",{children:"Xanthos Pizza & Grill"}),d.jsxs("p",{children:[" ",new Date().getFullYear()," Starpack APS  MKaan"]})]}),d.jsxs("div",{className:"glass-links",children:[d.jsx(ht,{to:"/om-os",children:"Om os"}),d.jsx(ht,{to:"/kontakt",children:"Kontakt"}),d.jsx(ht,{to:"/privacy",children:"Privacy Policy"})]})]})})}const GS=()=>{};var Hv={};const IE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},KS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],m=r[i++],p=r[i++],v=((o&7)<<18|(u&63)<<12|(m&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(v>>10)),t[s++]=String.fromCharCode(56320+(v&1023))}else{const u=r[i++],m=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|m&63)}}return t.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],m=o+1<r.length,p=m?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,V=y&63;v||(V=64,m||(A=64)),s.push(i[T],i[S],i[A],i[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(IE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):KS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new QS;const A=u<<2|p>>4;if(s.push(A),y!==64){const V=p<<4&240|y>>2;if(s.push(V),S!==64){const U=y<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YS=function(r){const t=IE(r);return VE.encodeByteArray(t,!0)},Nu=function(r){return YS(r).replace(/\./g,"")},XS=function(r){try{return VE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZS=()=>$S().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof Hv>"u")return;const r=Hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&XS(r[1]);return t&&JSON.parse(t)},fm=()=>{try{return GS()||ZS()||JS()||WS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ex=r=>fm()?.emulatorHosts?.[r],tx=r=>{const t=ex(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},OE=()=>fm()?.config;class nx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function mm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ix(r){return(await fetch(r,{credentials:"include"})).ok}function rx(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Nu(JSON.stringify(i)),Nu(JSON.stringify(m)),""].join(".")}const oo={};function ax(){const r={prod:[],emulator:[]};for(const t of Object.keys(oo))oo[t]?r.emulator.push(t):r.prod.push(t);return r}function sx(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Fv=!1;function lx(r,t){if(typeof window>"u"||typeof document>"u"||!mm(window.location.host)||oo[r]===t||oo[r]||Fv)return;oo[r]=t;function i(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=ax().prod.length>0;function m(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function v(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Fv=!0,m()},A}function T(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=sx(s),V=i("text"),U=document.getElementById(V)||document.createElement("span"),P=i("learnmore"),H=document.getElementById(P)||document.createElement("a"),Z=i("preprendIcon"),ee=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const se=A.element;p(se),T(H,P);const ge=y();v(ee,Z),se.append(ee,U,H,ge),document.body.appendChild(se)}u?(U.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ox(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cx(){const r=fm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ux(){return!cx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hx(){try{return typeof indexedDB=="object"}catch{return!1}}function dx(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const fx="FirebaseError";class Ys extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=fx,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ME.prototype.create)}}class ME{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],m=u?mx(u,s):"Error",p=`${this.serviceName}: ${m} (${o}).`;return new Ys(o,p,s)}}function mx(r,t){return r.replace(gx,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const gx=/\{\$([^}]+)}/g;function Ru(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const u=r[o],m=t[o];if(Gv(u)&&Gv(m)){if(!Ru(u,m))return!1}else if(u!==m)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Gv(r){return r!==null&&typeof r=="object"}function Vi(r){return r&&r._delegate?r._delegate:r}class po{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ka="[DEFAULT]";class px{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new nx;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vx(t))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ka){return this.instances.has(t)}getOptions(t=ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&m.resolve(o)}return o}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yx(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ka){return this.component?this.component.multipleInstances?t:ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yx(r){return r===ka?void 0:r}function vx(r){return r.instantiationMode==="EAGER"}class _x{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new px(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ke||(Ke={}));const Ex={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},Tx=Ke.INFO,bx={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},Sx=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=bx[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kE{constructor(t){this.name=t,this._logLevel=Tx,this._logHandler=Sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ex[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...t),this._logHandler(this,Ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...t),this._logHandler(this,Ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...t),this._logHandler(this,Ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...t),this._logHandler(this,Ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...t),this._logHandler(this,Ke.ERROR,...t)}}const xx=(r,t)=>t.some(i=>r instanceof i);let Kv,Qv;function Ax(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wx(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,Mf=new WeakMap,zE=new WeakMap,bf=new WeakMap,gm=new WeakMap;function Nx(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",m)},u=()=>{i(Xr(r.result)),o()},m=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",m)});return t.then(i=>{i instanceof IDBCursor&&LE.set(i,r)}).catch(()=>{}),gm.set(t,r),t}function Rx(r){if(Mf.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",m),r.removeEventListener("abort",m)},u=()=>{i(),o()},m=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",m),r.addEventListener("abort",m)});Mf.set(r,t)}let kf={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Mf.get(r);if(t==="objectStoreNames")return r.objectStoreNames||zE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Cx(r){kf=r(kf)}function jx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Sf(this),t,...i);return zE.set(s,t.sort?t.sort():[t]),Xr(s)}:wx().includes(r)?function(...t){return r.apply(Sf(this),t),Xr(LE.get(this))}:function(...t){return Xr(r.apply(Sf(this),t))}}function Dx(r){return typeof r=="function"?jx(r):(r instanceof IDBTransaction&&Rx(r),xx(r,Ax())?new Proxy(r,kf):r)}function Xr(r){if(r instanceof IDBRequest)return Nx(r);if(bf.has(r))return bf.get(r);const t=Dx(r);return t!==r&&(bf.set(r,t),gm.set(t,r)),t}const Sf=r=>gm.get(r);function Ix(r,t,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const m=indexedDB.open(r,t),p=Xr(m);return s&&m.addEventListener("upgradeneeded",v=>{s(Xr(m.result),v.oldVersion,v.newVersion,Xr(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Vx=["get","getKey","getAll","getAllKeys","count"],Ox=["put","add","delete","clear"],xf=new Map;function Yv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(xf.get(t))return xf.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=Ox.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Vx.includes(i)))return;const u=async function(m,...p){const v=this.transaction(m,o?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return xf.set(t,u),u}Cx(r=>({...r,get:(t,i,s)=>Yv(t,i)||r.get(t,i,s),has:(t,i)=>!!Yv(t,i)||r.has(t,i)}));class Mx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kx(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function kx(r){return r.getComponent()?.type==="VERSION"}const Lf="@firebase/app",Xv="0.14.6";const lr=new kE("@firebase/app"),Lx="@firebase/app-compat",zx="@firebase/analytics-compat",Ux="@firebase/analytics",Px="@firebase/app-check-compat",Bx="@firebase/app-check",qx="@firebase/auth",Hx="@firebase/auth-compat",Fx="@firebase/database",Gx="@firebase/data-connect",Kx="@firebase/database-compat",Qx="@firebase/functions",Yx="@firebase/functions-compat",Xx="@firebase/installations",$x="@firebase/installations-compat",Zx="@firebase/messaging",Jx="@firebase/messaging-compat",Wx="@firebase/performance",eA="@firebase/performance-compat",tA="@firebase/remote-config",nA="@firebase/remote-config-compat",iA="@firebase/storage",rA="@firebase/storage-compat",aA="@firebase/firestore",sA="@firebase/ai",lA="@firebase/firestore-compat",oA="firebase",cA="12.6.0";const zf="[DEFAULT]",uA={[Lf]:"fire-core",[Lx]:"fire-core-compat",[Ux]:"fire-analytics",[zx]:"fire-analytics-compat",[Bx]:"fire-app-check",[Px]:"fire-app-check-compat",[qx]:"fire-auth",[Hx]:"fire-auth-compat",[Fx]:"fire-rtdb",[Gx]:"fire-data-connect",[Kx]:"fire-rtdb-compat",[Qx]:"fire-fn",[Yx]:"fire-fn-compat",[Xx]:"fire-iid",[$x]:"fire-iid-compat",[Zx]:"fire-fcm",[Jx]:"fire-fcm-compat",[Wx]:"fire-perf",[eA]:"fire-perf-compat",[tA]:"fire-rc",[nA]:"fire-rc-compat",[iA]:"fire-gcs",[rA]:"fire-gcs-compat",[aA]:"fire-fst",[lA]:"fire-fst-compat",[sA]:"fire-vertex","fire-js":"fire-js",[oA]:"fire-js-all"};const Cu=new Map,hA=new Map,Uf=new Map;function $v(r,t){try{r.container.addComponent(t)}catch(i){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ju(r){const t=r.name;if(Uf.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;Uf.set(t,r);for(const i of Cu.values())$v(i,r);for(const i of hA.values())$v(i,r);return!0}function dA(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function fA(r){return r==null?!1:r.settings!==void 0}const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new ME("app","Firebase",mA);class gA{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const pA=cA;function UE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:zf,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw $r.create("bad-app-name",{appName:String(o)});if(i||(i=OE()),!i)throw $r.create("no-options");const u=Cu.get(o);if(u){if(Ru(i,u.options)&&Ru(s,u.config))return u;throw $r.create("duplicate-app",{appName:o})}const m=new _x(o);for(const v of Uf.values())m.addComponent(v);const p=new gA(i,s,m);return Cu.set(o,p),p}function yA(r=zf){const t=Cu.get(r);if(!t&&r===zf&&OE())return UE();if(!t)throw $r.create("no-app",{appName:r});return t}function zs(r,t,i){let s=uA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const m=[`Unable to register library "${s}" with version "${t}":`];o&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(m.join(" "));return}ju(new po(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const vA="firebase-heartbeat-database",_A=1,yo="firebase-heartbeat-store";let Af=null;function PE(){return Af||(Af=Ix(vA,_A,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(yo)}catch(i){console.warn(i)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),Af}async function EA(r){try{const i=(await PE()).transaction(yo),s=await i.objectStore(yo).get(BE(r));return await i.done,s}catch(t){if(t instanceof Ys)lr.warn(t.message);else{const i=$r.create("idb-get",{originalErrorMessage:t?.message});lr.warn(i.message)}}}async function Zv(r,t){try{const s=(await PE()).transaction(yo,"readwrite");await s.objectStore(yo).put(t,BE(r)),await s.done}catch(i){if(i instanceof Ys)lr.warn(i.message);else{const s=$r.create("idb-set",{originalErrorMessage:i?.message});lr.warn(s.message)}}}function BE(r){return`${r.name}!${r.options.appId}`}const TA=1024,bA=30;class SA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>bA){const o=wA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){lr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jv(),{heartbeatsToSend:i,unsentEntries:s}=xA(this._heartbeatsCache.heartbeats),o=Nu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return lr.warn(t),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function xA(r,t=TA){const i=[];let s=r.slice();for(const o of r){const u=i.find(m=>m.agent===o.agent);if(u){if(u.dates.push(o.date),Wv(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Wv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class AA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hx()?dx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await EA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Wv(r){return Nu(JSON.stringify({version:2,heartbeats:r})).length}function wA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function NA(r){ju(new po("platform-logger",t=>new Mx(t),"PRIVATE")),ju(new po("heartbeat",t=>new SA(t),"PRIVATE")),zs(Lf,Xv,r),zs(Lf,Xv,"esm2020"),zs("fire-js","")}NA("");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,qE;(function(){var r;function t(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,D,L){for(var C=Array(arguments.length-2),He=2;He<arguments.length;He++)C[He-2]=arguments[He];return w.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],D=N.g[2];let L=N.g[3],C;C=w+(L^R&(D^L))+M[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+M[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+M[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+M[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+M[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+M[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+M[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+M[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+M[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+M[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+M[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+M[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^L&(R^D))+M[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+M[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+M[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+M[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+M[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+M[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+M[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+M[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+M[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+M[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+M[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+M[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^L)+M[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+M[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+M[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+M[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+M[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+M[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+M[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+M[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+M[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+M[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+M[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+M[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~L))+M[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+M[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+M[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+M[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+M[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+M[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+M[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+M[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+M[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+M[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+M[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+M[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=R;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(M[D++]=N.charCodeAt(L++),D==this.blockSize){o(this,M),D=0;break}}else for(;L<w;)if(M[D++]=N[L++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[w++]=this.g[R]>>>M&255;return N};function u(N,w){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function m(N,w){this.h=w;const R=[];let M=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;M&&L==w||(R[D]=L,M=!1)}this.g=R}var p={};function v(N){return-128<=N&&N<128?u(N,function(w){return new m([w|0],w<0?-1:0)}):new m([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return H(y(-N));const w=[];let R=1;for(let M=0;N>=R;M++)w[M]=N/R|0,R*=4294967296;return new m(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return H(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let M=S;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),M=M.j(D).add(y(C))):(M=M.j(R),M=M.add(y(C)))}return M}var S=v(0),A=v(1),V=v(16777216);r=m.prototype,r.m=function(){if(P(this))return-H(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(P(this))return"-"+H(this).toString(N);const w=y(Math.pow(N,6));var R=this;let M="";for(;;){const D=ge(R,w).g;R=Z(R,D.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,U(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function P(N){return N.h==-1}r.l=function(N){return N=Z(this,N),P(N)?-1:U(N)?0:1};function H(N){const w=N.g.length,R=[];for(let M=0;M<w;M++)R[M]=~N.g[M];return new m(R,~N.h).add(A)}r.abs=function(){return P(this)?H(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let D=0;D<=w;D++){let L=M+(this.i(D)&65535)+(N.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=C>>>16,L&=65535,C&=65535,R[D]=C<<16|L}return new m(R,R[R.length-1]&-2147483648?-1:0)};function Z(N,w){return N.add(H(w))}r.j=function(N){if(U(this)||U(N))return S;if(P(this))return P(N)?H(this).j(H(N)):H(H(this).j(N));if(P(N))return H(this.j(H(N)));if(this.l(V)<0&&N.l(V)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const L=this.i(M)>>>16,C=this.i(M)&65535,He=N.i(D)>>>16,ve=N.i(D)&65535;R[2*M+2*D]+=C*ve,ee(R,2*M+2*D),R[2*M+2*D+1]+=L*ve,ee(R,2*M+2*D+1),R[2*M+2*D+1]+=C*He,ee(R,2*M+2*D+1),R[2*M+2*D+2]+=L*He,ee(R,2*M+2*D+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new m(R,0)};function ee(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function se(N,w){this.g=N,this.h=w}function ge(N,w){if(U(w))throw Error("division by zero");if(U(N))return new se(S,S);if(P(N))return w=ge(H(N),w),new se(H(w.g),H(w.h));if(P(w))return w=ge(N,H(w)),new se(H(w.g),w.h);if(N.g.length>30){if(P(N)||P(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=w;M.l(N)<=0;)R=oe(R),M=oe(M);var D=_e(R,1),L=_e(M,1);for(M=_e(M,2),R=_e(R,2);!U(M);){var C=L.add(M);C.l(N)<=0&&(D=D.add(R),L=C),M=_e(M,1),R=_e(R,1)}return w=Z(N,D.j(w)),new se(D,w)}for(D=S;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(R),C=L.j(w);P(C)||C.l(N)>0;)R-=M,L=y(R),C=L.j(w);U(L)&&(L=A),D=D.add(L),N=Z(N,C)}return new se(D,N)}r.B=function(N){return ge(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&N.i(M);return new m(R,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|N.i(M);return new m(R,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^N.i(M);return new m(R,this.h^N.h)};function oe(N){const w=N.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new m(R,N.h)}function _e(N,w){const R=w>>5;w%=32;const M=N.g.length-R,D=[];for(let L=0;L<M;L++)D[L]=w>0?N.i(L+R)>>>w|N.i(L+R+1)<<32-w:N.i(L+R);return new m(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qE=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=y,m.fromString=T,Zr=m}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HE,ro,FE,Eu,Pf,GE,KE,QE;(function(){var r,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=i(this);function o(c,g){if(g)e:{var E=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var q=c[x];if(!(q in E))break e;E=E[q]}c=c[c.length-1],x=E[c],g=g(x),g!=x&&g!=null&&t(E,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var E=[],x;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&E.push([x,g[x]]);return E}});var u=u||{},m=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,E){return c.call.apply(c.bind,arguments)}function y(c,g,E){return y=v,y.apply(null,arguments)}function T(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function S(c,g){function E(){}E.prototype=g.prototype,c.Z=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(x,q,Y){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return g.prototype[q].apply(x,ue)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const g=c.length;if(g>0){const E=Array(g);for(let x=0;x<g;x++)E[x]=c[x];return E}return[]}function U(c,g){for(let x=1;x<arguments.length;x++){const q=arguments[x];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const Y=q.length||0;c.length=E+Y;for(let ue=0;ue<Y;ue++)c[E+ue]=q[ue]}else c.push(q)}}class P{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){m.setTimeout(()=>{throw c},0)}function Z(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ee{constructor(){this.h=this.g=null}add(g,E){const x=se.get();x.set(g,E),this.h?this.h.next=x:this.g=x,this.h=x}}var se=new P(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,_e=!1,N=new ee,w=()=>{const c=Promise.resolve(void 0);oe=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(E){H(E)}var g=se;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}_e=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,g),m.removeEventListener("test",E,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function He(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(He,D),He.prototype.init=function(c,g){const E=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(c,g,E,x,q){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!x,this.ha=q,this.key=++Q,this.da=this.fa=!1}function B(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,g,E){for(const x in c)g.call(E,c[x],x,c)}function he(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function I(c){const g={};for(const E in c)g[E]=c[E];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,g){let E,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(E in x)c[E]=x[E];for(let Y=0;Y<J.length;Y++)E=J[Y],Object.prototype.hasOwnProperty.call(x,E)&&(c[E]=x[E])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,g,E,x,q){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ue=Re(c,g,x,q);return ue>-1?(g=c[ue],E||(g.fa=!1)):(g=new le(g,this.src,Y,!!x,q),g.fa=E,c.push(g)),g};function Ae(c,g){const E=g.type;if(E in c.g){var x=c.g[E],q=Array.prototype.indexOf.call(x,g,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(x,q,1),Y&&(B(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,g,E,x){for(let q=0;q<c.length;++q){const Y=c[q];if(!Y.da&&Y.listener==g&&Y.capture==!!E&&Y.ha==x)return q}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),_t={};function st(c,g,E,x,q){if(Array.isArray(g)){for(let Y=0;Y<g.length;Y++)st(c,g[Y],E,x,q);return null}return E=be(E),c&&c[ve]?c.J(g,E,p(x)?!!x.capture:!1,q):Li(c,g,E,!1,x,q)}function Li(c,g,E,x,q,Y){if(!g)throw Error("Invalid event type");const ue=p(q)?!!q.capture:!!q;let Ie=ae(c);if(Ie||(c[Me]=Ie=new fe(c)),E=Ie.add(g,E,x,ue,Y),E.proxy)return E;if(x=fr(),E.proxy=x,x.src=c,x.listener=E,c.addEventListener)L||(q=ue),q===void 0&&(q=!1),c.addEventListener(g.toString(),x,q);else if(c.attachEvent)c.attachEvent(Rn(g.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function fr(){function c(E){return g.call(c.src,c.listener,E)}const g=X;return c}function mr(c,g,E,x,q){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)mr(c,g[Y],E,x,q);else x=p(x)?!!x.capture:!!x,E=be(E),c&&c[ve]?(c=c.i,Y=String(g).toString(),Y in c.g&&(g=c.g[Y],E=Re(g,E,x,q),E>-1&&(B(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete c.g[Y],c.h--)))):c&&(c=ae(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Re(g,E,x,q)),(E=c>-1?g[c]:null)&&gr(E))}function gr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ve])Ae(g.i,c);else{var E=c.type,x=c.proxy;g.removeEventListener?g.removeEventListener(E,x,c.capture):g.detachEvent?g.detachEvent(Rn(E),x):g.addListener&&g.removeListener&&g.removeListener(x),(E=ae(g))?(Ae(E,c),E.h==0&&(E.src=null,g[Me]=null)):B(c)}}}function Rn(c){return c in _t?_t[c]:_t[c]="on"+c}function X(c,g){if(c.da)c=!0;else{g=new He(g,this);const E=c.listener,x=c.ha||c.src;c.fa&&gr(c),c=E.call(x,g)}return c}function ae(c){return c=c[Me],c instanceof fe?c:null}var Ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function be(c){return typeof c=="function"?c:(c[Ee]||(c[Ee]=function(g){return c.handleEvent(g)}),c[Ee])}function Fe(){M.call(this),this.i=new fe(this),this.M=this,this.G=null}S(Fe,M),Fe.prototype[ve]=!0,Fe.prototype.removeEventListener=function(c,g,E,x){mr(this,c,g,E,x)};function At(c,g){var E,x=c.G;if(x)for(E=[];x;x=x.G)E.push(x);if(c=c.M,x=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var q=g;g=new D(x,c),ce(g,q)}q=!0;let Y,ue;if(E)for(ue=E.length-1;ue>=0;ue--)Y=g.g=E[ue],q=zi(Y,x,!0,g)&&q;if(Y=g.g=c,q=zi(Y,x,!0,g)&&q,q=zi(Y,x,!1,g)&&q,E)for(ue=0;ue<E.length;ue++)Y=g.g=E[ue],q=zi(Y,x,!1,g)&&q}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const E=c.g[g];for(let x=0;x<E.length;x++)B(E[x]);delete c.g[g],c.h--}}this.G=null},Fe.prototype.J=function(c,g,E,x){return this.i.add(String(c),g,!1,E,x)},Fe.prototype.K=function(c,g,E,x){return this.i.add(String(c),g,!0,E,x)};function zi(c,g,E,x){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let q=!0;for(let Y=0;Y<g.length;++Y){const ue=g[Y];if(ue&&!ue.da&&ue.capture==E){const Ie=ue.listener,Tt=ue.ha||ue.src;ue.fa&&Ae(c.i,ue),q=Ie.call(Tt,x)!==!1&&q}}return q&&!x.defaultPrevented}function ai(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:m.setTimeout(c,g||0)}function Ga(c){c.g=ai(()=>{c.g=null,c.i&&(c.i=!1,Ga(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ut extends M{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ga(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(c){M.call(this),this.h=c,this.g={}}S(an,M);var el=[];function tl(c){de(c.g,function(g,E){this.g.hasOwnProperty(E)&&gr(g)},c),c.g={}}an.prototype.N=function(){an.Z.N.call(this),tl(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=m.JSON.stringify,ph=m.JSON.parse,ko=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Lo(){}function zo(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}S(Ft,D);function Cn(){D.call(this,"c")}S(Cn,D);var Et={},Uo=null;function Ka(){return Uo=Uo||new Fe}Et.Ia="serverreachability";function Po(c){D.call(this,Et.Ia,c)}S(Po,D);function si(c){const g=Ka();At(g,new Po(g))}Et.STAT_EVENT="statevent";function oa(c,g){D.call(this,Et.STAT_EVENT,c),this.stat=g}S(oa,D);function wt(c){const g=Ka();At(g,new oa(g,c))}Et.Ja="timingevent";function li(c,g){D.call(this,Et.Ja,c),this.size=g}S(li,D);function oi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function yh(c,g,E,x,q,Y){c.info(function(){if(c.g)if(Y){var ue="",Ie=Y.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var Tt=Ie[Xe].split("=");if(Tt.length>1){const dt=Tt[0];Tt=Tt[1];const Vn=dt.split("_");ue=Vn.length>=2&&Vn[1]=="type"?ue+(dt+"="+Tt+"&"):ue+(dt+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+g+`
`+E+`
`+ue})}function Bo(c,g,E,x,q,Y,ue){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+g+`
`+E+`
`+Y+" "+ue})}function ci(c,g,E,x){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+vh(c,E)+(x?" "+x:"")})}function ca(c,g){c.info(function(){return"TIMEOUT: "+g})}Kn.prototype.info=function(){};function vh(c,g){if(!c.g)return g;if(!g)return null;try{const Y=JSON.parse(g);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var E=Y[c];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<x.length;ue++)x[ue]=""}}}}return pr(Y)}catch{return g}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},il;function ha(){}S(ha,Lo),ha.prototype.g=function(){return new XMLHttpRequest},il=new ha;function Ui(c){return encodeURIComponent(String(c))}function qo(c){var g=1;c=c.split(":");const E=[];for(;g>0&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function Qn(c,g,E,x){this.j=c,this.i=g,this.l=E,this.S=x||1,this.V=new an(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Nt={},Pt={};function ui(c,g,E){c.M=1,c.A=da(Ct(g)),c.u=E,c.R=!0,Qa(c,null)}function Qa(c,g){c.F=Date.now(),hi(c),c.B=Ct(c.A);var E=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Za(E.i,"t",x),c.C=0,E=c.j.L,c.h=new Yn,c.g=ic(c.j,E?g:null,!c.u),c.P>0&&(c.O=new Ut(y(c.Y,c,c.g),c.P)),g=c.V,E=c.g,x=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(el[0]=q.toString()),q=el);for(let Y=0;Y<q.length;Y++){const ue=st(E,q[Y],x||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.J?I(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),si(),yh(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Zn(c)==3?g.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Zn(this.g),Tt=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ie!=4||Tt==7||(Tt==8||Xe<=0?si(3):si(2)),di(this);var g=this.g.ca();this.X=g;var E=_h(this);if(this.o=g==200,Bo(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var x,q=this.g;if((x=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(x)){var Y=x;break t}}Y=null}if(c=Y)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,wt(12),vn(this),jn(this);break e}}if(this.R){c=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=Fo(this,E),dt==Pt){Ie==4&&(this.m=4,wt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Nt){this.m=4,wt(15),ci(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,dt,null),fi(this,dt);if(Ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,E,"[Invalid Chunked Response]"),vn(this),jn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),vl(ue),ue.P=!0,wt(11))}}else ci(this.i,this.l,E,null),fi(this,E);Ie==4&&vn(this),this.o&&!this.K&&(Ie==4?Wo(this.j,this):(this.o=!1,hi(this)))}else Bi(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),vn(this),jn(this)}}}catch{}finally{}};function _h(c){if(!Ho(c))return c.g.la();const g=Gt(c.g);if(g==="")return"";let E="";const x=g.length,q=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),jn(c),"";c.h.i=new m.TextDecoder}for(let Y=0;Y<x;Y++)c.h.h=!0,E+=c.h.i.decode(g[Y],{stream:!(q&&Y==x-1)});return g.length=0,c.h.g+=E,c.C=0,c.h.g}function Ho(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Fo(c,g){var E=c.C,x=g.indexOf(`
`,E);return x==-1?Pt:(E=Number(g.substring(E,x)),isNaN(E)?Nt:(x+=1,x+E>g.length?Pt:(g=g.slice(x,x+E),c.C=x+E,g)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function hi(c){c.T=Date.now()+c.H,Ya(c,c.H)}function Ya(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),g)}function di(c){c.D&&(m.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ca(this.i,this.B),this.M!=2&&(si(),wt(17)),vn(this),this.m=2,jn(this)):Ya(this,this.T-c)};function jn(c){c.j.I==0||c.K||Wo(c.j,c)}function vn(c){di(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,tl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function fi(c,g){try{var E=c.j;if(E.I!=0&&(E.g==c||gi(E.h,c))){if(!c.L&&gi(E.h,c)&&E.I==3){try{var x=E.Ba.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ns(E),xr(E);else break e;_a(E),wt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=oi(y(E.Va,E),6e3));mi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ti(E,11)}else if((c.L||E.g==c)&&ns(E),!C(g))for(q=E.Ba.g.parse(g),g=0;g<q.length;g++){let Xe=q[g];const dt=Xe[0];if(!(dt<=E.K))if(E.K=dt,Xe=Xe[1],E.I==2)if(Xe[0]=="c"){E.M=Xe[1],E.ba=Xe[2];const Vn=Xe[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const bi=Xe[4];bi!=null&&(E.za=bi,E.j.info("SVER="+E.za));const Jn=Xe[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(x=1.5*Jn,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Wn=c.g;if(Wn){const Ea=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var Y=x.h;Y.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(sl(Y,Y.h),Y.h=null))}if(x.G){const is=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(x.wa=is,Je(x.J,x.G,is))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var ue=c;if(x.na=nc(x,x.L?x.ba:null,x.W),ue.L){ll(x.h,ue);var Ie=ue,Tt=x.O;Tt&&(Ie.H=Tt),Ie.D&&(di(Ie),hi(Ie)),x.g=ue}else Zo(x);E.i.length>0&&Ei(E)}else Xe[0]!="stop"&&Xe[0]!="close"||Ti(E,7);else E.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ti(E,7):pl(E):Xe[0]!="noop"&&E.l&&E.l.qa(Xe),E.A=0)}}si(4)}catch{}}var Rt=class{constructor(c,g){this.g=c,this.map=g}};function rl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function gi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function sl(c,g){c.g?c.g.add(g):c.h=g}function ll(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}rl.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ol(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.G);return g}return V(c.i)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(c,g){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const x=c[E].indexOf("=");let q,Y=null;x>=0?(q=c[E].substring(0,x),Y=c[E].substring(x+1)):q=c[E],g(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof _n?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.u),this.h=c.h,cl(this,Xo(c.i)),this.m=c.m):c&&(g=String(c).match(Go))?(this.l=!1,Bt(this,g[1]||"",!0),this.o=pi(g[2]||""),this.g=pi(g[3]||"",!0),yr(this,g[4]),this.h=pi(g[5]||"",!0),cl(this,g[6]||"",!0),this.m=pi(g[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}_n.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(fa(g,$a,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(fa(g,$a,!0),"@"),c.push(Ui(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(fa(E,E.charAt(0)=="/"?ul:Ko,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",fa(E,Qo)),c.join("")},_n.prototype.resolve=function(c){const g=Ct(this);let E=!!c.j;E?Bt(g,c.j):E=!!c.o,E?g.o=c.o:E=!!c.g,E?g.g=c.g:E=c.u!=null;var x=c.h;if(E)yr(g,c.u);else if(E=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var q=g.h.lastIndexOf("/");q!=-1&&(x=g.h.slice(0,q+1)+x)}if(q=x,q==".."||q==".")x="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){x=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let ue=0;ue<q.length;){const Ie=q[ue++];Ie=="."?x&&ue==q.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&ue==q.length&&Y.push("")):(Y.push(Ie),x=!0)}x=Y.join("/")}else x=q}return E?g.h=x:E=c.i.toString()!=="",E?cl(g,Xo(c.i)):E=!!c.m,E&&(g.m=c.m),g};function Ct(c){return new _n(c)}function Bt(c,g,E){c.j=E?pi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function cl(c,g,E){g instanceof _r?(c.i=g,Ja(c.i,c.l)):(E||(g=fa(g,vr)),c.i=new _r(g,c.l))}function Je(c,g,E){c.i.set(g,E)}function da(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fa(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,on),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $a=/[#\/\?@]/g,Ko=/[#\?:]/g,ul=/[#\?]/g,vr=/[#\?@]/g,Qo=/#/g;function _r(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Xa(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}r=_r.prototype,r.add=function(c,g){cn(this),this.i=null,c=Er(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function Yo(c,g){cn(c),g=Er(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function hl(c,g){return cn(c),g=Er(c,g),c.g.has(g)}r.forEach=function(c,g){cn(this),this.g.forEach(function(E,x){E.forEach(function(q){c.call(g,q,x,this)},this)},this)};function dl(c,g){cn(c);let E=[];if(typeof g=="string")hl(c,g)&&(E=E.concat(c.g.get(Er(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)E=E.concat(c[g]);return E}r.set=function(c,g){return cn(this),this.i=null,c=Er(this,c),hl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=dl(this,c),c.length>0?String(c[0]):g):g};function Za(c,g,E){Yo(c,g),E.length>0&&(c.i=null,c.g.set(Er(c,g),V(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let x=0;x<g.length;x++){var E=g[x];const q=Ui(E);E=dl(this,E);for(let Y=0;Y<E.length;Y++){let ue=q;E[Y]!==""&&(ue+="="+Ui(E[Y])),c.push(ue)}}return this.i=c.join("&")};function Xo(c){const g=new _r;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Er(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ja(c,g){g&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(E,x){const q=x.toLowerCase();x!=q&&(Yo(this,x),Za(this,q,E))},c)),c.j=g}function Xn(c,g){const E=new Kn;if(m.Image){const x=new Image;x.onload=T(Dn,E,"TestLoadImage: loaded",!0,g,x),x.onerror=T(Dn,E,"TestLoadImage: error",!1,g,x),x.onabort=T(Dn,E,"TestLoadImage: abort",!1,g,x),x.ontimeout=T(Dn,E,"TestLoadImage: timeout",!1,g,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else g(!1)}function fl(c,g){const E=new Kn,x=new AbortController,q=setTimeout(()=>{x.abort(),Dn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:x.signal}).then(Y=>{clearTimeout(q),Y.ok?Dn(E,"TestPingServer: ok",!0,g):Dn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Dn(E,"TestPingServer: error",!1,g)})}function Dn(c,g,E,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(E)}catch{}}function Tr(){this.g=new ko}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,Lo),yi.prototype.g=function(){return new ma(this.i,this.h)};function ma(c,g){Fe.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ma,Fe),r=ma.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||m).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?br(this):$n(this),this.readyState==3&&Wa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return de(c,function(E,x){g+=x,g+=":",g+=E,g+=`\r
`}),g}function ga(c,g,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=In(E),typeof c=="string"?E!=null&&Ui(E):Je(c,g,E))}function tt(c){Fe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(tt,Fe);var vi=/^https?$/i,ml=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():il.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){pa(this,Y);return}if(c=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)E.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())E.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(ml,g,void 0)>=0)||x||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of E)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){pa(this,Y)}};function pa(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,gl(c),Pi(c)}function gl(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,At(this,"complete"),At(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ya(this):this.Xa())},r.Xa=function(){ya(this)};function ya(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(At(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var x;if(x=Y===0){let ue=String(c.D).match(Go)[1]||null;!ue&&m.self&&m.self.location&&(ue=m.self.location.protocol.slice(0,-1)),x=!vi.test(ue?ue.toLowerCase():"")}E=x}if(E)At(c,"complete"),At(c,"success");else{c.o=6;try{var q=Zn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",gl(c)}}finally{Pi(c)}}}}function Pi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,g||At(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ph(g)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const g={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(C(c[x]))continue;var E=qo(c[x]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=g[q]||[];g[q]=Y,Y.push(E)}he(g,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function Sr(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new rl(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,E,x){wt(0),this.W=c,this.H=g||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=nc(this,null,this.W),Ei(this)};function pl(c){if(es(c),c.I==3){var g=c.V++,E=Ct(c.J);if(Je(E,"SID",c.M),Je(E,"RID",g),Je(E,"TYPE","terminate"),va(c,E),g=new Qn(c,c.j,g),g.M=2,g.A=da(Ct(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&m.Image&&(new Image().src=g.A,E=!0),E||(g.g=ic(g.j,null),g.g.ea(g.A)),g.F=Date.now(),hi(g)}tc(c)}function xr(c){c.g&&(vl(c),c.g.cancel(),c.g=null)}function es(c){xr(c),c.v&&(m.clearTimeout(c.v),c.v=null),ns(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function Ei(c){if(!al(c.h)&&!c.m){c.m=!0;var g=c.Ea;oe||w(),_e||(oe(),_e=!0),N.add(g,c),c.D=0}}function ts(c,g){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,g),ec(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Qn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=I(Y),ce(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=$o(this,q,g),E=Ct(this.J),Je(E,"RID",c),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),va(this,E),Y&&(this.R?g="headers="+Ui(In(Y))+"&"+g:this.u&&ga(E,this.u,Y)),sl(this.h,q),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",g),Je(E,"SID","null"),q.U=!0,ui(q,E,null)):ui(q,E,g),this.I=2}}else this.I==3&&(c?yl(this,c):this.i.length==0||al(this.h)||yl(this))};function yl(c,g){var E;g?E=g.l:E=c.V++;const x=Ct(c.J);Je(x,"SID",c.M),Je(x,"RID",E),Je(x,"AID",c.K),va(c,x),c.u&&c.o&&ga(x,c.u,c.o),E=new Qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),g&&(c.i=g.G.concat(c.i)),g=$o(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),sl(c.h,E),ui(E,x,g)}function va(c,g){c.H&&de(c.H,function(E,x){Je(g,x,E)}),c.l&&de({},function(E,x){Je(g,x,E)})}function $o(c,g,E){E=Math.min(c.i.length,E);const x=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ie=-1;for(;;){const Tt=["count="+E];Ie==-1?E>0?(Ie=q[0].g,Tt.push("ofs="+Ie)):Ie=0:Tt.push("ofs="+Ie);let Xe=!0;for(let dt=0;dt<E;dt++){var Y=q[dt].g;const Vn=q[dt].map;if(Y-=Ie,Y<0)Ie=Math.max(0,q[dt].g-100),Xe=!1;else try{Y="req"+Y+"_"||"";try{var ue=Vn instanceof Map?Vn:Object.entries(Vn);for(const[bi,Jn]of ue){let Wn=Jn;p(Jn)&&(Wn=pr(Jn)),Tt.push(Y+bi+"="+encodeURIComponent(Wn))}}catch(bi){throw Tt.push(Y+"type="+encodeURIComponent("_badmap")),bi}}catch{x&&x(Vn)}}if(Xe){ue=Tt.join("&");break e}}ue=void 0}return c=c.i.splice(0,E),g.G=c,ue}function Zo(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;oe||w(),_e||(oe(),_e=!0),N.add(g,c),c.A=0}}function _a(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),ec(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),xr(this),Jo(this))};function vl(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function Jo(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ct(c.na);Je(g,"RID","rpc"),Je(g,"SID",c.M),Je(g,"AID",c.K),Je(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(g,"TO",c.ia),Je(g,"TYPE","xmlhttp"),va(c,g),c.u&&c.o&&ga(g,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=da(Ct(g)),E.u=null,E.R=!0,Qa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,xr(this),_a(this),wt(19))};function ns(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wo(c,g){var E=null;if(c.g==g){ns(c),vl(c),c.g=null;var x=2}else if(gi(c.h,g))E=g.G,ll(c.h,g),x=1;else return;if(c.I!=0){if(g.o)if(x==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var q=c.D;x=Ka(),At(x,new li(x,E)),Ei(c)}else Zo(c);else if(q=g.m,q==3||q==0&&g.X>0||!(x==1&&ts(c,g)||x==2&&_a(c)))switch(E&&E.length>0&&(g=c.h,g.i=g.i.concat(E)),q){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function ec(c,g){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*g}function Ti(c,g){if(c.j.info("Error code "+g),g==2){var E=y(c.bb,c),x=c.Ua;const q=!x;x=new _n(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Bt(x,"https"),da(x),q?Xn(x.toString(),E):fl(x.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(g),tc(c),es(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function tc(c){if(c.I=0,c.ja=[],c.l){const g=ol(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ja,g),U(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function nc(c,g,E){var x=E instanceof _n?Ct(E):new _n(E);if(x.g!="")g&&(x.g=g+"."+x.g),yr(x,x.u);else{var q=m.location;x=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;const Y=new _n(null);x&&Bt(Y,x),g&&(Y.g=g),q&&yr(Y,q),E&&(Y.h=E),x=Y}return E=c.G,g=c.wa,E&&g&&Je(x,E,g),Je(x,"VER",c.ka),va(c,x),x}function ic(c,g,E){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new tt(new yi({ab:E})):new tt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ar(){}Ar.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){Fe.call(this),this.g=new Sr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new qi(this)}S(sn,Fe),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){pl(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=pr(c),c=E);g.i.push(new Rt(g.Ya++,c)),g.I==3&&Ei(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,sn.Z.N.call(this)};function ac(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(ac,Ft);function sc(){Cn.call(this),this.status=1}S(sc,Cn);function qi(c){this.g=c}S(qi,rc),qi.prototype.ra=function(){At(this.g,"a")},qi.prototype.qa=function(c){At(this.g,new ac(c))},qi.prototype.pa=function(c){At(this.g,new sc)},qi.prototype.oa=function(){At(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,QE=function(){return new Ar},KE=function(){return Ka()},GE=Et,Pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,Eu=ua,nl.COMPLETE="complete",FE=nl,zo.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,ro=zo,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,HE=tt}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore",n_="4.9.3";class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Xs="12.7.0";const Pa=new kE("@firebase/firestore");function Vs(){return Pa.logLevel}function pe(r,...t){if(Pa.logLevel<=Ke.DEBUG){const i=t.map(pm);Pa.debug(`Firestore (${Xs}): ${r}`,...i)}}function or(r,...t){if(Pa.logLevel<=Ke.ERROR){const i=t.map(pm);Pa.error(`Firestore (${Xs}): ${r}`,...i)}}function Ps(r,...t){if(Pa.logLevel<=Ke.WARN){const i=t.map(pm);Pa.warn(`Firestore (${Xs}): ${r}`,...i)}}function pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ne(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,YE(r,s,i)}function YE(r,t,i){let s=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw or(s),new Error(s)}function Ze(r,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||YE(t,o,s)}function De(r,t){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class XE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class CA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class jA{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ze(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,t.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const v=u;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),m()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new XE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ze(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class DA{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IA{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new DA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ze(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new i_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OA(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OA(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=t.charAt(o[u]%62))}return s}}function Pe(r,t){return r<t?-1:r>t?1:0}function Bf(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return wf(o)===wf(u)?Pe(o,u):wf(o)?1:-1}return Pe(r.length,t.length)}const MA=55296,kA=57343;function wf(r){const t=r.charCodeAt(0);return t>=MA&&t<=kA}function Bs(r,t,i){return r.length===t.length&&r.every(((s,o)=>i(s,t[o])))}const r_="__name__";class Ni{constructor(t,i,s){i===void 0?i=0:i>t.length&&Ne(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Ne(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Pe(t.length,i.length)}static compareSegments(t,i){const s=Ni.isNumericId(t),o=Ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):Bf(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ot extends Ni{construct(t,i,s){return new ot(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const LA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ni{construct(t,i,s){return new Zt(t,i,s)}static isValidIdentifier(t){return LA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new Zt([r_])}static fromServerFormat(t){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let m=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=v,o+=2}else p==="`"?(m=!m,o++):p!=="."||m?(s+=p,o++):(u(),o++)}if(u(),m)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zt(i)}static emptyPath(){return new Zt([])}}class xe{constructor(t){this.path=t}static fromPath(t){return new xe(ot.fromString(t))}static fromName(t){return new xe(ot.fromString(t).popFirst(5))}static empty(){return new xe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ot.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ot.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xe(new ot(t.slice()))}}function $E(r,t,i){if(!i)throw new me(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function zA(r,t,i,s){if(t===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function a_(r){if(!xe.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function s_(r){if(xe.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ZE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ku(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Ne(12329,{type:typeof r})}function yn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ku(r);throw new me(ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function UA(r,t){if(t<=0)throw new me(ne.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}function kt(r,t){const i={typeString:r};return t&&(i.value=t),i}function jo(r,t){if(!ZE(r))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const m=r[s];if(o&&typeof m!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&m!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new me(ne.INVALID_ARGUMENT,i);return!0}const l_=-62135596800,o_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(t){return at.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*o_);return new at(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<l_)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(t){return this.seconds===t.seconds?Pe(this.nanoseconds,t.nanoseconds):Pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jo(t,at._jsonSchema))return new at(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-l_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:kt("string",at._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class Ce{static fromTimestamp(t){return new Ce(t)}static min(){return new Ce(new at(0,0))}static max(){return new Ce(new at(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vo=-1;function PA(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new at(i+1,0):new at(i,s));return new Wr(o,xe.empty(),t)}function BA(r){return new Wr(r.readTime,r.key,vo)}class Wr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Wr(Ce.min(),xe.empty(),vo)}static max(){return new Wr(Ce.max(),xe.empty(),vo)}}function qA(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=xe.comparator(r.documentKey,t.documentKey),i!==0?i:Pe(r.largestBatchId,t.largestBatchId))}const HA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function $s(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==HA)throw r;pe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new re(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof re?i:re.resolve(i)}catch(i){return re.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):re.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):re.reject(i)}static resolve(t){return new re(((i,s)=>{i(t)}))}static reject(t){return new re(((i,s)=>{s(t)}))}static waitFor(t){return new re(((i,s)=>{let o=0,u=0,m=!1;t.forEach((p=>{++o,p.next((()=>{++u,m&&u===o&&i()}),(v=>s(v)))})),m=!0,u===o&&i()}))}static or(t){let i=re.resolve(!1);for(const s of t)i=i.next((o=>o?re.resolve(o):s()));return i}static forEach(t,i){const s=[];return t.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(t,i){return new re(((s,o)=>{const u=t.length,m=new Array(u);let p=0;for(let v=0;v<u;v++){const y=v;i(t[y]).next((T=>{m[y]=T,++p,p===u&&s(m)}),(T=>o(T)))}}))}static doWhile(t,i){return new re(((s,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):s()};u()}))}}function GA(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Zs(r){return r.name==="IndexedDbTransactionError"}class Qu{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qu.ce=-1;const vm=-1;function Yu(r){return r==null}function Du(r){return r===0&&1/r==-1/0}function KA(r){return typeof r=="number"&&Number.isInteger(r)&&!Du(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const JE="";function QA(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=c_(t)),t=YA(r.get(i),t);return c_(t)}function YA(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case JE:i+="";break;default:i+=u}}return i}function c_(r){return r+JE+""}function u_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function sa(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function WE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class gt{constructor(t,i){this.comparator=t,this.root=i||$t.EMPTY}insert(t,i){return new gt(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(t){return new gt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$t.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new du(this.root,t,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new du(this.root,t,this.comparator,!0)}}class du{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $t{constructor(t,i,s,o,u){this.key=t,this.value=i,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,u){return new $t(t??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ne(27949);return t+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(t,i,s,o,u){return this}insert(t,i,s){return new $t(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(t){this.comparator=t,this.data=new gt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(t){return new h_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof zt)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new zt(this.comparator);return i.data=t,i}}class h_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(t){this.fields=t,t.sort(Zt.comparator)}static empty(){return new Nn([])}unionWith(t){let i=new zt(Zt.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Nn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Bs(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class e0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new e0("Invalid base64 string: "+u):u}})(t);return new Jt(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u})(t);return new Jt(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const XA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(r){if(Ze(!!r,39018),typeof r=="string"){let t=0;const i=XA.exec(r);if(Ze(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ta(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}const t0="server_timestamp",n0="__type__",i0="__previous_value__",r0="__local_write_time__";function _m(r){return(r?.mapValue?.fields||{})[n0]?.stringValue===t0}function Xu(r){const t=r.mapValue.fields[i0];return _m(t)?Xu(t):t}function _o(r){const t=ea(r.mapValue.fields[r0].timestampValue);return new at(t.seconds,t.nanos)}class $A{constructor(t,i,s,o,u,m,p,v,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T}}const Iu="(default)";class Eo{constructor(t,i){this.projectId=t,this.database=i||Iu}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database===Iu}isEqual(t){return t instanceof Eo&&t.projectId===this.projectId&&t.database===this.database}}const a0="__type__",ZA="__max__",fu={mapValue:{}},s0="__vector__",Vu="value";function na(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_m(r)?4:WA(r)?9007199254740991:JA(r)?10:11:Ne(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=na(r);if(i!==na(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return _o(r).isEqual(_o(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=ea(o.timestampValue),p=ea(u.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ta(o.bytesValue).isEqual(ta(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=xt(o.doubleValue),p=xt(u.doubleValue);return m===p?Du(m)===Du(p):isNaN(m)&&isNaN(p)}return!1})(r,t);case 9:return Bs(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const m=o.mapValue.fields||{},p=u.mapValue.fields||{};if(u_(m)!==u_(p))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(p[v]===void 0||!Oi(m[v],p[v])))return!1;return!0})(r,t);default:return Ne(52216,{left:r})}}function To(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function qs(r,t){if(r===t)return 0;const i=na(r),s=na(t);if(i!==s)return Pe(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,t.booleanValue);case 2:return(function(u,m){const p=xt(u.integerValue||u.doubleValue),v=xt(m.integerValue||m.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return d_(r.timestampValue,t.timestampValue);case 4:return d_(_o(r),_o(t));case 5:return Bf(r.stringValue,t.stringValue);case 6:return(function(u,m){const p=ta(u),v=ta(m);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(u,m){const p=u.split("/"),v=m.split("/");for(let y=0;y<p.length&&y<v.length;y++){const T=Pe(p[y],v[y]);if(T!==0)return T}return Pe(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,m){const p=Pe(xt(u.latitude),xt(m.latitude));return p!==0?p:Pe(xt(u.longitude),xt(m.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return f_(r.arrayValue,t.arrayValue);case 10:return(function(u,m){const p=u.fields||{},v=m.fields||{},y=p[Vu]?.arrayValue,T=v[Vu]?.arrayValue,S=Pe(y?.values?.length||0,T?.values?.length||0);return S!==0?S:f_(y,T)})(r.mapValue,t.mapValue);case 11:return(function(u,m){if(u===fu.mapValue&&m===fu.mapValue)return 0;if(u===fu.mapValue)return 1;if(m===fu.mapValue)return-1;const p=u.fields||{},v=Object.keys(p),y=m.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const A=Bf(v[S],T[S]);if(A!==0)return A;const V=qs(p[v[S]],y[T[S]]);if(V!==0)return V}return Pe(v.length,T.length)})(r.mapValue,t.mapValue);default:throw Ne(23264,{he:i})}}function d_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pe(r,t);const i=ea(r),s=ea(t),o=Pe(i.seconds,s.seconds);return o!==0?o:Pe(i.nanos,s.nanos)}function f_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=qs(i[o],s[o]);if(u)return u}return Pe(i.length,s.length)}function Hs(r){return qf(r)}function qf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ea(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ta(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return xe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=qf(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const m of s)u?u=!1:o+=",",o+=`${m}:${qf(i.fields[m])}`;return o+"}"})(r.mapValue):Ne(61005,{value:r})}function Tu(r){switch(na(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xu(r);return t?16+Tu(t):16;case 5:return 2*r.stringValue.length;case 6:return ta(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Tu(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return sa(s.fields,((u,m)=>{o+=u.length+Tu(m)})),o})(r.mapValue);default:throw Ne(13486,{value:r})}}function m_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Hf(r){return!!r&&"integerValue"in r}function Em(r){return!!r&&"arrayValue"in r}function g_(r){return!!r&&"nullValue"in r}function p_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bu(r){return!!r&&"mapValue"in r}function JA(r){return(r?.mapValue?.fields||{})[a0]?.stringValue===s0}function co(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return sa(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=co(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=co(r.arrayValue.values[i]);return t}return{...r}}function WA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZA}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!bu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=co(i)}setAll(t){let i=Zt.emptyPath(),s={},o=[];t.forEach(((m,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}m?s[p.lastSegment()]=co(m):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(t){const i=this.field(t.popLast());bu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];bu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){sa(i,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new pn(co(this.value))}}function l0(r){const t=[];return sa(r.fields,((i,s)=>{const o=new Zt([i]);if(bu(s)){const u=l0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const m of u)t.push(o.child(m))}else t.push(o)})),new Nn(t)}class nn{constructor(t,i,s,o,u,m,p){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=m,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,Ce.min(),Ce.min(),Ce.min(),pn.empty(),0)}static newFoundDocument(t,i,s,o){return new nn(t,1,i,Ce.min(),s,o,0)}static newNoDocument(t,i){return new nn(t,2,i,Ce.min(),Ce.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,Ce.min(),Ce.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ou{constructor(t,i){this.position=t,this.inclusive=i}}function y_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],m=r.position[o];if(u.field.isKeyField()?s=xe.comparator(xe.fromName(m.referenceValue),i.key):s=qs(m,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function v_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}class bo{constructor(t,i="asc"){this.field=t,this.dir=i}}function ew(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class o0{}class Mt extends o0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new nw(t,i,s):i==="array-contains"?new aw(t,s):i==="in"?new sw(t,s):i==="not-in"?new lw(t,s):i==="array-contains-any"?new ow(t,s):new Mt(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new iw(t,s):new rw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(qs(i,this.value)):i!==null&&na(this.value)===na(i)&&this.matchesComparison(qs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends o0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return c0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c0(r){return r.op==="and"}function u0(r){return tw(r)&&c0(r)}function tw(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function Ff(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+Hs(r.value);if(u0(r))return r.filters.map((t=>Ff(t))).join(",");{const t=r.filters.map((i=>Ff(i))).join(",");return`${r.op}(${t})`}}function h0(r,t){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,t):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,m,p)=>u&&h0(m,o.filters[p])),!0):!1})(r,t):void Ne(19439)}function d0(r){return r instanceof Mt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hs(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(d0).join(" ,")+"}"})(r):"Filter"}class nw extends Mt{constructor(t,i,s){super(t,i,s),this.key=xe.fromName(s.referenceValue)}matches(t){const i=xe.comparator(t.key,this.key);return this.matchesComparison(i)}}class iw extends Mt{constructor(t,i){super(t,"in",i),this.keys=f0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class rw extends Mt{constructor(t,i){super(t,"not-in",i),this.keys=f0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function f0(r,t){return(t.arrayValue?.values||[]).map((i=>xe.fromName(i.referenceValue)))}class aw extends Mt{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Em(i)&&To(i.arrayValue,this.value)}}class sw extends Mt{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&To(this.value.arrayValue,i)}}class lw extends Mt{constructor(t,i){super(t,"not-in",i)}matches(t){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!To(this.value.arrayValue,i)}}class ow extends Mt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Em(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>To(this.value.arrayValue,s)))}}class cw{constructor(t,i=null,s=[],o=[],u=null,m=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=m,this.endAt=p,this.Te=null}}function __(r,t=null,i=[],s=[],o=null,u=null,m=null){return new cw(r,t,i,s,o,u,m)}function Tm(r){const t=De(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Ff(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Yu(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Hs(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Hs(s))).join(",")),t.Te=i}return t.Te}function bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ew(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!h0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!v_(r.startAt,t.startAt)&&v_(r.endAt,t.endAt)}function Gf(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Js{constructor(t,i=null,s=[],o=[],u=null,m="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=m,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uw(r,t,i,s,o,u,m,p){return new Js(r,t,i,s,o,u,m,p)}function $u(r){return new Js(r)}function E_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function m0(r){return r.collectionGroup!==null}function uo(r){const t=De(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new zt(Zt.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new bo(u,s))})),i.has(Zt.keyField().canonicalString())||t.Ie.push(new bo(Zt.keyField(),s))}return t.Ie}function Ri(r){const t=De(r);return t.Ee||(t.Ee=hw(t,uo(r))),t.Ee}function hw(r,t){if(r.limitType==="F")return __(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new bo(o.field,u)}));const i=r.endAt?new Ou(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ou(r.startAt.position,r.startAt.inclusive):null;return __(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Kf(r,t){const i=r.filters.concat([t]);return new Js(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Mu(r,t,i){return new Js(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Zu(r,t){return bm(Ri(r),Ri(t))&&r.limitType===t.limitType}function g0(r){return`${Tm(Ri(r))}|lt:${r.limitType}`}function Os(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>d0(o))).join(", ")}]`),Yu(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Hs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Hs(o))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function Ju(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):xe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of uo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(m,p,v){const y=y_(m,p,v);return m.inclusive?y<=0:y<0})(s.startAt,uo(s),o)||s.endAt&&!(function(m,p,v){const y=y_(m,p,v);return m.inclusive?y>=0:y>0})(s.endAt,uo(s),o))})(r,t)}function dw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p0(r){return(t,i)=>{let s=!1;for(const o of uo(r)){const u=fw(o,t,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fw(r,t,i){const s=r.field.isKeyField()?xe.comparator(t.key,i.key):(function(u,m,p){const v=m.data.field(u),y=p.data.field(u);return v!==null&&y!==null?qs(v,y):Ne(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:r.dir})}}class qa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sa(this.inner,((i,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}const mw=new gt(xe.comparator);function cr(){return mw}const y0=new gt(xe.comparator);function ao(...r){let t=y0;for(const i of r)t=t.insert(i.key,i);return t}function v0(r){let t=y0;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function La(){return ho()}function _0(){return ho()}function ho(){return new qa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const gw=new gt(xe.comparator),pw=new zt(xe.comparator);function Be(...r){let t=pw;for(const i of r)t=t.add(i);return t}const yw=new zt(Pe);function vw(){return yw}function Sm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(t)?"-0":t}}function E0(r){return{integerValue:""+r}}function _w(r,t){return KA(t)?E0(t):Sm(r,t)}class Wu{constructor(){this._=void 0}}function Ew(r,t,i){return r instanceof So?(function(o,u){const m={fields:{[n0]:{stringValue:t0},[r0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&_m(u)&&(u=Xu(u)),u&&(m.fields[i0]=u),{mapValue:m}})(i,t):r instanceof xo?b0(r,t):r instanceof Ao?S0(r,t):(function(o,u){const m=T0(o,u),p=T_(m)+T_(o.Ae);return Hf(m)&&Hf(o.Ae)?E0(p):Sm(o.serializer,p)})(r,t)}function Tw(r,t,i){return r instanceof xo?b0(r,t):r instanceof Ao?S0(r,t):i}function T0(r,t){return r instanceof ku?(function(s){return Hf(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class So extends Wu{}class xo extends Wu{constructor(t){super(),this.elements=t}}function b0(r,t){const i=x0(t);for(const s of r.elements)i.some((o=>Oi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Ao extends Wu{constructor(t){super(),this.elements=t}}function S0(r,t){let i=x0(t);for(const s of r.elements)i=i.filter((o=>!Oi(o,s)));return{arrayValue:{values:i}}}class ku extends Wu{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function T_(r){return xt(r.integerValue||r.doubleValue)}function x0(r){return Em(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class bw{constructor(t,i){this.field=t,this.transform=i}}function Sw(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof xo&&o instanceof xo||s instanceof Ao&&o instanceof Ao?Bs(s.elements,o.elements,Oi):s instanceof ku&&o instanceof ku?Oi(s.Ae,o.Ae):s instanceof So&&o instanceof So})(r.transform,t.transform)}class xw{constructor(t,i){this.version=t,this.transformResults=i}}class Fn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Su(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class eh{}function A0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new xm(r.key,Fn.none()):new Do(r.key,r.data,Fn.none());{const i=r.data,s=pn.empty();let o=new zt(Zt.comparator);for(let u of t.fields)if(!o.has(u)){let m=i.field(u);m===null&&u.length>1&&(u=u.popLast(),m=i.field(u)),m===null?s.delete(u):s.set(u,m),o=o.add(u)}return new la(r.key,s,new Nn(o.toArray()),Fn.none())}}function Aw(r,t,i){r instanceof Do?(function(o,u,m){const p=o.value.clone(),v=S_(o.fieldTransforms,u,m.transformResults);p.setAll(v),u.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(r,t,i):r instanceof la?(function(o,u,m){if(!Su(o.precondition,u))return void u.convertToUnknownDocument(m.version);const p=S_(o.fieldTransforms,u,m.transformResults),v=u.data;v.setAll(w0(o)),v.setAll(p),u.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(r,t,i):(function(o,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,i)}function fo(r,t,i,s){return r instanceof Do?(function(u,m,p,v){if(!Su(u.precondition,m))return p;const y=u.value.clone(),T=x_(u.fieldTransforms,v,m);return y.setAll(T),m.convertToFoundDocument(m.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof la?(function(u,m,p,v){if(!Su(u.precondition,m))return p;const y=x_(u.fieldTransforms,v,m),T=m.data;return T.setAll(w0(u)),T.setAll(y),m.convertToFoundDocument(m.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(u,m,p){return Su(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p})(r,t,i)}function ww(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=T0(s.transform,o||null);u!=null&&(i===null&&(i=pn.empty()),i.set(s.field,u))}return i||null}function b_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bs(s,o,((u,m)=>Sw(u,m)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Do extends eh{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends eh{constructor(t,i,s,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function w0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function S_(r,t,i){const s=new Map;Ze(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const u=r[o],m=u.transform,p=t.data.field(u.field);s.set(u.field,Tw(m,p,i[o]))}return s}function x_(r,t,i){const s=new Map;for(const o of r){const u=o.transform,m=i.data.field(o.field);s.set(o.field,Ew(u,m,t))}return s}class xm extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nw extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rw{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Aw(u,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=fo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=fo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=_0();return this.mutations.forEach((o=>{const u=t.get(o.key),m=u.overlayedDocument;let p=this.applyToLocalView(m,u.mutatedFields);p=i.has(o.key)?null:p;const v=A0(m,p);v!==null&&s.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Be())}isEqual(t){return this.batchId===t.batchId&&Bs(this.mutations,t.mutations,((i,s)=>b_(i,s)))&&Bs(this.baseMutations,t.baseMutations,((i,s)=>b_(i,s)))}}class Am{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Ze(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return gw})();const u=t.mutations;for(let m=0;m<u.length;m++)o=o.insert(u[m].key,s[m].version);return new Am(t,i,s,o)}}class Cw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ot,Ge;function Dw(r){switch(r){case ne.OK:return Ne(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ne(15467,{code:r})}}function N0(r){if(r===void 0)return or("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Ot.OK:return ne.OK;case Ot.CANCELLED:return ne.CANCELLED;case Ot.UNKNOWN:return ne.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ne.INTERNAL;case Ot.UNAVAILABLE:return ne.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ne.NOT_FOUND;case Ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ot.ABORTED:return ne.ABORTED;case Ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ot.DATA_LOSS:return ne.DATA_LOSS;default:return Ne(39323,{code:r})}}(Ge=Ot||(Ot={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function Iw(){return new TextEncoder}const Vw=new Zr([4294967295,4294967295],0);function A_(r){const t=Iw().encode(r),i=new qE;return i.update(t),new Uint8Array(i.digest())}function w_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([i,s],0),new Zr([o,u],0)]}class wm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new so(`Invalid padding: ${i}`);if(s<0)throw new so(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new so(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zr.fromNumber(this.ge)}ye(t,i,s){let o=t.add(i.multiply(Zr.fromNumber(s)));return o.compare(Vw)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=A_(t),[s,o]=w_(i);for(let u=0;u<this.hashCount;u++){const m=this.ye(s,o,u);if(!this.we(m))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),m=new wm(u,o,i);return s.forEach((p=>m.insert(p))),m}insert(t){if(this.ge===0)return;const i=A_(t),[s,o]=w_(i);for(let u=0;u<this.hashCount;u++){const m=this.ye(s,o,u);this.Se(m)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class th{constructor(t,i,s,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Io.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new th(Ce.min(),o,new gt(Pe),cr(),Be())}}class Io{constructor(t,i,s,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Io(s,i,Be(),Be(),Be())}}class xu{constructor(t,i,s,o){this.be=t,this.removedTargetIds=i,this.key=s,this.De=o}}class R0{constructor(t,i){this.targetId=t,this.Ce=i}}class C0{constructor(t,i,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class N_{constructor(){this.ve=0,this.Fe=R_(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Be(),i=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Ne(38017,{changeType:u})}})),new Io(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=R_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ow{constructor(t){this.Ge=t,this.ze=new Map,this.je=cr(),this.Je=mu(),this.He=mu(),this.Ye=new gt(Pe)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:Ne(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,s=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Gf(u))if(s===0){const m=new xe(u.path);this.et(i,m,nn.newNoDocument(m,Ce.min()))}else Ze(s===1,20013,{expectedCount:s});else{const m=this._t(i);if(m!==s){const p=this.ut(t),v=p?this.ct(p,t,m):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let m,p;try{m=ta(s).toUint8Array()}catch(v){if(v instanceof e0)return Ps("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new wm(m,o,u)}catch(v){return Ps(v instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const m=this.Ge.ht(),p=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,m)=>{const p=this.ot(m);if(p){if(u.current&&Gf(p.target)){const v=new xe(p.target.path);this.It(v).has(m)||this.Et(m,v)||this.et(m,v,nn.newNoDocument(v,t))}u.Be&&(i.set(m,u.ke()),u.qe())}}));let s=Be();this.He.forEach(((u,m)=>{let p=!0;m.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(t)));const o=new th(t,i,this.Ye,this.je,s);return this.je=cr(),this.Je=mu(),this.He=mu(),this.Ye=new gt(Pe),o}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new N_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new zt(Pe),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new zt(Pe),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||pe("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new N_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function mu(){return new gt(xe.comparator)}function R_(){return new gt(xe.comparator)}const Mw={asc:"ASCENDING",desc:"DESCENDING"},kw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lw={and:"AND",or:"OR"};class zw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Qf(r,t){return r.useProto3Json||Yu(t)?t:{value:t}}function Lu(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Uw(r,t){return Lu(r,t.toTimestamp())}function Ci(r){return Ze(!!r,49232),Ce.fromTimestamp((function(i){const s=ea(i);return new at(s.seconds,s.nanos)})(r))}function Nm(r,t){return Yf(r,t).canonicalString()}function Yf(r,t){const i=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function D0(r){const t=ot.fromString(r);return Ze(k0(t),10190,{key:t.toString()}),t}function Xf(r,t){return Nm(r.databaseId,t.path)}function Nf(r,t){const i=D0(t);if(i.get(1)!==r.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new xe(V0(i))}function I0(r,t){return Nm(r.databaseId,t)}function Pw(r){const t=D0(r);return t.length===4?ot.emptyPath():V0(t)}function $f(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function V0(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function C_(r,t,i){return{name:Xf(r,t),fields:i.value.mapValue.fields}}function Bw(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ze(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ze(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),m=t.targetChange.cause,p=m&&(function(y){const T=y.code===void 0?ne.UNKNOWN:N0(y.code);return new me(T,y.message||"")})(m);i=new C0(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nf(r,s.document.name),u=Ci(s.document.updateTime),m=s.document.createTime?Ci(s.document.createTime):Ce.min(),p=new pn({mapValue:{fields:s.document.fields}}),v=nn.newFoundDocument(o,u,m,p),y=s.targetIds||[],T=s.removedTargetIds||[];i=new xu(y,T,v.key,v)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Nf(r,s.document),u=s.readTime?Ci(s.readTime):Ce.min(),m=nn.newNoDocument(o,u),p=s.removedTargetIds||[];i=new xu([],p,m.key,m)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Nf(r,s.document),u=s.removedTargetIds||[];i=new xu([],u,o,null)}else{if(!("filter"in t))return Ne(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,m=new jw(o,u),p=s.targetId;i=new R0(p,m)}}return i}function qw(r,t){let i;if(t instanceof Do)i={update:C_(r,t.key,t.value)};else if(t instanceof xm)i={delete:Xf(r,t.key)};else if(t instanceof la)i={update:C_(r,t.key,t.data),updateMask:Zw(t.fieldMask)};else{if(!(t instanceof Nw))return Ne(16599,{Vt:t.type});i={verify:Xf(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(u,m){const p=m.transform;if(p instanceof So)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ao)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ku)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:m.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Uw(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne(27497)})(r,t.precondition)),i}function Hw(r,t){return r&&r.length>0?(Ze(t!==void 0,14353),r.map((i=>(function(o,u){let m=o.updateTime?Ci(o.updateTime):Ci(u);return m.isEqual(Ce.min())&&(m=Ci(u)),new xw(m,o.transformResults||[])})(i,t)))):[]}function Fw(r,t){return{documents:[I0(r,t.path)]}}function Gw(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=I0(r,o);const u=(function(y){if(y.length!==0)return M0(ri.create(y,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const m=(function(y){if(y.length!==0)return y.map((T=>(function(A){return{field:Ms(A.field),direction:Yw(A.dir)}})(T)))})(t.orderBy);m&&(i.structuredQuery.orderBy=m);const p=Qf(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function Kw(r){let t=Pw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];i.where&&(u=(function(S){const A=O0(S);return A instanceof ri&&u0(A)?A.getFilters():[A]})(i.where));let m=[];i.orderBy&&(m=(function(S){return S.map((A=>(function(U){return new bo(ks(U.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let A;return A=typeof S=="object"?S.value:S,Yu(A)?null:A})(i.limit));let v=null;i.startAt&&(v=(function(S){const A=!!S.before,V=S.values||[];return new Ou(V,A)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const A=!S.before,V=S.values||[];return new Ou(V,A)})(i.endAt)),uw(t,o,m,u,p,"F",v,y)}function Qw(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function O0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ks(i.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ks(i.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ks(i.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ks(i.unaryFilter.field);return Mt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Mt.create(ks(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((s=>O0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(i.compositeFilter.op))})(r):Ne(30097,{filter:r})}function Yw(r){return Mw[r]}function Xw(r){return kw[r]}function $w(r){return Lw[r]}function Ms(r){return{fieldPath:r.canonicalString()}}function ks(r){return Zt.fromServerFormat(r.fieldPath)}function M0(r){return r instanceof Mt?(function(i){if(i.op==="=="){if(p_(i.value))return{unaryFilter:{field:Ms(i.field),op:"IS_NAN"}};if(g_(i.value))return{unaryFilter:{field:Ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(p_(i.value))return{unaryFilter:{field:Ms(i.field),op:"IS_NOT_NAN"}};if(g_(i.value))return{unaryFilter:{field:Ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(i.field),op:Xw(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const s=i.getFilters().map((o=>M0(o)));return s.length===1?s[0]:{compositeFilter:{op:$w(i.op),filters:s}}})(r):Ne(54877,{filter:r})}function Zw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function k0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Yr{constructor(t,i,s,o,u=Ce.min(),m=Ce.min(),p=Jt.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Jw{constructor(t){this.yt=t}}function Ww(r){const t=Kw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mu(t,t.limit,"L"):t}class e2{constructor(){this.Cn=new t2}addToCollectionParentIndex(t,i){return this.Cn.add(i),re.resolve()}getCollectionParents(t,i){return re.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return re.resolve()}deleteFieldIndex(t,i){return re.resolve()}deleteAllFieldIndexes(t){return re.resolve()}createTargetIndexes(t,i){return re.resolve()}getDocumentsMatchingTarget(t,i){return re.resolve(null)}getIndexType(t,i){return re.resolve(0)}getFieldIndexes(t,i){return re.resolve([])}getNextCollectionGroupToUpdate(t){return re.resolve(null)}getMinOffset(t,i){return re.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,i){return re.resolve(Wr.min())}updateCollectionGroup(t,i,s){return re.resolve()}updateIndexEntries(t,i){return re.resolve()}}class t2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new zt(ot.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new zt(ot.comparator)).toArray()}}const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L0=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(L0,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Fs{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fs(0)}static cr(){return new Fs(-1)}}const D_="LruGarbageCollector",n2=1048576;function I_([r,t],[i,s]){const o=Pe(r,i);return o===0?Pe(t,s):o}class i2{constructor(t){this.Ir=t,this.buffer=new zt(I_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();I_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class r2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pe(D_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Zs(i)?pe(D_,"Ignoring IndexedDB error during garbage collection: ",i):await $s(i)}await this.Vr(3e5)}))}}class a2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return re.resolve(Qu.ce);const s=new i2(i);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(j_)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,o,u,m,p,v,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,m=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(u=S,v=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Vs()<=Ke.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-T}ms
	Determined least recently used ${o} in `+(p-m)+`ms
	Removed ${u} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function s2(r,t){return new a2(r,t)}class l2{constructor(){this.changes=new qa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?re.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class o2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class c2{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(s!==null&&fo(s.mutation,o,Nn.empty(),at.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Be()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Be()){const o=La();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,s).next((u=>{let m=ao();return u.forEach(((p,v)=>{m=m.insert(p,v.overlayedDocument)})),m}))))}getOverlayedDocuments(t,i){const s=La();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Be())))}populateOverlays(t,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((m,p)=>{i.set(m,p)}))}))}computeViews(t,i,s,o){let u=cr();const m=ho(),p=(function(){return ho()})();return i.forEach(((v,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof la)?u=u.insert(y.key,y):T!==void 0?(m.set(y.key,T.mutation.getFieldMask()),fo(T.mutation,y,T.mutation.getFieldMask(),at.now())):m.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,u).next((v=>(v.forEach(((y,T)=>m.set(y,T))),i.forEach(((y,T)=>p.set(y,new o2(T,m.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=ho();let o=new gt(((m,p)=>m-p)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((m=>{for(const p of m)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=s.get(v)||Nn.empty();T=p.applyToLocalView(y,T),s.set(v,T);const S=(o.get(p.batchId)||Be()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const m=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,T=v.value,S=_0();T.forEach((A=>{if(!u.has(A)){const V=A0(i.get(A),s.get(A));V!==null&&S.set(A,V),u=u.add(A)}})),m.push(this.documentOverlayCache.saveOverlays(t,y,S))}return re.waitFor(m)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,o){return(function(m){return xe.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):m0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next((u=>{const m=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-u.size):re.resolve(La());let p=vo,v=u;return m.next((y=>re.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?re.resolve():this.remoteDocumentCache.getEntry(t,T).next((A=>{v=v.insert(T,A)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,v,y,Be()))).next((T=>({batchId:p,changes:v0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new xe(i)).next((s=>{let o=ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const u=i.collectionGroup;let m=ao();return this.indexManager.getCollectionParents(t,u).next((p=>re.forEach(p,(v=>{const y=(function(S,A){return new Js(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((T=>{T.forEach(((S,A)=>{m=m.insert(S,A)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,o)))).next((m=>{u.forEach(((v,y)=>{const T=y.getKey();m.get(T)===null&&(m=m.insert(T,nn.newInvalidDocument(T)))}));let p=ao();return m.forEach(((v,y)=>{const T=u.get(v);T!==void 0&&fo(T.mutation,y,Nn.empty(),at.now()),Ju(i,y)&&(p=p.insert(v,y))})),p}))}}class u2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return re.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(i)),re.resolve()}getNamedQuery(t,i){return re.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Ww(o.bundledQuery),readTime:Ci(o.readTime)}})(i)),re.resolve()}}class h2{constructor(){this.overlays=new gt(xe.comparator),this.qr=new Map}getOverlay(t,i){return re.resolve(this.overlays.get(i))}getOverlays(t,i){const s=La();return re.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((o,u)=>{this.St(t,i,u)})),re.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(t,i,s){const o=La(),u=i.length+1,m=new xe(i.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&v.largestBatchId>s&&o.set(v.getKey(),v)}return re.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let u=new gt(((y,T)=>y-T));const m=this.overlays.getIterator();for(;m.hasNext();){const y=m.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=La(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=La(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return re.resolve(p)}St(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Cw(i,s));let u=this.qr.get(i);u===void 0&&(u=Be(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class d2{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(t){return re.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,re.resolve()}}class Rm{constructor(){this.Qr=new zt(Ht.$r),this.Ur=new zt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ht(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Ht(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new xe(new ot([])),s=new Ht(i,t),o=new Ht(i,t+1),u=[];return this.Ur.forEachInRange([s,o],(m=>{this.Gr(m),u.push(m.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new xe(new ot([])),s=new Ht(i,t),o=new Ht(i,t+1);let u=Be();return this.Ur.forEachInRange([s,o],(m=>{u=u.add(m.key)})),u}containsKey(t){const i=new Ht(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ht{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return xe.comparator(t.key,i.key)||Pe(t.Yr,i.Yr)}static Kr(t,i){return Pe(t.Yr,i.Yr)||xe.comparator(t.key,i.key)}}class f2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ht.$r)}checkEmpty(t){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new Rw(u,i,s,o);this.mutationQueue.push(m);for(const p of o)this.Zr=this.Zr.add(new Ht(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return re.resolve(m)}lookupMutationBatch(t,i){return re.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?vm:this.tr-1)}getAllMutationBatches(t){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(m=>{const p=this.Xr(m.Yr);u.push(p)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new zt(Pe);return i.forEach((o=>{const u=new Ht(o,0),m=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,m],(p=>{s=s.add(p.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let u=s;xe.isDocumentKey(u)||(u=u.child(""));const m=new Ht(new xe(u),0);let p=new zt(Pe);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),m),re.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(i.mutations,(o=>{const u=new Ht(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Ht(i,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,re.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class m2{constructor(t){this.ri=t,this.docs=(function(){return new gt(xe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,m=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return re.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let s=cr();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let u=cr();const m=i.path,p=new xe(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!m.isPrefixOf(y.path))break;y.path.length>m.length+1||qA(BA(T),s)<=0||(o.has(T.key)||Ju(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(t,i,s,o){Ne(9500)}ii(t,i){return re.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new g2(this)}getSize(t){return re.resolve(this.size)}}class g2 extends l2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),re.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class p2{constructor(t){this.persistence=t,this.si=new qa((i=>Tm(i)),bm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Rm,this.targetCount=0,this.ai=Fs.ur()}forEachTarget(t,i){return this.si.forEach(((s,o)=>i(o))),re.resolve()}getLastRemoteSnapshotVersion(t){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return re.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),re.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Fs(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,re.resolve()}updateTargetData(t,i){return this.Pr(i),re.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,re.resolve()}removeTargets(t,i,s){let o=0;const u=[];return this.si.forEach(((m,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(m),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(t){return re.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return re.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),re.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((m=>{u.push(o.markPotentiallyOrphaned(t,m))})),re.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),re.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return re.resolve(s)}containsKey(t,i){return re.resolve(this._i.containsKey(i))}}class z0{constructor(t,i){this.ui={},this.overlays={},this.ci=new Qu(0),this.li=!1,this.li=!0,this.hi=new d2,this.referenceDelegate=t(this),this.Pi=new p2(this),this.indexManager=new e2,this.remoteDocumentCache=(function(o){return new m2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Jw(i),this.Ii=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new h2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new f2(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){pe("MemoryPersistence","Starting transaction:",t);const o=new y2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class y2 extends FA{constructor(t){super(),this.currentSequenceNumber=t}}class Cm{constructor(t){this.persistence=t,this.Ri=new Rm,this.Vi=null}static mi(t){return new Cm(t)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),re.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),re.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const o=xe.fromPath(s);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return re.or([()=>re.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class zu{constructor(t,i){this.persistence=t,this.pi=new qa((s=>QA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=s2(this,i)}static mi(t,i){return new zu(t,i)}Ei(){}di(t){return re.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((o=>s+o))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return re.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?re.resolve():i(o)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(m=>this.br(t,m,i).next((p=>{p||(s++,u.removeEntry(m,Ce.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),re.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),re.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),re.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),re.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Tu(t.data.value)),i}br(t,i,s){return re.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=o}static As(t,i){let s=Be(),o=Be();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jm(t,i.fromCache,s,o)}}class v2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ux()?8:GA(ox())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,o){const u={result:null};return this.ys(t,i).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ws(t,i,o,s).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new v2;return this.Ss(t,i,m).next((p=>{if(u.result=p,this.Vs)return this.bs(t,i,m,p.size)}))})).next((()=>u.result))}bs(t,i,s,o){return s.documentReadCount<this.fs?(Vs()<=Ke.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Vs()<=Ke.DEBUG&&pe("QueryEngine","Query:",Os(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Vs()<=Ke.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):re.resolve())}ys(t,i){if(E_(i))return re.resolve(null);let s=Ri(i);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Mu(i,null,"F"),s=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const m=Be(...u);return this.ps.getDocuments(t,m).next((p=>this.indexManager.getMinOffset(t,s).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,m,v.readTime)?this.ys(t,Mu(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,s,o){return E_(i)||o.isEqual(Ce.min())?re.resolve(null):this.ps.getDocuments(t,s).next((u=>{const m=this.Ds(i,u);return this.Cs(i,m,s,o)?re.resolve(null):(Vs()<=Ke.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Os(i)),this.vs(t,m,i,PA(o,vo)).next((p=>p)))}))}Ds(t,i){let s=new zt(p0(t));return i.forEach(((o,u)=>{Ju(t,u)&&(s=s.add(u))})),s}Cs(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,s){return Vs()<=Ke.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Os(i)),this.ps.getDocumentsMatchingQuery(t,i,Wr.min(),s)}vs(t,i,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(i.forEach((m=>{u=u.insert(m.key,m)})),u)))}}const Dm="LocalStore",E2=3e8;class T2{constructor(t,i,s,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new gt(Pe),this.xs=new qa((u=>Tm(u)),bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function b2(r,t,i,s){return new T2(r,t,i,s)}async function U0(r,t){const i=De(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const m=[],p=[];let v=Be();for(const y of o){m.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ls:y,removedBatchIds:m,addedBatchIds:p})))}))}))}function S2(r,t){const i=De(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,T){const S=y.batch,A=S.keys();let V=re.resolve();return A.forEach((U=>{V=V.next((()=>T.getEntry(v,U))).next((P=>{const H=y.docVersions.get(U);Ze(H!==null,48541),P.version.compareTo(H)<0&&(S.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),T.addEntry(P)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,s,t,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function P0(r){const t=De(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function x2(r,t){const i=De(r),s=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const A=o.get(S);if(!A)return;p.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,S))));let V=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?V=V.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(S,V),(function(P,H,Z){return P.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=E2?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,V,T)&&p.push(i.Pi.updateTargetData(u,V))}));let v=cr(),y=Be();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(A2(u,m,t.documentUpdates).next((T=>{v=T.ks,y=T.qs}))),!s.isEqual(Ce.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return re.waitFor(p).next((()=>m.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,v,y))).next((()=>v))})).then((u=>(i.Ms=o,u)))}function A2(r,t,i){let s=Be(),o=Be();return i.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let m=cr();return i.forEach(((p,v)=>{const y=u.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Ce.min())?(t.removeEntry(p,v.readTime),m=m.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),m=m.insert(p,v)):pe(Dm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:m,qs:o}}))}function w2(r,t){const i=De(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=vm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function N2(r,t){const i=De(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,t).next((u=>u?(o=u,re.resolve(o)):i.Pi.allocateTargetId(s).next((m=>(o=new Yr(t,m,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function Zf(r,t,i){const s=De(r),o=s.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(m=>s.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!Zs(m))throw m;pe(Dm,`Failed to update sequence numbers for target ${t}: ${m}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function V_(r,t,i){const s=De(r);let o=Ce.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(m=>(function(v,y,T){const S=De(v),A=S.xs.get(T);return A!==void 0?re.resolve(S.Ms.get(A)):S.Pi.getTargetData(y,T)})(s,m,Ri(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(m,p.targetId).next((v=>{u=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(m,t,i?o:Ce.min(),i?u:Be()))).next((p=>(R2(s,dw(t),p),{documents:p,Qs:u})))))}function R2(r,t,i){let s=r.Os.get(t)||Ce.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class O_{constructor(){this.activeTargetIds=vw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class C2{constructor(){this.Mo=new O_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new O_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class j2{Oo(t){}shutdown(){}}const M_="ConnectivityMonitor";class k_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(M_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pe(M_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gu=null;function Jf(){return gu===null?gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():gu++,"0x"+gu.toString(16)}const Rf="RestConnection",D2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Iu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,i,s,o,u){const m=Jf(),p=this.zo(t,i.toUriEncodedString());pe(Rf,`Sending RPC '${t}' ${m}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:y}=new URL(p),T=mm(y);return this.Jo(t,p,v,s,T).then((S=>(pe(Rf,`Received RPC '${t}' ${m}: `,S),S)),(S=>{throw Ps(Rf,`RPC '${t}' ${m} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,o,u,m){return this.Go(t,i,s,o,u)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xs})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const s=D2[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class V2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const en="WebChannelConnection";class O2 extends I2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,o,u){const m=Jf();return new Promise(((p,v)=>{const y=new HE;y.setWithCredentials(!0),y.listenOnce(FE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Eu.NO_ERROR:const S=y.getResponseJson();pe(en,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(S)),p(S);break;case Eu.TIMEOUT:pe(en,`RPC '${t}' ${m} timed out`),v(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:const A=y.getStatus();if(pe(en,`RPC '${t}' ${m} failed with status:`,A,"response text:",y.getResponseText()),A>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V?.error;if(U&&U.status&&U.message){const P=(function(Z){const ee=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ee)>=0?ee:ne.UNKNOWN})(U.status);v(new me(P,U.message))}else v(new me(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:t,streamId:m,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(en,`RPC '${t}' ${m} completed.`)}}));const T=JSON.stringify(o);pe(en,`RPC '${t}' ${m} sending request:`,o),y.send(i,"POST",T,s,15)}))}T_(t,i,s){const o=Jf(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=QE(),p=KE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const T=u.join("");pe(en,`Creating RPC '${t}' stream ${o}: ${T}`,v);const S=m.createWebChannel(T,v);this.I_(S);let A=!1,V=!1;const U=new V2({Yo:H=>{V?pe(en,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(A||(pe(en,`Opening RPC '${t}' stream ${o} transport.`),S.open(),A=!0),pe(en,`RPC '${t}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),P=(H,Z,ee)=>{H.listen(Z,(se=>{try{ee(se)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return P(S,ro.EventType.OPEN,(()=>{V||(pe(en,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),P(S,ro.EventType.CLOSE,(()=>{V||(V=!0,pe(en,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(S))})),P(S,ro.EventType.ERROR,(H=>{V||(V=!0,Ps(en,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),U.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),P(S,ro.EventType.MESSAGE,(H=>{if(!V){const Z=H.data[0];Ze(!!Z,16349);const ee=Z,se=ee?.error||ee[0]?.error;if(se){pe(en,`RPC '${t}' stream ${o} received error:`,se);const ge=se.status;let oe=(function(w){const R=Ot[w];if(R!==void 0)return N0(R)})(ge),_e=se.message;oe===void 0&&(oe=ne.INTERNAL,_e="Unknown error status: "+ge+" with message "+se.message),V=!0,U.a_(new me(oe,_e)),S.close()}else pe(en,`RPC '${t}' stream ${o} received:`,Z),U.u_(Z)}})),P(p,GE.STAT_EVENT,(H=>{H.stat===Pf.PROXY?pe(en,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Pf.NOPROXY&&pe(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Cf(){return typeof document<"u"?document:null}function nh(r){return new zw(r,!0)}class B0{constructor(t,i,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L_="PersistentStream";class q0{constructor(t,i,s,o,u,m,p,v){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ne.RESOURCE_EXHAUSTED?(or(i.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{t((()=>{const o=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pe(L_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(pe(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M2 extends q0{constructor(t,i,s,o,u,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,m),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Bw(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Ce.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?Ce.min():m.readTime?Ci(m.readTime):Ce.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=$f(this.serializer),i.addTarget=(function(u,m){let p;const v=m.target;if(p=Gf(v)?{documents:Fw(u,v)}:{query:Gw(u,v).ft},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=j0(u,m.resumeToken);const y=Qf(u,m.expectedCount);y!==null&&(p.expectedCount=y)}else if(m.snapshotVersion.compareTo(Ce.min())>0){p.readTime=Lu(u,m.snapshotVersion.toTimestamp());const y=Qf(u,m.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=Qw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=$f(this.serializer),i.removeTarget=t,this.q_(i)}}class k2 extends q0{constructor(t,i,s,o,u,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,m),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ze(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ze(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ze(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Hw(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=$f(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>qw(this.serializer,s)))};this.q_(i)}}class L2{}class z2 extends L2{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Go(t,Yf(i,s),o,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())}))}Ho(t,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,p])=>this.connection.Ho(t,Yf(i,s),o,m,p,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new me(ne.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class U2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(i),this.aa=!1):pe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ba="RemoteStore";class P2{constructor(t,i,s,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((m=>{s.enqueueAndForget((async()=>{Ha(this)&&(pe(Ba,"Restarting streams for network reachability change."),await(async function(v){const y=De(v);y.Ea.add(4),await Vo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ih(y)})(this))}))})),this.Ra=new U2(s,o)}}async function ih(r){if(Ha(r))for(const t of r.da)await t(!0)}async function Vo(r){for(const t of r.da)await t(!1)}function H0(r,t){const i=De(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Mm(i)?Om(i):Ws(i).O_()&&Vm(i,t))}function Im(r,t){const i=De(r),s=Ws(i);i.Ia.delete(t),s.O_()&&F0(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ha(i)&&i.Ra.set("Unknown"))}function Vm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ce.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ws(r).Y_(t)}function F0(r,t){r.Va.Ue(t),Ws(r).Z_(t)}function Om(r){r.Va=new Ow({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ws(r).start(),r.Ra.ua()}function Mm(r){return Ha(r)&&!Ws(r).x_()&&r.Ia.size>0}function Ha(r){return De(r).Ea.size===0}function G0(r){r.Va=void 0}async function B2(r){r.Ra.set("Online")}async function q2(r){r.Ia.forEach(((t,i)=>{Vm(r,t)}))}async function H2(r,t){G0(r),Mm(r)?(r.Ra.ha(t),Om(r)):r.Ra.set("Unknown")}async function F2(r,t,i){if(r.Ra.set("Online"),t instanceof C0&&t.state===2&&t.cause)try{await(async function(o,u){const m=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,m),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(s){pe(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Uu(r,s)}else if(t instanceof xu?r.Va.Ze(t):t instanceof R0?r.Va.st(t):r.Va.tt(t),!i.isEqual(Ce.min()))try{const s=await P0(r.localStore);i.compareTo(s)>=0&&await(function(u,m){const p=u.Va.Tt(m);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(v.resumeToken,m))}})),p.targetMismatches.forEach(((v,y)=>{const T=u.Ia.get(v);if(!T)return;u.Ia.set(v,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),F0(u,v);const S=new Yr(T.target,v,y,T.sequenceNumber);Vm(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){pe(Ba,"Failed to raise snapshot:",s),await Uu(r,s)}}async function Uu(r,t,i){if(!Zs(t))throw t;r.Ea.add(1),await Vo(r),r.Ra.set("Offline"),i||(i=()=>P0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe(Ba,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ih(r)}))}function K0(r,t){return t().catch((i=>Uu(r,i,t)))}async function rh(r){const t=De(r),i=ia(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:vm;for(;G2(t);)try{const o=await w2(t.localStore,s);if(o===null){t.Ta.length===0&&i.L_();break}s=o.batchId,K2(t,o)}catch(o){await Uu(t,o)}Q0(t)&&Y0(t)}function G2(r){return Ha(r)&&r.Ta.length<10}function K2(r,t){r.Ta.push(t);const i=ia(r);i.O_()&&i.X_&&i.ea(t.mutations)}function Q0(r){return Ha(r)&&!ia(r).x_()&&r.Ta.length>0}function Y0(r){ia(r).start()}async function Q2(r){ia(r).ra()}async function Y2(r){const t=ia(r);for(const i of r.Ta)t.ea(i.mutations)}async function X2(r,t,i){const s=r.Ta.shift(),o=Am.from(s,t,i);await K0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await rh(r)}async function $2(r,t){t&&ia(r).X_&&await(async function(s,o){if((function(m){return Dw(m)&&m!==ne.ABORTED})(o.code)){const u=s.Ta.shift();ia(s).B_(),await K0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await rh(s)}})(r,t),Q0(r)&&Y0(r)}async function z_(r,t){const i=De(r);i.asyncQueue.verifyOperationInProgress(),pe(Ba,"RemoteStore received new credentials");const s=Ha(i);i.Ea.add(3),await Vo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ih(i)}async function Z2(r,t){const i=De(r);t?(i.Ea.delete(2),await ih(i)):t||(i.Ea.add(2),await Vo(i),i.Ra.set("Unknown"))}function Ws(r){return r.ma||(r.ma=(function(i,s,o){const u=De(i);return u.sa(),new M2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:B2.bind(null,r),t_:q2.bind(null,r),r_:H2.bind(null,r),H_:F2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Mm(r)?Om(r):r.Ra.set("Unknown")):(await r.ma.stop(),G0(r))}))),r.ma}function ia(r){return r.fa||(r.fa=(function(i,s,o){const u=De(i);return u.sa(),new k2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q2.bind(null,r),r_:$2.bind(null,r),ta:Y2.bind(null,r),na:X2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await rh(r)):(await r.fa.stop(),r.Ta.length>0&&(pe(Ba,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class km{constructor(t,i,s,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,u){const m=Date.now()+s,p=new km(t,i,m,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(r,t){if(or("AsyncQueue",`${t}: ${r}`),Zs(r))return new me(ne.UNAVAILABLE,`${t}: ${r}`);throw r}class Us{static emptySet(t){return new Us(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||xe.comparator(i.key,s.key):(i,s)=>xe.comparator(i.key,s.key),this.keyedMap=ao(),this.sortedSet=new gt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Us)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Us;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class U_{constructor(){this.ga=new gt(xe.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Ne(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Gs{constructor(t,i,s,o,u,m,p,v,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,o,u){const m=[];return i.forEach((p=>{m.push({type:0,doc:p})})),new Gs(t,i,Us.emptySet(i),m,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class J2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class W2{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=De(i),u=o.queries;o.queries=P_(),u.forEach(((m,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function P_(){return new qa((r=>g0(r)),Zu)}async function zm(r,t){const i=De(r);let s=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new J2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const p=Lm(m,`Initialization of query '${Os(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Pm(i)}async function Um(r,t){const i=De(r),s=t.query;let o=3;const u=i.queries.get(s);if(u){const m=u.Sa.indexOf(t);m>=0&&(u.Sa.splice(m,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function eN(r,t){const i=De(r);let s=!1;for(const o of t){const u=o.query,m=i.queries.get(u);if(m){for(const p of m.Sa)p.Fa(o)&&(s=!0);m.wa=o}}s&&Pm(i)}function tN(r,t,i){const s=De(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(t)}function Pm(r){r.Ca.forEach((t=>{t.next()}))}var Wf,B_;(B_=Wf||(Wf={})).Ma="default",B_.Cache="cache";class Bm{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Gs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Gs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Wf.Cache}}class X0{constructor(t){this.key=t}}class $0{constructor(t){this.key=t}}class nN{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=p0(t),this.tu=new Us(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new U_,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,m=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const A=o.get(T),V=Ju(this.query,S)?S:null,U=!!A&&this.mutatedKeys.has(A.key),P=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;A&&V?A.data.isEqual(V.data)?U!==P&&(s.track({type:3,doc:V}),H=!0):this.su(A,V)||(s.track({type:2,doc:V}),H=!0,(v&&this.eu(V,v)>0||y&&this.eu(V,y)<0)&&(p=!0)):!A&&V?(s.track({type:0,doc:V}),H=!0):A&&!V&&(s.track({type:1,doc:A}),H=!0,(v||y)&&(p=!0)),H&&(V?(m=m.add(V),u=P?u.add(T):u.delete(T)):(m=m.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const T=this.query.limitType==="F"?m.last():m.first();m=m.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:m,iu:s,Cs:p,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((T,S)=>(function(V,U){const P=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:H})}};return P(V)-P(U)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,m.length!==0||y?{snapshot:new Gs(this.query,t.tu,u,m,t.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new $0(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new X0(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Be();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Gs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class iN{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class rN{constructor(t){this.key=t,this.hu=!1}}class aN{constructor(t,i,s,o,u,m){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new qa((p=>g0(p)),Zu),this.Iu=new Map,this.Eu=new Set,this.du=new gt(xe.comparator),this.Au=new Map,this.Ru=new Rm,this.Vu={},this.mu=new Map,this.fu=Fs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sN(r,t,i=!0){const s=nT(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Z0(s,t,i,!0),o}async function lN(r,t){const i=nT(r);await Z0(i,t,!0,!1)}async function Z0(r,t,i,s){const o=await N2(r.localStore,Ri(t)),u=o.targetId,m=r.sharedClientState.addLocalQueryTarget(u,i);let p;return s&&(p=await oN(r,t,u,m==="current",o.resumeToken)),r.isPrimaryClient&&i&&H0(r.remoteStore,o),p}async function oN(r,t,i,s,o){r.pu=(S,A,V)=>(async function(P,H,Z,ee){let se=H.view.ru(Z);se.Cs&&(se=await V_(P.localStore,H.query,!1).then((({documents:N})=>H.view.ru(N,se))));const ge=ee&&ee.targetChanges.get(H.targetId),oe=ee&&ee.targetMismatches.get(H.targetId)!=null,_e=H.view.applyChanges(se,P.isPrimaryClient,ge,oe);return H_(P,H.targetId,_e.au),_e.snapshot})(r,S,A,V);const u=await V_(r.localStore,t,!0),m=new nN(t,u.Qs),p=m.ru(u.documents),v=Io.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=m.applyChanges(p,r.isPrimaryClient,v);H_(r,i,y.au);const T=new iN(t,i,m);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function cN(r,t,i){const s=De(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((m=>!Zu(m,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Im(s.remoteStore,o.targetId),em(s,o.targetId)})).catch($s)):(em(s,o.targetId),await Zf(s.localStore,o.targetId,!0))}async function uN(r,t){const i=De(r),s=i.Tu.get(t),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Im(i.remoteStore,s.targetId))}async function hN(r,t,i){const s=vN(r);try{const o=await(function(m,p){const v=De(m),y=at.now(),T=p.reduce(((V,U)=>V.add(U.key)),Be());let S,A;return v.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let U=cr(),P=Be();return v.Ns.getEntries(V,T).next((H=>{U=H,U.forEach(((Z,ee)=>{ee.isValidDocument()||(P=P.add(Z))}))})).next((()=>v.localDocuments.getOverlayedDocuments(V,U))).next((H=>{S=H;const Z=[];for(const ee of p){const se=ww(ee,S.get(ee.key).overlayedDocument);se!=null&&Z.push(new la(ee.key,se,l0(se.value.mapValue),Fn.exists(!0)))}return v.mutationQueue.addMutationBatch(V,y,Z,p)})).next((H=>{A=H;const Z=H.applyToLocalDocumentSet(S,P);return v.documentOverlayCache.saveOverlays(V,H.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:v0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(m,p,v){let y=m.Vu[m.currentUser.toKey()];y||(y=new gt(Pe)),y=y.insert(p,v),m.Vu[m.currentUser.toKey()]=y})(s,o.batchId,i),await Oo(s,o.changes),await rh(s.remoteStore)}catch(o){const u=Lm(o,"Failed to persist write");i.reject(u)}}async function J0(r,t){const i=De(r);try{const s=await x2(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const m=i.Au.get(u);m&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?Ze(m.hu,14607):o.removedDocuments.size>0&&(Ze(m.hu,42227),m.hu=!1))})),await Oo(i,s,t)}catch(s){await $s(s)}}function q_(r,t,i){const s=De(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,m)=>{const p=m.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(m,p){const v=De(m);v.onlineState=p;let y=!1;v.queries.forEach(((T,S)=>{for(const A of S.Sa)A.va(p)&&(y=!0)})),y&&Pm(v)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function dN(r,t,i){const s=De(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Au.get(t),u=o&&o.key;if(u){let m=new gt(xe.comparator);m=m.insert(u,nn.newNoDocument(u,Ce.min()));const p=Be().add(u),v=new th(Ce.min(),new Map,new gt(Pe),m,p);await J0(s,v),s.du=s.du.remove(u),s.Au.delete(t),Hm(s)}else await Zf(s.localStore,t,!1).then((()=>em(s,t,i))).catch($s)}async function fN(r,t){const i=De(r),s=t.batch.batchId;try{const o=await S2(i.localStore,t);eT(i,s,null),W0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Oo(i,o)}catch(o){await $s(o)}}async function mN(r,t,i){const s=De(r);try{const o=await(function(m,p){const v=De(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ze(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);eT(s,t,i),W0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Oo(s,o)}catch(o){await $s(o)}}function W0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function eT(r,t,i){const s=De(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||tT(r,s)}))}function tT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Im(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Hm(r))}function H_(r,t,i){for(const s of i)s instanceof X0?(r.Ru.addReference(s.key,t),gN(r,s)):s instanceof $0?(pe(qm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||tT(r,s.key)):Ne(19791,{wu:s})}function gN(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(pe(qm,"New document in limbo: "+i),r.Eu.add(s),Hm(r))}function Hm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new xe(ot.fromString(t)),s=r.fu.next();r.Au.set(s,new rN(i)),r.du=r.du.insert(i,s),H0(r.remoteStore,new Yr(Ri($u(i.path)),s,"TargetPurposeLimboResolution",Qu.ce))}}async function Oo(r,t,i){const s=De(r),o=[],u=[],m=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{m.push(s.pu(v,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){o.push(y);const T=jm.As(v.targetId,y);u.push(T)}})))})),await Promise.all(m),s.Pu.H_(o),await(async function(v,y){const T=De(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>re.forEach(y,(A=>re.forEach(A.Es,(V=>T.persistence.referenceDelegate.addReference(S,A.targetId,V))).next((()=>re.forEach(A.ds,(V=>T.persistence.referenceDelegate.removeReference(S,A.targetId,V)))))))))}catch(S){if(!Zs(S))throw S;pe(Dm,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const V=T.Ms.get(A),U=V.snapshotVersion,P=V.withLastLimboFreeSnapshotVersion(U);T.Ms=T.Ms.insert(A,P)}}})(s.localStore,u))}async function pN(r,t){const i=De(r);if(!i.currentUser.isEqual(t)){pe(qm,"User change. New user:",t.toKey());const s=await U0(i.localStore,t);i.currentUser=t,(function(u,m){u.mu.forEach((p=>{p.forEach((v=>{v.reject(new me(ne.CANCELLED,m))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Oo(i,s.Ls)}}function yN(r,t){const i=De(r),s=i.Au.get(t);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=i.Iu.get(t);if(!u)return o;for(const m of u){const p=i.Tu.get(m);o=o.unionWith(p.view.nu)}return o}}function nT(r){const t=De(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=J0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dN.bind(null,t),t.Pu.H_=eN.bind(null,t.eventManager),t.Pu.yu=tN.bind(null,t.eventManager),t}function vN(r){const t=De(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,t),t}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return b2(this.persistence,new _2,t.initialUser,this.serializer)}Cu(t){return new z0(Cm.mi,this.serializer)}Du(t){return new C2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class _N extends Pu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ze(this.persistence.referenceDelegate instanceof zu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new r2(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new z0((s=>zu.mi(s,i)),this.serializer)}}class tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await Z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new W2})()}createDatastore(t){const i=nh(t.databaseInfo.databaseId),s=(function(u){return new O2(u)})(t.databaseInfo);return(function(u,m,p,v){return new z2(u,m,p,v)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,o,u,m,p){return new P2(s,o,u,m,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>q_(this.syncEngine,i,0)),(function(){return k_.v()?new k_:new j2})())}createSyncEngine(t,i){return(function(o,u,m,p,v,y,T){const S=new aN(o,u,m,p,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=De(i);pe(Ba,"RemoteStore shutting down."),s.Ea.add(5),await Vo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class Fm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):or("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ra="FirestoreClient";class EN{constructor(t,i,s,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async m=>{pe(ra,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(s,(m=>(pe(ra,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Lm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function jf(r,t){r.asyncQueue.verifyOperationInProgress(),pe(ra,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await U0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function F_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await TN(r);pe(ra,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>z_(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>z_(t.remoteStore,o))),r._onlineComponents=t}async function TN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(ra,"Using user provided OfflineComponentProvider");try{await jf(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ps("Error using user provided cache. Falling back to memory cache: "+i),await jf(r,new Pu)}}else pe(ra,"Using default OfflineComponentProvider"),await jf(r,new _N(void 0));return r._offlineComponents}async function iT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(ra,"Using user provided OnlineComponentProvider"),await F_(r,r._uninitializedComponentsProvider._online)):(pe(ra,"Using default OnlineComponentProvider"),await F_(r,new tm))),r._onlineComponents}function bN(r){return iT(r).then((t=>t.syncEngine))}async function Bu(r){const t=await iT(r),i=t.eventManager;return i.onListen=sN.bind(null,t.syncEngine),i.onUnlisten=cN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=uN.bind(null,t.syncEngine),i}function SN(r,t,i={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,m,p,v,y){const T=new Fm({next:A=>{T.Nu(),m.enqueueAndForget((()=>Um(u,S)));const V=A.docs.has(p);!V&&A.fromCache?y.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&v&&v.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new Bm($u(p.path),T,{includeMetadataChanges:!0,qa:!0});return zm(u,S)})(await Bu(r),r.asyncQueue,t,i,s))),s.promise}function xN(r,t,i={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,m,p,v,y){const T=new Fm({next:A=>{T.Nu(),m.enqueueAndForget((()=>Um(u,S))),A.fromCache&&v.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new Bm(p,T,{includeMetadataChanges:!0,qa:!0});return zm(u,S)})(await Bu(r),r.asyncQueue,t,i,s))),s.promise}function rT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const G_=new Map;const aT="firestore.googleapis.com",K_=!0;class Q_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aT,this.ssl=K_}else this.host=t.host,this.ssl=t.ssl??K_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=L0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n2)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ah{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RA;switch(s.type){case"firstParty":return new IA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=G_.get(i);s&&(pe("ComponentProvider","Removing Datastore"),G_.delete(i),s.terminate())})(this),Promise.resolve()}}function AN(r,t,i,s={}){r=yn(r,ah);const o=mm(t),u=r._getSettings(),m={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(ix(`https://${p}`),lx("Firestore",!0)),u.host!==aT&&u.host!==p&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:p,ssl:o,emulatorOptions:s};if(!Ru(v,m)&&(r._setSettings(v),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=tn.MOCK_USER;else{y=rx(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(S)}r._authCredentials=new CA(new XE(y,T))}}class dr{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new dr(this.firestore,t,this._query)}}class vt{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vt(this.firestore,t,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(jo(i,vt._jsonSchema))return new vt(t,s||null,new xe(ot.fromString(i.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:kt("string",vt._jsonSchemaVersion),referencePath:kt("string")};class Jr extends dr{constructor(t,i,s){super(t,i,$u(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vt(this.firestore,null,new xe(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function Fa(r,t,...i){if(r=Vi(r),$E("collection","path",t),r instanceof ah){const s=ot.fromString(t,...i);return s_(s),new Jr(r,null,s)}{if(!(r instanceof vt||r instanceof Jr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(t,...i));return s_(s),new Jr(r.firestore,null,s)}}function ki(r,t,...i){if(r=Vi(r),arguments.length===1&&(t=ym.newId()),$E("doc","path",t),r instanceof ah){const s=ot.fromString(t,...i);return a_(s),new vt(r,null,new xe(s))}{if(!(r instanceof vt||r instanceof Jr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(t,...i));return a_(s),new vt(r.firestore,r instanceof Jr?r.converter:null,new xe(s))}}const Y_="AsyncQueue";class X_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B0(this,"async_queue_retry"),this._c=()=>{const s=Cf();s&&pe(Y_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Cf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Cf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Zs(t))throw t;pe(Y_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",$_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=km.createAndSchedule(this,t,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:$_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function $_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Z_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ur extends ah{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new X_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X_(t),this._firestoreClient=void 0,await t}}}function wN(r,t){const i=typeof r=="object"?r:yA(),s=typeof r=="string"?r:Iu,o=dA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=tx("firestore");u&&AN(o,...u)}return o}function sh(r){if(r._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NN(r),r._firestoreClient}function NN(r){const t=r._freezeSettings(),i=(function(o,u,m,p){return new $A(o,u,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,rT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new EN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(Jt.fromBase64String(t))}catch(i){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(Jt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jo(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:kt("string",Hn._jsonSchemaVersion),bytes:kt("string")};class lh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class oh{constructor(t){this._methodName=t}}class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pe(this._lat,t._lat)||Pe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(jo(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:kt("string",ji._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jo(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:kt("string",Di._jsonSchemaVersion),vectorValues:kt("object")};const RN=/^__.*__$/;class CN{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new la(t,this.data,this.fieldMask,i,this.fieldTransforms):new Do(t,this.data,i,this.fieldTransforms)}}class sT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new la(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function lT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:r})}}class Gm{constructor(t,i,s,o,u,m){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Gm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qu(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lT(this.Ac)&&RN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jN{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||nh(t)}Cc(t,i,s,o=!1){return new Gm({Ac:t,methodName:i,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ch(r){const t=r._freezeSettings(),i=nh(r._databaseId);return new jN(r._databaseId,!!t.ignoreUndefinedProperties,i)}function oT(r,t,i,s,o,u={}){const m=r.Cc(u.merge||u.mergeFields?2:0,t,i,o);Qm("Data must be an object, but it was:",m,s);const p=cT(s,m);let v,y;if(u.merge)v=new Nn(m.fieldMask),y=m.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const A=nm(t,S,i);if(!m.contains(A))throw new me(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);hT(T,A)||T.push(A)}v=new Nn(T),y=m.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=m.fieldTransforms;return new CN(new pn(p),v,y)}class uh extends oh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uh}}class Km extends oh{_toFieldTransform(t){return new bw(t.path,new So)}isEqual(t){return t instanceof Km}}function DN(r,t,i,s){const o=r.Cc(1,t,i);Qm("Data must be an object, but it was:",o,s);const u=[],m=pn.empty();sa(s,((v,y)=>{const T=Ym(t,v,i);y=Vi(y);const S=o.yc(T);if(y instanceof uh)u.push(T);else{const A=Mo(y,S);A!=null&&(u.push(T),m.set(T,A))}}));const p=new Nn(u);return new sT(m,p,o.fieldTransforms)}function IN(r,t,i,s,o,u){const m=r.Cc(1,t,i),p=[nm(t,s,i)],v=[o];if(u.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)p.push(nm(t,u[A])),v.push(u[A+1]);const y=[],T=pn.empty();for(let A=p.length-1;A>=0;--A)if(!hT(y,p[A])){const V=p[A];let U=v[A];U=Vi(U);const P=m.yc(V);if(U instanceof uh)y.push(V);else{const H=Mo(U,P);H!=null&&(y.push(V),T.set(V,H))}}const S=new Nn(y);return new sT(T,S,m.fieldTransforms)}function VN(r,t,i,s=!1){return Mo(i,r.Cc(s?4:3,t))}function Mo(r,t){if(uT(r=Vi(r)))return Qm("Unsupported field value:",t,r),cT(r,t);if(r instanceof oh)return(function(s,o){if(!lT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let m=0;for(const p of s){let v=Mo(p,o.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),m++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Vi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _w(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Lu(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lu(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:j0(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,m=s.firestore._databaseId;if(!m.isEqual(u))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Nm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Di)return(function(m,p){return{mapValue:{fields:{[a0]:{stringValue:s0},[Vu]:{arrayValue:{values:m.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Sm(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ku(s)}`)})(r,t)}function cT(r,t){const i={};return WE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sa(r,((s,o)=>{const u=Mo(o,t.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function uT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof ji||r instanceof Hn||r instanceof vt||r instanceof oh||r instanceof Di)}function Qm(r,t,i){if(!uT(i)||!ZE(i)){const s=Ku(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function nm(r,t,i){if((t=Vi(t))instanceof lh)return t._internalPath;if(typeof t=="string")return Ym(r,t);throw qu("Field path arguments must be of type string or ",r,!1,void 0,i)}const ON=new RegExp("[~\\*/\\[\\]]");function Ym(r,t,i){if(t.search(ON)>=0)throw qu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new lh(...t.split("."))._internalPath}catch{throw qu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function qu(r,t,i,s,o){const u=s&&!s.isEmpty(),m=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||m)&&(v+=" (found",u&&(v+=` in field ${s}`),m&&(v+=` in document ${o}`),v+=")"),new me(ne.INVALID_ARGUMENT,p+r+v)}function hT(r,t){return r.some((i=>i.isEqual(t)))}class dT{constructor(t,i,s,o,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(hh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MN extends dT{data(){return super.data()}}function hh(r,t){return typeof t=="string"?Ym(r,t):t instanceof lh?t._internalPath:t._delegate._internalPath}function fT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class $m extends Xm{}function Ii(r,t,...i){let s=[];t instanceof Xm&&s.push(t),s=s.concat(i),(function(u){const m=u.filter((v=>v instanceof Zm)).length,p=u.filter((v=>v instanceof dh)).length;if(m>1||m>0&&p>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class dh extends $m{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new dh(t,i,s)}_apply(t){const i=this._parse(t);return gT(t._query,i),new dr(t.firestore,t.converter,Kf(t._query,i))}_parse(t){const i=ch(t.firestore);return(function(u,m,p,v,y,T,S){let A;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){W_(S,T);const U=[];for(const P of S)U.push(J_(v,u,P));A={arrayValue:{values:U}}}else A=J_(v,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||W_(S,T),A=VN(p,m,S,T==="in"||T==="not-in");return Mt.create(y,T,A)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function mT(r,t,i){const s=t,o=hh("where",r);return dh._create(o,s,i)}class Zm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zm(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let m=o;const p=u.getFlattenedFilters();for(const v of p)gT(m,v),m=Kf(m,v)})(t._query,i),new dr(t.firestore,t.converter,Kf(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jm extends $m{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Jm(t,i)}_apply(t){const i=(function(o,u,m){if(o.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bo(u,m)})(t._query,this._field,this._direction);return new dr(t.firestore,t.converter,(function(o,u){const m=o.explicitOrderBy.concat([u]);return new Js(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function fh(r,t="asc"){const i=t,s=hh("orderBy",r);return Jm._create(s,i)}class Wm extends $m{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new Wm(t,i,s)}_apply(t){return new dr(t.firestore,t.converter,Mu(t._query,this._limit,this._limitType))}}function kN(r){return UA("limit",r),Wm._create("limit",r,"F")}function J_(r,t,i){if(typeof(i=Vi(i))=="string"){if(i==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m0(t)&&i.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ot.fromString(i));if(!xe.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return m_(r,new xe(s))}if(i instanceof vt)return m_(r,i._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ku(i)}.`)}function W_(r,t){if(!Array.isArray(r)||r.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gT(r,t){const i=(function(o,u){for(const m of o)for(const p of m.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class LN{convertValue(t,i="none"){switch(na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ta(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ne(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return sa(t,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(t){const i=t.fields?.[Vu].arrayValue?.values?.map((s=>xt(s.doubleValue)));return new Di(i)}convertGeoPoint(t){return new ji(xt(t.latitude),xt(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Xu(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(_o(t));default:return null}}convertTimestamp(t){const i=ea(t);return new at(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ot.fromString(t);Ze(k0(s),9688,{name:t});const o=new Eo(s.get(1),s.get(3)),u=new xe(s.popFirst(5));return o.isEqual(i)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function pT(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class lo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends dT{constructor(t,i,s,o,u,m){super(t,i,s,o,m),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(hh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=za._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:kt("string",za._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Au extends za{data(t={}){return super.data(t)}}class Ua{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Au(this._firestore,this._userDataWriter,s.key,s,new lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((p=>{const v=new Au(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const v=new Au(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),T=m.indexOf(p.doc.key)),{type:zN(p.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ua._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:r})}}function yT(r){r=yn(r,vt);const t=yn(r.firestore,ur);return SN(sh(t),r._key).then((i=>TT(t,r,i)))}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:kt("string",Ua._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class eg extends LN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new vt(this.firestore,null,i)}}function mh(r){r=yn(r,dr);const t=yn(r.firestore,ur),i=sh(t),s=new eg(t);return fT(r._query),xN(i,r._query).then((o=>new Ua(t,s,r,o)))}function vT(r,t,i){r=yn(r,vt);const s=yn(r.firestore,ur),o=pT(r.converter,t,i);return gh(s,[oT(ch(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Fn.none())])}function tg(r,t,i,...s){r=yn(r,vt);const o=yn(r.firestore,ur),u=ch(o);let m;return m=typeof(t=Vi(t))=="string"||t instanceof lh?IN(u,"updateDoc",r._key,t,i,s):DN(u,"updateDoc",r._key,t),gh(o,[m.toMutation(r._key,Fn.exists(!0))])}function _T(r){return gh(yn(r.firestore,ur),[new xm(r._key,Fn.none())])}function ET(r,t){const i=yn(r.firestore,ur),s=ki(r),o=pT(r.converter,t);return gh(i,[oT(ch(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then((()=>s))}function UN(r,...t){r=Vi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Z_(t[s])||(i=t[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Z_(t[s])){const v=t[s];t[s]=v.next?.bind(v),t[s+1]=v.error?.bind(v),t[s+2]=v.complete?.bind(v)}let u,m,p;if(r instanceof vt)m=yn(r.firestore,ur),p=$u(r._key.path),u={next:v=>{t[s]&&t[s](TT(m,r,v))},error:t[s+1],complete:t[s+2]};else{const v=yn(r,dr);m=yn(v.firestore,ur),p=v._query;const y=new eg(m);u={next:T=>{t[s]&&t[s](new Ua(m,y,v,T))},error:t[s+1],complete:t[s+2]},fT(r._query)}return(function(y,T,S,A){const V=new Fm(A),U=new Bm(T,V,S);return y.asyncQueue.enqueueAndForget((async()=>zm(await Bu(y),U))),()=>{V.Nu(),y.asyncQueue.enqueueAndForget((async()=>Um(await Bu(y),U)))}})(sh(m),p,o,u)}function gh(r,t){return(function(s,o){const u=new ar;return s.asyncQueue.enqueueAndForget((async()=>hN(await bN(s),o,u))),u.promise})(sh(r),t)}function TT(r,t,i){const s=i.docs.get(t._key),o=new eg(r);return new za(r,o,t._key,s,new lo(i.hasPendingWrites,i.fromCache),t.converter)}function bT(){return new Km("serverTimestamp")}(function(t,i=!0){(function(o){Xs=o})(pA),ju(new po("firestore",((s,{instanceIdentifier:o,options:u})=>{const m=s.getProvider("app").getImmediate(),p=new ur(new jA(s.getProvider("auth-internal")),new VA(m,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(y.options.projectId,T)})(m,o),m);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),zs(t_,n_,t),zs(t_,n_,"esm2020")})();var PN="firebase",BN="12.7.0";zs(PN,BN,"app");const qN={apiKey:"AIzaSyBLudSWDzq8_frN8BRVTHXJKMih7QnHFN8",authDomain:"xantos-pizza-grill.firebaseapp.com",projectId:"xantos-pizza-grill",storageBucket:"xantos-pizza-grill.firebasestorage.app",messagingSenderId:"500986013090",appId:"1:500986013090:web:1664fe5fc1f014b62d3efb"},HN=UE(qN),rn=wN(HN);async function im(){try{const r=Ii(Fa(rn,"products"),fh("category"));return(await mh(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(r){throw console.error("Error fetching products:",r),r}}async function FN(r){try{const t=await ET(Fa(rn,"products"),r);return await ng(),t.id}catch(t){throw console.error("Error creating product:",t),t}}async function GN(r,t){try{const i=ki(rn,"products",r);await tg(i,t),await ng()}catch(i){throw console.error("Error updating product:",i),i}}async function KN(r){try{const t=ki(rn,"products",r);await _T(t),await ng()}catch(t){throw console.error("Error deleting product:",t),t}}async function mo(){try{const r=ki(rn,"metadata","products"),t=await yT(r);if(t.exists()){const s=t.data().lastUpdated;if(s)return s.toDate?s.toDate():new Date(s)}return null}catch(r){return console.error("Error fetching products metadata:",r),null}}async function ng(){try{const r=ki(rn,"metadata","products");await vT(r,{lastUpdated:bT()},{merge:!0})}catch(r){console.error("Error updating products metadata:",r)}}const ST="xanthos_products",xT="xanthos_products_lastUpdated";function eE(){try{const r=localStorage.getItem(ST);if(r)return JSON.parse(r)}catch(r){console.error("Error reading products from localStorage:",r)}return null}function tE(r){try{localStorage.setItem(ST,JSON.stringify(r))}catch(t){console.error("Error saving products to localStorage:",t)}}function QN(){try{const r=localStorage.getItem(xT);if(r)return new Date(r)}catch(r){console.error("Error reading lastUpdated from localStorage:",r)}return null}function nE(r){try{localStorage.setItem(xT,r.toISOString())}catch(t){console.error("Error saving lastUpdated to localStorage:",t)}}const AT=[{id:"p-margherita",category:"Pizza",name:"Margherita",desc:"Tomato, mozzarella, basil",price:79,image:"margherita.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Basil",extraPrice:5},{name:"Garlic",extraPrice:5}]},{id:"p-pepperoni",category:"Pizza",name:"Pepperoni",desc:"Spicy pepperoni, mozzarella",price:89,image:"pepperoni.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Chili flakes"},{name:"Garlic",extraPrice:5}]},{id:"p-hawaiian",category:"Pizza",name:"Hawaiian",desc:"Tomato sauce, mozzarella, ham, pineapple",price:95,image:"hawaiian.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Pineapple",extraPrice:8},{name:"Ham",extraPrice:12}]},{id:"p-veggie",category:"Pizza",name:"Veggie Deluxe",desc:"Mozzarella, peppers, mushrooms, onions, olives",price:92,image:"veggie.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Mushrooms",extraPrice:6},{name:"Olives",extraPrice:5}]},{id:"p-meatlover",category:"Pizza",name:"Meat Lover",desc:"Pepperoni, minced beef, ham, bacon",price:109,image:"meatlover.jpg",ingredients:[{name:"Extra bacon",extraPrice:12},{name:"Extra cheese",extraPrice:10},{name:"Chili oil",extraPrice:5}]},{id:"g-chicken",category:"Grill",name:"Grilled Chicken",desc:"Herb marinated chicken breast",price:99,image:"chicken.jpg",ingredients:[{name:"Extra sauce",extraPrice:8},{name:"Side salad",extraPrice:12}]},{id:"g-ribs",category:"Grill",name:"BBQ Ribs",desc:"Slow-cooked pork ribs",price:129,image:"ribs.jpg",ingredients:[{name:"Extra BBQ sauce",extraPrice:8},{name:"Corn on the cob",extraPrice:10}]},{id:"g-steak",category:"Grill",name:"Beef Steak",desc:"200g grilled steak with seasoning",price:149,image:"steak.jpg",ingredients:[{name:"Pepper sauce",extraPrice:10},{name:"Garlic butter",extraPrice:6}]},{id:"g-burger",category:"Grill",name:"Classic Burger",desc:"Beef patty, cheddar, lettuce, tomato",price:89,image:"burger.jpg",ingredients:[{name:"Extra cheese",extraPrice:8},{name:"Bacon",extraPrice:10},{name:"Jalapeos",extraPrice:5}]},{id:"s-fries",category:"Sides",name:"Pommes Frites",desc:"Crispy golden fries",price:29,image:"fries.jpg",ingredients:[{name:"Dip  Garlic",extraPrice:5},{name:"Dip  Chili Mayo",extraPrice:5}]},{id:"s-salad",category:"Sides",name:"Side Salad",desc:"Fresh greens, cucumber, tomato",price:24,image:"salad.jpg",ingredients:[{name:"Feta",extraPrice:8},{name:"Olives",extraPrice:6}]},{id:"d-cola",category:"Drinks",name:"Coca-Cola",desc:"330ml",price:19,image:"cocacola.jpg",ingredients:[]},{id:"d-water",category:"Drinks",name:"Mineral Water",desc:"500ml",price:14,image:"water.jpg",ingredients:[]},{id:"d-fanta",category:"Drinks",name:"Fanta",desc:"330ml",price:19,image:"fanta.jpg",ingredients:[]},{id:"d-sprite",category:"Drinks",name:"Sprite",desc:"330ml",price:19,image:"sprite.jpg",ingredients:[]}];function YN({item:r}){const{addItem:t}=Co();return d.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:r.name}),d.jsx("p",{className:"text-sm text-gray-600",children:r.desc})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-bold",children:[r.price,",-"]}),d.jsx("button",{onClick:i=>{i.stopPropagation(),t(r)},className:"mt-2 bg-red-600 text-white px-3 py-1 rounded",children:"Add"})]})]})})}function XN({item:r,onClose:t,onConfirm:i}){const[s,o]=k.useState([]),[u,m]=k.useState(!1),[p,v]=k.useState(1),y=()=>v(U=>U+1),T=()=>v(U=>U>1?U-1:1),S=U=>{o(P=>P.includes(U)?P.filter(H=>H!==U):[...P,U])},A=()=>{m(!0),setTimeout(()=>{m(!1),i(s,p)},800)},V=s.reduce((U,P)=>U+(P.extraPrice||0),0);return k.useEffect(()=>{const U=P=>{P.key==="Escape"&&t()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[]),d.jsx("div",{className:"modal-overlay",onClick:t,children:d.jsxs("div",{className:"modal-box",onClick:U=>U.stopPropagation(),children:[d.jsxs("div",{className:"modal-content",children:[d.jsx("img",{className:"modalImage",src:`./assets/${r.image}`,alt:r.image}),d.jsxs("h3",{children:["Tilpas din ",r.name]}),d.jsx("p",{className:"modal-desc",children:"Vlg tilvalg:"}),d.jsx("div",{className:"modal-ingredients",children:r.ingredients?.map(U=>d.jsxs("label",{className:"modal-ingredient",children:[d.jsx("input",{type:"checkbox",checked:s.includes(U),onChange:()=>S(U)}),d.jsx("span",{className:"custom-checkbox"}),d.jsxs("span",{className:"ingredient-label",children:[U.name,U.extraPrice?` (+${U.extraPrice} kr)`:""]})]},U.name))})]}),d.jsx("button",{onClick:t,className:"modal-cancel",children:d.jsx(DE,{width:20,height:20})}),d.jsxs("div",{className:"modal-buttons",children:[d.jsxs("div",{className:"modal-qty",children:[d.jsx("button",{onClick:T,disabled:p<=1,"aria-label":"Decrease quantity",children:""}),d.jsx("span",{children:p}),d.jsx("button",{onClick:y,"aria-label":"Increase quantity",children:"+"})]}),d.jsxs("div",{className:"modal-add-wrapper",children:[d.jsxs("button",{onClick:A,className:"modal-confirm",children:["Add to order DKK (",(r.price+V)*p,",-)"]}),u&&d.jsx("div",{className:"add-notify",children:"Tilfjet!"})]})]})]})})}function iE(){const[r,t]=k.useState(""),[i,s]=k.useState(!1),[o,u]=k.useState("Most Popular"),[m,p]=k.useState(null),[v,y]=k.useState([]),[T,S]=k.useState(!0),[A,V]=k.useState(null),[U,P]=k.useState(!1),H=k.useRef({}),Z=k.useRef(null),ee=k.useRef({}),{addItem:se,items:ge,updateQty:oe,removeItem:_e,clear:N,total:w}=Co(),R=k.useRef(ge.length);k.useEffect(()=>{const B=window.innerWidth<720,de=ge.length>R.current;B&&de&&ge.length>0&&!U&&P(!0),R.current=ge.length},[ge.length,U]),k.useEffect(()=>{async function B(){try{S(!0),V(null);const de=eE(),he=QN();if(de&&de.length>0){const I=de.map(ce=>({...ce,id:ce.id||""}));y(I),S(!1);const J=await mo();if(J&&(!he||J.getTime()>he.getTime())){const Ae=(await im()).map(Re=>({...Re,id:Re.id||""}));y(Ae),tE(Ae),nE(J)}}else{const J=(await im()).map(fe=>({...fe,id:fe.id||""}));y(J),tE(J);const ce=await mo();ce&&nE(ce)}}catch(de){console.error("Error loading products:",de),V("Kunne ikke indlse produkter. Prv venligst igen.");const he=eE();if(he&&he.length>0){const I=he.map(J=>({...J,id:J.id||""}));y(I)}}finally{S(!1)}}B()},[]);const M=["Most Popular",...new Set(v.map(B=>B.category))],D=B=>{p(B)},L=()=>{p(null)},C=(B,de,he)=>{se({...B,selectedIngredients:de,qty:he}),p(null)};k.useEffect(()=>(document.body.style.overflow=m?"hidden":"auto",m?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.style.overflow="auto",document.body.classList.remove("modal-open")}),[m]),k.useEffect(()=>(document.body.style.overflow=U?"hidden":"auto",U?document.body.classList.add("cart-drawer-open"):document.body.classList.remove("cart-drawer-open"),()=>{document.body.style.overflow="auto",document.body.classList.remove("cart-drawer-open")}),[U]),k.useEffect(()=>(i?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[i]),k.useEffect(()=>{const B=()=>{Object.values(ee.current).forEach(he=>{if(!he)return;const I=he.getBoundingClientRect();I.top<=0&&I.bottom>0?he.classList.add("is-sticky"):he.classList.remove("is-sticky")})},de=setTimeout(()=>{B()},100);return window.addEventListener("scroll",B,{passive:!0}),()=>{clearTimeout(de),window.removeEventListener("scroll",B)}},[v]);const He=v.filter(B=>B.name.toLowerCase().includes(r.toLowerCase())||B.desc.toLowerCase().includes(r.toLowerCase())||B.tags?.some(he=>he.toLowerCase().includes(r.toLowerCase()))||B.category.toLowerCase().includes(r.toLowerCase())),ve=new Set(v.slice(0,3).map(B=>B.id)),Q=He.filter(B=>ve.has(B.id)),le=B=>{u(B);const de=B==="Most Popular"?Z.current:H.current[B];de&&de.scrollIntoView({behavior:"smooth",block:"start"})};return T?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{children:"Indlser menuen..."})})}):A?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{style:{color:"red"},children:A})})}):d.jsxs("main",{className:"menuPageContainer max-w-6xl",children:[d.jsxs("div",{className:"menu-header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-subtitle",children:"Vlg en kategori for at se vores retter."}),d.jsxs("h2",{className:"text-3xl font-bold mb-4 flex items-center gap-2",children:[d.jsx("span",{role:"img","aria-label":"bestik",className:"menu-header-icon",children:""}),"Bestil takeaway"]})]}),d.jsxs("button",{className:"allergen-btn",onClick:()=>s(!0),children:["Allergener",d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2L2 20h20L12 2z"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),d.jsx("circle",{cx:"12",cy:"17",r:"1"})]})]})]}),i&&d.jsx("div",{className:"allergen-modal",onClick:()=>s(!1),children:d.jsxs("div",{className:"max-w-6xl modal-content",onClick:B=>B.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Allergener & Kontakt"}),d.jsx("p",{className:"modal-text",children:"Kontakt os hvis du har sprgsml om allergener, ingredienser eller bestilling."}),d.jsxs("div",{className:"contact-box",children:[d.jsx("p",{className:"contact-header",children:"Kontakt os direkte"}),d.jsx("a",{href:"tel:YOUR_PHONE_NUMBER",className:"contact-btn call",children:" Ring: YOUR_PHONE_NUMBER"}),d.jsx("a",{href:"sms:YOUR_PHONE_NUMBER",className:"contact-btn sms",children:" Send SMS"}),d.jsx("a",{href:"https://wa.me/yourphonenumber",className:"contact-btn whatsapp",target:"_blank",children:" WhatsApp"})]}),d.jsxs("div",{className:"hours-box",children:[d.jsx("h4",{className:"hours-title",children:"bningstider"}),d.jsx("p",{className:"hours-text",children:"YOUR_OPENING_HOURS"})]}),d.jsxs("div",{className:"allergen-box",children:[d.jsx("h4",{className:"allergen-title",children:"Almindelige allergener"}),d.jsxs("ul",{className:"allergen-list",children:[d.jsx("li",{children:" Gluten"}),d.jsx("li",{children:" Laktose"}),d.jsx("li",{children:" g"}),d.jsx("li",{children:" Ndder"}),d.jsx("li",{children:" Fisk"}),d.jsx("li",{children:" Skaldyr"}),d.jsx("li",{children:" Rejer"}),d.jsx("li",{children:" Sulfitter"})]}),d.jsx("p",{className:"modal-note",children:"Kontakt os for detaljer om specifikke retter."})]}),d.jsx("div",{className:"modal-close-btn",children:d.jsx("button",{onClick:()=>s(!1),"aria-label":"Close",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"custom-x-icon",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]})}),d.jsxs("div",{className:"menu-grid",children:[d.jsxs("aside",{className:"menu-sidebar",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:r,onChange:B=>t(B.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]}),d.jsx("div",{className:"categoriesContainer",children:M.map(B=>d.jsx("button",{className:B===o?"solid":"ghost",onClick:()=>le(B),children:B},B))})]}),d.jsxs("section",{className:"menu-products",children:[d.jsxs("div",{className:"menu-filters",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:r,onChange:B=>t(B.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]}),d.jsx("div",{className:"categoriesContainer",children:M.map(B=>d.jsx("button",{className:B===o?"solid":"ghost",onClick:()=>le(B),children:B},B))})]}),Q.length>0&&d.jsxs("div",{className:"menu-category-block menu-popular-block",ref:B=>{Z.current=B},children:[d.jsx("h3",{className:"menu-category-title",ref:B=>{ee.current["Most Popular"]=B},children:"Most Popular"}),d.jsx("div",{className:"menu-products-grid",children:Q.map(B=>d.jsxs("div",{className:"menu-item-simple",onClick:()=>D(B),children:[d.jsx("img",{src:`./assets/${B.image}`,alt:B.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:B.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[B.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:B.desc}),B.tags&&B.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:B.tags.slice(0,2).map(de=>d.jsx("span",{className:"menu-item-simple-tag",children:de},de))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:de=>{de.stopPropagation(),D(B)},children:"+"})]},B.id))})]}),Array.from(new Set(v.map(B=>B.category))).map(B=>{const de=He.filter(he=>he.category===B);return de.length===0?null:d.jsxs("div",{className:"menu-category-block",ref:he=>{H.current[B]=he},children:[d.jsx("h3",{className:"menu-category-title",ref:he=>{ee.current[B]=he},children:B}),d.jsx("div",{className:"menu-products-grid",children:de.map(he=>d.jsxs("div",{className:"menu-item-simple",onClick:()=>D(he),children:[d.jsx("img",{src:`./assets/${he.image}`,alt:he.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:he.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[he.price," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:he.desc}),he.tags&&he.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:he.tags.slice(0,2).map(I=>d.jsx("span",{className:"menu-item-simple-tag",children:I},I))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:I=>{I.stopPropagation(),D(he)},children:"+"})]},he.id))})]},B)}),m&&d.jsx(XN,{item:m,onClose:L,onConfirm:(B,de)=>C(m,B,de)}),He.length===0&&d.jsx("p",{className:"no-results",children:"Ingen resultater fundet "})]}),d.jsx("div",{className:`cart-drawer-overlay ${U?"cart-drawer-open":""}`,onClick:()=>P(!1),children:d.jsxs("div",{className:`cart-drawer ${U?"cart-drawer-open":""}`,onClick:B=>B.stopPropagation(),children:[d.jsxs("div",{className:"cart-drawer-header",children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("div",{className:"cart-drawer-header-actions",children:[ge.length>0&&d.jsx("button",{className:"cart-drawer-clear",onClick:()=>{window.confirm("Er du sikker p, at du vil fjerne alle varer fra kurven?")&&N()},"aria-label":"Fjern alle varer",children:"Tm kurv"}),d.jsx("button",{className:"cart-drawer-close",onClick:()=>P(!1),"aria-label":"Luk kurv",children:d.jsx(DE,{width:24,height:24})})]})]}),ge.length===0?d.jsx("p",{className:"menu-cart-empty",children:"Din kurv er tom. Tilfj lkre retter fra menuen."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"menu-cart-items",children:ge.map(B=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:B.name}),B.selectedIngredients&&B.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:B.selectedIngredients.map((de,he)=>d.jsxs("span",{children:[de.name,de.extraPrice?` (+${de.extraPrice} kr)`:"",he<B.selectedIngredients.length-1?", ":""]},he))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(B.price*B.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>oe(B.id,Math.max(1,B.qty-1)),"aria-label":"Fjern en",children:""}),d.jsx("span",{children:B.qty}),d.jsx("button",{onClick:()=>oe(B.id,B.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>_e(B.id),children:"Fjern"})]})]},B.id))}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",w.toFixed(2)]})]}),d.jsx(ht,{to:"/checkout",className:"nav-cta menu-cart-cta",onClick:()=>P(!1),children:"G til checkout"})]})]})}),d.jsxs("button",{className:"mobile-cart-button",onClick:()=>P(!0),"aria-label":"bn kurv",children:[d.jsx(Gu,{}),ge.length>0&&d.jsx("span",{className:"mobile-cart-badge",children:ge.reduce((B,de)=>B+de.qty,0)})]}),d.jsxs("aside",{className:"menu-cart-panel",children:[d.jsxs("div",{className:"menu-cart-header",children:[d.jsxs("div",{children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("span",{className:"menu-cart-count",children:[ge.length," varer"]})]}),ge.length>0&&d.jsx("button",{className:"menu-cart-clear",onClick:()=>{window.confirm("Er du sikker p, at du vil fjerne alle varer fra kurven?")&&N()},"aria-label":"Fjern alle varer",children:"Tm kurv"})]}),ge.length===0?d.jsx("p",{className:"menu-cart-empty",children:"Din kurv er tom. Tilfj lkre retter fra menuen."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"menu-cart-items",children:ge.map(B=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:B.name}),B.selectedIngredients&&B.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:B.selectedIngredients.map((de,he)=>d.jsxs("span",{children:[de.name,de.extraPrice?` (+${de.extraPrice} kr)`:"",he<B.selectedIngredients.length-1?", ":""]},he))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(B.price*B.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>oe(B.id,Math.max(1,B.qty-1)),"aria-label":"Fjern en",children:""}),d.jsx("span",{children:B.qty}),d.jsx("button",{onClick:()=>oe(B.id,B.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>_e(B.id),children:"Fjern"})]})]},B.id))}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",w.toFixed(2)]})]}),d.jsx(ht,{to:"/checkout",className:"nav-cta menu-cart-cta",children:"G til checkout"})]})]})]})]})}async function rm(r,t=!1){try{let i=Ii(Fa(rn,"reviews"),fh("createdAt","desc"));r&&(i=Ii(i,kN(r)));const o=(await mh(i)).docs.map(u=>{const m=u.data(),p=m.createdAt;return{id:u.id,...m,createdAt:p?.toDate?p.toDate():new Date(p)}});return t?o:o.filter(u=>u.approved!==!1)}catch(i){throw console.error("Error fetching reviews:",i),i}}async function rE(r,t){try{const i=ki(rn,"reviews",r);await tg(i,t),await wT()}catch(i){throw console.error("Error updating review:",i),i}}async function Ls(){try{const r=ki(rn,"metadata","reviews"),t=await yT(r);if(t.exists()){const s=t.data().lastUpdated;if(s)return s.toDate?s.toDate():new Date(s)}return null}catch(r){return console.error("Error fetching reviews metadata:",r),null}}async function wT(){try{const r=ki(rn,"metadata","reviews");await vT(r,{lastUpdated:bT()},{merge:!0})}catch(r){console.error("Error updating reviews metadata:",r)}}async function $N(r){try{const t=ki(rn,"reviews",r);await _T(t),await wT()}catch(t){throw console.error("Error deleting review:",t),t}}const NT="xanthos_reviews",RT="xanthos_reviews_lastUpdated";function aE(){try{const r=localStorage.getItem(NT);if(r)return JSON.parse(r).map(i=>({...i,createdAt:i.createdAt?new Date(i.createdAt):new Date}))}catch(r){console.error("Error reading reviews from localStorage:",r)}return null}function sE(r){try{const t=r.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt}));localStorage.setItem(NT,JSON.stringify(t))}catch(t){console.error("Error saving reviews to localStorage:",t)}}function ZN(){try{const r=localStorage.getItem(RT);if(r)return new Date(r)}catch(r){console.error("Error reading reviews lastUpdated from localStorage:",r)}return null}function lE(r){try{localStorage.setItem(RT,r.toISOString())}catch(t){console.error("Error saving reviews lastUpdated to localStorage:",t)}}const oE=[{id:1,title:"BBQ Ribs Combo",description:"Saftiga ribs med vr hemlagade BBQ-ss + liten Cola",price:"159,-",image:"./assets/pepperoni.jpg"},{id:2,title:"Pepperoni Pizza Deal",description:"Stor pepperoni pizza + valgfri dip",price:"119,-",image:"./assets/pepperoni.jpg"},{id:3,title:"Mixed Grill Plate",description:"Kebabspyd, plser & pommes frites",price:"169,-",image:"./assets/pepperoni.jpg"}];function JN(){const r=new Date().getDate()%oE.length,t=oE[r],[i,s]=k.useState({name:"",email:"",message:""}),[o,u]=k.useState([]),[m,p]=k.useState(!0),[v,y]=k.useState(4.6),[T,S]=k.useState(500);function A(){const P=new Date,H=P.getHours(),Z=P.getMinutes(),ee=H+Z/60;return ee>=11&&ee<22}function V(P){P.preventDefault(),alert("Tak for din besked! Vi vender tilbage snarest."),s({name:"",email:"",message:""})}k.useEffect(()=>{async function P(){try{p(!0);const H=aE(),Z=ZN();if(H&&H.length>0){u(H);const ee=H.reduce((ge,oe)=>ge+oe.rating,0)/H.length;y(Math.round(ee*10)/10),S(H.length),p(!1);const se=await Ls();if(se&&(!Z||se.getTime()>Z.getTime())){const oe=await rm(6);if(u(oe),sE(oe),lE(se),oe.length>0){const _e=oe.reduce((N,w)=>N+w.rating,0)/oe.length;y(Math.round(_e*10)/10),S(oe.length)}}}else{const ee=await rm(6);if(u(ee),sE(ee),ee.length>0){const ge=ee.reduce((oe,_e)=>oe+_e.rating,0)/ee.length;y(Math.round(ge*10)/10),S(ee.length)}const se=await Ls();se&&lE(se)}}catch(H){console.error("Error loading reviews:",H);const Z=aE();if(Z&&Z.length>0){u(Z);const ee=Z.reduce((se,ge)=>se+ge.rating,0)/Z.length;y(Math.round(ee*10)/10),S(Z.length)}}finally{p(!1)}}P()},[]);function U(P){const H=Math.floor(P),Z=P%1>=.5,ee=5-H-(Z?1:0);return d.jsxs(d.Fragment,{children:["".repeat(H),Z&&"","".repeat(ee)]})}return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"hero-section",children:[d.jsx("div",{className:"hero-overlay"}),d.jsxs("div",{className:"hero-container",children:[d.jsxs("div",{className:"hero-content",children:[d.jsxs("div",{className:"hero-badge",children:[d.jsx("span",{className:A()?"open-dot":"closed-dot"}),A()?"ben nu":"Lukket  bner kl. 11:00"]}),d.jsxs("h1",{className:"hero-title",children:[d.jsx(qv,{}),"Velkommen til Xanthos Pizza & Grill"]}),d.jsx("p",{className:"hero-subtitle",children:"Autentiske pizzor och grillfavoriter. Bestll enkelt online och hmta eller f hemleverans."}),d.jsxs("div",{className:"hero-features",children:[d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Pickup"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Levering"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"4.6/5 (500+ anmeldelser)"]})]}),d.jsxs("div",{className:"hero-cta",children:[d.jsxs(ht,{to:"/bestil",className:"btn-primary",children:["Bestil takeaway",d.jsx(dm,{})]}),d.jsx(ht,{to:"/menu",className:"btn-secondary",children:"Se menu"})]})]}),d.jsx("div",{className:"hero-special",children:d.jsxs("div",{className:"special-card",children:[d.jsx("span",{className:"special-badge",children:"Dagens tilbud"}),d.jsx("div",{className:"special-image",children:d.jsx("img",{src:t.image,alt:t.title})}),d.jsx("h3",{className:"special-title",children:t.title}),d.jsx("p",{className:"special-desc",children:t.description}),d.jsx("p",{className:"special-price",children:t.price})]})})]})]}),d.jsxs("main",{className:"home-main",children:[d.jsx("section",{className:"trust-section",children:d.jsxs("div",{className:"trust-grid",children:[d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Levering"}),d.jsx("p",{children:"Hurtig & varm"}),d.jsx("p",{children:"3045 min  Op til 5 km"})]}),d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Afhentning"}),d.jsx("p",{children:"Klar p 15 min"})]}),d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Sikker betaling"}),d.jsx("p",{children:"Kort & MobilePay"})]}),d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"4.6 stjerner"}),d.jsx("p",{children:"500+ anmeldelser"})]})]})}),d.jsxs("section",{className:"section about-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Om os"}),d.jsx("p",{className:"section-subtitle",children:"Din lokale pizzabar og grill"})]}),d.jsxs("div",{className:"about-content",children:[d.jsxs("div",{className:"about-text",children:[d.jsx("p",{children:"Xanthos Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]}),d.jsx("div",{className:"about-image",children:d.jsx("div",{className:"about-image-placeholder",children:d.jsx(qv,{})})})]})]}),d.jsxs("section",{className:"section popular-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Populre retter"}),d.jsx("p",{className:"section-subtitle",children:"Kundernas favoriter just nu"})]}),d.jsx("div",{className:"popular-grid",children:AT.slice(0,3).map(P=>d.jsx(YN,{item:P},P.id))})]}),d.jsx("section",{className:"section info-section",children:d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-card hours-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"bningstider"})]}),d.jsxs("div",{className:"hours-list",children:[d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Mandag  Torsdag"}),d.jsx("span",{className:"hours-time",children:"11:00  21:00"})]}),d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Fredag  Sndag"}),d.jsx("span",{className:"hours-time",children:"11:00  23:00"})]})]}),d.jsxs("div",{className:`hours-status ${A()?"open":"closed"}`,children:[d.jsx("span",{className:"status-dot"}),A()?"ben nu":"Lukket"]})]}),d.jsxs("div",{className:"info-card contact-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"Kontakt os"})]}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("a",{href:"tel:70123456",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Telefon:"}),d.jsx("span",{className:"contact-value",children:"70 12 34 56"})]}),d.jsxs("a",{href:"mailto:info@pizza-grill.dk",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"E-mail:"}),d.jsx("span",{className:"contact-value",children:"info@pizza-grill.dk"})]}),d.jsxs("div",{className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Adresse:"}),d.jsx("span",{className:"contact-value",children:"Hovedgade 123, 1234 By"})]})]})]})]})}),d.jsxs("section",{className:"section reviews-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Hvad vores kunder siger"}),d.jsx("p",{className:"section-subtitle",children:"Anmeldelser fra vores glade kunder"})]}),m?d.jsx("div",{className:"reviews-loading",children:"Indlser anmeldelser..."}):o.length===0?d.jsx("div",{className:"reviews-empty",children:d.jsx("p",{children:"Ingen anmeldelser endnu. Vr den frste til at anmelde!"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"reviews-grid",children:o.slice(0,3).map(P=>d.jsxs("div",{className:"review-card",children:[d.jsx("div",{className:"review-stars",children:U(P.rating)}),d.jsxs("p",{className:"review-text",children:['"',P.text,'"']}),d.jsxs("p",{className:"review-author",children:[" ",P.author]})]},P.id))}),d.jsxs("p",{className:"reviews-average",children:[" ",v.toFixed(1)," gennemsnitlig vurdering fra"," ",T," anmeldelse",T!==1?"r":""]})]})]}),d.jsxs("section",{className:"section contact-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Skriv til os"}),d.jsx("p",{className:"section-subtitle",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."})]}),d.jsxs("form",{className:"contact-form",onSubmit:V,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Navn"}),d.jsx("input",{type:"text",id:"name",value:i.name,onChange:P=>s({...i,name:P.target.value}),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"E-mail"}),d.jsx("input",{type:"email",id:"email",value:i.email,onChange:P=>s({...i,email:P.target.value}),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"message",children:"Besked"}),d.jsx("textarea",{id:"message",rows:5,value:i.message,onChange:P=>s({...i,message:P.target.value}),required:!0})]}),d.jsx("button",{type:"submit",className:"btn-primary btn-submit",children:"Send besked"})]})]}),d.jsx("section",{className:"section cta-section",children:d.jsxs("div",{className:"cta-content",children:[d.jsx("h2",{className:"cta-title",children:"Klar til at bestille?"}),d.jsx("p",{className:"cta-subtitle",children:"Udforsk vores menu og bestil dine favoritter nu"}),d.jsx(ht,{to:"/bestil",className:"btn-primary btn-large",children:"Bestil nu "})]})})]})]})}function WN(){const r=lm(),{items:t,updateQty:i,removeItem:s,clear:o,total:u}=Co(),[m,p]=k.useState(!1),v=.25,y=Math.round(u*v/(1+v)),T=u-y,S=t.reduce((A,V)=>A+V.qty,0);return d.jsx("main",{className:"cart-page",children:d.jsxs("div",{className:"cart-page-container",children:[d.jsxs("div",{className:"cart-page-header",children:[d.jsxs("div",{className:"cart-page-title-section",children:[d.jsxs("h1",{className:"cart-page-title",children:[d.jsx(Gu,{className:"cart-page-icon"}),"Din kurv"]}),t.length>0&&d.jsxs("p",{className:"cart-page-subtitle",children:[S," ",S===1?"vare":"varer"]})]}),t.length>0&&d.jsxs("button",{className:`cart-clear-btn ${m?"active":""}`,onClick:()=>p(!0),"aria-label":"Tm kurv",children:[d.jsx(Bv,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),m&&d.jsxs("div",{className:"cart-confirm-box",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>p(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{o(),p(!1)},children:"Ja, tm kurv"})]})]}),t.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"}),d.jsx(ht,{to:"/menu",className:"cart-empty-cta",children:"Se menu"})]}):d.jsxs("div",{className:"cart-content",children:[d.jsxs("div",{className:"cart-items-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Varer"}),d.jsx("div",{className:"cart-items-list",children:t.map(A=>{const V=A.selectedIngredients?.reduce((Z,ee)=>Z+(ee.extraPrice||0),0)||0,U=A.price-V,P=A.price,H=P*A.qty;return d.jsxs("div",{className:"cart-item-card",children:[d.jsx("div",{className:"cart-item-image-wrapper",children:A.image&&d.jsx("img",{src:`./assets/${A.image}`,alt:A.name,className:"cart-item-image",onError:Z=>{Z.target.src="./assets/pizza-placeholder.jpg"}})}),d.jsxs("div",{className:"cart-item-info",children:[d.jsxs("div",{className:"cart-item-header",children:[d.jsx("h3",{className:"cart-item-name",children:A.name}),d.jsx("button",{className:"cart-item-remove",onClick:()=>s(A.id),"aria-label":"Fjern vare",children:d.jsx(Bv,{})})]}),A.desc&&d.jsx("p",{className:"cart-item-description",children:A.desc}),d.jsxs("div",{className:"cart-item-pricing",children:[d.jsxs("div",{className:"cart-item-base-price",children:[d.jsx("span",{children:"Basispris:"}),d.jsxs("span",{children:[U," kr"]})]}),V>0&&d.jsxs("div",{className:"cart-item-extras-price",children:[d.jsx("span",{children:"Tilvalg:"}),d.jsxs("span",{children:["+",V," kr"]})]}),d.jsxs("div",{className:"cart-item-unit-price",children:[d.jsx("span",{children:"Pris pr. stk:"}),d.jsxs("strong",{children:[P," kr"]})]})]}),A.selectedIngredients&&A.selectedIngredients.length>0&&d.jsxs("div",{className:"cart-item-ingredients",children:[d.jsx("p",{className:"cart-ingredients-label",children:"Tilvalg:"}),d.jsx("div",{className:"cart-ingredients-list",children:A.selectedIngredients.map((Z,ee)=>d.jsxs("span",{className:"cart-ingredient-tag",children:[Z.name,Z.extraPrice&&d.jsxs("span",{className:"cart-ingredient-price",children:["+",Z.extraPrice," kr"]})]},ee))})]}),d.jsxs("div",{className:"cart-item-footer",children:[d.jsxs("div",{className:"cart-item-qty",children:[d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(A.id,Math.max(1,A.qty-1)),disabled:A.qty<=1,"aria-label":"Reducer antal",children:""}),d.jsx("span",{className:"cart-qty-value",children:A.qty}),d.jsx("button",{className:"cart-qty-btn",onClick:()=>i(A.id,A.qty+1),"aria-label":"g antal",children:"+"})]}),d.jsxs("div",{className:"cart-item-total",children:[d.jsx("span",{className:"cart-item-total-label",children:"I alt:"}),d.jsxs("span",{className:"cart-item-total-price",children:[H," kr"]})]})]})]})]},A.id)})})]}),d.jsxs("div",{className:"cart-summary-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Ordreoversigt"}),d.jsxs("div",{className:"cart-summary-card",children:[d.jsxs("div",{className:"cart-summary-details",children:[d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Antal varer"}),d.jsxs("span",{children:[S," ",S===1?"vare":"varer"]})]}),d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Subtotal (ekskl. moms)"}),d.jsxs("span",{children:[T," kr"]})]}),d.jsxs("div",{className:"cart-summary-row cart-summary-vat",children:[d.jsx("span",{children:"Moms (25%)"}),d.jsxs("span",{children:[y," kr"]})]}),d.jsx("div",{className:"cart-summary-divider"}),d.jsxs("div",{className:"cart-summary-total",children:[d.jsx("span",{children:"Total inkl. moms"}),d.jsxs("strong",{children:[u," kr"]})]})]}),d.jsxs("div",{className:"cart-summary-actions",children:[d.jsx(ht,{to:"/menu",className:"cart-continue-shopping",children:"Fortst shopping"}),d.jsxs("button",{onClick:()=>r("/checkout"),className:"cart-checkout-btn",children:["G til betaling",d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})]})]})})}async function eR(r){try{return(await ET(Fa(rn,"orders"),{...r,createdAt:at.now()})).id}catch(t){throw console.error("Error creating order:",t),t}}async function cE(r=!1,t=!1){try{let i=Ii(Fa(rn,"orders"));if(r){const u=new Date;u.setHours(0,0,0,0);const m=at.fromDate(u);i=Ii(i,mT("createdAt",">=",m))}i=Ii(i,fh("createdAt","desc"));let o=(await mh(i)).docs.map(u=>({id:u.id,...u.data(),createdAt:u.data().createdAt?.toDate()||new Date}));return t&&(o=o.filter(u=>u.status!=="ready")),o}catch(i){throw console.error("Error fetching orders:",i),i}}async function tR(r,t){try{const i=ki(rn,"orders",r);await tg(i,{status:t})}catch(i){throw console.error("Error updating order status:",i),i}}async function nR(r){try{const t=Ii(Fa(rn,"orders")),s=(await mh(t)).docs.find(o=>o.id===r);return s?{id:s.id,...s.data(),createdAt:s.data().createdAt?.toDate()||new Date}:null}catch(t){throw console.error("Error fetching order:",t),t}}function iR(r,t,i=!1,s=!1){try{let o=Ii(Fa(rn,"orders"));if(i){const m=new Date;m.setHours(0,0,0,0);const p=at.fromDate(m);o=Ii(o,mT("createdAt",">=",p))}return o=Ii(o,fh("createdAt","desc")),UN(o,m=>{let p=m.docs.map(v=>({id:v.id,...v.data(),createdAt:v.data().createdAt?.toDate()||new Date}));s&&(p=p.filter(v=>v.status!=="ready")),r(p)},m=>{console.error("Error in orders subscription:",m),t&&t(m)})}catch(o){return console.error("Error setting up orders subscription:",o),t&&t(o),()=>{}}}const uE=30;function rR(){const{items:r,total:t,clear:i}=Co(),[s,o]=k.useState(""),[u,m]=k.useState(""),[p,v]=k.useState(""),[y,T]=k.useState("pickup"),[S,A]=k.useState(""),[V,U]=k.useState("card"),[P,H]=k.useState(""),[Z,ee]=k.useState(""),[se,ge]=k.useState(""),[oe,_e]=k.useState(""),[N,w]=k.useState(!1),R=lm(),M=y==="delivery"?t+uE:t,D=y==="delivery";function L(ve){const Q=ve.replace(/\s+/g,"").replace(/[^0-9]/gi,""),le=Q.match(/\d{4,16}/g),B=le&&le[0]||"",de=[];for(let he=0,I=B.length;he<I;he+=4)de.push(B.substring(he,he+4));return de.length?de.join(" "):Q}function C(ve){const Q=ve.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return Q.length>=2?Q.substring(0,2)+"/"+Q.substring(2,4):Q}async function He(ve){if(ve.preventDefault(),D&&V==="card"){if(!P||!Z||!se||!oe){alert("Udfyld venligst alle betalingsoplysninger");return}if(P.replace(/\s/g,"").length<16){alert("Ugyldigt kortnummer");return}}w(!0);try{D&&V==="card"&&await new Promise(le=>setTimeout(le,2e3));const Q=await eR({items:r,total:M,name:s,phone:u,address:y==="delivery"?p:null,method:y,note:S,paymentMethod:D?V:"cash",paymentStatus:D&&V==="card"?"paid":"pending",status:"pending"});i(),w(!1),R("/confirmation/"+Q)}catch(Q){console.error("Error placing order:",Q),alert("Der opstod en fejl ved placering af ordren. Prv venligst igen."),w(!1)}}return d.jsx("main",{className:"checkout-page",children:d.jsxs("div",{className:"checkout-container",children:[d.jsxs("h2",{className:"checkout-title",children:[d.jsx(Gu,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Gennemfr bestilling"]}),r.length===0?d.jsxs("div",{className:"checkout-empty",children:[d.jsx("p",{children:"Din kurv er tom "}),d.jsx(ht,{to:"/bestil",className:"checkout-link",children:"Se menuen"})]}):d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("form",{onSubmit:He,className:"checkout-form",children:[d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Kontaktoplysninger"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn"}),d.jsx("input",{type:"text",required:!0,value:s,onChange:ve=>o(ve.target.value),className:"form-input",placeholder:"Indtast dit navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[d.jsx(jE,{style:{marginRight:"0.35rem",verticalAlign:"middle"}}),"Telefonnummer"]}),d.jsx("input",{type:"tel",required:!0,value:u,onChange:ve=>m(ve.target.value),className:"form-input",placeholder:"+45 12 34 56 78"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Afhentning eller levering"}),d.jsxs("div",{className:"method-selector",children:[d.jsxs("label",{className:`method-option ${y==="pickup"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"pickup",checked:y==="pickup",onChange:ve=>T(ve.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Afhentning"}),d.jsx("div",{className:"method-desc",children:"Hent din bestilling i butikken"})]})]})]}),d.jsxs("label",{className:`method-option ${y==="delivery"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"delivery",checked:y==="delivery",onChange:ve=>T(ve.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Levering"}),d.jsx("div",{className:"method-desc",children:"Vi bringer det til dig"})]})]})]})]}),y==="delivery"&&d.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[d.jsx("label",{className:"form-label",children:"Leveringsadresse"}),d.jsx("input",{type:"text",required:y==="delivery",value:p,onChange:ve=>v(ve.target.value),className:"form-input",placeholder:"Gadenavn og nummer"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Bemrkninger (valgfrit)"}),d.jsx("div",{className:"form-group",children:d.jsx("textarea",{value:S,onChange:ve=>A(ve.target.value),className:"form-textarea",placeholder:"Har du nogen srlige nsker eller allergener?",rows:4})})]}),D&&d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:" Betalingsmetode"}),d.jsxs("div",{className:"payment-methods",children:[d.jsxs("label",{className:`payment-method-option ${V==="card"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"card",checked:V==="card",onChange:ve=>U(ve.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"Kortbetaling"}),d.jsx("div",{className:"payment-method-desc",children:"Visa, Mastercard, Dankort"})]})]})]}),d.jsxs("label",{className:`payment-method-option ${V==="mobilepay"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"mobilepay",checked:V==="mobilepay",onChange:ve=>U(ve.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"MobilePay"}),d.jsx("div",{className:"payment-method-desc",children:"Betal med MobilePay"})]})]})]})]}),V==="card"&&d.jsxs("div",{className:"payment-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Navn p kort"}),d.jsx("input",{type:"text",required:V==="card",value:Z,onChange:ve=>ee(ve.target.value),className:"form-input",placeholder:"Fulde navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Kortnummer"}),d.jsx("input",{type:"text",required:V==="card",value:P,onChange:ve=>H(L(ve.target.value)),className:"form-input",placeholder:"1234 5678 9012 3456",maxLength:19})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"Udlbsdato"}),d.jsx("input",{type:"text",required:V==="card",value:se,onChange:ve=>ge(C(ve.target.value)),className:"form-input",placeholder:"MM/",maxLength:5})]}),d.jsxs("div",{className:"form-group",style:{flex:1},children:[d.jsx("label",{className:"form-label",children:"CVV"}),d.jsx("input",{type:"text",required:V==="card",value:oe,onChange:ve=>_e(ve.target.value.replace(/\D/g,"").slice(0,3)),className:"form-input",placeholder:"123",maxLength:3})]})]})]}),V==="mobilepay"&&d.jsx("div",{className:"mobilepay-info",children:d.jsx("p",{children:"Du vil blive omdirigeret til MobilePay for at gennemfre betalingen."})})]}),d.jsxs("div",{className:"checkout-actions",children:[d.jsx("button",{type:"button",onClick:()=>R("/cart"),className:"btn-secondary",disabled:N,children:"Tilbage"}),d.jsx("button",{type:"submit",className:"btn-primary",disabled:N,children:N?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Behandler..."]}):d.jsxs(d.Fragment,{children:[D?"Betal og placer ordre":"Placer ordre",d.jsx(dm,{style:{marginLeft:"0.5rem",verticalAlign:"middle"}})]})})]}),d.jsx("p",{className:"checkout-note",children:D?" Din betaling er sikker og krypteret. Vi ringer til dig, nr din bestilling er klar!":" Betaling sker ved afhentning. Vi ringer til dig, nr din bestilling er klar!"})]}),d.jsxs("aside",{className:"checkout-summary",children:[d.jsxs("div",{className:"summary-header",children:[d.jsx("h3",{children:"Din bestilling"}),d.jsxs("span",{className:"summary-count",children:[r.length," ",r.length===1?"vare":"varer"]})]}),d.jsx("div",{className:"summary-items",children:r.map(ve=>d.jsxs("div",{className:"summary-item",children:[d.jsxs("div",{className:"summary-item-info",children:[d.jsx("span",{className:"summary-item-name",children:ve.name}),d.jsxs("span",{className:"summary-item-qty",children:["x",ve.qty]})]}),d.jsxs("span",{className:"summary-item-price",children:["DKK ",(ve.price*ve.qty).toFixed(2)]})]},ve.id))}),d.jsxs("div",{className:"summary-total",children:[d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["DKK ",t.toFixed(2)]})]}),y==="delivery"&&d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Leveringsgebyr"}),d.jsxs("span",{children:["DKK ",uE.toFixed(2)]})]}),d.jsxs("div",{className:"summary-total-row summary-total-final",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",M.toFixed(2)]})]})]})]})]})]})})}function aR({orderId:r}){const[t,i]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{async function u(){try{const m=await nR(r);i(m)}catch(m){console.error("Error loading order:",m)}finally{o(!1)}}u()},[r]),s?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow text-center",children:"Indlser ordre..."})}):t?d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded shadow p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thanks  your order is placed!"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Order #",t.id]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:"Items"}),d.jsx("ul",{className:"mt-2",children:t.items.map(u=>d.jsxs("li",{children:[u.qty,"  ",u.name,"  ",u.price*u.qty,",-"]},u.id))})]}),d.jsxs("div",{className:"mt-4",children:["Total: ",d.jsxs("strong",{children:[t.total,",-"]})]}),d.jsxs("div",{className:"mt-4",children:["We will call you at ",d.jsx("strong",{children:t.phone})," when your order is ready."]})]})}):d.jsx("main",{className:"max-w-3xl mx-auto p-6",children:d.jsx("div",{className:"p-6 bg-white rounded shadow",children:"Ordre ikke fundet."})})}async function sR(){try{console.log("Initializing products in Firebase...");for(const r of AT)await FN({category:r.category,name:r.name,desc:r.desc,price:r.price,image:r.image,ingredients:r.ingredients||[]}),console.log(`Created product: ${r.name}`);console.log("All products initialized successfully!")}catch(r){throw console.error("Error initializing products:",r),r}}const ig="admin_products",rg="admin_products_lastUpdated",CT="admin_reviews",jT="admin_reviews_lastUpdated";function hE(){try{const r=localStorage.getItem(ig);if(r)return JSON.parse(r)}catch(r){console.error("Error reading products from localStorage:",r)}return null}function Df(r){try{localStorage.setItem(ig,JSON.stringify(r))}catch(t){console.error("Error saving products to localStorage:",t)}}function lR(){try{const r=localStorage.getItem(rg);if(r)return new Date(r)}catch(r){console.error("Error reading products lastUpdated from localStorage:",r)}return null}function If(r){try{localStorage.setItem(rg,r.toISOString())}catch(t){console.error("Error saving products lastUpdated to localStorage:",t)}}function dE(){try{const r=localStorage.getItem(CT);if(r)return JSON.parse(r).map(i=>({...i,createdAt:new Date(i.createdAt)}))}catch(r){console.error("Error reading reviews from localStorage:",r)}return null}function pu(r){try{localStorage.setItem(CT,JSON.stringify(r))}catch(t){console.error("Error saving reviews to localStorage:",t)}}function oR(){try{const r=localStorage.getItem(jT);if(r)return new Date(r)}catch(r){console.error("Error reading reviews lastUpdated from localStorage:",r)}return null}function yu(r){try{localStorage.setItem(jT,r.toISOString())}catch(t){console.error("Error saving reviews lastUpdated to localStorage:",t)}}function cR(){try{const r=new(window.AudioContext||window.webkitAudioContext),t=r.createOscillator(),i=r.createGain();t.connect(i),i.connect(r.destination),t.frequency.setValueAtTime(800,r.currentTime),t.frequency.setValueAtTime(1e3,r.currentTime+.1),t.type="sine",i.gain.setValueAtTime(.3,r.currentTime),i.gain.exponentialRampToValueAtTime(.01,r.currentTime+.3),t.start(r.currentTime),t.stop(r.currentTime+.3)}catch(r){console.error("Error playing notification sound:",r)}}function uR(){const[r,t]=k.useState("orders"),[i,s]=k.useState([]),[o,u]=k.useState(!0),[m,p]=k.useState(null),v=k.useRef(new Set),y=k.useRef(null),T=k.useRef(!0),[S,A]=k.useState([]),[V,U]=k.useState(!1),[P,H]=k.useState(!1),[Z,ee]=k.useState([]),[se,ge]=k.useState(!0),[oe,_e]=k.useState(null),[N,w]=k.useState(""),[R,M]=k.useState(null),[D,L]=k.useState(!1),[C,He]=k.useState(!1),[ve,Q]=k.useState([]),[le,B]=k.useState(!0),[de,he]=k.useState(null),I=()=>{try{const X=localStorage.getItem("admin_todays_orders");if(!X)return null;const ae=JSON.parse(X),Ee=new Date(ae.date),be=new Date;return Ee.getDate()!==be.getDate()||Ee.getMonth()!==be.getMonth()||Ee.getFullYear()!==be.getFullYear()?null:ae.orders}catch(X){return console.error("Error reading today's orders from localStorage:",X),null}},J=X=>{try{localStorage.setItem("admin_todays_orders",JSON.stringify({date:new Date().toISOString(),orders:X}))}catch(ae){console.error("Error saving today's orders to localStorage:",ae)}},ce=(X,ae)=>{try{const Ee=I();if(Ee){const be=Ee.map(Fe=>Fe.id===X?{...Fe,status:ae}:Fe);J(be),P&&A(be)}}catch(Ee){console.error("Error updating stored order status:",Ee)}};async function fe(X=!1){try{u(!0),p(null);const ae=await cE(!0,!0);s(ae),X&&v.current.clear(),ae.forEach(Ee=>{Ee.id&&v.current.add(Ee.id)})}catch(ae){console.error("Error loading orders:",ae),p("Kunne ikke indlse ordrer. Prv venligst igen.")}finally{u(!1)}}async function Ae(){try{U(!0);const X=I();if(X&&X.length>0){A(X),U(!1);return}const ae=await cE(!0,!1);A(ae),J(ae)}catch(X){console.error("Error loading all today's orders:",X),alert("Kunne ikke indlse alle dagens ordrer. Prv venligst igen.")}finally{U(!1)}}async function Re(){try{ge(!0),_e(null);const X=await mo(),ae=lR(),Ee=hE();if(Ee&&ae&&X&&Math.abs(X.getTime()-ae.getTime())<1e3){console.log("Using cached products (metadata unchanged)"),ee(Ee),ge(!1);return}console.log("Fetching products from Firebase (metadata changed or no cache)");const be=await im();ee(be),Df(be),X&&If(X)}catch(X){console.error("Error loading products:",X),_e("Kunne ikke indlse produkter. Prv venligst igen.");const ae=hE();ae&&(console.log("Using cached products as fallback"),ee(ae))}finally{ge(!1)}}async function Me(){try{B(!0),he(null);const X=await Ls(),ae=oR(),Ee=dE();if(Ee&&ae&&X&&Math.abs(X.getTime()-ae.getTime())<1e3){console.log("Using cached reviews (metadata unchanged)"),Q(Ee),B(!1);return}console.log("Fetching reviews from Firebase (metadata changed or no cache)");const be=await rm(void 0,!0);Q(be),pu(be),X&&yu(X)}catch(X){console.error("Error loading reviews:",X),he("Kunne ikke indlse anmeldelser. Prv venligst igen.");const ae=dE();ae&&(console.log("Using cached reviews as fallback"),Q(ae))}finally{B(!1)}}k.useEffect(()=>(r==="orders"?(fe(),T.current=!0,y.current=iR(X=>{if(T.current)s(X),X.forEach(ae=>{ae.id&&v.current.add(ae.id)}),T.current=!1,u(!1);else{const ae=v.current,Ee=X.filter(be=>be.id&&!ae.has(be.id));Ee.length>0&&(document.hidden||cR(),s(be=>{const Fe=new Set(be.map(ai=>ai.id));return[...Ee.filter(ai=>ai.id&&!Fe.has(ai.id)),...be].sort((ai,Ga)=>{const Ut=an=>an.createdAt instanceof Date?an.createdAt.getTime():an.createdAt&&typeof an.createdAt=="object"&&"toDate"in an.createdAt?an.createdAt.toDate().getTime():new Date(an.createdAt).getTime();return Ut(Ga)-Ut(ai)})}),Ee.forEach(be=>{be.id&&v.current.add(be.id)}))}},X=>{console.error("Error in orders subscription:",X),p("Fejl ved real-time opdatering af ordrer.")},!0,!0)):r==="products"?Re():r==="reviews"&&Me(),()=>{y.current&&(y.current(),y.current=null)}),[r]),k.useEffect(()=>()=>{y.current&&(y.current(),y.current=null)},[]);async function _t(){if(confirm("Er du sikker p, at du vil initialisere alle produkter? Dette kan oprette dubletter hvis produkter allerede findes.")){L(!0),He(!1),_e(null);try{await sR(),He(!0),localStorage.removeItem(ig),localStorage.removeItem(rg),await Re(),setTimeout(()=>He(!1),5e3)}catch(X){console.error("Error initializing products:",X),_e("Kunne ikke initialisere produkter. Tjek konsollen for detaljer.")}finally{L(!1)}}}async function st(X,ae){try{await tR(X,ae),s(ae==="ready"?Ee=>Ee.filter(be=>be.id!==X):Ee=>Ee.map(be=>be.id===X?{...be,status:ae}:be)),ce(X,ae),P&&A(Ee=>Ee.map(be=>be.id===X?{...be,status:ae}:be))}catch(Ee){console.error("Error updating order status:",Ee),alert("Kunne ikke opdatere ordrestatus. Prv venligst igen.")}}async function Li(X,ae){try{await GN(X,ae);const Ee=Z.map(Fe=>Fe.id===X?{...Fe,...ae}:Fe);ee(Ee),Df(Ee);const be=await mo();be&&If(be),M(null),alert("Produkt opdateret med succes!")}catch(Ee){console.error("Error updating product:",Ee),alert("Kunne ikke opdatere produkt. Prv venligst igen.")}}async function fr(X){if(confirm("Er du sikker p, at du vil slette dette produkt?"))try{await KN(X);const ae=Z.filter(be=>be.id!==X);ee(ae),Df(ae);const Ee=await mo();Ee&&If(Ee),alert("Produkt slettet!")}catch(ae){console.error("Error deleting product:",ae),alert("Kunne ikke slette produkt. Prv venligst igen.")}}async function mr(X){try{await rE(X,{approved:!0});const ae=ve.map(be=>be.id===X?{...be,approved:!0}:be);Q(ae),pu(ae);const Ee=await Ls();Ee&&yu(Ee),alert("Anmeldelse godkendt!")}catch(ae){console.error("Error approving review:",ae),alert("Kunne ikke godkende anmeldelse. Prv venligst igen.")}}async function gr(X){if(confirm("Er du sikker p, at du vil afvise denne anmeldelse?"))try{await rE(X,{approved:!1});const ae=ve.map(be=>be.id===X?{...be,approved:!1}:be);Q(ae),pu(ae);const Ee=await Ls();Ee&&yu(Ee),alert("Anmeldelse afvist!")}catch(ae){console.error("Error rejecting review:",ae),alert("Kunne ikke afvise anmeldelse. Prv venligst igen.")}}async function Rn(X){if(confirm("Er du sikker p, at du vil slette denne anmeldelse?"))try{await $N(X);const ae=ve.filter(be=>be.id!==X);Q(ae),pu(ae);const Ee=await Ls();Ee&&yu(Ee),alert("Anmeldelse slettet!")}catch(ae){console.error("Error deleting review:",ae),alert("Kunne ikke slette anmeldelse. Prv venligst igen.")}}return d.jsx("main",{className:"admin-page",children:d.jsxs("div",{className:"admin-container",children:[d.jsx("h1",{className:"admin-title",children:"Admin Panel"}),d.jsxs("div",{className:"admin-tabs",children:[d.jsxs("button",{className:`admin-tab ${r==="orders"?"active":""}`,onClick:()=>t("orders"),children:[" Ordrer (",i.length,")"]}),d.jsxs("button",{className:`admin-tab ${r==="products"?"active":""}`,onClick:()=>t("products"),children:[" Produkter (",Z.length,")"]}),d.jsxs("button",{className:`admin-tab ${r==="reviews"?"active":""}`,onClick:()=>t("reviews"),children:[" Anmeldelser (",ve.length,")"]})]}),r==="orders"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Ordre Administration"}),d.jsx("button",{onClick:()=>fe(!0),className:"btn-refresh",disabled:o,children:o?"Indlser...":" Opdater"})]}),d.jsxs("div",{className:"todays-orders-subsection",children:[d.jsxs("div",{className:"todays-orders-header",children:[d.jsxs("h3",{className:"todays-orders-title",children:["Alle Dagens Ordrer (",S.length,")"]}),d.jsxs("div",{className:"todays-orders-actions",children:[P&&d.jsx("button",{onClick:()=>{localStorage.removeItem("admin_todays_orders"),Ae()},className:"btn-refresh btn-small",disabled:V,children:V?"Indlser...":" Opdater"}),d.jsx("button",{onClick:()=>{P?H(!1):(H(!0),Ae())},className:"btn-refresh btn-small",disabled:V,children:P?" Skjul":" Vis Alle Dagens Ordrer"})]})]}),P&&d.jsx("div",{children:V?d.jsx("div",{className:"loading-state",children:"Indlser alle dagens ordrer..."}):S.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer i dag endnu."}):d.jsx("div",{className:"orders-list",children:S.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:ae=>st(X.id,ae.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(ae=>d.jsxs("li",{children:[ae.qty,"  ",ae.name,"  DKK ",(ae.price*ae.qty).toFixed(2)]},ae.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})})]}),m&&d.jsx("div",{className:"alert alert-error",children:m}),o?d.jsx("div",{className:"loading-state",children:"Indlser ordrer..."}):i.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer endnu."}):d.jsx("div",{className:"orders-list",children:i.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:ae=>st(X.id,ae.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(ae=>d.jsxs("li",{children:[ae.qty,"  ",ae.name,"  DKK ",(ae.price*ae.qty).toFixed(2)]},ae.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})]}),r==="products"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Produkt Administration"}),d.jsx("div",{className:"section-actions",children:d.jsx("button",{onClick:Re,className:"btn-refresh",disabled:se,children:se?"Indlser...":" Opdater"})})]}),C&&d.jsx("div",{className:"alert alert-success",children:" Produkter blev initialiseret med succes!"}),oe&&d.jsx("div",{className:"alert alert-error",children:oe}),se?d.jsx("div",{className:"loading-state",children:"Indlser produkter..."}):Z.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"Ingen produkter endnu."}),d.jsx("button",{onClick:_t,className:"btn-init",disabled:D,children:D?"Initialiserer...":"Initialiser Produkter"})]}):d.jsxs(d.Fragment,{children:[R&&d.jsx(hR,{product:R,onSave:X=>Li(R.id,X),onCancel:()=>M(null)}),d.jsxs("div",{className:"products-search-container",children:[d.jsx("input",{type:"text",placeholder:" Sg efter produkter (navn, kategori, beskrivelse, tags, ingredienser)...",value:N,onChange:X=>w(X.target.value),className:"products-search-input"}),N&&d.jsx("button",{onClick:()=>w(""),className:"products-search-clear",title:"Ryd sgning",children:""})]}),(()=>{const X=Z.filter(ae=>{if(!N.trim())return!0;const Ee=N.toLowerCase();return[ae.name,ae.category,ae.desc,...ae.tags||[],...ae.ingredients?.map(Fe=>Fe.name)||[]].join(" ").toLowerCase().includes(Ee)});return X.length===0&&N?d.jsxs("div",{className:"empty-state",children:[d.jsxs("p",{children:['Ingen produkter fundet for "',N,'"']}),d.jsx("button",{onClick:()=>w(""),className:"btn-refresh",children:"Ryd sgning"})]}):d.jsx("div",{className:"products-grid",children:X.map(ae=>d.jsxs("div",{className:"product-card",children:[d.jsxs("div",{className:"product-header",children:[d.jsx("img",{src:`./assets/${ae.image}`,alt:ae.name}),d.jsxs("div",{children:[d.jsx("div",{className:"product-name",children:ae.name}),d.jsx("div",{className:"product-category",children:ae.category})]}),d.jsxs("div",{className:"product-price",children:["DKK ",ae.price.toFixed(2)]})]}),d.jsx("div",{className:"product-desc",children:ae.desc}),ae.ingredients&&ae.ingredients.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tilvalg:"}),d.jsx("ul",{children:ae.ingredients.map((Ee,be)=>d.jsxs("li",{children:[Ee.name,Ee.extraPrice&&` (+DKK ${Ee.extraPrice})`]},be))})]}),ae.tags&&ae.tags.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tags:"}),d.jsx("ul",{children:ae.tags.map((Ee,be)=>d.jsx("li",{children:Ee},be))})]}),d.jsxs("div",{className:"product-actions",children:[d.jsx("button",{onClick:()=>M(ae),className:"btn-edit",children:" Rediger"}),d.jsx("button",{onClick:()=>fr(ae.id),className:"btn-delete",children:" Slet"})]})]},ae.id))})})(),N&&d.jsxs("div",{className:"products-search-results-info",children:["Viser ",Z.filter(X=>{const ae=N.toLowerCase();return[X.name,X.category,X.desc,...X.tags||[],...X.ingredients?.map(be=>be.name)||[]].join(" ").toLowerCase().includes(ae)}).length," af ",Z.length," produkter"]})]})]}),r==="reviews"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Anmeldelses Administration"}),d.jsx("button",{onClick:Me,className:"btn-refresh",disabled:le,children:le?"Indlser...":" Opdater"})]}),de&&d.jsx("div",{className:"alert alert-error",children:de}),le?d.jsx("div",{className:"loading-state",children:"Indlser anmeldelser..."}):ve.length===0?d.jsx("div",{className:"empty-state",children:"Ingen anmeldelser endnu."}):d.jsx("div",{className:"reviews-list",children:ve.map(X=>d.jsxs("div",{className:`review-card-admin ${X.approved===!1?"review-rejected":X.approved===!0?"review-approved":"review-pending"}`,children:[d.jsxs("div",{className:"review-card-header",children:[d.jsxs("div",{className:"review-info",children:[d.jsx("div",{className:"review-author",children:X.author}),d.jsxs("div",{className:"review-rating",children:["".repeat(X.rating),"".repeat(5-X.rating)]}),d.jsx("div",{className:"review-date",children:X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")})]}),d.jsx("div",{className:"review-status",children:X.approved===!0?d.jsx("span",{className:"status-badge status-approved",children:" Godkendt"}):X.approved===!1?d.jsx("span",{className:"status-badge status-rejected",children:" Afvist"}):d.jsx("span",{className:"status-badge status-pending",children:" Afventer"})})]}),d.jsxs("div",{className:"review-text-admin",children:['"',X.text,'"']}),d.jsxs("div",{className:"review-actions",children:[X.approved!==!0&&d.jsx("button",{onClick:()=>mr(X.id),className:"btn-approve",children:" Godkend"}),X.approved!==!1&&d.jsx("button",{onClick:()=>gr(X.id),className:"btn-reject",children:" Afvis"}),d.jsx("button",{onClick:()=>Rn(X.id),className:"btn-delete",children:" Slet"})]})]},X.id))})]})]})})}function hR({product:r,onSave:t,onCancel:i}){const[s,o]=k.useState(r.name),[u,m]=k.useState(r.desc),[p,v]=k.useState(r.price.toString()),[y,T]=k.useState(r.category),[S,A]=k.useState(r.image),[V,U]=k.useState(r.tags||[]),[P,H]=k.useState(r.ingredients||[]);function Z(oe){oe.preventDefault(),t({name:s,desc:u,price:parseFloat(p),category:y,image:S,tags:V.length>0?V:[],ingredients:P.length>0?P:[]})}function ee(){H([...P,{name:"",extraPrice:void 0}])}function se(oe){H(P.filter((_e,N)=>N!==oe))}function ge(oe,_e,N){const w=[...P];w[oe]={...w[oe],[_e]:_e==="extraPrice"?N===""?void 0:Number(N):N},H(w)}return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-backdrop",onClick:i}),d.jsxs("div",{className:"product-edit-form",children:[d.jsx("h3",{children:"Rediger Produkt"}),d.jsxs("form",{onSubmit:Z,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Navn"}),d.jsx("input",{type:"text",value:s,onChange:oe=>o(oe.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Kategori"}),d.jsxs("select",{value:y,onChange:oe=>T(oe.target.value),required:!0,children:[d.jsx("option",{value:"Pizza",children:"Pizza"}),d.jsx("option",{value:"Grill",children:"Grill"}),d.jsx("option",{value:"Sides",children:"Sides"}),d.jsx("option",{value:"Drinks",children:"Drinks"})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Beskrivelse"}),d.jsx("textarea",{value:u,onChange:oe=>m(oe.target.value),required:!0,rows:3})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("div",{className:"form-group-header",children:[d.jsx("label",{children:"Tilvalg (Ingredienser)"}),d.jsx("button",{type:"button",onClick:ee,className:"btn-add-small",children:"+ Tilfj tilvalg"})]}),P.length===0?d.jsx("p",{className:"form-hint",children:'Ingen tilvalg tilfjet. Klik p "Tilfj tilvalg" for at tilfje.'}):d.jsx("div",{className:"ingredients-list",children:P.map((oe,_e)=>d.jsxs("div",{className:"ingredient-item",children:[d.jsx("input",{type:"text",placeholder:"Navn p tilvalg",value:oe.name,onChange:N=>ge(_e,"name",N.target.value),className:"ingredient-name"}),d.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ekstra pris (valgfrit)",value:oe.extraPrice||"",onChange:N=>ge(_e,"extraPrice",N.target.value),className:"ingredient-price"}),d.jsx("button",{type:"button",onClick:()=>se(_e),className:"btn-remove",children:""})]},_e))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tags"}),d.jsx("div",{className:"tags-checkbox-group",children:[{value:"vegetarian",label:" Vegetar"},{value:"vegan",label:" Vegansk"},{value:"spicy",label:" Strk"},{value:"glutenfree",label:" Glutenfri"},{value:"halal",label:" Halal"},{value:"popular",label:" Populr"}].map(oe=>d.jsxs("label",{className:"tag-checkbox-label",children:[d.jsx("input",{type:"checkbox",value:oe.value,checked:V.includes(oe.value),onChange:_e=>{_e.target.checked?U([...V,oe.value]):U(V.filter(N=>N!==oe.value))},className:"tag-checkbox"}),d.jsx("span",{className:"tag-checkbox-text",children:oe.label})]},oe.value))}),V.length>0&&d.jsxs("div",{className:"selected-tags",children:[d.jsx("strong",{children:"Valgte tags:"})," ",V.join(", ")]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Pris (DKK)"}),d.jsx("input",{type:"number",step:"0.01",value:p,onChange:oe=>v(oe.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Billede filnavn"}),d.jsx("input",{type:"text",value:S,onChange:oe=>A(oe.target.value),required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Gem"}),d.jsx("button",{type:"button",onClick:i,className:"btn-cancel",children:"Annuller"})]})]})]})]})}function dR(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Om os"}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{className:"text-gray-700",children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]})})}function fR(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Kontakt"}),d.jsx("p",{className:"mb-4 text-gray-700",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kontaktoplysninger"}),d.jsxs("p",{className:"text-gray-700",children:["Telefon: ",d.jsx("strong",{children:"70 12 34 56"})]}),d.jsxs("p",{className:"text-gray-700",children:["E-mail: ",d.jsx("strong",{children:"info@pizza-grill.dk"})]}),d.jsxs("p",{className:"text-gray-700",children:["Adresse: ",d.jsx("strong",{children:"Hovedgade 123, 1234 By"})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Skriv til os"}),d.jsxs("form",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Navn"}),d.jsx("input",{className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"E-mail"}),d.jsx("input",{type:"email",className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Besked"}),d.jsx("textarea",{rows:4,className:"w-full p-2 border rounded"})]}),d.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",children:"Send besked"})]})]})]})})}function mR(){return d.jsx("main",{className:"privacy-policy-page",children:d.jsxs("div",{className:"privacy-policy-container",children:[d.jsx("h1",{className:"privacy-policy-title",children:"Privatlivspolitik"}),d.jsxs("p",{className:"privacy-policy-updated",children:["Sidst opdateret: ",new Date().toLocaleDateString("da-DK",{year:"numeric",month:"long",day:"numeric"})]}),d.jsxs("div",{className:"privacy-policy-content",children:[d.jsx("section",{className:"privacy-section",children:d.jsx("p",{className:"privacy-intro",children:'Denne privatlivspolitik forklarer, hvordan Xanthos Pizza & Grill ("vi", "os" eller "vores") indsamler, bruger og beskytter dine personoplysninger, nr du bruger vores hjemmeside og bestiller gennem vores tjenester. Vi respekterer dit privatliv og er forpligtet til at beskytte dine personoplysninger i overensstemmelse med GDPR (Generel Dataforordning).'})}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"1. Hvilke oplysninger indsamler vi?"}),d.jsx("p",{children:"Vi indsamler kun de oplysninger, der er ndvendige for at behandle og levere din bestilling:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Kontaktoplysninger:"})," Navn, telefonnummer, e-mailadresse og leveringsadresse"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Bestillingsoplysninger:"})," Detaljer om dine bestilte produkter, antal og srlige instruktioner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsoplysninger:"})," Betalingsmetode (kort eller MobilePay) - betalingsoplysninger behandles sikkert af vores betalingsudbyder og gemmes aldrig p vores servere"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Tekniske oplysninger:"})," IP-adresse, browser-type og enhedsoplysninger (automatisk indsamlet)"]})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"2. Hvordan bruger vi dine oplysninger?"}),d.jsx("p",{children:"Vi bruger dine personoplysninger til flgende forml:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"At behandle og levere din bestilling"}),d.jsx("li",{children:"At kommunikere med dig vedrrende din bestilling (bekrftelse, opdateringer, problemer)"}),d.jsx("li",{children:"At hndtere betalinger gennem vores betalingsudbydere"}),d.jsx("li",{children:"At opfylde juridiske forpligtelser (f.eks. regnskabsfring)"}),d.jsx("li",{children:"At forbedre vores tjenester og brugeroplevelse"}),d.jsx("li",{children:"At hndtere klager og henvendelser"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"3. Cookies og lokal lagring"}),d.jsx("p",{children:"Vi bruger ikke tracking- eller marketingcookies. Vi bruger kun ndvendige cookies og lokal lagring for at sikre, at hjemmesiden fungerer korrekt:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Session cookies:"})," For at huske din indkbskurv under din besg"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Lokal lagring:"})," For at gemme din kurv, s den ikke forsvinder, hvis du lukker browseren"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Produktcache:"})," For at forbedre indlsningstiden ved at cache produktdata lokalt"]})]}),d.jsx("p",{children:"Du kan til enhver tid slette cookies og lokal lagring gennem dine browserindstillinger. Dette kan pvirke funktionaliteten af hjemmesiden."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"4. Deling af oplysninger"}),d.jsx("p",{children:"Vi deler kun dine oplysninger med:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsudbydere:"})," For at behandle betalinger (kortoplysninger behandles sikkert og gemmes ikke hos os)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Leveringspartnere:"})," Hvis du vlger levering, deler vi din adresse med vores leveringspartner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Juridiske myndigheder:"})," Hvis det er pkrvet ved lov eller retslig ordre"]})]}),d.jsx("p",{children:"Vi slger eller udlejer aldrig dine personoplysninger til tredjeparter til markedsfringsforml."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"5. Databehandling og opbevaring"}),d.jsx("p",{children:"Vi opbevarer dine personoplysninger kun s lnge, det er ndvendigt for at:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Opfylde din bestilling og levere tjenesten"}),d.jsx("li",{children:"Opfylde juridiske forpligtelser (f.eks. regnskabsfring i 5 r)"}),d.jsx("li",{children:"Hndtere eventuelle klager eller retskrav"})]}),d.jsx("p",{children:"Efter opbevaringsperioden slettes eller anonymiseres dine personoplysninger sikkert."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"6. Dine rettigheder"}),d.jsx("p",{children:"I henhold til GDPR har du flgende rettigheder:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigt:"})," Du kan anmode om at se, hvilke personoplysninger vi har om dig"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til berigtigelse:"})," Du kan anmode om rettelse af forkerte eller ufuldstndige oplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til sletning:"})," Du kan anmode om sletning af dine personoplysninger (med visse undtagelser)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til dataportabilitet:"})," Du kan anmode om at modtage dine data i et struktureret format"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigelse:"})," Du kan gre indsigelse mod behandling af dine personoplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til begrnsning:"})," Du kan anmode om begrnsning af behandlingen af dine oplysninger"]})]}),d.jsxs("p",{children:["For at udve disse rettigheder, kontakt os p"," ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"7. Datasikkerhed"}),d.jsx("p",{children:"Vi implementerer passende tekniske og organisatoriske foranstaltninger for at beskytte dine personoplysninger mod uautoriseret adgang, tab, delggelse eller ndring:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Krypteret datatransmission (HTTPS/SSL)"}),d.jsx("li",{children:"Sikker betalingsbehandling gennem certificerede betalingsudbydere"}),d.jsx("li",{children:"Begrnset adgang til personoplysninger (kun autoriseret personale)"}),d.jsx("li",{children:"Regelmssige sikkerhedsopdateringer og -revisioner"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"8. Brns privatliv"}),d.jsx("p",{children:"Vores tjenester er ikke mlrettet brn under 18 r. Vi indsamler bevidst ikke personoplysninger fra brn. Hvis du er forlder eller vrge og opdager, at dit barn har givet os personoplysninger, kontakt os, s vi kan slette disse oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"9. ndringer i privatlivspolitikken"}),d.jsx("p",{children:"Vi kan opdatere denne privatlivspolitik fra tid til tid. Vsentlige ndringer vil blive meddelt p hjemmesiden eller via e-mail. Vi opfordrer dig til at gennemg denne side jvnligt for at holde dig informeret om, hvordan vi beskytter dine oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"10. Kontakt os"}),d.jsx("p",{children:"Hvis du har sprgsml, bekymringer eller nsker at udve dine rettigheder vedrrende denne privatlivspolitik, kan du kontakte os:"}),d.jsxs("div",{className:"privacy-contact",children:[d.jsx("p",{children:d.jsx("strong",{children:"Xanthos Pizza & Grill"})}),d.jsxs("p",{children:["E-mail: ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]}),d.jsxs("p",{children:["Telefon: ",d.jsx("a",{href:"tel:+4570123456",className:"privacy-link",children:"70 12 34 56"})]})]}),d.jsx("p",{children:"Du har ogs ret til at klage til Datatilsynet, hvis du mener, at vi behandler dine personoplysninger i strid med gldende lovgivning."})]})]})]})})}function gR(){const r=aa();return k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[r.pathname]),null}function pR(){return d.jsx(jS,{basename:"/xantos-pizza-grill/",children:d.jsx(PS,{children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(HS,{}),d.jsxs("div",{className:"flex-1 app-bg",children:[d.jsx(gR,{}),d.jsxs(lS,{children:[d.jsx(qn,{path:"/",element:d.jsx(JN,{})}),d.jsx(qn,{path:"/menu",element:d.jsx(iE,{})}),d.jsx(qn,{path:"/bestil",element:d.jsx(iE,{})}),d.jsx(qn,{path:"/om-os",element:d.jsx(dR,{})}),d.jsx(qn,{path:"/kontakt",element:d.jsx(fR,{})}),d.jsx(qn,{path:"/privacy",element:d.jsx(mR,{})}),d.jsx(qn,{path:"/cart",element:d.jsx(WN,{})}),d.jsx(qn,{path:"/checkout",element:d.jsx(rR,{})}),d.jsx(qn,{path:"/confirmation/:orderId",element:d.jsx(yR,{})}),d.jsx(qn,{path:"/admin",element:d.jsx(uR,{})}),d.jsx(qn,{path:"*",element:d.jsx(vR,{})})]})]}),d.jsx(FS,{})]})})})}function yR(){const r=window.location.pathname.split("/"),t=r[r.length-1];return d.jsx(aR,{orderId:t})}function vR(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow",children:["Page not found  ",d.jsx(ht,{to:"/",children:"Go home"})]})})}pb.createRoot(document.getElementById("root")).render(d.jsx(k.StrictMode,{children:d.jsx(pR,{})}));
