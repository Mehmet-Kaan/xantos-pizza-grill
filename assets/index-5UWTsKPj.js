(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Gp={exports:{}},xc={};var UE;function bI(){if(UE)return xc;UE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var m in a)m!=="key"&&(l[m]=a[m])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return xc.Fragment=e,xc.jsx=n,xc.jsxs=n,xc}var zE;function xI(){return zE||(zE=1,Gp.exports=bI()),Gp.exports}var d=xI(),Kp={exports:{}},Be={};var BE;function wI(){if(BE)return Be;BE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function O(x,Y,re){this.props=x,this.context=Y,this.refs=P,this.updater=re||j}O.prototype.isReactComponent={},O.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},O.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=O.prototype;function q(x,Y,re){this.props=x,this.context=Y,this.refs=P,this.updater=re||j}var pe=q.prototype=new G;pe.constructor=q,z(pe,O.prototype),pe.isPureReactComponent=!0;var se=Array.isArray;function ae(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(x,Y,re){var he=re.ref;return{$$typeof:t,type:x,key:Y,ref:he!==void 0?he:null,props:re}}function V(x,Y){return D(x.type,Y,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function B(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(re){return Y[re]})}var k=/\/+/g;function Ue(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?B(""+x.key):Y.toString(36)}function Ve(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ae,ae):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ee(x,Y,re,he,ge){var ve=typeof x;(ve==="undefined"||ve==="boolean")&&(x=null);var U=!1;if(x===null)U=!0;else switch(ve){case"bigint":case"string":case"number":U=!0;break;case"object":switch(x.$$typeof){case t:case e:U=!0;break;case v:return U=x._init,ee(U(x._payload),Y,re,he,ge)}}if(U)return ge=ge(x),U=he===""?"."+Ue(x,0):he,se(ge)?(re="",U!=null&&(re=U.replace(k,"$&/")+"/"),ee(ge,Y,re,"",function(ye){return ye})):ge!=null&&(M(ge)&&(ge=V(ge,re+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(k,"$&/")+"/")+U)),Y.push(ge)),1;U=0;var Q=he===""?".":he+":";if(se(x))for(var te=0;te<x.length;te++)he=x[te],ve=Q+Ue(he,te),U+=ee(he,Y,re,ve,ge);else if(te=R(x),typeof te=="function")for(x=te.call(x),te=0;!(he=x.next()).done;)he=he.value,ve=Q+Ue(he,te++),U+=ee(he,Y,re,ve,ge);else if(ve==="object"){if(typeof x.then=="function")return ee(Ve(x),Y,re,he,ge);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return U}function fe(x,Y,re){if(x==null)return x;var he=[],ge=0;return ee(x,he,"","",function(ve){return Y.call(re,ve,ge++)}),he}function Ee(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(re){(x._status===0||x._status===-1)&&(x._status=1,x._result=re)},function(re){(x._status===0||x._status===-1)&&(x._status=2,x._result=re)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var De=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},H={map:fe,forEach:function(x,Y,re){fe(x,function(){Y.apply(this,arguments)},re)},count:function(x){var Y=0;return fe(x,function(){Y++}),Y},toArray:function(x){return fe(x,function(Y){return Y})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Be.Activity=_,Be.Children=H,Be.Component=O,Be.Fragment=n,Be.Profiler=a,Be.PureComponent=q,Be.StrictMode=s,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Be.__COMPILER_RUNTIME={__proto__:null,c:function(x){return N.H.useMemoCache(x)}},Be.cache=function(x){return function(){return x.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(x,Y,re){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var he=z({},x.props),ge=x.key;if(Y!=null)for(ve in Y.key!==void 0&&(ge=""+Y.key),Y)!A.call(Y,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Y.ref===void 0||(he[ve]=Y[ve]);var ve=arguments.length-2;if(ve===1)he.children=re;else if(1<ve){for(var U=Array(ve),Q=0;Q<ve;Q++)U[Q]=arguments[Q+2];he.children=U}return D(x.type,ge,he)},Be.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Be.createElement=function(x,Y,re){var he,ge={},ve=null;if(Y!=null)for(he in Y.key!==void 0&&(ve=""+Y.key),Y)A.call(Y,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ge[he]=Y[he]);var U=arguments.length-2;if(U===1)ge.children=re;else if(1<U){for(var Q=Array(U),te=0;te<U;te++)Q[te]=arguments[te+2];ge.children=Q}if(x&&x.defaultProps)for(he in U=x.defaultProps,U)ge[he]===void 0&&(ge[he]=U[he]);return D(x,ve,ge)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(x){return{$$typeof:m,render:x}},Be.isValidElement=M,Be.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Ee}},Be.memo=function(x,Y){return{$$typeof:g,type:x,compare:Y===void 0?null:Y}},Be.startTransition=function(x){var Y=N.T,re={};N.T=re;try{var he=x(),ge=N.S;ge!==null&&ge(re,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ae,De)}catch(ve){De(ve)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),N.T=Y}},Be.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Be.use=function(x){return N.H.use(x)},Be.useActionState=function(x,Y,re){return N.H.useActionState(x,Y,re)},Be.useCallback=function(x,Y){return N.H.useCallback(x,Y)},Be.useContext=function(x){return N.H.useContext(x)},Be.useDebugValue=function(){},Be.useDeferredValue=function(x,Y){return N.H.useDeferredValue(x,Y)},Be.useEffect=function(x,Y){return N.H.useEffect(x,Y)},Be.useEffectEvent=function(x){return N.H.useEffectEvent(x)},Be.useId=function(){return N.H.useId()},Be.useImperativeHandle=function(x,Y,re){return N.H.useImperativeHandle(x,Y,re)},Be.useInsertionEffect=function(x,Y){return N.H.useInsertionEffect(x,Y)},Be.useLayoutEffect=function(x,Y){return N.H.useLayoutEffect(x,Y)},Be.useMemo=function(x,Y){return N.H.useMemo(x,Y)},Be.useOptimistic=function(x,Y){return N.H.useOptimistic(x,Y)},Be.useReducer=function(x,Y,re){return N.H.useReducer(x,Y,re)},Be.useRef=function(x){return N.H.useRef(x)},Be.useState=function(x){return N.H.useState(x)},Be.useSyncExternalStore=function(x,Y,re){return N.H.useSyncExternalStore(x,Y,re)},Be.useTransition=function(){return N.H.useTransition()},Be.version="19.2.4",Be}var FE;function Iy(){return FE||(FE=1,Kp.exports=wI()),Kp.exports}var I=Iy(),Yp={exports:{}},wc={},$p={exports:{}},Qp={};var qE;function AI(){return qE||(qE=1,(function(t){function e(ee,fe){var Ee=ee.length;ee.push(fe);e:for(;0<Ee;){var De=Ee-1>>>1,H=ee[De];if(0<a(H,fe))ee[De]=fe,ee[Ee]=H,Ee=De;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],Ee=ee.pop();if(Ee!==fe){ee[0]=Ee;e:for(var De=0,H=ee.length,x=H>>>1;De<x;){var Y=2*(De+1)-1,re=ee[Y],he=Y+1,ge=ee[he];if(0>a(re,Ee))he<H&&0>a(ge,re)?(ee[De]=ge,ee[he]=Ee,De=he):(ee[De]=re,ee[Y]=Ee,De=Y);else if(he<H&&0>a(ge,Ee))ee[De]=ge,ee[he]=Ee,De=he;else break e}}return fe}function a(ee,fe){var Ee=ee.sortIndex-fe.sortIndex;return Ee!==0?Ee:ee.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var p=[],g=[],v=1,_=null,S=3,R=!1,j=!1,z=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function pe(ee){for(var fe=n(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=ee)s(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=n(g)}}function se(ee){if(z=!1,pe(ee),!j)if(n(p)!==null)j=!0,ae||(ae=!0,B());else{var fe=n(g);fe!==null&&Ve(se,fe.startTime-ee)}}var ae=!1,N=-1,A=5,D=-1;function V(){return P?!0:!(t.unstable_now()-D<A)}function M(){if(P=!1,ae){var ee=t.unstable_now();D=ee;var fe=!0;try{e:{j=!1,z&&(z=!1,G(N),N=-1),R=!0;var Ee=S;try{t:{for(pe(ee),_=n(p);_!==null&&!(_.expirationTime>ee&&V());){var De=_.callback;if(typeof De=="function"){_.callback=null,S=_.priorityLevel;var H=De(_.expirationTime<=ee);if(ee=t.unstable_now(),typeof H=="function"){_.callback=H,pe(ee),fe=!0;break t}_===n(p)&&s(p),pe(ee)}else s(p);_=n(p)}if(_!==null)fe=!0;else{var x=n(g);x!==null&&Ve(se,x.startTime-ee),fe=!1}}break e}finally{_=null,S=Ee,R=!1}fe=void 0}}finally{fe?B():ae=!1}}}var B;if(typeof q=="function")B=function(){q(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ue=k.port2;k.port1.onmessage=M,B=function(){Ue.postMessage(null)}}else B=function(){O(M,0)};function Ve(ee,fe){N=O(function(){ee(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var fe=3;break;default:fe=S}var Ee=S;S=fe;try{return ee()}finally{S=Ee}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ee=S;S=ee;try{return fe()}finally{S=Ee}},t.unstable_scheduleCallback=function(ee,fe,Ee){var De=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?De+Ee:De):Ee=De,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Ee+H,ee={id:v++,callback:fe,priorityLevel:ee,startTime:Ee,expirationTime:H,sortIndex:-1},Ee>De?(ee.sortIndex=Ee,e(g,ee),n(p)===null&&ee===n(g)&&(z?(G(N),N=-1):z=!0,Ve(se,Ee-De))):(ee.sortIndex=H,e(p,ee),j||R||(j=!0,ae||(ae=!0,B()))),ee},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ee){var fe=S;return function(){var Ee=S;S=fe;try{return ee.apply(this,arguments)}finally{S=Ee}}}})(Qp)),Qp}var HE;function RI(){return HE||(HE=1,$p.exports=AI()),$p.exports}var Xp={exports:{}},vn={};var GE;function CI(){if(GE)return vn;GE=1;var t=Iy();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},vn.flushSync=function(p){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=v,s.d.f()}},vn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},vn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,_=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},vn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},vn.requestFormReset=function(p){s.d.r(p)},vn.unstable_batchedUpdates=function(p,g){return p(g)},vn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},vn.version="19.2.4",vn}var KE;function NI(){if(KE)return Xp.exports;KE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xp.exports=CI(),Xp.exports}var YE;function II(){if(YE)return wc;YE=1;var t=RI(),e=Iy(),n=NI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return p(f),i;if(y===c)return p(f),r;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=y;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,c=y;break}if(w===c){E=!0,c=f,o=y;break}w=w.sibling}if(!E){for(w=y.child;w;){if(w===o){E=!0,o=y,c=f;break}if(w===c){E=!0,c=y,o=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),q=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case O:return"Profiler";case P:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case q:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case pe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Ue(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Ue(i(r))}catch{}}return null}var Ve=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},De=[],H=-1;function x(i){return{current:i}}function Y(i){0>H||(i.current=De[H],De[H]=null,H--)}function re(i,r){H++,De[H]=i.current,i.current=r}var he=x(null),ge=x(null),ve=x(null),U=x(null);function Q(i,r){switch(re(ve,r),re(ge,i),re(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?lE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=lE(r),i=cE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(he),re(he,i)}function te(){Y(he),Y(ge),Y(ve)}function ye(i){i.memoizedState!==null&&re(U,i);var r=he.current,o=cE(r,i.type);r!==o&&(re(ge,i),re(he,o))}function xe(i){ge.current===i&&(Y(he),Y(ge)),U.current===i&&(Y(U),Tc._currentValue=Ee)}var we,ke;function Ce(i){if(we===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);we=r&&r[1]||"",ke=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+i+ke}var Ke=!1;function lt(i,r){if(!i||Ke)return"";Ke=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var J=ie}Reflect.construct(i,[],de)}else{try{de.call()}catch(ie){J=ie}i.call(de.prototype)}}else{try{throw Error()}catch(ie){J=ie}(de=i())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&J&&typeof ie.stack=="string")return[ie.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],w=y[1];if(E&&w){var L=E.split(`
`),Z=w.split(`
`);for(f=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;if(c===L.length||f===Z.length)for(c=L.length-1,f=Z.length-1;1<=c&&0<=f&&L[c]!==Z[f];)f--;for(;1<=c&&0<=f;c--,f--)if(L[c]!==Z[f]){if(c!==1||f!==1)do if(c--,f--,0>f||L[c]!==Z[f]){var oe=`
`+L[c].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=c&&0<=f);break}}}finally{Ke=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ce(o):""}function Tt(i,r){switch(i.tag){case 26:case 27:case 5:return Ce(i.type);case 16:return Ce("Lazy");case 13:return i.child!==r&&r!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return lt(i.type,!1);case 11:return lt(i.type.render,!1);case 1:return lt(i.type,!0);case 31:return Ce("Activity");default:return""}}function Zt(i){try{var r="",o=null;do r+=Tt(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var nt=Object.prototype.hasOwnProperty,it=t.unstable_scheduleCallback,ei=t.unstable_cancelCallback,X=t.unstable_shouldYield,le=t.unstable_requestPaint,_e=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,Rt=t.unstable_ImmediatePriority,nr=t.unstable_UserBlockingPriority,Ei=t.unstable_NormalPriority,Fn=t.unstable_LowPriority,_s=t.unstable_IdlePriority,Si=t.log,In=t.unstable_setDisableYieldValue,qn=null,ln=null;function ti(i){if(typeof Si=="function"&&In(i),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(qn,i)}catch{}}var Pt=Math.clz32?Math.clz32:Ru,Au=Math.log,Wa=Math.LN2;function Ru(i){return i>>>=0,i===0?32:31-(Au(i)/Wa|0)|0}var zi=256,sa=262144,zt=4194304;function Bi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Fi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~y,c!==0?f=Bi(c):(E&=w,E!==0?f=Bi(E):o||(o=w&~i,o!==0&&(f=Bi(o))))):(w=c&~y,w!==0?f=Bi(w):E!==0?f=Bi(E):o||(o=c&~i,o!==0&&(f=Bi(o)))),f===0?0:r!==0&&r!==f&&(r&y)===0&&(y=f&-f,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:f}function bi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Qf(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var i=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),i}function qi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ra(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xf(i,r,o,c,f,y){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,L=i.expirationTimes,Z=i.hiddenUpdates;for(o=E&~o;0<o;){var oe=31-Pt(o),de=1<<oe;w[oe]=0,L[oe]=-1;var J=Z[oe];if(J!==null)for(Z[oe]=null,oe=0;oe<J.length;oe++){var ie=J[oe];ie!==null&&(ie.lane&=-536870913)}o&=~de}c!==0&&aa(i,c,0),y!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~r))}function aa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Pt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function wl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Pt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Al(i,r){var o=r&-r;return o=(o&42)!==0?1:oa(o),(o&(i.suspendedLanes|r))!==0?0:o}function oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ts(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nu(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:jE(i.type))}function xi(i,r){var o=fe.p;try{return fe.p=i,r()}finally{fe.p=o}}var wi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+wi,sn="__reactProps$"+wi,Hi="__reactContainer$"+wi,Za="__reactEvents$"+wi,Wf="__reactListeners$"+wi,Iu="__reactHandles$"+wi,Du="__reactResources$"+wi,Gi="__reactMarker$"+wi;function Ja(i){delete i[Bt],delete i[sn],delete i[Za],delete i[Wf],delete i[Iu]}function Ki(i){var r=i[Bt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Hi]||o[Bt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=gE(i);i!==null;){if(o=i[Bt])return o;i=gE(i)}return r}i=o,o=i.parentNode}return null}function ni(i){if(i=i[Bt]||i[Hi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Hn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Yi(i){var r=i[Du];return r||(r=i[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ft(i){i[Gi]=!0}var Rl=new Set,Cl={};function $i(i,r){Qi(i,r),Qi(i+"Capture",r)}function Qi(i,r){for(Cl[i]=r,i=0;i<r.length;i++)Rl.add(r[i])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Dl={};function ju(i){return nt.call(Dl,i)?!0:nt.call(Il,i)?!1:Nl.test(i)?Dl[i]=!0:(Il[i]=!0,!1)}function eo(i,r,o){if(ju(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Gn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ir(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,y=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ut(i){if(!i._valueTracker){var r=ir(i)?"checked":"value";i._valueTracker=jl(i,r,""+i[r])}}function la(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=ir(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ca=/[\n"\\]/g;function Dn(i){return i.replace(ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function to(i,r,o,c,f,y,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+rn(r)):i.value!==""+rn(r)&&(i.value=""+rn(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Ml(i,E,rn(r)):o!=null?Ml(i,E,rn(o)):c!=null&&i.removeAttribute("value"),f==null&&y!=null&&(i.defaultChecked=!!y),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+rn(w):i.removeAttribute("name")}function Mu(i,r,o,c,f,y,E,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){ut(i);return}o=o!=null?""+rn(o):"",r=r!=null?""+rn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),ut(i)}function Ml(i,r,o){r==="number"&&Xi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function sr(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+rn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function ku(i,r,o){if(r!=null&&(r=""+rn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+rn(o):""}function rr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ve(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=rn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ut(i)}function jn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Pu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Pl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&kl(i,f,c)}else for(var y in r)r.hasOwnProperty(y)&&kl(i,y,r[y])}function no(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(i){return ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ai(){}var Vl=null;function ii(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var or=null,Wi=null;function ua(i){var r=ni(i);if(r&&(i=r.stateNode)){var o=i[sn]||null;e:switch(i=r.stateNode,r.type){case"input":if(to(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[sn]||null;if(!f)throw Error(s(90));to(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&la(c)}break e;case"textarea":ku(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&sr(i,!!o.multiple,r,!1)}}}var so=!1;function lr(i,r,o){if(so)return i(r,o);so=!0;try{var c=i(r);return c}finally{if(so=!1,(or!==null||Wi!==null)&&(Nh(),or&&(r=or,i=Wi,Wi=or=null,ua(r),i)))for(r=0;r<i.length;r++)ua(i[r])}}function Ri(i,r){var o=i.stateNode;if(o===null)return null;var c=o[sn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(si)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){ha=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{ha=!1}var Zi=null,Ol=null,da=null;function Ll(){if(da)return da;var i,r=Ol,o=r.length,c,f="value"in Zi?Zi.value:Zi.textContent,y=f.length;for(i=0;i<o&&r[i]===f[i];i++);var E=o-i;for(c=1;c<=E&&r[o-c]===f[y-c];c++);return da=f.slice(i,1<c?1-c:void 0)}function fa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Es(){return!0}function Ci(){return!1}function cn(i){function r(o,c,f,y,E){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Es:Ci,this.isPropagationStopped=Ci,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=cn(Ss),cr=_({},Ss,{view:0,detail:0}),Ul=cn(cr),ur,ro,es,ao=_({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==es&&(es&&i.type==="mousemove"?(ur=i.screenX-es.screenX,ro=i.screenY-es.screenY):ro=ur=0,es=i),ur)},movementY:function(i){return"movementY"in i?i.movementY:ro}}),zl=cn(ao),ma=_({},ao,{dataTransfer:0}),Ou=cn(ma),Lu=_({},cr,{relatedTarget:0}),pa=cn(Lu),Bl=_({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=cn(Bl),oo=_({},Ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zu=cn(oo),Bu=_({},Ss,{data:0}),ts=cn(Bu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Hu[i])?!!r[i]:!1}function hr(){return Gu}var wn=_({},cr,{key:function(i){if(i.key){var r=Fu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(i){return i.type==="keypress"?fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ku=cn(wn),Yu=_({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bs=cn(Yu),h=_({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),T=cn(h),b=_({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=cn(b),$=_({},ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=cn($),Te=_({},Ss,{newState:0,oldState:0}),qe=cn(Te),Vt=[9,13,27,32],at=si&&"CompositionEvent"in window,wt=null;si&&"documentMode"in document&&(wt=document.documentMode);var ri=si&&"TextEvent"in window&&!wt,ns=si&&(!at||wt&&8<wt&&11>=wt),Ni=" ",Ii=!1;function ga(i,r){switch(i){case"keyup":return Vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var co=!1;function YC(i,r){switch(i){case"compositionend":return lo(r);case"keypress":return r.which!==32?null:(Ii=!0,Ni);case"textInput":return i=r.data,i===Ni&&Ii?null:i;default:return null}}function $C(i,r){if(co)return i==="compositionend"||!at&&ga(i,r)?(i=Ll(),da=Ol=Zi=null,co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ns&&r.locale!=="ko"?null:r.data;default:return null}}var QC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function __(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!QC[i.type]:r==="textarea"}function T_(i,r,o,c){or?Wi?Wi.push(c):Wi=[c]:or=c,r=Vh(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Fl=null,ql=null;function XC(i){nE(i,0)}function $u(i){var r=Hn(i);if(la(r))return i}function E_(i,r){if(i==="change")return r}var S_=!1;if(si){var Zf;if(si){var Jf="oninput"in document;if(!Jf){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),Jf=typeof b_.oninput=="function"}Zf=Jf}else Zf=!1;S_=Zf&&(!document.documentMode||9<document.documentMode)}function x_(){Fl&&(Fl.detachEvent("onpropertychange",w_),ql=Fl=null)}function w_(i){if(i.propertyName==="value"&&$u(ql)){var r=[];T_(r,ql,i,ii(i)),lr(XC,r)}}function WC(i,r,o){i==="focusin"?(x_(),Fl=r,ql=o,Fl.attachEvent("onpropertychange",w_)):i==="focusout"&&x_()}function ZC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $u(ql)}function JC(i,r){if(i==="click")return $u(r)}function eN(i,r){if(i==="input"||i==="change")return $u(r)}function tN(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Kn=typeof Object.is=="function"?Object.is:tN;function Hl(i,r){if(Kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!nt.call(r,f)||!Kn(i[f],r[f]))return!1}return!0}function A_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function R_(i,r){var o=A_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=A_(o)}}function C_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?C_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function N_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Xi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Xi(i.document)}return r}function em(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var nN=si&&"documentMode"in document&&11>=document.documentMode,uo=null,tm=null,Gl=null,nm=!1;function I_(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nm||uo==null||uo!==Xi(c)||(c=uo,"selectionStart"in c&&em(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gl&&Hl(Gl,c)||(Gl=c,c=Vh(tm,"onSelect"),0<c.length&&(r=new Ji("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=uo)))}function ya(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ho={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},im={},D_={};si&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function va(i){if(im[i])return im[i];if(!ho[i])return i;var r=ho[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in D_)return im[i]=r[o];return i}var j_=va("animationend"),M_=va("animationiteration"),k_=va("animationstart"),iN=va("transitionrun"),sN=va("transitionstart"),rN=va("transitioncancel"),P_=va("transitionend"),V_=new Map,sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sm.push("scrollEnd");function Di(i,r){V_.set(i,r),$i(r,[i])}var Qu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ai=[],fo=0,rm=0;function Xu(){for(var i=fo,r=rm=fo=0;r<i;){var o=ai[r];ai[r++]=null;var c=ai[r];ai[r++]=null;var f=ai[r];ai[r++]=null;var y=ai[r];if(ai[r++]=null,c!==null&&f!==null){var E=c.pending;E===null?f.next=f:(f.next=E.next,E.next=f),c.pending=f}y!==0&&O_(o,f,y)}}function Wu(i,r,o,c){ai[fo++]=i,ai[fo++]=r,ai[fo++]=o,ai[fo++]=c,rm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function am(i,r,o,c){return Wu(i,r,o,c),Zu(i)}function _a(i,r){return Wu(i,null,null,r),Zu(i)}function O_(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(f=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,f&&r!==null&&(f=31-Pt(o),i=y.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),y):null}function Zu(i){if(50<fc)throw fc=0,pp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var mo={};function aN(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(i,r,o,c){return new aN(i,r,o,c)}function om(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xs(i,r){var o=i.alternate;return o===null?(o=Yn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function L_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ju(i,r,o,c,f,y){var E=0;if(c=i,typeof i=="function")om(i)&&(E=1);else if(typeof i=="string")E=hI(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Yn(31,o,r,f),i.elementType=D,i.lanes=y,i;case z:return Ta(o.children,f,y,r);case P:E=8,f|=24;break;case O:return i=Yn(12,o,r,f|2),i.elementType=O,i.lanes=y,i;case se:return i=Yn(13,o,r,f),i.elementType=se,i.lanes=y,i;case ae:return i=Yn(19,o,r,f),i.elementType=ae,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:E=10;break e;case G:E=9;break e;case pe:E=11;break e;case N:E=14;break e;case A:E=16,c=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Yn(E,o,r,f),r.elementType=i,r.type=c,r.lanes=y,r}function Ta(i,r,o,c){return i=Yn(7,i,c,r),i.lanes=o,i}function lm(i,r,o){return i=Yn(6,i,null,r),i.lanes=o,i}function U_(i){var r=Yn(18,null,null,0);return r.stateNode=i,r}function cm(i,r,o){return r=Yn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var z_=new WeakMap;function oi(i,r){if(typeof i=="object"&&i!==null){var o=z_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Zt(r)},z_.set(i,r),r)}return{value:i,source:r,stack:Zt(r)}}var po=[],go=0,eh=null,Kl=0,li=[],ci=0,dr=null,is=1,ss="";function ws(i,r){po[go++]=Kl,po[go++]=eh,eh=i,Kl=r}function B_(i,r,o){li[ci++]=is,li[ci++]=ss,li[ci++]=dr,dr=i;var c=is;i=ss;var f=32-Pt(c)-1;c&=~(1<<f),o+=1;var y=32-Pt(r)+f;if(30<y){var E=f-f%5;y=(c&(1<<E)-1).toString(32),c>>=E,f-=E,is=1<<32-Pt(r)+f|o<<f|c,ss=y+i}else is=1<<y|o<<f|c,ss=i}function um(i){i.return!==null&&(ws(i,1),B_(i,1,0))}function hm(i){for(;i===eh;)eh=po[--go],po[go]=null,Kl=po[--go],po[go]=null;for(;i===dr;)dr=li[--ci],li[ci]=null,ss=li[--ci],li[ci]=null,is=li[--ci],li[ci]=null}function F_(i,r){li[ci++]=is,li[ci++]=ss,li[ci++]=dr,is=r.id,ss=r.overflow,dr=i}var un=null,St=null,et=!1,fr=null,ui=!1,dm=Error(s(519));function mr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(oi(r,i)),dm}function q_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Bt]=i,r[sn]=c,o){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<pc.length;o++)$e(pc[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),Mu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),rr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||aE(r.textContent,o)?(c.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),c.onScroll!=null&&$e("scroll",r),c.onScrollEnd!=null&&$e("scrollend",r),c.onClick!=null&&(r.onclick=Ai),r=!0):r=!1,r||mr(i,!0)}function H_(i){for(un=i.return;un;)switch(un.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:un=un.return}}function yo(i){if(i!==un)return!1;if(!et)return H_(i),et=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ip(i.type,i.memoizedProps)),o=!o),o&&St&&mr(i),H_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=pE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=pE(i)}else r===27?(r=St,Cr(i.type)?(i=Pp,Pp=null,St=i):St=r):St=un?di(i.stateNode.nextSibling):null;return!0}function Ea(){St=un=null,et=!1}function fm(){var i=fr;return i!==null&&(Vn===null?Vn=i:Vn.push.apply(Vn,i),fr=null),i}function Yl(i){fr===null?fr=[i]:fr.push(i)}var mm=x(null),Sa=null,As=null;function pr(i,r,o){re(mm,r._currentValue),r._currentValue=o}function Rs(i){i._currentValue=mm.current,Y(mm)}function pm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function gm(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var y=f.dependencies;if(y!==null){var E=f.child;y=y.firstContext;e:for(;y!==null;){var w=y;y=f;for(var L=0;L<r.length;L++)if(w.context===r[L]){y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),pm(y.return,o,i),c||(E=null);break e}y=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),pm(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function vo(i,r,o,c){i=null;for(var f=r,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;Kn(f.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(f===U.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Tc):i=[Tc])}f=f.return}i!==null&&gm(r,i,o,c),r.flags|=262144}function th(i){for(i=i.firstContext;i!==null;){if(!Kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ba(i){Sa=i,As=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return G_(Sa,i)}function nh(i,r){return Sa===null&&ba(i),G_(i,r)}function G_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},As===null){if(i===null)throw Error(s(308));As=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else As=As.next=r;return o}var oN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},lN=t.unstable_scheduleCallback,cN=t.unstable_NormalPriority,Ht={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new oN,data:new Map,refCount:0}}function $l(i){i.refCount--,i.refCount===0&&lN(cN,function(){i.controller.abort()})}var Ql=null,vm=0,_o=0,To=null;function uN(i,r){if(Ql===null){var o=Ql=[];vm=0,_o=Ep(),To={status:"pending",value:void 0,then:function(c){o.push(c)}}}return vm++,r.then(K_,K_),r}function K_(){if(--vm===0&&Ql!==null){To!==null&&(To.status="fulfilled");var i=Ql;Ql=null,_o=0,To=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function hN(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Y_=ee.S;ee.S=function(i,r){IT=_e(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&uN(i,r),Y_!==null&&Y_(i,r)};var xa=x(null);function _m(){var i=xa.current;return i!==null?i:vt.pooledCache}function ih(i,r){r===null?re(xa,xa.current):re(xa,r.pool)}function $_(){var i=_m();return i===null?null:{parent:Ht._currentValue,pool:i}}var Eo=Error(s(460)),Tm=Error(s(474)),sh=Error(s(542)),rh={then:function(){}};function Q_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function X_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ai,Ai),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z_(i),i;default:if(typeof r.status=="string")r.then(Ai,Ai);else{if(i=vt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Z_(i),i}throw Aa=r,Eo}}function wa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,Eo):o}}var Aa=null;function W_(){if(Aa===null)throw Error(s(459));var i=Aa;return Aa=null,i}function Z_(i){if(i===Eo||i===sh)throw Error(s(483))}var So=null,Xl=0;function ah(i){var r=Xl;return Xl+=1,So===null&&(So=[]),X_(So,i,r)}function Wl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function oh(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function J_(i){function r(K,F){if(i){var W=K.deletions;W===null?(K.deletions=[F],K.flags|=16):W.push(F)}}function o(K,F){if(!i)return null;for(;F!==null;)r(K,F),F=F.sibling;return null}function c(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function f(K,F){return K=xs(K,F),K.index=0,K.sibling=null,K}function y(K,F,W){return K.index=W,i?(W=K.alternate,W!==null?(W=W.index,W<F?(K.flags|=67108866,F):W):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function E(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function w(K,F,W,ce){return F===null||F.tag!==6?(F=lm(W,K.mode,ce),F.return=K,F):(F=f(F,W),F.return=K,F)}function L(K,F,W,ce){var je=W.type;return je===z?oe(K,F,W.props.children,ce,W.key):F!==null&&(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===A&&wa(je)===F.type)?(F=f(F,W.props),Wl(F,W),F.return=K,F):(F=Ju(W.type,W.key,W.props,null,K.mode,ce),Wl(F,W),F.return=K,F)}function Z(K,F,W,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=cm(W,K.mode,ce),F.return=K,F):(F=f(F,W.children||[]),F.return=K,F)}function oe(K,F,W,ce,je){return F===null||F.tag!==7?(F=Ta(W,K.mode,ce,je),F.return=K,F):(F=f(F,W),F.return=K,F)}function de(K,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=lm(""+F,K.mode,W),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return W=Ju(F.type,F.key,F.props,null,K.mode,W),Wl(W,F),W.return=K,W;case j:return F=cm(F,K.mode,W),F.return=K,F;case A:return F=wa(F),de(K,F,W)}if(Ve(F)||B(F))return F=Ta(F,K.mode,W,null),F.return=K,F;if(typeof F.then=="function")return de(K,ah(F),W);if(F.$$typeof===q)return de(K,nh(K,F),W);oh(K,F)}return null}function J(K,F,W,ce){var je=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return je!==null?null:w(K,F,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return W.key===je?L(K,F,W,ce):null;case j:return W.key===je?Z(K,F,W,ce):null;case A:return W=wa(W),J(K,F,W,ce)}if(Ve(W)||B(W))return je!==null?null:oe(K,F,W,ce,null);if(typeof W.then=="function")return J(K,F,ah(W),ce);if(W.$$typeof===q)return J(K,F,nh(K,W),ce);oh(K,W)}return null}function ie(K,F,W,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(W)||null,w(F,K,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:return K=K.get(ce.key===null?W:ce.key)||null,L(F,K,ce,je);case j:return K=K.get(ce.key===null?W:ce.key)||null,Z(F,K,ce,je);case A:return ce=wa(ce),ie(K,F,W,ce,je)}if(Ve(ce)||B(ce))return K=K.get(W)||null,oe(F,K,ce,je,null);if(typeof ce.then=="function")return ie(K,F,W,ah(ce),je);if(ce.$$typeof===q)return ie(K,F,W,nh(F,ce),je);oh(F,ce)}return null}function Ne(K,F,W,ce){for(var je=null,st=null,Ie=F,Ge=F=0,Xe=null;Ie!==null&&Ge<W.length;Ge++){Ie.index>Ge?(Xe=Ie,Ie=null):Xe=Ie.sibling;var rt=J(K,Ie,W[Ge],ce);if(rt===null){Ie===null&&(Ie=Xe);break}i&&Ie&&rt.alternate===null&&r(K,Ie),F=y(rt,F,Ge),st===null?je=rt:st.sibling=rt,st=rt,Ie=Xe}if(Ge===W.length)return o(K,Ie),et&&ws(K,Ge),je;if(Ie===null){for(;Ge<W.length;Ge++)Ie=de(K,W[Ge],ce),Ie!==null&&(F=y(Ie,F,Ge),st===null?je=Ie:st.sibling=Ie,st=Ie);return et&&ws(K,Ge),je}for(Ie=c(Ie);Ge<W.length;Ge++)Xe=ie(Ie,K,Ge,W[Ge],ce),Xe!==null&&(i&&Xe.alternate!==null&&Ie.delete(Xe.key===null?Ge:Xe.key),F=y(Xe,F,Ge),st===null?je=Xe:st.sibling=Xe,st=Xe);return i&&Ie.forEach(function(Mr){return r(K,Mr)}),et&&ws(K,Ge),je}function Pe(K,F,W,ce){if(W==null)throw Error(s(151));for(var je=null,st=null,Ie=F,Ge=F=0,Xe=null,rt=W.next();Ie!==null&&!rt.done;Ge++,rt=W.next()){Ie.index>Ge?(Xe=Ie,Ie=null):Xe=Ie.sibling;var Mr=J(K,Ie,rt.value,ce);if(Mr===null){Ie===null&&(Ie=Xe);break}i&&Ie&&Mr.alternate===null&&r(K,Ie),F=y(Mr,F,Ge),st===null?je=Mr:st.sibling=Mr,st=Mr,Ie=Xe}if(rt.done)return o(K,Ie),et&&ws(K,Ge),je;if(Ie===null){for(;!rt.done;Ge++,rt=W.next())rt=de(K,rt.value,ce),rt!==null&&(F=y(rt,F,Ge),st===null?je=rt:st.sibling=rt,st=rt);return et&&ws(K,Ge),je}for(Ie=c(Ie);!rt.done;Ge++,rt=W.next())rt=ie(Ie,K,Ge,rt.value,ce),rt!==null&&(i&&rt.alternate!==null&&Ie.delete(rt.key===null?Ge:rt.key),F=y(rt,F,Ge),st===null?je=rt:st.sibling=rt,st=rt);return i&&Ie.forEach(function(SI){return r(K,SI)}),et&&ws(K,Ge),je}function gt(K,F,W,ce){if(typeof W=="object"&&W!==null&&W.type===z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case R:e:{for(var je=W.key;F!==null;){if(F.key===je){if(je=W.type,je===z){if(F.tag===7){o(K,F.sibling),ce=f(F,W.props.children),ce.return=K,K=ce;break e}}else if(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===A&&wa(je)===F.type){o(K,F.sibling),ce=f(F,W.props),Wl(ce,W),ce.return=K,K=ce;break e}o(K,F);break}else r(K,F);F=F.sibling}W.type===z?(ce=Ta(W.props.children,K.mode,ce,W.key),ce.return=K,K=ce):(ce=Ju(W.type,W.key,W.props,null,K.mode,ce),Wl(ce,W),ce.return=K,K=ce)}return E(K);case j:e:{for(je=W.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){o(K,F.sibling),ce=f(F,W.children||[]),ce.return=K,K=ce;break e}else{o(K,F);break}else r(K,F);F=F.sibling}ce=cm(W,K.mode,ce),ce.return=K,K=ce}return E(K);case A:return W=wa(W),gt(K,F,W,ce)}if(Ve(W))return Ne(K,F,W,ce);if(B(W)){if(je=B(W),typeof je!="function")throw Error(s(150));return W=je.call(W),Pe(K,F,W,ce)}if(typeof W.then=="function")return gt(K,F,ah(W),ce);if(W.$$typeof===q)return gt(K,F,nh(K,W),ce);oh(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(o(K,F.sibling),ce=f(F,W),ce.return=K,K=ce):(o(K,F),ce=lm(W,K.mode,ce),ce.return=K,K=ce),E(K)):o(K,F)}return function(K,F,W,ce){try{Xl=0;var je=gt(K,F,W,ce);return So=null,je}catch(Ie){if(Ie===Eo||Ie===sh)throw Ie;var st=Yn(29,Ie,null,K.mode);return st.lanes=ce,st.return=K,st}finally{}}}var Ra=J_(!0),e0=J_(!1),gr=!1;function Em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Zu(i),O_(i,null,o),r}return Wu(i,c,r,o),Zu(i)}function Zl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,wl(i,o)}}function bm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?f=y=r:y=y.next=r}else f=y=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var xm=!1;function Jl(){if(xm){var i=To;if(i!==null)throw i}}function ec(i,r,o,c){xm=!1;var f=i.updateQueue;gr=!1;var y=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var L=w,Z=L.next;L.next=null,E===null?y=Z:E.next=Z,E=L;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,w=oe.lastBaseUpdate,w!==E&&(w===null?oe.firstBaseUpdate=Z:w.next=Z,oe.lastBaseUpdate=L))}if(y!==null){var de=f.baseState;E=0,oe=Z=L=null,w=y;do{var J=w.lane&-536870913,ie=J!==w.lane;if(ie?(Qe&J)===J:(c&J)===J){J!==0&&J===_o&&(xm=!0),oe!==null&&(oe=oe.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=i,Pe=w;J=r;var gt=o;switch(Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){de=Ne.call(gt,de,J);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,J=typeof Ne=="function"?Ne.call(gt,de,J):Ne,J==null)break e;de=_({},de,J);break e;case 2:gr=!0}}J=w.callback,J!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[J]:ie.push(J))}else ie={lane:J,tag:w.tag,payload:w.payload,callback:w.callback,next:null},oe===null?(Z=oe=ie,L=de):oe=oe.next=ie,E|=J;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;ie=w,w=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);oe===null&&(L=de),f.baseState=L,f.firstBaseUpdate=Z,f.lastBaseUpdate=oe,y===null&&(f.shared.lanes=0),br|=E,i.lanes=E,i.memoizedState=de}}function t0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function n0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)t0(o[i],r)}var bo=x(null),lh=x(0);function i0(i,r){i=Vs,re(lh,i),re(bo,r),Vs=i|r.baseLanes}function wm(){re(lh,Vs),re(bo,bo.current)}function Am(){Vs=lh.current,Y(bo),Y(lh)}var $n=x(null),hi=null;function _r(i){var r=i.alternate;re(Ot,Ot.current&1),re($n,i),hi===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(hi=i)}function Rm(i){re(Ot,Ot.current),re($n,i),hi===null&&(hi=i)}function s0(i){i.tag===22?(re(Ot,Ot.current),re($n,i),hi===null&&(hi=i)):Tr()}function Tr(){re(Ot,Ot.current),re($n,$n.current)}function Qn(i){Y($n),hi===i&&(hi=null),Y(Ot)}var Ot=x(0);function ch(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Mp(o)||kp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Cs=0,He=null,mt=null,Gt=null,uh=!1,xo=!1,Ca=!1,hh=0,tc=0,wo=null,dN=0;function Dt(){throw Error(s(321))}function Cm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Kn(i[o],r[o]))return!1;return!0}function Nm(i,r,o,c,f,y){return Cs=y,He=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=i===null||i.memoizedState===null?B0:Hm,Ca=!1,y=o(c,f),Ca=!1,xo&&(y=a0(r,o,c,f)),r0(i),y}function r0(i){ee.H=sc;var r=mt!==null&&mt.next!==null;if(Cs=0,Gt=mt=He=null,uh=!1,tc=0,wo=null,r)throw Error(s(300));i===null||Kt||(i=i.dependencies,i!==null&&th(i)&&(Kt=!0))}function a0(i,r,o,c){He=i;var f=0;do{if(xo&&(wo=null),tc=0,xo=!1,25<=f)throw Error(s(301));if(f+=1,Gt=mt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=F0,y=r(o,c)}while(xo);return y}function fN(){var i=ee.H,r=i.useState()[0];return r=typeof r.then=="function"?nc(r):r,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(He.flags|=1024),r}function Im(){var i=hh!==0;return hh=0,i}function Dm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(uh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}uh=!1}Cs=0,Gt=mt=He=null,xo=!1,tc=hh=0,wo=null}function An(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?He.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function Lt(){if(mt===null){var i=He.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var r=Gt===null?He.memoizedState:Gt.next;if(r!==null)Gt=r,mt=i;else{if(i===null)throw He.alternate===null?Error(s(467)):Error(s(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Gt===null?He.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(i){var r=tc;return tc+=1,wo===null&&(wo=[]),i=X_(wo,i,r),r=He,(Gt===null?r.memoizedState:Gt.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?B0:Hm),i}function fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nc(i);if(i.$$typeof===q)return hn(i)}throw Error(s(438,String(i)))}function Mm(i){var r=null,o=He.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=dh(),He.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=V;return r.index++,o}function Ns(i,r){return typeof r=="function"?r(i):r}function mh(i){var r=Lt();return km(r,mt,i)}function km(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,y=c.pending;if(y!==null){if(f!==null){var E=f.next;f.next=y.next,y.next=E}r.baseQueue=f=y,c.pending=null}if(y=i.baseState,f===null)i.memoizedState=y;else{r=f.next;var w=E=null,L=null,Z=r,oe=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(Qe&de)===de:(Cs&de)===de){var J=Z.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===_o&&(oe=!0);else if((Cs&J)===J){Z=Z.next,J===_o&&(oe=!0);continue}else de={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(w=L=de,E=y):L=L.next=de,He.lanes|=J,br|=J;de=Z.action,Ca&&o(y,de),y=Z.hasEagerState?Z.eagerState:o(y,de)}else J={lane:de,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(w=L=J,E=y):L=L.next=J,He.lanes|=de,br|=de;Z=Z.next}while(Z!==null&&Z!==r);if(L===null?E=y:L.next=w,!Kn(y,i.memoizedState)&&(Kt=!0,oe&&(o=To,o!==null)))throw o;i.memoizedState=y,i.baseState=E,i.baseQueue=L,c.lastRenderedState=y}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Pm(i){var r=Lt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,y=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do y=i(y,E.action),E=E.next;while(E!==f);Kn(y,r.memoizedState)||(Kt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function o0(i,r,o){var c=He,f=Lt(),y=et;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Kn((mt||f).memoizedState,o);if(E&&(f.memoizedState=o,Kt=!0),f=f.queue,Lm(u0.bind(null,c,f,i),[i]),f.getSnapshot!==r||E||Gt!==null&&Gt.memoizedState.tag&1){if(c.flags|=2048,Ao(9,{destroy:void 0},c0.bind(null,c,f,o,r),null),vt===null)throw Error(s(349));y||(Cs&127)!==0||l0(c,r,o)}return o}function l0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=He.updateQueue,r===null?(r=dh(),He.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function c0(i,r,o,c){r.value=o,r.getSnapshot=c,h0(r)&&d0(i)}function u0(i,r,o){return o(function(){h0(r)&&d0(i)})}function h0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Kn(i,o)}catch{return!0}}function d0(i){var r=_a(i,2);r!==null&&On(r,i,2)}function Vm(i){var r=An();if(typeof i=="function"){var o=i;if(i=o(),Ca){ti(!0);try{o()}finally{ti(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:i},r}function f0(i,r,o,c){return i.baseState=o,km(i,mt,typeof c=="function"?c:Ns)}function mN(i,r,o,c,f){if(yh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};ee.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,m0(r,y)):(y.next=o.next,r.pending=o.next=y)}}function m0(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var y=ee.T,E={};ee.T=E;try{var w=o(f,c),L=ee.S;L!==null&&L(E,w),p0(i,r,w)}catch(Z){Om(i,r,Z)}finally{y!==null&&E.types!==null&&(y.types=E.types),ee.T=y}}else try{y=o(f,c),p0(i,r,y)}catch(Z){Om(i,r,Z)}}function p0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){g0(i,r,c)},function(c){return Om(i,r,c)}):g0(i,r,o)}function g0(i,r,o){r.status="fulfilled",r.value=o,y0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,m0(i,o)))}function Om(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,y0(r),r=r.next;while(r!==c)}i.action=null}function y0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function v0(i,r){return r}function _0(i,r){if(et){var o=vt.formState;if(o!==null){e:{var c=He;if(et){if(St){t:{for(var f=St,y=ui;f.nodeType!==8;){if(!y){f=null;break t}if(f=di(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){St=di(f.nextSibling),c=f.data==="F!";break e}}mr(c)}c=!1}c&&(r=o[0])}}return o=An(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:r},o.queue=c,o=L0.bind(null,He,c),c.dispatch=o,c=Vm(!1),y=qm.bind(null,He,!1,c.queue),c=An(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=mN.bind(null,He,f,y,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function T0(i){var r=Lt();return E0(r,mt,i)}function E0(i,r,o){if(r=km(i,r,v0)[0],i=mh(Ns)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=nc(r)}catch(E){throw E===Eo?sh:E}else c=r;r=Lt();var f=r.queue,y=f.dispatch;return o!==r.memoizedState&&(He.flags|=2048,Ao(9,{destroy:void 0},pN.bind(null,f,o),null)),[c,y,i]}function pN(i,r){i.action=r}function S0(i){var r=Lt(),o=mt;if(o!==null)return E0(r,o,i);Lt(),r=r.memoizedState,o=Lt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ao(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=He.updateQueue,r===null&&(r=dh(),He.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function b0(){return Lt().memoizedState}function ph(i,r,o,c){var f=An();He.flags|=i,f.memoizedState=Ao(1|r,{destroy:void 0},o,c===void 0?null:c)}function gh(i,r,o,c){var f=Lt();c=c===void 0?null:c;var y=f.memoizedState.inst;mt!==null&&c!==null&&Cm(c,mt.memoizedState.deps)?f.memoizedState=Ao(r,y,o,c):(He.flags|=i,f.memoizedState=Ao(1|r,y,o,c))}function x0(i,r){ph(8390656,8,i,r)}function Lm(i,r){gh(2048,8,i,r)}function gN(i){He.flags|=4;var r=He.updateQueue;if(r===null)r=dh(),He.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function w0(i){var r=Lt().memoizedState;return gN({ref:r,nextImpl:i}),function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function A0(i,r){return gh(4,2,i,r)}function R0(i,r){return gh(4,4,i,r)}function C0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function N0(i,r,o){o=o!=null?o.concat([i]):null,gh(4,4,C0.bind(null,r,i),o)}function Um(){}function I0(i,r){var o=Lt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Cm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function D0(i,r){var o=Lt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Cm(r,c[1]))return c[0];if(c=i(),Ca){ti(!0);try{i()}finally{ti(!1)}}return o.memoizedState=[c,r],c}function zm(i,r,o){return o===void 0||(Cs&1073741824)!==0&&(Qe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=jT(),He.lanes|=i,br|=i,o)}function j0(i,r,o,c){return Kn(o,r)?o:bo.current!==null?(i=zm(i,o,c),Kn(i,r)||(Kt=!0),i):(Cs&42)===0||(Cs&1073741824)!==0&&(Qe&261930)===0?(Kt=!0,i.memoizedState=o):(i=jT(),He.lanes|=i,br|=i,r)}function M0(i,r,o,c,f){var y=fe.p;fe.p=y!==0&&8>y?y:8;var E=ee.T,w={};ee.T=w,qm(i,!1,r,o);try{var L=f(),Z=ee.S;if(Z!==null&&Z(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var oe=hN(L,c);ic(i,r,oe,Zn(i))}else ic(i,r,c,Zn(i))}catch(de){ic(i,r,{then:function(){},status:"rejected",reason:de},Zn())}finally{fe.p=y,E!==null&&w.types!==null&&(E.types=w.types),ee.T=E}}function yN(){}function Bm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=k0(i).queue;M0(i,f,r,Ee,o===null?yN:function(){return P0(i),o(c)})}function k0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:Ee},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function P0(i){var r=k0(i);r.next===null&&(r=i.alternate.memoizedState),ic(i,r.next.queue,{},Zn())}function Fm(){return hn(Tc)}function V0(){return Lt().memoizedState}function O0(){return Lt().memoizedState}function vN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Zn();i=yr(o);var c=vr(r,i,o);c!==null&&(On(c,r,o),Zl(c,r,o)),r={cache:ym()},i.payload=r;return}r=r.return}}function _N(i,r,o){var c=Zn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yh(i)?U0(r,o):(o=am(i,r,o,c),o!==null&&(On(o,i,c),z0(o,r,c)))}function L0(i,r,o){var c=Zn();ic(i,r,o,c)}function ic(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(yh(i))U0(r,f);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var E=r.lastRenderedState,w=y(E,o);if(f.hasEagerState=!0,f.eagerState=w,Kn(w,E))return Wu(i,r,f,0),vt===null&&Xu(),!1}catch{}finally{}if(o=am(i,r,f,c),o!==null)return On(o,i,c),z0(o,r,c),!0}return!1}function qm(i,r,o,c){if(c={lane:2,revertLane:Ep(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yh(i)){if(r)throw Error(s(479))}else r=am(i,o,c,2),r!==null&&On(r,i,2)}function yh(i){var r=i.alternate;return i===He||r!==null&&r===He}function U0(i,r){xo=uh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function z0(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,wl(i,o)}}var sc={readContext:hn,use:fh,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};sc.useEffectEvent=Dt;var B0={readContext:hn,use:fh,useCallback:function(i,r){return An().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:x0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,ph(4194308,4,C0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return ph(4194308,4,i,r)},useInsertionEffect:function(i,r){ph(4,2,i,r)},useMemo:function(i,r){var o=An();r=r===void 0?null:r;var c=i();if(Ca){ti(!0);try{i()}finally{ti(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=An();if(o!==void 0){var f=o(r);if(Ca){ti(!0);try{o(r)}finally{ti(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=_N.bind(null,He,i),[c.memoizedState,i]},useRef:function(i){var r=An();return i={current:i},r.memoizedState=i},useState:function(i){i=Vm(i);var r=i.queue,o=L0.bind(null,He,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Um,useDeferredValue:function(i,r){var o=An();return zm(o,i,r)},useTransition:function(){var i=Vm(!1);return i=M0.bind(null,He,i.queue,!0,!1),An().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=He,f=An();if(et){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),vt===null)throw Error(s(349));(Qe&127)!==0||l0(c,r,o)}f.memoizedState=o;var y={value:o,getSnapshot:r};return f.queue=y,x0(u0.bind(null,c,y,i),[i]),c.flags|=2048,Ao(9,{destroy:void 0},c0.bind(null,c,y,o,r),null),o},useId:function(){var i=An(),r=vt.identifierPrefix;if(et){var o=ss,c=is;o=(c&~(1<<32-Pt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=hh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=dN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Fm,useFormState:_0,useActionState:_0,useOptimistic:function(i){var r=An();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=qm.bind(null,He,!0,o),o.dispatch=r,[i,r]},useMemoCache:Mm,useCacheRefresh:function(){return An().memoizedState=vN.bind(null,He)},useEffectEvent:function(i){var r=An(),o={impl:i};return r.memoizedState=o,function(){if((ot&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Hm={readContext:hn,use:fh,useCallback:I0,useContext:hn,useEffect:Lm,useImperativeHandle:N0,useInsertionEffect:A0,useLayoutEffect:R0,useMemo:D0,useReducer:mh,useRef:b0,useState:function(){return mh(Ns)},useDebugValue:Um,useDeferredValue:function(i,r){var o=Lt();return j0(o,mt.memoizedState,i,r)},useTransition:function(){var i=mh(Ns)[0],r=Lt().memoizedState;return[typeof i=="boolean"?i:nc(i),r]},useSyncExternalStore:o0,useId:V0,useHostTransitionStatus:Fm,useFormState:T0,useActionState:T0,useOptimistic:function(i,r){var o=Lt();return f0(o,mt,i,r)},useMemoCache:Mm,useCacheRefresh:O0};Hm.useEffectEvent=w0;var F0={readContext:hn,use:fh,useCallback:I0,useContext:hn,useEffect:Lm,useImperativeHandle:N0,useInsertionEffect:A0,useLayoutEffect:R0,useMemo:D0,useReducer:Pm,useRef:b0,useState:function(){return Pm(Ns)},useDebugValue:Um,useDeferredValue:function(i,r){var o=Lt();return mt===null?zm(o,i,r):j0(o,mt.memoizedState,i,r)},useTransition:function(){var i=Pm(Ns)[0],r=Lt().memoizedState;return[typeof i=="boolean"?i:nc(i),r]},useSyncExternalStore:o0,useId:V0,useHostTransitionStatus:Fm,useFormState:S0,useActionState:S0,useOptimistic:function(i,r){var o=Lt();return mt!==null?f0(o,mt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:O0};F0.useEffectEvent=w0;function Gm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Km={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Zn(),f=yr(c);f.payload=r,o!=null&&(f.callback=o),r=vr(i,f,c),r!==null&&(On(r,i,c),Zl(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Zn(),f=yr(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=vr(i,f,c),r!==null&&(On(r,i,c),Zl(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Zn(),c=yr(o);c.tag=2,r!=null&&(c.callback=r),r=vr(i,c,o),r!==null&&(On(r,i,o),Zl(r,i,o))}};function q0(i,r,o,c,f,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,E):r.prototype&&r.prototype.isPureReactComponent?!Hl(o,c)||!Hl(f,y):!0}function H0(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Km.enqueueReplaceState(r,r.state,null)}function Na(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function G0(i){Qu(i)}function K0(i){console.error(i)}function Y0(i){Qu(i)}function vh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function $0(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ym(i,r,o){return o=yr(o),o.tag=3,o.payload={element:null},o.callback=function(){vh(i,r)},o}function Q0(i){return i=yr(i),i.tag=3,i}function X0(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;i.payload=function(){return f(y)},i.callback=function(){$0(r,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){$0(r,o,c),typeof f!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function TN(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&vo(r,o,f,!0),o=$n.current,o!==null){switch(o.tag){case 31:case 13:return hi===null?Ih():o.alternate===null&&jt===0&&(jt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===rh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),vp(i,c,f)),!1;case 22:return o.flags|=65536,c===rh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),vp(i,c,f)),!1}throw Error(s(435,o.tag))}return vp(i,c,f),Ih(),!1}if(et)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==dm&&(i=Error(s(422),{cause:c}),Yl(oi(i,o)))):(c!==dm&&(r=Error(s(423),{cause:c}),Yl(oi(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=oi(c,o),f=Ym(i.stateNode,c,f),bm(i,f),jt!==4&&(jt=2)),!1;var y=Error(s(520),{cause:c});if(y=oi(y,o),dc===null?dc=[y]:dc.push(y),jt!==4&&(jt=2),r===null)return!0;c=oi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Ym(o.stateNode,c,i),bm(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Q0(f),X0(f,i,o,c),bm(o,f),!1}o=o.return}while(o!==null);return!1}var $m=Error(s(461)),Kt=!1;function dn(i,r,o,c){r.child=i===null?e0(r,null,o,c):Ra(r,i.child,o,c)}function W0(i,r,o,c,f){o=o.render;var y=r.ref;if("ref"in c){var E={};for(var w in c)w!=="ref"&&(E[w]=c[w])}else E=c;return ba(r),c=Nm(i,r,o,E,y,f),w=Im(),i!==null&&!Kt?(Dm(i,r,f),Is(i,r,f)):(et&&w&&um(r),r.flags|=1,dn(i,r,c,f),r.child)}function Z0(i,r,o,c,f){if(i===null){var y=o.type;return typeof y=="function"&&!om(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,J0(i,r,y,c,f)):(i=Ju(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!np(i,f)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(E,c)&&i.ref===r.ref)return Is(i,r,f)}return r.flags|=1,i=xs(y,c),i.ref=r.ref,i.return=r,r.child=i}function J0(i,r,o,c,f){if(i!==null){var y=i.memoizedProps;if(Hl(y,c)&&i.ref===r.ref)if(Kt=!1,r.pendingProps=c=y,np(i,f))(i.flags&131072)!==0&&(Kt=!0);else return r.lanes=i.lanes,Is(i,r,f)}return Qm(i,r,o,c,f)}function eT(i,r,o,c){var f=c.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~y}else c=0,r.child=null;return tT(i,r,y,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ih(r,y!==null?y.cachePool:null),y!==null?i0(r,y):wm(),s0(r);else return c=r.lanes=536870912,tT(i,r,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(ih(r,y.cachePool),i0(r,y),Tr(),r.memoizedState=null):(i!==null&&ih(r,null),wm(),Tr());return dn(i,r,f,o),r.child}function rc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function tT(i,r,o,c,f){var y=_m();return y=y===null?null:{parent:Ht._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&ih(r,null),wm(),s0(r),i!==null&&vo(i,r,c,!0),r.childLanes=f,null}function _h(i,r){return r=Eh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function nT(i,r,o){return Ra(r,i.child,null,o),i=_h(r,r.pendingProps),i.flags|=2,Qn(r),r.memoizedState=null,i}function EN(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(et){if(c.mode==="hidden")return i=_h(r,c),r.lanes=536870912,rc(null,i);if(Rm(r),(i=St)?(i=mE(i,ui),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},o=U_(i),o.return=r,r.child=o,un=r,St=null)):i=null,i===null)throw mr(r);return r.lanes=536870912,null}return _h(r,c)}var y=i.memoizedState;if(y!==null){var E=y.dehydrated;if(Rm(r),f)if(r.flags&256)r.flags&=-257,r=nT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Kt||vo(i,r,o,!1),f=(o&i.childLanes)!==0,Kt||f){if(c=vt,c!==null&&(E=Al(c,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,_a(i,E),On(c,i,E),$m;Ih(),r=nT(i,r,o)}else i=y.treeContext,St=di(E.nextSibling),un=r,et=!0,fr=null,ui=!1,i!==null&&F_(r,i),r=_h(r,c),r.flags|=4096;return r}return i=xs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Th(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Qm(i,r,o,c,f){return ba(r),o=Nm(i,r,o,c,void 0,f),c=Im(),i!==null&&!Kt?(Dm(i,r,f),Is(i,r,f)):(et&&c&&um(r),r.flags|=1,dn(i,r,o,f),r.child)}function iT(i,r,o,c,f,y){return ba(r),r.updateQueue=null,o=a0(r,c,o,f),r0(i),c=Im(),i!==null&&!Kt?(Dm(i,r,y),Is(i,r,y)):(et&&c&&um(r),r.flags|=1,dn(i,r,o,y),r.child)}function sT(i,r,o,c,f){if(ba(r),r.stateNode===null){var y=mo,E=o.contextType;typeof E=="object"&&E!==null&&(y=hn(E)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Km,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Em(r),E=o.contextType,y.context=typeof E=="object"&&E!==null?hn(E):mo,y.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Gm(r,o,E,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Km.enqueueReplaceState(y,y.state,null),ec(r,c,y,f),Jl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){y=r.stateNode;var w=r.memoizedProps,L=Na(o,w);y.props=L;var Z=y.context,oe=o.contextType;E=mo,typeof oe=="object"&&oe!==null&&(E=hn(oe));var de=o.getDerivedStateFromProps;oe=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||Z!==E)&&H0(r,y,c,E),gr=!1;var J=r.memoizedState;y.state=J,ec(r,c,y,f),Jl(),Z=r.memoizedState,w||J!==Z||gr?(typeof de=="function"&&(Gm(r,o,de,c),Z=r.memoizedState),(L=gr||q0(r,o,L,c,J,Z,E))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Z),y.props=c,y.state=Z,y.context=E,c=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Sm(i,r),E=r.memoizedProps,oe=Na(o,E),y.props=oe,de=r.pendingProps,J=y.context,Z=o.contextType,L=mo,typeof Z=="object"&&Z!==null&&(L=hn(Z)),w=o.getDerivedStateFromProps,(Z=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==de||J!==L)&&H0(r,y,c,L),gr=!1,J=r.memoizedState,y.state=J,ec(r,c,y,f),Jl();var ie=r.memoizedState;E!==de||J!==ie||gr||i!==null&&i.dependencies!==null&&th(i.dependencies)?(typeof w=="function"&&(Gm(r,o,w,c),ie=r.memoizedState),(oe=gr||q0(r,o,oe,c,J,ie,L)||i!==null&&i.dependencies!==null&&th(i.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ie,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ie,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ie),y.props=c,y.state=ie,y.context=L,c=oe):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(r.flags|=1024),c=!1)}return y=c,Th(i,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&c?(r.child=Ra(r,i.child,null,f),r.child=Ra(r,null,o,f)):dn(i,r,o,f),r.memoizedState=y.state,i=r.child):i=Is(i,r,f),i}function rT(i,r,o,c){return Ea(),r.flags|=256,dn(i,r,o,c),r.child}var Xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wm(i){return{baseLanes:i,cachePool:$_()}}function Zm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Wn),i}function aT(i,r,o){var c=r.pendingProps,f=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Ot.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(et){if(f?_r(r):Tr(),(i=St)?(i=mE(i,ui),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},o=U_(i),o.return=r,r.child=o,un=r,St=null)):i=null,i===null)throw mr(r);return kp(i)?r.lanes=32:r.lanes=536870912,null}var w=c.children;return c=c.fallback,f?(Tr(),f=r.mode,w=Eh({mode:"hidden",children:w},f),c=Ta(c,f,o,null),w.return=r,c.return=r,w.sibling=c,r.child=w,c=r.child,c.memoizedState=Wm(o),c.childLanes=Zm(i,E,o),r.memoizedState=Xm,rc(null,c)):(_r(r),Jm(r,w))}var L=i.memoizedState;if(L!==null&&(w=L.dehydrated,w!==null)){if(y)r.flags&256?(_r(r),r.flags&=-257,r=ep(i,r,o)):r.memoizedState!==null?(Tr(),r.child=i.child,r.flags|=128,r=null):(Tr(),w=c.fallback,f=r.mode,c=Eh({mode:"visible",children:c.children},f),w=Ta(w,f,o,null),w.flags|=2,c.return=r,w.return=r,c.sibling=w,r.child=c,Ra(r,i.child,null,o),c=r.child,c.memoizedState=Wm(o),c.childLanes=Zm(i,E,o),r.memoizedState=Xm,r=rc(null,c));else if(_r(r),kp(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Z=E.dgst;E=Z,c=Error(s(419)),c.stack="",c.digest=E,Yl({value:c,source:null,stack:null}),r=ep(i,r,o)}else if(Kt||vo(i,r,o,!1),E=(o&i.childLanes)!==0,Kt||E){if(E=vt,E!==null&&(c=Al(E,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,_a(i,c),On(E,i,c),$m;Mp(w)||Ih(),r=ep(i,r,o)}else Mp(w)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,St=di(w.nextSibling),un=r,et=!0,fr=null,ui=!1,i!==null&&F_(r,i),r=Jm(r,c.children),r.flags|=4096);return r}return f?(Tr(),w=c.fallback,f=r.mode,L=i.child,Z=L.sibling,c=xs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Z!==null?w=xs(Z,w):(w=Ta(w,f,o,null),w.flags|=2),w.return=r,c.return=r,c.sibling=w,r.child=c,rc(null,c),c=r.child,w=i.child.memoizedState,w===null?w=Wm(o):(f=w.cachePool,f!==null?(L=Ht._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=$_(),w={baseLanes:w.baseLanes|o,cachePool:f}),c.memoizedState=w,c.childLanes=Zm(i,E,o),r.memoizedState=Xm,rc(i.child,c)):(_r(r),o=i.child,i=o.sibling,o=xs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function Jm(i,r){return r=Eh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Eh(i,r){return i=Yn(22,i,null,r),i.lanes=0,i}function ep(i,r,o){return Ra(r,i.child,null,o),i=Jm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function oT(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),pm(i.return,r,o)}function tp(i,r,o,c,f,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=f,E.treeForkCount=y)}function lT(i,r,o){var c=r.pendingProps,f=c.revealOrder,y=c.tail;c=c.children;var E=Ot.current,w=(E&2)!==0;if(w?(E=E&1|2,r.flags|=128):E&=1,re(Ot,E),dn(i,r,c,o),c=et?Kl:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&oT(i,o,r);else if(i.tag===19)oT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&ch(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),tp(r,!1,f,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&ch(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}tp(r,!0,o,null,y,c);break;case"together":tp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Is(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),br|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(vo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=xs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=xs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function np(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&th(i)))}function SN(i,r,o){switch(r.tag){case 3:Q(r,r.stateNode.containerInfo),pr(r,Ht,i.memoizedState.cache),Ea();break;case 27:case 5:ye(r);break;case 4:Q(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Rm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(_r(r),r.flags|=128,null):(o&r.child.childLanes)!==0?aT(i,r,o):(_r(r),i=Is(i,r,o),i!==null?i.sibling:null);_r(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(vo(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return lT(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(Ot,Ot.current),c)break;return null;case 22:return r.lanes=0,eT(i,r,o,r.pendingProps);case 24:pr(r,Ht,i.memoizedState.cache)}return Is(i,r,o)}function cT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Kt=!0;else{if(!np(i,o)&&(r.flags&128)===0)return Kt=!1,SN(i,r,o);Kt=(i.flags&131072)!==0}else Kt=!1,et&&(r.flags&1048576)!==0&&B_(r,Kl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=wa(r.elementType),r.type=i,typeof i=="function")om(i)?(c=Na(i,c),r.tag=1,r=sT(null,r,i,c,o)):(r.tag=0,r=Qm(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===pe){r.tag=11,r=W0(null,r,i,c,o);break e}else if(f===N){r.tag=14,r=Z0(null,r,i,c,o);break e}}throw r=Ue(i)||i,Error(s(306,r,""))}}return r;case 0:return Qm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=Na(c,r.pendingProps),sT(i,r,c,f,o);case 3:e:{if(Q(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var y=r.memoizedState;f=y.element,Sm(i,r),ec(r,c,null,o);var E=r.memoizedState;if(c=E.cache,pr(r,Ht,c),c!==y.cache&&gm(r,[Ht],o,!0),Jl(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=rT(i,r,c,o);break e}else if(c!==f){f=oi(Error(s(424)),r),Yl(f),r=rT(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(St=di(i.firstChild),un=r,et=!0,fr=null,ui=!0,o=e0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ea(),c===f){r=Is(i,r,o);break e}dn(i,r,c,o)}r=r.child}return r;case 26:return Th(i,r),i===null?(o=TE(r.type,null,r.pendingProps,null))?r.memoizedState=o:et||(o=r.type,i=r.pendingProps,c=Oh(ve.current).createElement(o),c[Bt]=r,c[sn]=i,fn(c,o,i),Ft(c),r.stateNode=c):r.memoizedState=TE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ye(r),i===null&&et&&(c=r.stateNode=yE(r.type,r.pendingProps,ve.current),un=r,ui=!0,f=St,Cr(r.type)?(Pp=f,St=di(c.firstChild)):St=f),dn(i,r,r.pendingProps.children,o),Th(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&et&&((f=c=St)&&(c=ZN(c,r.type,r.pendingProps,ui),c!==null?(r.stateNode=c,un=r,St=di(c.firstChild),ui=!1,f=!0):f=!1),f||mr(r)),ye(r),f=r.type,y=r.pendingProps,E=i!==null?i.memoizedProps:null,c=y.children,Ip(f,y)?c=null:E!==null&&Ip(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Nm(i,r,fN,null,null,o),Tc._currentValue=f),Th(i,r),dn(i,r,c,o),r.child;case 6:return i===null&&et&&((i=o=St)&&(o=JN(o,r.pendingProps,ui),o!==null?(r.stateNode=o,un=r,St=null,i=!0):i=!1),i||mr(r)),null;case 13:return aT(i,r,o);case 4:return Q(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ra(r,null,c,o):dn(i,r,c,o),r.child;case 11:return W0(i,r,r.type,r.pendingProps,o);case 7:return dn(i,r,r.pendingProps,o),r.child;case 8:return dn(i,r,r.pendingProps.children,o),r.child;case 12:return dn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,pr(r,r.type,c.value),dn(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,ba(r),f=hn(f),c=c(f),r.flags|=1,dn(i,r,c,o),r.child;case 14:return Z0(i,r,r.type,r.pendingProps,o);case 15:return J0(i,r,r.type,r.pendingProps,o);case 19:return lT(i,r,o);case 31:return EN(i,r,o);case 22:return eT(i,r,o,r.pendingProps);case 24:return ba(r),c=hn(Ht),i===null?(f=_m(),f===null&&(f=vt,y=ym(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),r.memoizedState={parent:c,cache:f},Em(r),pr(r,Ht,f)):((i.lanes&o)!==0&&(Sm(i,r),ec(r,null,null,o),Jl()),f=i.memoizedState,y=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),pr(r,Ht,c)):(c=y.cache,pr(r,Ht,c),c!==f.cache&&gm(r,[Ht],o,!0))),dn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ds(i){i.flags|=4}function ip(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(VT())i.flags|=8192;else throw Aa=rh,Tm}else i.flags&=-16777217}function uT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wE(r))if(VT())i.flags|=8192;else throw Aa=rh,Tm}function Sh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Cu():536870912,i.lanes|=r,Io|=r)}function ac(i,r){if(!et)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function bN(i,r,o){var c=r.pendingProps;switch(hm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return bt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Rs(Ht),te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(yo(r)?Ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fm())),bt(r),null;case 26:var f=r.type,y=r.memoizedState;return i===null?(Ds(r),y!==null?(bt(r),uT(r,y)):(bt(r),ip(r,f,null,c,o))):y?y!==i.memoizedState?(Ds(r),bt(r),uT(r,y)):(bt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ds(r),bt(r),ip(r,f,i,c,o)),null;case 27:if(xe(r),o=ve.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ds(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return bt(r),null}i=he.current,yo(r)?q_(r):(i=yE(f,c,o),r.stateNode=i,Ds(r))}return bt(r),null;case 5:if(xe(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ds(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return bt(r),null}if(y=he.current,yo(r))q_(r);else{var E=Oh(ve.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?E.createElement(f,{is:c.is}):E.createElement(f)}}y[Bt]=r,y[sn]=c;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=y;e:switch(fn(y,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ds(r)}}return bt(r),ip(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ds(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ve.current,yo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=un,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Bt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||aE(i.nodeValue,o)),i||mr(r,!0)}else i=Oh(i).createTextNode(c),i[Bt]=r,r.stateNode=i}return bt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=yo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Bt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),i=!1}else o=fm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Qn(r),r):(Qn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return bt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=yo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),f=!1}else f=fm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Qn(r),r):(Qn(r),null)}return Qn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Sh(r,r.updateQueue),bt(r),null);case 4:return te(),i===null&&wp(r.stateNode.containerInfo),bt(r),null;case 10:return Rs(r.type),bt(r),null;case 19:if(Y(Ot),c=r.memoizedState,c===null)return bt(r),null;if(f=(r.flags&128)!==0,y=c.rendering,y===null)if(f)ac(c,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=ch(i),y!==null){for(r.flags|=128,ac(c,!1),i=y.updateQueue,r.updateQueue=i,Sh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)L_(o,i),o=o.sibling;return re(Ot,Ot.current&1|2),et&&ws(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&_e()>Rh&&(r.flags|=128,f=!0,ac(c,!1),r.lanes=4194304)}else{if(!f)if(i=ch(y),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Sh(r,i),ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!et)return bt(r),null}else 2*_e()-c.renderingStartTime>Rh&&o!==536870912&&(r.flags|=128,f=!0,ac(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(i=c.last,i!==null?i.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=_e(),i.sibling=null,o=Ot.current,re(Ot,f?o&1|2:o&1),et&&ws(r,c.treeForkCount),i):(bt(r),null);case 22:case 23:return Qn(r),Am(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),o=r.updateQueue,o!==null&&Sh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&Y(xa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Rs(Ht),bt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function xN(i,r){switch(hm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Rs(Ht),te(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return xe(r),null;case 31:if(r.memoizedState!==null){if(Qn(r),r.alternate===null)throw Error(s(340));Ea()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Qn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ea()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Y(Ot),null;case 4:return te(),null;case 10:return Rs(r.type),null;case 22:case 23:return Qn(r),Am(),i!==null&&Y(xa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Rs(Ht),null;case 25:return null;default:return null}}function hT(i,r){switch(hm(r),r.tag){case 3:Rs(Ht),te();break;case 26:case 27:case 5:xe(r);break;case 4:te();break;case 31:r.memoizedState!==null&&Qn(r);break;case 13:Qn(r);break;case 19:Y(Ot);break;case 10:Rs(r.type);break;case 22:case 23:Qn(r),Am(),i!==null&&Y(xa);break;case 24:Rs(Ht)}}function oc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var y=o.create,E=o.inst;c=y(),E.destroy=c}o=o.next}while(o!==f)}}catch(w){dt(r,r.return,w)}}function Er(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&i)===i){var E=c.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=r;var L=o,Z=w;try{Z()}catch(oe){dt(f,L,oe)}}}c=c.next}while(c!==y)}}catch(oe){dt(r,r.return,oe)}}function dT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{n0(r,o)}catch(c){dt(i,i.return,c)}}}function fT(i,r,o){o.props=Na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){dt(i,r,c)}}function lc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){dt(i,r,f)}}function rs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){dt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){dt(i,r,f)}else o.current=null}function mT(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){dt(i,i.return,f)}}function sp(i,r,o){try{var c=i.stateNode;KN(c,i.type,o,r),c[sn]=r}catch(f){dt(i,i.return,f)}}function pT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cr(i.type)||i.tag===4}function rp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ap(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ai));else if(c!==4&&(c===27&&Cr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(ap(i,r,o),i=i.sibling;i!==null;)ap(i,r,o),i=i.sibling}function bh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Cr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(bh(i,r,o),i=i.sibling;i!==null;)bh(i,r,o),i=i.sibling}function gT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);fn(r,c,o),r[Bt]=i,r[sn]=o}catch(y){dt(i,i.return,y)}}var js=!1,Yt=!1,op=!1,yT=typeof WeakSet=="function"?WeakSet:Set,an=null;function wN(i,r){if(i=i.containerInfo,Cp=Hh,i=N_(i),em(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,w=-1,L=-1,Z=0,oe=0,de=i,J=null;t:for(;;){for(var ie;de!==o||f!==0&&de.nodeType!==3||(w=E+f),de!==y||c!==0&&de.nodeType!==3||(L=E+c),de.nodeType===3&&(E+=de.nodeValue.length),(ie=de.firstChild)!==null;)J=de,de=ie;for(;;){if(de===i)break t;if(J===o&&++Z===f&&(w=E),J===y&&++oe===c&&(L=E),(ie=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=ie}o=w===-1||L===-1?null:{start:w,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Np={focusedElem:i,selectionRange:o},Hh=!1,an=r;an!==null;)if(r=an,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,an=i;else for(;an!==null;){switch(r=an,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,f=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Ne=Na(o.type,f);i=c.getSnapshotBeforeUpdate(Ne,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){dt(o,o.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,an=i;break}an=r.return}}function vT(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ks(i,o),c&4&&oc(5,o);break;case 1:if(ks(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){dt(o,o.return,E)}else{var f=Na(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){dt(o,o.return,E)}}c&64&&dT(o),c&512&&lc(o,o.return);break;case 3:if(ks(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{n0(i,r)}catch(E){dt(o,o.return,E)}}break;case 27:r===null&&c&4&&gT(o);case 26:case 5:ks(i,o),r===null&&c&4&&mT(o),c&512&&lc(o,o.return);break;case 12:ks(i,o);break;case 31:ks(i,o),c&4&&ET(i,o);break;case 13:ks(i,o),c&4&&ST(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=kN.bind(null,o),eI(i,o))));break;case 22:if(c=o.memoizedState!==null||js,!c){r=r!==null&&r.memoizedState!==null||Yt,f=js;var y=Yt;js=c,(Yt=r)&&!y?Ps(i,o,(o.subtreeFlags&8772)!==0):ks(i,o),js=f,Yt=y}break;case 30:break;default:ks(i,o)}}function _T(i){var r=i.alternate;r!==null&&(i.alternate=null,_T(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ja(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var At=null,Mn=!1;function Ms(i,r,o){for(o=o.child;o!==null;)TT(i,r,o),o=o.sibling}function TT(i,r,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(qn,o)}catch{}switch(o.tag){case 26:Yt||rs(o,r),Ms(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Yt||rs(o,r);var c=At,f=Mn;Cr(o.type)&&(At=o.stateNode,Mn=!1),Ms(i,r,o),yc(o.stateNode),At=c,Mn=f;break;case 5:Yt||rs(o,r);case 6:if(c=At,f=Mn,At=null,Ms(i,r,o),At=c,Mn=f,At!==null)if(Mn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(o.stateNode)}catch(y){dt(o,r,y)}else try{At.removeChild(o.stateNode)}catch(y){dt(o,r,y)}break;case 18:At!==null&&(Mn?(i=At,dE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Lo(i)):dE(At,o.stateNode));break;case 4:c=At,f=Mn,At=o.stateNode.containerInfo,Mn=!0,Ms(i,r,o),At=c,Mn=f;break;case 0:case 11:case 14:case 15:Er(2,o,r),Yt||Er(4,o,r),Ms(i,r,o);break;case 1:Yt||(rs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&fT(o,r,c)),Ms(i,r,o);break;case 21:Ms(i,r,o);break;case 22:Yt=(c=Yt)||o.memoizedState!==null,Ms(i,r,o),Yt=c;break;default:Ms(i,r,o)}}function ET(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Lo(i)}catch(o){dt(r,r.return,o)}}}function ST(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Lo(i)}catch(o){dt(r,r.return,o)}}function AN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new yT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new yT),r;default:throw Error(s(435,i.tag))}}function xh(i,r){var o=AN(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=PN.bind(null,i,c);c.then(f,f)}})}function kn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],y=i,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Cr(w.type)){At=w.stateNode,Mn=!1;break e}break;case 5:At=w.stateNode,Mn=!1;break e;case 3:case 4:At=w.stateNode.containerInfo,Mn=!0;break e}w=w.return}if(At===null)throw Error(s(160));TT(y,E,f),At=null,Mn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)bT(r,i),r=r.sibling}var ji=null;function bT(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:kn(r,i),Pn(i),c&4&&(Er(3,i,i.return),oc(3,i),Er(5,i,i.return));break;case 1:kn(r,i),Pn(i),c&512&&(Yt||o===null||rs(o,o.return)),c&64&&js&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=ji;if(kn(r,i),Pn(i),c&512&&(Yt||o===null||rs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Gi]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),fn(y,c,o),y[Bt]=i,Ft(y),c=y;break e;case"link":var E=bE("link","href",f).get(c+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(y=E[w],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}y=f.createElement(c),fn(y,c,o),f.head.appendChild(y);break;case"meta":if(E=bE("meta","content",f).get(c+(o.content||""))){for(w=0;w<E.length;w++)if(y=E[w],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}y=f.createElement(c),fn(y,c,o),f.head.appendChild(y);break;default:throw Error(s(468,c))}y[Bt]=i,Ft(y),c=y}i.stateNode=c}else xE(f,i.type,i.stateNode);else i.stateNode=SE(f,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?xE(f,i.type,i.stateNode):SE(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&sp(i,i.memoizedProps,o.memoizedProps)}break;case 27:kn(r,i),Pn(i),c&512&&(Yt||o===null||rs(o,o.return)),o!==null&&c&4&&sp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,i),Pn(i),c&512&&(Yt||o===null||rs(o,o.return)),i.flags&32){f=i.stateNode;try{jn(f,"")}catch(Ne){dt(i,i.return,Ne)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,sp(i,f,o!==null?o.memoizedProps:f)),c&1024&&(op=!0);break;case 6:if(kn(r,i),Pn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Ne){dt(i,i.return,Ne)}}break;case 3:if(zh=null,f=ji,ji=Lh(r.containerInfo),kn(r,i),ji=f,Pn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Lo(r.containerInfo)}catch(Ne){dt(i,i.return,Ne)}op&&(op=!1,xT(i));break;case 4:c=ji,ji=Lh(i.stateNode.containerInfo),kn(r,i),Pn(i),ji=c;break;case 12:kn(r,i),Pn(i);break;case 31:kn(r,i),Pn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xh(i,c)));break;case 13:kn(r,i),Pn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ah=_e()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xh(i,c)));break;case 22:f=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Z=js,oe=Yt;if(js=Z||f,Yt=oe||L,kn(r,i),Yt=oe,js=Z,Pn(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||L||js||Yt||Ia(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,f)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=L.stateNode;var de=L.memoizedProps.style,J=de!=null&&de.hasOwnProperty("display")?de.display:null;w.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ne){dt(L,L.return,Ne)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(Ne){dt(L,L.return,Ne)}}}else if(r.tag===18){if(o===null){L=r;try{var ie=L.stateNode;f?fE(ie,!0):fE(L.stateNode,!1)}catch(Ne){dt(L,L.return,Ne)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,xh(i,o))));break;case 19:kn(r,i),Pn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xh(i,c)));break;case 30:break;case 21:break;default:kn(r,i),Pn(i)}}function Pn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(pT(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,y=rp(i);bh(i,y,f);break;case 5:var E=o.stateNode;o.flags&32&&(jn(E,""),o.flags&=-33);var w=rp(i);bh(i,w,E);break;case 3:case 4:var L=o.stateNode.containerInfo,Z=rp(i);ap(i,Z,L);break;default:throw Error(s(161))}}catch(oe){dt(i,i.return,oe)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function xT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;xT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ks(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vT(i,r.alternate,r),r=r.sibling}function Ia(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),Ia(r);break;case 1:rs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&fT(r,r.return,o),Ia(r);break;case 27:yc(r.stateNode);case 26:case 5:rs(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}i=i.sibling}}function Ps(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,y=r,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ps(f,y,o),oc(4,y);break;case 1:if(Ps(f,y,o),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Z){dt(c,c.return,Z)}if(c=y,f=c.updateQueue,f!==null){var w=c.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)t0(L[f],w)}catch(Z){dt(c,c.return,Z)}}o&&E&64&&dT(y),lc(y,y.return);break;case 27:gT(y);case 26:case 5:Ps(f,y,o),o&&c===null&&E&4&&mT(y),lc(y,y.return);break;case 12:Ps(f,y,o);break;case 31:Ps(f,y,o),o&&E&4&&ET(f,y);break;case 13:Ps(f,y,o),o&&E&4&&ST(f,y);break;case 22:y.memoizedState===null&&Ps(f,y,o),lc(y,y.return);break;case 30:break;default:Ps(f,y,o)}r=r.sibling}}function lp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$l(o))}function cp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i))}function Mi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wT(i,r,o,c),r=r.sibling}function wT(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,o,c),f&2048&&oc(9,r);break;case 1:Mi(i,r,o,c);break;case 3:Mi(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i)));break;case 12:if(f&2048){Mi(i,r,o,c),i=r.stateNode;try{var y=r.memoizedProps,E=y.id,w=y.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){dt(r,r.return,L)}}else Mi(i,r,o,c);break;case 31:Mi(i,r,o,c);break;case 13:Mi(i,r,o,c);break;case 23:break;case 22:y=r.stateNode,E=r.alternate,r.memoizedState!==null?y._visibility&2?Mi(i,r,o,c):cc(i,r):y._visibility&2?Mi(i,r,o,c):(y._visibility|=2,Ro(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&lp(E,r);break;case 24:Mi(i,r,o,c),f&2048&&cp(r.alternate,r);break;default:Mi(i,r,o,c)}}function Ro(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,E=r,w=o,L=c,Z=E.flags;switch(E.tag){case 0:case 11:case 15:Ro(y,E,w,L,f),oc(8,E);break;case 23:break;case 22:var oe=E.stateNode;E.memoizedState!==null?oe._visibility&2?Ro(y,E,w,L,f):cc(y,E):(oe._visibility|=2,Ro(y,E,w,L,f)),f&&Z&2048&&lp(E.alternate,E);break;case 24:Ro(y,E,w,L,f),f&&Z&2048&&cp(E.alternate,E);break;default:Ro(y,E,w,L,f)}r=r.sibling}}function cc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:cc(o,c),f&2048&&lp(c.alternate,c);break;case 24:cc(o,c),f&2048&&cp(c.alternate,c);break;default:cc(o,c)}r=r.sibling}}var uc=8192;function Co(i,r,o){if(i.subtreeFlags&uc)for(i=i.child;i!==null;)AT(i,r,o),i=i.sibling}function AT(i,r,o){switch(i.tag){case 26:Co(i,r,o),i.flags&uc&&i.memoizedState!==null&&dI(o,ji,i.memoizedState,i.memoizedProps);break;case 5:Co(i,r,o);break;case 3:case 4:var c=ji;ji=Lh(i.stateNode.containerInfo),Co(i,r,o),ji=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=uc,uc=16777216,Co(i,r,o),uc=c):Co(i,r,o));break;default:Co(i,r,o)}}function RT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function hc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];an=c,NT(c,i)}RT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)CT(i),i=i.sibling}function CT(i){switch(i.tag){case 0:case 11:case 15:hc(i),i.flags&2048&&Er(9,i,i.return);break;case 3:hc(i);break;case 12:hc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,wh(i)):hc(i);break;default:hc(i)}}function wh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];an=c,NT(c,i)}RT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Er(8,r,r.return),wh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,wh(r));break;default:wh(r)}i=i.sibling}}function NT(i,r){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:Er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$l(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,an=c;else e:for(o=i;an!==null;){c=an;var f=c.sibling,y=c.return;if(_T(c),c===o){an=null;break e}if(f!==null){f.return=y,an=f;break e}an=y}}}var RN={getCacheForType:function(i){var r=hn(Ht),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return hn(Ht).controller.signal}},CN=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Ye=null,Qe=0,ht=0,Xn=null,Sr=!1,No=!1,up=!1,Vs=0,jt=0,br=0,Da=0,hp=0,Wn=0,Io=0,dc=null,Vn=null,dp=!1,Ah=0,IT=0,Rh=1/0,Ch=null,xr=null,Jt=0,wr=null,Do=null,Os=0,fp=0,mp=null,DT=null,fc=0,pp=null;function Zn(){return(ot&2)!==0&&Qe!==0?Qe&-Qe:ee.T!==null?Ep():Nu()}function jT(){if(Wn===0)if((Qe&536870912)===0||et){var i=sa;sa<<=1,(sa&3932160)===0&&(sa=262144),Wn=i}else Wn=536870912;return i=$n.current,i!==null&&(i.flags|=32),Wn}function On(i,r,o){(i===vt&&(ht===2||ht===9)||i.cancelPendingCommit!==null)&&(jo(i,0),Ar(i,Qe,Wn,!1)),ra(i,o),((ot&2)===0||i!==vt)&&(i===vt&&((ot&2)===0&&(Da|=o),jt===4&&Ar(i,Qe,Wn,!1)),as(i))}function MT(i,r,o){if((ot&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||bi(i,r),f=c?DN(i,r):yp(i,r,!0),y=c;do{if(f===0){No&&!c&&Ar(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!NN(o)){f=yp(i,r,!1),y=!1;continue}if(f===2){if(y=r,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=i;f=dc;var L=w.current.memoizedState.isDehydrated;if(L&&(jo(w,E).flags|=256),E=yp(w,E,!1),E!==2){if(up&&!L){w.errorRecoveryDisabledLanes|=y,Da|=y,f=4;break e}y=Vn,Vn=f,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}f=E}if(y=!1,f!==2)continue}}if(f===1){jo(i,0),Ar(i,r,0,!0);break}e:{switch(c=i,y=f,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ar(c,r,Wn,!Sr);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ah+300-_e(),10<f)){if(Ar(c,r,Wn,!Sr),Fi(c,0,!0)!==0)break e;Os=r,c.timeoutHandle=uE(kT.bind(null,c,o,Vn,Ch,dp,r,Wn,Da,Io,Sr,y,"Throttled",-0,0),f);break e}kT(c,o,Vn,Ch,dp,r,Wn,Da,Io,Sr,y,null,-0,0)}}break}while(!0);as(i)}function kT(i,r,o,c,f,y,E,w,L,Z,oe,de,J,ie){if(i.timeoutHandle=-1,de=r.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},AT(r,y,de);var Ne=(y&62914560)===y?Ah-_e():(y&4194048)===y?IT-_e():0;if(Ne=fI(de,Ne),Ne!==null){Os=y,i.cancelPendingCommit=Ne(FT.bind(null,i,r,y,o,c,f,E,w,L,oe,de,null,J,ie)),Ar(i,y,E,!Z);return}}FT(i,r,y,o,c,f,E,w,L)}function NN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],y=f.getSnapshot;f=f.value;try{if(!Kn(y(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ar(i,r,o,c){r&=~hp,r&=~Da,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var y=31-Pt(f),E=1<<y;c[y]=-1,f&=~E}o!==0&&aa(i,o,r)}function Nh(){return(ot&6)===0?(mc(0),!1):!0}function gp(){if(Ye!==null){if(ht===0)var i=Ye.return;else i=Ye,As=Sa=null,jm(i),So=null,Xl=0,i=Ye;for(;i!==null;)hT(i.alternate,i),i=i.return;Ye=null}}function jo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,QN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Os=0,gp(),vt=i,Ye=o=xs(i.current,null),Qe=r,ht=0,Xn=null,Sr=!1,No=bi(i,r),up=!1,Io=Wn=hp=Da=br=jt=0,Vn=dc=null,dp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-Pt(c),y=1<<f;r|=i[f],c&=~y}return Vs=r,Xu(),o}function PT(i,r){He=null,ee.H=sc,r===Eo||r===sh?(r=W_(),ht=3):r===Tm?(r=W_(),ht=4):ht=r===$m?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xn=r,Ye===null&&(jt=1,vh(i,oi(r,i.current)))}function VT(){var i=$n.current;return i===null?!0:(Qe&4194048)===Qe?hi===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?i===hi:!1}function OT(){var i=ee.H;return ee.H=sc,i===null?sc:i}function LT(){var i=ee.A;return ee.A=RN,i}function Ih(){jt=4,Sr||(Qe&4194048)!==Qe&&$n.current!==null||(No=!0),(br&134217727)===0&&(Da&134217727)===0||vt===null||Ar(vt,Qe,Wn,!1)}function yp(i,r,o){var c=ot;ot|=2;var f=OT(),y=LT();(vt!==i||Qe!==r)&&(Ch=null,jo(i,r)),r=!1;var E=jt;e:do try{if(ht!==0&&Ye!==null){var w=Ye,L=Xn;switch(ht){case 8:gp(),E=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var Z=ht;if(ht=0,Xn=null,Mo(i,w,L,Z),o&&No){E=0;break e}break;default:Z=ht,ht=0,Xn=null,Mo(i,w,L,Z)}}IN(),E=jt;break}catch(oe){PT(i,oe)}while(!0);return r&&i.shellSuspendCounter++,As=Sa=null,ot=c,ee.H=f,ee.A=y,Ye===null&&(vt=null,Qe=0,Xu()),E}function IN(){for(;Ye!==null;)UT(Ye)}function DN(i,r){var o=ot;ot|=2;var c=OT(),f=LT();vt!==i||Qe!==r?(Ch=null,Rh=_e()+500,jo(i,r)):No=bi(i,r);e:do try{if(ht!==0&&Ye!==null){r=Ye;var y=Xn;t:switch(ht){case 1:ht=0,Xn=null,Mo(i,r,y,1);break;case 2:case 9:if(Q_(y)){ht=0,Xn=null,zT(r);break}r=function(){ht!==2&&ht!==9||vt!==i||(ht=7),as(i)},y.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Q_(y)?(ht=0,Xn=null,zT(r)):(ht=0,Xn=null,Mo(i,r,y,7));break;case 5:var E=null;switch(Ye.tag){case 26:E=Ye.memoizedState;case 5:case 27:var w=Ye;if(E?wE(E):w.stateNode.complete){ht=0,Xn=null;var L=w.sibling;if(L!==null)Ye=L;else{var Z=w.return;Z!==null?(Ye=Z,Dh(Z)):Ye=null}break t}}ht=0,Xn=null,Mo(i,r,y,5);break;case 6:ht=0,Xn=null,Mo(i,r,y,6);break;case 8:gp(),jt=6;break e;default:throw Error(s(462))}}jN();break}catch(oe){PT(i,oe)}while(!0);return As=Sa=null,ee.H=c,ee.A=f,ot=o,Ye!==null?0:(vt=null,Qe=0,Xu(),jt)}function jN(){for(;Ye!==null&&!X();)UT(Ye)}function UT(i){var r=cT(i.alternate,i,Vs);i.memoizedProps=i.pendingProps,r===null?Dh(i):Ye=r}function zT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=iT(o,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=iT(o,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:jm(r);default:hT(o,r),r=Ye=L_(r,Vs),r=cT(o,r,Vs)}i.memoizedProps=i.pendingProps,r===null?Dh(i):Ye=r}function Mo(i,r,o,c){As=Sa=null,jm(r),So=null,Xl=0;var f=r.return;try{if(TN(i,f,r,o,Qe)){jt=1,vh(i,oi(o,i.current)),Ye=null;return}}catch(y){if(f!==null)throw Ye=f,y;jt=1,vh(i,oi(o,i.current)),Ye=null;return}r.flags&32768?(et||c===1?i=!0:No||(Qe&536870912)!==0?i=!1:(Sr=i=!0,(c===2||c===9||c===3||c===6)&&(c=$n.current,c!==null&&c.tag===13&&(c.flags|=16384))),BT(r,i)):Dh(r)}function Dh(i){var r=i;do{if((r.flags&32768)!==0){BT(r,Sr);return}i=r.return;var o=bN(r.alternate,r,Vs);if(o!==null){Ye=o;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=i}while(r!==null);jt===0&&(jt=5)}function BT(i,r){do{var o=xN(i.alternate,i);if(o!==null){o.flags&=32767,Ye=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=o}while(i!==null);jt=6,Ye=null}function FT(i,r,o,c,f,y,E,w,L){i.cancelPendingCommit=null;do jh();while(Jt!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=rm,Xf(i,o,y,E,w,L),i===vt&&(Ye=vt=null,Qe=0),Do=r,wr=i,Os=o,fp=y,mp=f,DT=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VN(Ei,function(){return YT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,f=fe.p,fe.p=2,E=ot,ot|=4;try{wN(i,r,o)}finally{ot=E,fe.p=f,ee.T=c}}Jt=1,qT(),HT(),GT()}}function qT(){if(Jt===1){Jt=0;var i=wr,r=Do,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var c=fe.p;fe.p=2;var f=ot;ot|=4;try{bT(r,i);var y=Np,E=N_(i.containerInfo),w=y.focusedElem,L=y.selectionRange;if(E!==w&&w&&w.ownerDocument&&C_(w.ownerDocument.documentElement,w)){if(L!==null&&em(w)){var Z=L.start,oe=L.end;if(oe===void 0&&(oe=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(oe,w.value.length);else{var de=w.ownerDocument||document,J=de&&de.defaultView||window;if(J.getSelection){var ie=J.getSelection(),Ne=w.textContent.length,Pe=Math.min(L.start,Ne),gt=L.end===void 0?Pe:Math.min(L.end,Ne);!ie.extend&&Pe>gt&&(E=gt,gt=Pe,Pe=E);var K=R_(w,Pe),F=R_(w,gt);if(K&&F&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==F.node||ie.focusOffset!==F.offset)){var W=de.createRange();W.setStart(K.node,K.offset),ie.removeAllRanges(),Pe>gt?(ie.addRange(W),ie.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),ie.addRange(W))}}}}for(de=[],ie=w;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<de.length;w++){var ce=de[w];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Hh=!!Cp,Np=Cp=null}finally{ot=f,fe.p=c,ee.T=o}}i.current=r,Jt=2}}function HT(){if(Jt===2){Jt=0;var i=wr,r=Do,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var c=fe.p;fe.p=2;var f=ot;ot|=4;try{vT(i,r.alternate,r)}finally{ot=f,fe.p=c,ee.T=o}}Jt=3}}function GT(){if(Jt===4||Jt===3){Jt=0,le();var i=wr,r=Do,o=Os,c=DT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jt=5:(Jt=0,Do=wr=null,KT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(xr=null),Ts(o),r=r.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(qn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=ee.T,f=fe.p,fe.p=2,ee.T=null;try{for(var y=i.onRecoverableError,E=0;E<c.length;E++){var w=c[E];y(w.value,{componentStack:w.stack})}}finally{ee.T=r,fe.p=f}}(Os&3)!==0&&jh(),as(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===pp?fc++:(fc=0,pp=i):fc=0,mc(0)}}function KT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,$l(r)))}function jh(){return qT(),HT(),GT(),YT()}function YT(){if(Jt!==5)return!1;var i=wr,r=fp;fp=0;var o=Ts(Os),c=ee.T,f=fe.p;try{fe.p=32>o?32:o,ee.T=null,o=mp,mp=null;var y=wr,E=Os;if(Jt=0,Do=wr=null,Os=0,(ot&6)!==0)throw Error(s(331));var w=ot;if(ot|=4,CT(y.current),wT(y,y.current,E,o),ot=w,mc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(qn,y)}catch{}return!0}finally{fe.p=f,ee.T=c,KT(i,r)}}function $T(i,r,o){r=oi(o,r),r=Ym(i.stateNode,r,2),i=vr(i,r,2),i!==null&&(ra(i,2),as(i))}function dt(i,r,o){if(i.tag===3)$T(i,i,o);else for(;r!==null;){if(r.tag===3){$T(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xr===null||!xr.has(c))){i=oi(o,i),o=Q0(2),c=vr(r,o,2),c!==null&&(X0(o,c,r,i),ra(c,2),as(c));break}}r=r.return}}function vp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new CN;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(up=!0,f.add(o),i=MN.bind(null,i,r,o),r.then(i,i))}function MN(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,vt===i&&(Qe&o)===o&&(jt===4||jt===3&&(Qe&62914560)===Qe&&300>_e()-Ah?(ot&2)===0&&jo(i,0):hp|=o,Io===Qe&&(Io=0)),as(i)}function QT(i,r){r===0&&(r=Cu()),i=_a(i,r),i!==null&&(ra(i,r),as(i))}function kN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),QT(i,o)}function PN(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),QT(i,o)}function VN(i,r){return it(i,r)}var Mh=null,ko=null,_p=!1,kh=!1,Tp=!1,Rr=0;function as(i){i!==ko&&i.next===null&&(ko===null?Mh=ko=i:ko=ko.next=i),kh=!0,_p||(_p=!0,LN())}function mc(i,r){if(!Tp&&kh){Tp=!0;do for(var o=!1,c=Mh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var E=c.suspendedLanes,w=c.pingedLanes;y=(1<<31-Pt(42|i)+1)-1,y&=f&~(E&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,JT(c,y))}else y=Qe,y=Fi(c,c===vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||bi(c,y)||(o=!0,JT(c,y));c=c.next}while(o);Tp=!1}}function ON(){XT()}function XT(){kh=_p=!1;var i=0;Rr!==0&&$N()&&(i=Rr);for(var r=_e(),o=null,c=Mh;c!==null;){var f=c.next,y=WT(c,r);y===0?(c.next=null,o===null?Mh=f:o.next=f,f===null&&(ko=o)):(o=c,(i!==0||(y&3)!==0)&&(kh=!0)),c=f}Jt!==0&&Jt!==5||mc(i),Rr!==0&&(Rr=0)}function WT(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-Pt(y),w=1<<E,L=f[E];L===-1?((w&o)===0||(w&c)!==0)&&(f[E]=Qf(w,r)):L<=r&&(i.expiredLanes|=w),y&=~w}if(r=vt,o=Qe,o=Fi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(ht===2||ht===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ei(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||bi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&ei(c),Ts(o)){case 2:case 8:o=nr;break;case 32:o=Ei;break;case 268435456:o=_s;break;default:o=Ei}return c=ZT.bind(null,i),o=it(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&ei(c),i.callbackPriority=2,i.callbackNode=null,2}function ZT(i,r){if(Jt!==0&&Jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(jh()&&i.callbackNode!==o)return null;var c=Qe;return c=Fi(i,i===vt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(MT(i,c,r),WT(i,_e()),i.callbackNode!=null&&i.callbackNode===o?ZT.bind(null,i):null)}function JT(i,r){if(jh())return null;MT(i,r,!0)}function LN(){XN(function(){(ot&6)!==0?it(Rt,ON):XT()})}function Ep(){if(Rr===0){var i=_o;i===0&&(i=zi,zi<<=1,(zi&261888)===0&&(zi=256)),Rr=i}return Rr}function eE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:io(""+i)}function tE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function UN(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var y=eE((f[sn]||null).action),E=c.submitter;E&&(r=(r=E[sn]||null)?eE(r.formAction):E.getAttribute("formAction"),r!==null&&(y=r,E=null));var w=new Ji("action","action",null,c,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rr!==0){var L=E?tE(f,E):new FormData(f);Bm(o,{pending:!0,data:L,method:f.method,action:y},null,L)}}else typeof y=="function"&&(w.preventDefault(),L=E?tE(f,E):new FormData(f),Bm(o,{pending:!0,data:L,method:f.method,action:y},y,L))},currentTarget:f}]})}}for(var Sp=0;Sp<sm.length;Sp++){var bp=sm[Sp],zN=bp.toLowerCase(),BN=bp[0].toUpperCase()+bp.slice(1);Di(zN,"on"+BN)}Di(j_,"onAnimationEnd"),Di(M_,"onAnimationIteration"),Di(k_,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(iN,"onTransitionRun"),Di(sN,"onTransitionStart"),Di(rN,"onTransitionCancel"),Di(P_,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function nE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var E=c.length-1;0<=E;E--){var w=c[E],L=w.instance,Z=w.currentTarget;if(w=w.listener,L!==y&&f.isPropagationStopped())break e;y=w,f.currentTarget=Z;try{y(f)}catch(oe){Qu(oe)}f.currentTarget=null,y=L}else for(E=0;E<c.length;E++){if(w=c[E],L=w.instance,Z=w.currentTarget,w=w.listener,L!==y&&f.isPropagationStopped())break e;y=w,f.currentTarget=Z;try{y(f)}catch(oe){Qu(oe)}f.currentTarget=null,y=L}}}}function $e(i,r){var o=r[Za];o===void 0&&(o=r[Za]=new Set);var c=i+"__bubble";o.has(c)||(iE(r,i,2,!1),o.add(c))}function xp(i,r,o){var c=0;r&&(c|=4),iE(o,i,c,r)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function wp(i){if(!i[Ph]){i[Ph]=!0,Rl.forEach(function(o){o!=="selectionchange"&&(FN.has(o)||xp(o,!1,i),xp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ph]||(r[Ph]=!0,xp("selectionchange",!1,r))}}function iE(i,r,o,c){switch(jE(r)){case 2:var f=gI;break;case 8:f=yI;break;default:f=zp}o=f.bind(null,r,o,i),f=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Ap(i,r,o,c,f){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var w=c.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=c.return;E!==null;){var L=E.tag;if((L===3||L===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Ki(w),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){c=y=E;continue e}w=w.parentNode}}c=c.return}lr(function(){var Z=y,oe=ii(o),de=[];e:{var J=V_.get(i);if(J!==void 0){var ie=Ji,Ne=i;switch(i){case"keypress":if(fa(o)===0)break e;case"keydown":case"keyup":ie=Ku;break;case"focusin":Ne="focus",ie=pa;break;case"focusout":Ne="blur",ie=pa;break;case"beforeblur":case"afterblur":ie=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=T;break;case j_:case M_:case k_:ie=Uu;break;case P_:ie=C;break;case"scroll":case"scrollend":ie=Ul;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=bs;break;case"toggle":case"beforetoggle":ie=qe}var Pe=(r&4)!==0,gt=!Pe&&(i==="scroll"||i==="scrollend"),K=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var F=Z,W;F!==null;){var ce=F;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||K===null||(ce=Ri(F,K),ce!=null&&Pe.push(gc(F,ce,W))),gt)break;F=F.return}0<Pe.length&&(J=new ie(J,Ne,null,o,oe),de.push({event:J,listeners:Pe}))}}if((r&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",J&&o!==Vl&&(Ne=o.relatedTarget||o.fromElement)&&(Ki(Ne)||Ne[Hi]))break e;if((ie||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(Ne=o.relatedTarget||o.toElement,ie=Z,Ne=Ne?Ki(Ne):null,Ne!==null&&(gt=l(Ne),Pe=Ne.tag,Ne!==gt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ne=null)):(ie=null,Ne=Z),ie!==Ne)){if(Pe=zl,ce="onMouseLeave",K="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=bs,ce="onPointerLeave",K="onPointerEnter",F="pointer"),gt=ie==null?J:Hn(ie),W=Ne==null?J:Hn(Ne),J=new Pe(ce,F+"leave",ie,o,oe),J.target=gt,J.relatedTarget=W,ce=null,Ki(oe)===Z&&(Pe=new Pe(K,F+"enter",Ne,o,oe),Pe.target=W,Pe.relatedTarget=gt,ce=Pe),gt=ce,ie&&Ne)t:{for(Pe=qN,K=ie,F=Ne,W=0,ce=K;ce;ce=Pe(ce))W++;ce=0;for(var je=F;je;je=Pe(je))ce++;for(;0<W-ce;)K=Pe(K),W--;for(;0<ce-W;)F=Pe(F),ce--;for(;W--;){if(K===F||F!==null&&K===F.alternate){Pe=K;break t}K=Pe(K),F=Pe(F)}Pe=null}else Pe=null;ie!==null&&sE(de,J,ie,Pe,!1),Ne!==null&&gt!==null&&sE(de,gt,Ne,Pe,!0)}}e:{if(J=Z?Hn(Z):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var st=E_;else if(__(J))if(S_)st=eN;else{st=ZC;var Ie=WC}else ie=J.nodeName,!ie||ie.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&no(Z.elementType)&&(st=E_):st=JC;if(st&&(st=st(i,Z))){T_(de,st,o,oe);break e}Ie&&Ie(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Ml(J,"number",J.value)}switch(Ie=Z?Hn(Z):window,i){case"focusin":(__(Ie)||Ie.contentEditable==="true")&&(uo=Ie,tm=Z,Gl=null);break;case"focusout":Gl=tm=uo=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,I_(de,o,oe);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":I_(de,o,oe)}var Ge;if(at)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else co?ga(i,o)&&(Xe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Xe="onCompositionStart");Xe&&(ns&&o.locale!=="ko"&&(co||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&co&&(Ge=Ll()):(Zi=oe,Ol="value"in Zi?Zi.value:Zi.textContent,co=!0)),Ie=Vh(Z,Xe),0<Ie.length&&(Xe=new ts(Xe,i,null,o,oe),de.push({event:Xe,listeners:Ie}),Ge?Xe.data=Ge:(Ge=lo(o),Ge!==null&&(Xe.data=Ge)))),(Ge=ri?YC(i,o):$C(i,o))&&(Xe=Vh(Z,"onBeforeInput"),0<Xe.length&&(Ie=new ts("onBeforeInput","beforeinput",null,o,oe),de.push({event:Ie,listeners:Xe}),Ie.data=Ge)),UN(de,i,Z,o,oe)}nE(de,r)})}function gc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Vh(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Ri(i,o),f!=null&&c.unshift(gc(i,f,y)),f=Ri(i,r),f!=null&&c.push(gc(i,f,y))),i.tag===3)return c;i=i.return}return[]}function qN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sE(i,r,o,c,f){for(var y=r._reactName,E=[];o!==null&&o!==c;){var w=o,L=w.alternate,Z=w.stateNode;if(w=w.tag,L!==null&&L===c)break;w!==5&&w!==26&&w!==27||Z===null||(L=Z,f?(Z=Ri(o,y),Z!=null&&E.unshift(gc(o,Z,L))):f||(Z=Ri(o,y),Z!=null&&E.push(gc(o,Z,L)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var HN=/\r\n?/g,GN=/\u0000|\uFFFD/g;function rE(i){return(typeof i=="string"?i:""+i).replace(HN,`
`).replace(GN,"")}function aE(i,r){return r=rE(r),rE(i)===r}function pt(i,r,o,c,f,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||jn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&jn(i,""+c);break;case"className":Gn(i,"class",c);break;case"tabIndex":Gn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(i,o,c);break;case"style":Pl(i,c,y);break;case"data":if(r!=="object"){Gn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=io(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&pt(i,r,"name",f.name,f,null),pt(i,r,"formEncType",f.formEncType,f,null),pt(i,r,"formMethod",f.formMethod,f,null),pt(i,r,"formTarget",f.formTarget,f,null)):(pt(i,r,"encType",f.encType,f,null),pt(i,r,"method",f.method,f,null),pt(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=io(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ai);break;case"onScroll":c!=null&&$e("scroll",i);break;case"onScrollEnd":c!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=io(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":$e("beforetoggle",i),$e("toggle",i),eo(i,"popover",c);break;case"xlinkActuate":qt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":eo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vu.get(o)||o,eo(i,o,c))}}function Rp(i,r,o,c,f,y){switch(o){case"style":Pl(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?jn(i,c):(typeof c=="number"||typeof c=="bigint")&&jn(i,""+c);break;case"onScroll":c!=null&&$e("scroll",i);break;case"onScrollEnd":c!=null&&$e("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),y=i[sn]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):eo(i,o,c)}}}function fn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var c=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:pt(i,r,y,E,o,null)}}f&&pt(i,r,"srcSet",o.srcSet,o,null),c&&pt(i,r,"src",o.src,o,null);return;case"input":$e("invalid",i);var w=y=E=f=null,L=null,Z=null;for(c in o)if(o.hasOwnProperty(c)){var oe=o[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":E=oe;break;case"checked":L=oe;break;case"defaultChecked":Z=oe;break;case"value":y=oe;break;case"defaultValue":w=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:pt(i,r,c,oe,o,null)}}Mu(i,y,w,L,Z,E,f,!1);return;case"select":$e("invalid",i),c=E=y=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":y=w;break;case"defaultValue":E=w;break;case"multiple":c=w;default:pt(i,r,f,w,o,null)}r=y,o=E,i.multiple=!!c,r!=null?sr(i,!!c,r,!1):o!=null&&sr(i,!!c,o,!0);return;case"textarea":$e("invalid",i),y=f=c=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":c=w;break;case"defaultValue":f=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:pt(i,r,E,w,o,null)}rr(i,c,f,y);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(i,r,L,c,o,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(c=0;c<pc.length;c++)$e(pc[c],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(c=o[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:pt(i,r,Z,c,o,null)}return;default:if(no(r)){for(oe in o)o.hasOwnProperty(oe)&&(c=o[oe],c!==void 0&&Rp(i,r,oe,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&pt(i,r,w,c,o,null))}function KN(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,E=null,w=null,L=null,Z=null,oe=null;for(ie in o){var de=o[ie];if(o.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":L=de;default:c.hasOwnProperty(ie)||pt(i,r,ie,null,c,de)}}for(var J in c){var ie=c[J];if(de=o[J],c.hasOwnProperty(J)&&(ie!=null||de!=null))switch(J){case"type":y=ie;break;case"name":f=ie;break;case"checked":Z=ie;break;case"defaultChecked":oe=ie;break;case"value":E=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==de&&pt(i,r,J,ie,c,de)}}to(i,E,w,L,Z,oe,y,f);return;case"select":ie=E=w=J=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":ie=L;default:c.hasOwnProperty(y)||pt(i,r,y,null,c,L)}for(f in c)if(y=c[f],L=o[f],c.hasOwnProperty(f)&&(y!=null||L!=null))switch(f){case"value":J=y;break;case"defaultValue":w=y;break;case"multiple":E=y;default:y!==L&&pt(i,r,f,y,c,L)}r=w,o=E,c=ie,J!=null?sr(i,!!o,J,!1):!!c!=!!o&&(r!=null?sr(i,!!o,r,!0):sr(i,!!o,o?[]:"",!1));return;case"textarea":ie=J=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:pt(i,r,w,null,c,f)}for(E in c)if(f=c[E],y=o[E],c.hasOwnProperty(E)&&(f!=null||y!=null))switch(E){case"value":J=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==y&&pt(i,r,E,f,c,y)}ku(i,J,ie);return;case"option":for(var Ne in o)if(J=o[Ne],o.hasOwnProperty(Ne)&&J!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":i.selected=!1;break;default:pt(i,r,Ne,null,c,J)}for(L in c)if(J=c[L],ie=o[L],c.hasOwnProperty(L)&&J!==ie&&(J!=null||ie!=null))switch(L){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:pt(i,r,L,J,c,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)J=o[Pe],o.hasOwnProperty(Pe)&&J!=null&&!c.hasOwnProperty(Pe)&&pt(i,r,Pe,null,c,J);for(Z in c)if(J=c[Z],ie=o[Z],c.hasOwnProperty(Z)&&J!==ie&&(J!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:pt(i,r,Z,J,c,ie)}return;default:if(no(r)){for(var gt in o)J=o[gt],o.hasOwnProperty(gt)&&J!==void 0&&!c.hasOwnProperty(gt)&&Rp(i,r,gt,void 0,c,J);for(oe in c)J=c[oe],ie=o[oe],!c.hasOwnProperty(oe)||J===ie||J===void 0&&ie===void 0||Rp(i,r,oe,J,c,ie);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!c.hasOwnProperty(K)&&pt(i,r,K,null,c,J);for(de in c)J=c[de],ie=o[de],!c.hasOwnProperty(de)||J===ie||J==null&&ie==null||pt(i,r,de,J,c,ie)}function oE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],y=f.transferSize,E=f.initiatorType,w=f.duration;if(y&&w&&oE(E)){for(E=0,w=f.responseEnd,c+=1;c<o.length;c++){var L=o[c],Z=L.startTime;if(Z>w)break;var oe=L.transferSize,de=L.initiatorType;oe&&oE(de)&&(L=L.responseEnd,E+=oe*(L<w?1:(w-Z)/(L-Z)))}if(--c,r+=8*(y+E)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Cp=null,Np=null;function Oh(i){return i.nodeType===9?i:i.ownerDocument}function lE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ip(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dp=null;function $N(){var i=window.event;return i&&i.type==="popstate"?i===Dp?!1:(Dp=i,!0):(Dp=null,!1)}var uE=typeof setTimeout=="function"?setTimeout:void 0,QN=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,XN=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(i){return hE.resolve(null).then(i).catch(WN)}:uE;function WN(i){setTimeout(function(){throw i})}function Cr(i){return i==="head"}function dE(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),Lo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")yc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,yc(o);for(var y=o.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Gi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&yc(i.ownerDocument.body);o=f}while(o);Lo(r)}function fE(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),Ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ZN(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Gi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function JN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function mE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=di(i.nextSibling),i===null))return null;return i}function Mp(i){return i.data==="$?"||i.data==="$~"}function kp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function eI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Pp=null;function pE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return di(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function gE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function yE(i,r,o){switch(r=Oh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function yc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ja(i)}var fi=new Map,vE=new Set;function Lh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ls=fe.d;fe.d={f:tI,r:nI,D:iI,C:sI,L:rI,m:aI,X:lI,S:oI,M:cI};function tI(){var i=Ls.f(),r=Nh();return i||r}function nI(i){var r=ni(i);r!==null&&r.tag===5&&r.type==="form"?P0(r):Ls.r(i)}var Po=typeof document>"u"?null:document;function _E(i,r,o){var c=Po;if(c&&typeof r=="string"&&r){var f=Dn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),vE.has(f)||(vE.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),fn(r,"link",i),Ft(r),c.head.appendChild(r)))}}function iI(i){Ls.D(i),_E("dns-prefetch",i,null)}function sI(i,r){Ls.C(i,r),_E("preconnect",i,r)}function rI(i,r,o){Ls.L(i,r,o);var c=Po;if(c&&i&&r){var f='link[rel="preload"][as="'+Dn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Dn(o.imageSizes)+'"]')):f+='[href="'+Dn(i)+'"]';var y=f;switch(r){case"style":y=Vo(i);break;case"script":y=Oo(i)}fi.has(y)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),fi.set(y,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(vc(y))||r==="script"&&c.querySelector(_c(y))||(r=c.createElement("link"),fn(r,"link",i),Ft(r),c.head.appendChild(r)))}}function aI(i,r){Ls.m(i,r);var o=Po;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Dn(c)+'"][href="'+Dn(i)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Oo(i)}if(!fi.has(y)&&(i=_({rel:"modulepreload",href:i},r),fi.set(y,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_c(y)))return}c=o.createElement("link"),fn(c,"link",i),Ft(c),o.head.appendChild(c)}}}function oI(i,r,o){Ls.S(i,r,o);var c=Po;if(c&&i){var f=Yi(c).hoistableStyles,y=Vo(i);r=r||"default";var E=f.get(y);if(!E){var w={loading:0,preload:null};if(E=c.querySelector(vc(y)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=fi.get(y))&&Vp(i,o);var L=E=c.createElement("link");Ft(L),fn(L,"link",i),L._p=new Promise(function(Z,oe){L.onload=Z,L.onerror=oe}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Uh(E,r,c)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(y,E)}}}function lI(i,r){Ls.X(i,r);var o=Po;if(o&&i){var c=Yi(o).hoistableScripts,f=Oo(i),y=c.get(f);y||(y=o.querySelector(_c(f)),y||(i=_({src:i,async:!0},r),(r=fi.get(f))&&Op(i,r),y=o.createElement("script"),Ft(y),fn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function cI(i,r){Ls.M(i,r);var o=Po;if(o&&i){var c=Yi(o).hoistableScripts,f=Oo(i),y=c.get(f);y||(y=o.querySelector(_c(f)),y||(i=_({src:i,async:!0,type:"module"},r),(r=fi.get(f))&&Op(i,r),y=o.createElement("script"),Ft(y),fn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function TE(i,r,o,c){var f=(f=ve.current)?Lh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Vo(o.href),o=Yi(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Vo(o.href);var y=Yi(f).hoistableStyles,E=y.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=f.querySelector(vc(i)))&&!y._p&&(E.instance=y,E.state.loading=5),fi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},fi.set(i,o),y||uI(f,i,o,E.state))),r&&c===null)throw Error(s(528,""));return E}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oo(o),o=Yi(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vo(i){return'href="'+Dn(i)+'"'}function vc(i){return'link[rel="stylesheet"]['+i+"]"}function EE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function uI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),fn(r,"link",o),Ft(r),i.head.appendChild(r))}function Oo(i){return'[src="'+Dn(i)+'"]'}function _c(i){return"script[async]"+i}function SE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Dn(o.href)+'"]');if(c)return r.instance=c,Ft(c),c;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ft(c),fn(c,"style",f),Uh(c,o.precedence,i),r.instance=c;case"stylesheet":f=Vo(o.href);var y=i.querySelector(vc(f));if(y)return r.state.loading|=4,r.instance=y,Ft(y),y;c=EE(o),(f=fi.get(f))&&Vp(c,f),y=(i.ownerDocument||i).createElement("link"),Ft(y);var E=y;return E._p=new Promise(function(w,L){E.onload=w,E.onerror=L}),fn(y,"link",c),r.state.loading|=4,Uh(y,o.precedence,i),r.instance=y;case"script":return y=Oo(o.src),(f=i.querySelector(_c(y)))?(r.instance=f,Ft(f),f):(c=o,(f=fi.get(y))&&(c=_({},o),Op(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ft(f),fn(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Uh(c,o.precedence,i));return r.instance}function Uh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,E=0;E<c.length;E++){var w=c[E];if(w.dataset.precedence===r)y=w;else if(y!==f)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Vp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Op(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var zh=null;function bE(i,r,o){if(zh===null){var c=new Map,f=zh=new Map;f.set(o,c)}else f=zh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var y=o[f];if(!(y[Gi]||y[Bt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(r)||"";E=i+E;var w=c.get(E);w?w.push(y):c.set(E,[y])}}return c}function xE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function hI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Vo(c.href),y=r.querySelector(vc(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Bh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,Ft(y);return}y=r.ownerDocument||r,c=EE(c),(f=fi.get(f))&&Vp(c,f),y=y.createElement("link"),Ft(y);var E=y;E._p=new Promise(function(w,L){E.onload=w,E.onerror=L}),fn(y,"link",c),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Bh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Lp=0;function fI(i,r){return i.stylesheets&&i.count===0&&qh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&qh(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Lp===0&&(Lp=62500*YN());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&qh(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Lp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fh=null;function qh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fh=new Map,r.forEach(mI,i),Fh=null,Bh.call(i))}function mI(i,r){if(!(r.state.loading&4)){var o=Fh.get(i);if(o)var c=o.get(null);else{o=new Map,Fh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var E=f[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}f=r.instance,E=f.getAttribute("data-precedence"),y=o.get(E)||c,y===c&&o.set(null,f),o.set(E,f),this.count++,c=Bh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Tc={$$typeof:q,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function pI(i,r,o,c,f,y,E,w,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function AE(i,r,o,c,f,y,E,w,L,Z,oe,de){return i=new pI(i,r,o,E,L,Z,oe,de,w),r=1,y===!0&&(r|=24),y=Yn(3,null,null,r),i.current=y,y.stateNode=i,r=ym(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},Em(y),i}function RE(i){return i?(i=mo,i):mo}function CE(i,r,o,c,f,y){f=RE(f),c.context===null?c.context=f:c.pendingContext=f,c=yr(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=vr(i,c,r),o!==null&&(On(o,i,r),Zl(o,i,r))}function NE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Up(i,r){NE(i,r),(i=i.alternate)&&NE(i,r)}function IE(i){if(i.tag===13||i.tag===31){var r=_a(i,67108864);r!==null&&On(r,i,67108864),Up(i,67108864)}}function DE(i){if(i.tag===13||i.tag===31){var r=Zn();r=oa(r);var o=_a(i,r);o!==null&&On(o,i,r),Up(i,r)}}var Hh=!0;function gI(i,r,o,c){var f=ee.T;ee.T=null;var y=fe.p;try{fe.p=2,zp(i,r,o,c)}finally{fe.p=y,ee.T=f}}function yI(i,r,o,c){var f=ee.T;ee.T=null;var y=fe.p;try{fe.p=8,zp(i,r,o,c)}finally{fe.p=y,ee.T=f}}function zp(i,r,o,c){if(Hh){var f=Bp(c);if(f===null)Ap(i,r,c,Gh,o),ME(i,c);else if(_I(f,i,r,o,c))c.stopPropagation();else if(ME(i,c),r&4&&-1<vI.indexOf(i)){for(;f!==null;){var y=ni(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Bi(y.pendingLanes);if(E!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var L=1<<31-Pt(E);w.entanglements[1]|=L,E&=~L}as(y),(ot&6)===0&&(Rh=_e()+500,mc(0))}}break;case 31:case 13:w=_a(y,2),w!==null&&On(w,y,2),Nh(),Up(y,2)}if(y=Bp(c),y===null&&Ap(i,r,c,Gh,o),y===f)break;f=y}f!==null&&c.stopPropagation()}else Ap(i,r,c,null,o)}}function Bp(i){return i=ii(i),Fp(i)}var Gh=null;function Fp(i){if(Gh=null,i=Ki(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=m(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Gh=i,null}function jE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Rt:return 2;case nr:return 8;case Ei:case Fn:return 32;case _s:return 268435456;default:return 32}default:return 32}}var qp=!1,Nr=null,Ir=null,Dr=null,Ec=new Map,Sc=new Map,jr=[],vI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(i,r){switch(i){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Ec.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(r.pointerId)}}function bc(i,r,o,c,f,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},r!==null&&(r=ni(r),r!==null&&IE(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function _I(i,r,o,c,f){switch(r){case"focusin":return Nr=bc(Nr,i,r,o,c,f),!0;case"dragenter":return Ir=bc(Ir,i,r,o,c,f),!0;case"mouseover":return Dr=bc(Dr,i,r,o,c,f),!0;case"pointerover":var y=f.pointerId;return Ec.set(y,bc(Ec.get(y)||null,i,r,o,c,f)),!0;case"gotpointercapture":return y=f.pointerId,Sc.set(y,bc(Sc.get(y)||null,i,r,o,c,f)),!0}return!1}function kE(i){var r=Ki(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,xi(i.priority,function(){DE(o)});return}}else if(r===31){if(r=m(o),r!==null){i.blockedOn=r,xi(i.priority,function(){DE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Kh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Bp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Vl=c,o.target.dispatchEvent(c),Vl=null}else return r=ni(o),r!==null&&IE(r),i.blockedOn=o,!1;r.shift()}return!0}function PE(i,r,o){Kh(i)&&o.delete(r)}function TI(){qp=!1,Nr!==null&&Kh(Nr)&&(Nr=null),Ir!==null&&Kh(Ir)&&(Ir=null),Dr!==null&&Kh(Dr)&&(Dr=null),Ec.forEach(PE),Sc.forEach(PE)}function Yh(i,r){i.blockedOn===r&&(i.blockedOn=null,qp||(qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TI)))}var $h=null;function VE(i){$h!==i&&($h=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$h===i&&($h=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Fp(c||o)===null)continue;break}var y=ni(o);y!==null&&(i.splice(r,3),r-=3,Bm(y,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Lo(i){function r(L){return Yh(L,i)}Nr!==null&&Yh(Nr,i),Ir!==null&&Yh(Ir,i),Dr!==null&&Yh(Dr,i),Ec.forEach(r),Sc.forEach(r);for(var o=0;o<jr.length;o++){var c=jr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<jr.length&&(o=jr[0],o.blockedOn===null);)kE(o),o.blockedOn===null&&jr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],y=o[c+1],E=f[sn]||null;if(typeof y=="function")E||VE(o);else if(E){var w=null;if(y&&y.hasAttribute("formAction")){if(f=y,E=y[sn]||null)w=E.formAction;else if(Fp(f)!==null)continue}else w=E.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),VE(o)}}}function OE(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Hp(i){this._internalRoot=i}Qh.prototype.render=Hp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Zn();CE(o,c,i,r,null,null)},Qh.prototype.unmount=Hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;CE(i.current,2,null,i,null,null),Nh(),r[Hi]=null}};function Qh(i){this._internalRoot=i}Qh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Nu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<jr.length&&r!==0&&r<jr[o].priority;o++);jr.splice(o,0,i),o===0&&kE(i)}};var LE=e.version;if(LE!=="19.2.4")throw Error(s(527,LE,"19.2.4"));fe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var EI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{qn=Xh.inject(EI),ln=Xh}catch{}}return wc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=G0,y=K0,E=Y0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=AE(i,1,!1,null,null,o,c,null,f,y,E,OE),i[Hi]=r.current,wp(i),new Hp(r)},wc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",y=G0,E=K0,w=Y0,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=AE(i,1,!0,r,o??null,c,f,L,y,E,w,OE),r.context=RE(null),o=r.current,c=Zn(),c=oa(c),f=yr(c),f.callback=null,vr(o,f,c),o=c,r.current.lanes=o,ra(r,o),as(r),i[Hi]=r.current,wp(i),new Qh(r)},wc.version="19.2.4",wc}var $E;function DI(){if($E)return Yp.exports;$E=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=II(),Yp.exports}var jI=DI();var QE="popstate";function MI(t={}){function e(s,a){let{pathname:l,search:u,hash:m}=s.location;return Ng("",{pathname:l,search:u,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Hc(a)}return PI(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kI(){return Math.random().toString(36).substring(2,10)}function XE(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ul(e):e,state:n,key:e&&e.key||s||kI()}}function Hc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function PI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,m="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function _(){m="POP";let P=v(),O=P==null?null:P-g;g=P,p&&p({action:m,location:z.location,delta:O})}function S(P,O){m="PUSH";let G=Ng(z.location,P,O);g=v()+1;let q=XE(G,g),pe=z.createHref(G);try{u.pushState(q,"",pe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(pe)}l&&p&&p({action:m,location:z.location,delta:1})}function R(P,O){m="REPLACE";let G=Ng(z.location,P,O);g=v();let q=XE(G,g),pe=z.createHref(G);u.replaceState(q,"",pe),l&&p&&p({action:m,location:z.location,delta:0})}function j(P){return VI(P)}let z={get action(){return m},get location(){return t(a,u)},listen(P){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(QE,_),p=P,()=>{a.removeEventListener(QE,_),p=null}},createHref(P){return e(a,P)},createURL:j,encodeLocation(P){let O=j(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:R,go(P){return u.go(P)}};return z}function VI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Hc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ow(t,e,n="/"){return OI(t,e,n,!1)}function OI(t,e,n,s){let a=typeof e=="string"?ul(e):e,l=Gs(a.pathname||"/",n);if(l==null)return null;let u=lw(t);LI(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let g=QI(l);m=YI(u[p],g,s)}return m}function lw(t,e=[],n=[],s="",a=!1){let l=(u,m,p=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Nt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=Bs([s,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(Nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),lw(u.children,e,S,_,p)),!(u.path==null&&!u.index)&&e.push({path:_,score:GI(_,u.index),routesMeta:S})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))l(u,m);else for(let p of cw(u.path))l(u,m,!0,p)}),e}function cw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=cw(s.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&m.push(...u),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function LI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var UI=/^:[\w-]+$/,zI=3,BI=2,FI=1,qI=10,HI=-2,WE=t=>t==="*";function GI(t,e){let n=t.split("/"),s=n.length;return n.some(WE)&&(s+=HI),e&&(s+=BI),n.filter(a=>!WE(a)).reduce((a,l)=>a+(UI.test(l)?zI:l===""?FI:qI),s)}function KI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function YI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Dd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=Dd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Bs([l,_.pathname]),pathnameBase:eD(Bs([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Bs([l,_.pathnameBase]))}return u}function Dd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=$I(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:_},S)=>{if(v==="*"){let j=m[S]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const R=m[S];return _&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function $I(t,e=!1,n=!0){Ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function QI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var XI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WI=t=>XI.test(t);function ZI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ul(t):t,l;if(n)if(WI(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ti(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=ZE(n.substring(1),"/"):l=ZE(n,e)}else l=e;return{pathname:l,search:tD(s),hash:nD(a)}}function ZE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Wp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uw(t){let e=JI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function hw(t,e,n,s=!1){let a;typeof t=="string"?a=ul(t):(a={...t},Nt(!a.pathname||!a.pathname.includes("?"),Wp("?","pathname","search",a)),Nt(!a.pathname||!a.pathname.includes("#"),Wp("#","pathname","hash",a)),Nt(!a.search||!a.search.includes("#"),Wp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,m;if(u==null)m=n;else{let _=e.length-1;if(!s&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),_-=1;a.pathname=S.join("/")}m=_>=0?e[_]:"/"}let p=ZI(a,m),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Bs=t=>t.join("/").replace(/\/\/+/g,"/"),eD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dw=["POST","PUT","PATCH","DELETE"];new Set(dw);var sD=["GET",...dw];new Set(sD);var hl=I.createContext(null);hl.displayName="DataRouter";var mf=I.createContext(null);mf.displayName="DataRouterState";I.createContext(!1);var fw=I.createContext({isTransitioning:!1});fw.displayName="ViewTransition";var rD=I.createContext(new Map);rD.displayName="Fetchers";var aD=I.createContext(null);aD.displayName="Await";var vs=I.createContext(null);vs.displayName="Navigation";var lu=I.createContext(null);lu.displayName="Location";var Js=I.createContext({outlet:null,matches:[],isDataRoute:!1});Js.displayName="Route";var Dy=I.createContext(null);Dy.displayName="RouteError";function oD(t,{relative:e}={}){Nt(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(vs),{hash:a,pathname:l,search:u}=uu(t,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:Bs([n,l])),s.createHref({pathname:m,search:u,hash:a})}function cu(){return I.useContext(lu)!=null}function Ui(){return Nt(cu(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(lu).location}var mw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(t){I.useContext(vs).static||I.useLayoutEffect(t)}function pf(){let{isDataRoute:t}=I.useContext(Js);return t?TD():lD()}function lD(){Nt(cu(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(hl),{basename:e,navigator:n}=I.useContext(vs),{matches:s}=I.useContext(Js),{pathname:a}=Ui(),l=JSON.stringify(uw(s)),u=I.useRef(!1);return pw(()=>{u.current=!0}),I.useCallback((p,g={})=>{if(Ti(u.current,mw),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=hw(p,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Bs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}I.createContext(null);function uu(t,{relative:e}={}){let{matches:n}=I.useContext(Js),{pathname:s}=Ui(),a=JSON.stringify(uw(n));return I.useMemo(()=>hw(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function cD(t,e){return gw(t,e)}function gw(t,e,n,s,a){Nt(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(vs),{matches:u}=I.useContext(Js),m=u[u.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",_=m&&m.route;{let G=_&&_.path||"";yw(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Ui(),R;if(e){let G=typeof e=="string"?ul(e):e;Nt(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=S;let j=R.pathname||"/",z=j;if(v!=="/"){let G=v.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(G.length).join("/")}let P=ow(t,{pathname:z});Ti(_||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Ti(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=mD(P&&P.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Bs([v,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Bs([v,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),u,n,s,a);return e&&O?I.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},O):O}function uD(){let t=_D(),e=iD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var hD=I.createElement(uD,null),dD=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(Js.Provider,{value:this.props.routeContext},I.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fD({routeContext:t,match:e,children:n}){let s=I.useContext(hl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Js.Provider,{value:t},n)}function mD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Nt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:S,errors:R}=n,j=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||j){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(v,_)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((v,_,S)=>{let R,j=!1,z=null,P=null;n&&(R=u&&_.route.id?u[_.route.id]:void 0,z=_.route.errorElement||hD,m&&(p<0&&S===0?(yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,P=null):p===S&&(j=!0,P=_.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,S+1)),G=()=>{let q;return R?q=z:j?q=P:_.route.Component?q=I.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=v,I.createElement(fD,{match:_,routeContext:{outlet:v,matches:O,isDataRoute:n!=null},children:q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?I.createElement(dD,{location:n.location,revalidation:n.revalidation,component:z,error:R,children:G(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:g}):G()},null)}function jy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pD(t){let e=I.useContext(hl);return Nt(e,jy(t)),e}function gD(t){let e=I.useContext(mf);return Nt(e,jy(t)),e}function yD(t){let e=I.useContext(Js);return Nt(e,jy(t)),e}function My(t){let e=yD(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vD(){return My("useRouteId")}function _D(){let t=I.useContext(Dy),e=gD("useRouteError"),n=My("useRouteError");return t!==void 0?t:e.errors?.[n]}function TD(){let{router:t}=pD("useNavigate"),e=My("useNavigate"),n=I.useRef(!1);return pw(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Ti(n.current,mw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var JE={};function yw(t,e,n){!e&&!JE[t]&&(JE[t]=!0,Ti(!1,n))}I.memo(ED);function ED({routes:t,future:e,state:n,unstable_onError:s}){return gw(t,void 0,n,s,e)}function mi(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){Nt(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=ul(n));let{pathname:p="/",search:g="",hash:v="",state:_=null,key:S="default"}=n,R=I.useMemo(()=>{let j=Gs(p,u);return j==null?null:{location:{pathname:j,search:g,hash:v,state:_,key:S},navigationType:s}},[u,p,g,v,_,S,s]);return Ti(R!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:I.createElement(vs.Provider,{value:m},I.createElement(lu.Provider,{children:e,value:R}))}function bD({children:t,location:e}){return cD(Ig(t),e)}function Ig(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,Ig(s.props.children,l));return}Nt(s.type===mi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Ig(s.props.children,l)),n.push(u)}),n}var pd="get",gd="application/x-www-form-urlencoded";function gf(t){return t!=null&&typeof t.tagName=="string"}function xD(t){return gf(t)&&t.tagName.toLowerCase()==="button"}function wD(t){return gf(t)&&t.tagName.toLowerCase()==="form"}function AD(t){return gf(t)&&t.tagName.toLowerCase()==="input"}function RD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CD(t,e){return t.button===0&&(!e||e==="_self")&&!RD(t)}function Dg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function ND(t,e){let n=Dg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var Wh=null;function ID(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var DD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(t){return t!=null&&!DD.has(t)?(Ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gd}"`),null):t}function jD(t,e){let n,s,a,l,u;if(wD(t)){let m=t.getAttribute("action");s=m?Gs(m,e):null,n=t.getAttribute("method")||pd,a=Zp(t.getAttribute("enctype"))||gd,l=new FormData(t)}else if(xD(t)||AD(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(s=p?Gs(p,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||pd,a=Zp(t.getAttribute("formenctype"))||Zp(m.getAttribute("enctype"))||gd,l=new FormData(m,t),!ID()){let{name:g,type:v,value:_}=t;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(gf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pd,s=null,a=gd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ky(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Gs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function kD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await kD(l,n);return u.links?u.links():[]}return[]}));return zD(s.flat(1).filter(PD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eS(t,e,n,s,a,l){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function OD(t,e,{includeHydrateFallback:n}={}){return LD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function LD(t){return[...new Set(t)]}function UD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function zD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(UD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function vw(){let t=I.useContext(hl);return ky(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BD(){let t=I.useContext(mf);return ky(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=I.createContext(void 0);Py.displayName="FrameworkContext";function _w(){let t=I.useContext(Py);return ky(t,"You must render this element inside a <HydratedRouter> element"),t}function FD(t,e){let n=I.useContext(Py),[s,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,S=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let z=O=>{O.forEach(G=>{u(G.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[t]),I.useEffect(()=>{if(s){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[s]);let R=()=>{a(!0)},j=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:Ac(m,R),onBlur:Ac(p,j),onMouseEnter:Ac(g,R),onMouseLeave:Ac(v,j),onTouchStart:Ac(_,R)}]:[!1,S,{}]}function Ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qD({page:t,...e}){let{router:n}=vw(),s=I.useMemo(()=>ow(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(GD,{page:t,matches:s,...e}):null}function HD(t){let{manifest:e,routeModules:n}=_w(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return VD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function GD({page:t,matches:e,...n}){let s=Ui(),{manifest:a,routeModules:l}=_w(),{basename:u}=vw(),{loaderData:m,matches:p}=BD(),g=I.useMemo(()=>eS(t,e,p,a,s,"data"),[t,e,p,a,s]),v=I.useMemo(()=>eS(t,e,p,a,s,"assets"),[t,e,p,a,s]),_=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,z=!1;if(e.forEach(O=>{let G=a.routes[O.route.id];!G||!G.hasLoader||(!g.some(q=>q.route.id===O.route.id)&&O.route.id in m&&l[O.route.id]?.shouldRevalidate||G.hasClientLoader?z=!0:j.add(O.route.id))}),j.size===0)return[];let P=MD(t,u,"data");return z&&j.size>0&&P.searchParams.set("_routes",e.filter(O=>j.has(O.route.id)).map(O=>O.route.id).join(",")),[P.pathname+P.search]},[u,m,s,a,g,e,t,l]),S=I.useMemo(()=>OD(v,a),[v,a]),R=HD(v);return I.createElement(I.Fragment,null,_.map(j=>I.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),S.map(j=>I.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),R.map(({key:j,link:z})=>I.createElement("link",{key:j,nonce:n.nonce,...z})))}function KD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tw&&(window.__reactRouterVersion="7.9.6")}catch{}function YD({basename:t,children:e,window:n}){let s=I.useRef();s.current==null&&(s.current=MI({window:n,v5Compat:!0}));let a=s.current,[l,u]=I.useState({action:a.action,location:a.location}),m=I.useCallback(p=>{I.startTransition(()=>u(p))},[u]);return I.useLayoutEffect(()=>a.listen(m),[a,m]),I.createElement(SD,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Ew=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:m,target:p,to:g,preventScrollReset:v,viewTransition:_,...S},R){let{basename:j}=I.useContext(vs),z=typeof g=="string"&&Ew.test(g),P,O=!1;if(typeof g=="string"&&z&&(P=g,Tw))try{let D=new URL(window.location.href),V=g.startsWith("//")?new URL(D.protocol+g):new URL(g),M=Gs(V.pathname,j);V.origin===D.origin&&M!=null?g=M+V.search+V.hash:O=!0}catch{Ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=oD(g,{relative:a}),[q,pe,se]=FD(s,S),ae=WD(g,{replace:u,state:m,target:p,preventScrollReset:v,relative:a,viewTransition:_});function N(D){e&&e(D),D.defaultPrevented||ae(D)}let A=I.createElement("a",{...S,...se,href:P||G,onClick:O||l?e:N,ref:KD(R,pe),target:p,"data-discover":!z&&n==="render"?"true":void 0});return q&&!z?I.createElement(I.Fragment,null,A,I.createElement(qD,{page:G})):A});_t.displayName="Link";var $D=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:m,children:p,...g},v){let _=uu(u,{relative:g.relative}),S=Ui(),R=I.useContext(mf),{navigator:j,basename:z}=I.useContext(vs),P=R!=null&&i2(_)&&m===!0,O=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,G=S.pathname,q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(G=G.toLowerCase(),q=q?q.toLowerCase():null,O=O.toLowerCase()),q&&z&&(q=Gs(q,z)||q);const pe=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let se=G===O||!a&&G.startsWith(O)&&G.charAt(pe)==="/",ae=q!=null&&(q===O||!a&&q.startsWith(O)&&q.charAt(O.length)==="/"),N={isActive:se,isPending:ae,isTransitioning:P},A=se?e:void 0,D;typeof s=="function"?D=s(N):D=[s,se?"active":null,ae?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(N):l;return I.createElement(_t,{...g,"aria-current":A,className:D,ref:v,style:V,to:u,viewTransition:m},typeof p=="function"?p(N):p)});$D.displayName="NavLink";var QD=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=pd,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:_,...S},R)=>{let j=t2(),z=n2(m,{relative:g}),P=u.toLowerCase()==="get"?"get":"post",O=typeof m=="string"&&Ew.test(m),G=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let pe=q.nativeEvent.submitter,se=pe?.getAttribute("formmethod")||u;j(pe||q.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:_})};return I.createElement("form",{ref:R,method:P,action:z,onSubmit:s?p:G,...S,"data-discover":!O&&t==="render"?"true":void 0})});QD.displayName="Form";function XD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sw(t){let e=I.useContext(hl);return Nt(e,XD(t)),e}function WD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let m=pf(),p=Ui(),g=uu(t,{relative:l});return I.useCallback(v=>{if(CD(v,e)){v.preventDefault();let _=n!==void 0?n:Hc(p)===Hc(g);m(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[p,m,g,n,s,e,t,a,l,u])}function ZD(t){Ti(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(Dg(t)),n=I.useRef(!1),s=Ui(),a=I.useMemo(()=>ND(s.search,n.current?null:e.current),[s.search]),l=pf(),u=I.useCallback((m,p)=>{const g=Dg(typeof m=="function"?m(new URLSearchParams(a)):m);n.current=!0,l("?"+g,p)},[l,a]);return[a,u]}var JD=0,e2=()=>`__${String(++JD)}__`;function t2(){let{router:t}=Sw("useSubmit"),{basename:e}=I.useContext(vs),n=vD();return I.useCallback(async(s,a={})=>{let{action:l,method:u,encType:m,formData:p,body:g}=jD(s,e);if(a.navigate===!1){let v=a.fetcherKey||e2();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||m,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function n2(t,{relative:e}={}){let{basename:n}=I.useContext(vs),s=I.useContext(Js);Nt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...uu(t||".",{relative:e})},u=Ui();if(t==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let v=m.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bs([n,l.pathname])),Hc(l)}function i2(t,{relative:e}={}){let n=I.useContext(fw);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sw("useViewTransitionState"),a=uu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dd(a.pathname,u)!=null||Dd(a.pathname,l)!=null}const bw=I.createContext(void 0);function dl(){const t=I.useContext(bw);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function s2({children:t}){const[e,n]=I.useState(()=>{try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch{return[]}});I.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const s=g=>{const v=g.selectedIngredients?.reduce((_,S)=>_+(S.extraPrice||0),0)||0;return g.price+v};function a(g){n(v=>{const _=g.id+(g.selectedIngredients?.map(j=>j.name).sort().join("-")||""),S=v.find(j=>j.id===_),R=s(g);return S?v.map(j=>j.id===_?{...j,qty:j.qty+g.qty}:j):[...v,{...g,id:_,qty:g.qty,price:R}]})}function l(g,v){n(_=>v<=0?_.filter(S=>S.id!==g):_.map(S=>S.id===g?{...S,qty:v}:S))}function u(g){n(v=>v.filter(_=>_.id!==g))}function m(){n([])}const p=e.reduce((g,v)=>g+v.price*v.qty,0);return d.jsx(bw.Provider,{value:{items:e,addItem:a,updateQty:l,removeItem:u,clear:m,total:p},children:t})}function r2(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4Z",fill:"currentColor"})})}function a2(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2Zm0 4-8 5-8-5V6l8 5 8-5v2Z",fill:"currentColor"})})}function jg(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M7.2 3.1 5.4 4.3c-.8.5-1.2 1.5-1 2.4.9 4.2 4 7.7 8.1 8.9.9.3 1.9 0 2.4-.8l1.3-1.9c.4-.6.2-1.5-.4-2l-1.6-1.1c-.6-.4-1.3-.3-1.8.2l-.7.8c-1.2-.5-2.4-1.7-2.9-2.9l.8-.7c.5-.5.6-1.3.2-1.9L9.2 3.4C8.8 2.8 7.9 2.7 7.2 3.1Z",fill:"currentColor"})})}function Pa({className:t=""}){return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:t,"aria-hidden":"true",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M8 6V4h8v2"}),d.jsx("path",{d:"M6 6l1 14h10l1-14"}),d.jsx("path",{d:"M10 11v6"}),d.jsx("path",{d:"M14 11v6"})]})}function Gc(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M7.3 5h13.2l-1.3 7.4c-.2 1-1 1.6-2 1.6H9.2c-1 0-1.8-.6-2-1.6L6 4H3.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"10",cy:"19",r:"1.4",fill:"currentColor"}),d.jsx("circle",{cx:"17",cy:"19",r:"1.4",fill:"currentColor"})]})}function jd(t){return d.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:d.jsx("path",{d:"M5 12h12.5M13 7.5 17.5 12 13 16.5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function Mg(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",...t,children:[d.jsx("path",{d:"M4.3 6.2 12 3.5l7.7 2.7L12 20.5 4.3 6.2Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinejoin:"round"}),d.jsx("circle",{cx:"12",cy:"9",r:"1.1",fill:"currentColor"}),d.jsx("circle",{cx:"9.5",cy:"12.2",r:"0.9",fill:"currentColor"}),d.jsx("circle",{cx:"14.7",cy:"13.3",r:"0.9",fill:"currentColor"})]})}function o2(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}function l2(t){return d.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}function tS(t){return d.jsxs("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5",strokeWidth:"2"}),d.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",strokeWidth:"2"})]})}function nS(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M21 12.79A9 9 0 0 1 12.21 3a7 7 0 0 0 0 14 9 9 0 0 1 8.79-4.21z",strokeWidth:"2"})})}function xw(t){return d.jsx("svg",{...t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function c2({className:t=""}){return d.jsxs("svg",{viewBox:"0 0 24 24",className:t,fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",className:"check-circle"}),d.jsx("path",{d:"M8 12l3 3 5-6",className:"check-mark"})]})}function u2(){const[t,e]=I.useState(!1),{items:n}=dl(),s=n.reduce((p,g)=>p+g.qty,0),a=I.useRef(null),l=I.useRef(null),[u,m]=I.useState(()=>localStorage.getItem("theme")==="dark");return I.useEffect(()=>{const p=document.documentElement;u?p.setAttribute("data-theme","dark"):p.setAttribute("data-theme","light"),localStorage.setItem("theme",u?"dark":"light")},[u]),I.useEffect(()=>(t?document.body.classList.add("mobile-menu-open"):document.body.classList.remove("mobile-menu-open"),()=>{document.body.classList.remove("mobile-menu-open")}),[t]),I.useEffect(()=>{const p=g=>{if(!t)return;const v=g.target;a.current?.contains(v)||l.current?.contains(v)||e(!1)};return t&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[t]),d.jsxs("header",{className:"modern-header",children:[d.jsxs("div",{className:"modern-header-container",children:[d.jsxs(_t,{to:"/",className:"modern-header-logo",children:[d.jsx("span",{className:"modern-logo-main",children:"Xanthos"}),d.jsx("span",{className:"modern-logo-sub",children:"Pizza & Grill"})]}),d.jsxs("nav",{className:"modern-header-nav",children:[d.jsx(_t,{to:"/menu",className:"modern-nav-link",children:"Menu"}),d.jsx(_t,{to:"/om-os",className:"modern-nav-link",children:"Om os"}),d.jsx(_t,{to:"/kontakt",className:"modern-nav-link",children:"Kontakt"})]}),d.jsxs("div",{className:"modern-header-actions",children:[d.jsxs("a",{href:"tel:+4555376976",className:"modern-header-phone",children:[d.jsx(jg,{}),d.jsx("span",{children:"55 37 69 76"})]}),d.jsxs(_t,{to:"/cart",className:"modern-header-cart",children:[d.jsx(Gc,{}),d.jsx("span",{children:"Kurv"}),s>0&&d.jsx("span",{className:"modern-cart-badge",children:s})]}),d.jsxs(_t,{to:"/bestil",className:"modern-header-cta",children:["Bestil",d.jsx(jd,{})]}),d.jsx("button",{className:"modern-theme-toggle",onClick:()=>m(p=>!p),"aria-label":"Skift tema",children:u?d.jsx(tS,{}):d.jsx(nS,{})}),d.jsxs("button",{ref:l,className:`modern-mobile-toggle ${t?"open":""}`,onClick:()=>e(p=>!p),"aria-label":"bn/luk menu","aria-expanded":t,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]})]})]}),d.jsx("div",{ref:a,className:`modern-mobile-menu ${t?"open":""}`,children:d.jsxs("nav",{className:"modern-mobile-nav",children:[d.jsxs(_t,{to:"/menu",onClick:()=>e(!1),children:[d.jsx(Mg,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Menu"})]}),d.jsxs(_t,{to:"/om-os",onClick:()=>e(!1),children:[d.jsx(o2,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Om os"})]}),d.jsxs(_t,{to:"/kontakt",onClick:()=>e(!1),children:[d.jsx(l2,{className:"mobile-nav-icon"}),d.jsx("span",{children:"Kontakt"})]}),d.jsxs(_t,{to:"/cart",onClick:()=>e(!1),children:[d.jsx(Gc,{className:"mobile-nav-icon"}),d.jsxs("span",{children:["Kurv ",s>0&&`(${s})`]})]}),d.jsxs("div",{className:"contact-and-theme-div",children:[d.jsxs("a",{href:"tel:+4570123456",onClick:()=>e(!1),children:[d.jsx(jg,{className:"mobile-nav-icon"}),d.jsx("span",{children:"+45 70 12 34 56"})]}),d.jsx("button",{className:"mobile-theme-toggle",onClick:()=>m(p=>!p),"aria-label":"Skift tema",children:u?d.jsx(tS,{}):d.jsx(nS,{})})]}),d.jsxs(_t,{to:"/bestil",onClick:()=>e(!1),className:"modern-mobile-cta",children:[d.jsx("span",{children:"Bestil takeaway"}),d.jsx(jd,{className:"mobile-nav-cta-icon"})]})]})})]})}function h2(){return d.jsx("footer",{className:"footer-glass",children:d.jsxs("div",{className:"glass-box",children:[d.jsxs("div",{className:"brand",children:[d.jsx("h3",{children:"Xanthos Pizza & Grill"}),d.jsxs("p",{children:[" ",new Date().getFullYear()," Starpack APS  MKaan"]})]}),d.jsxs("div",{className:"glass-links",children:[d.jsx(_t,{to:"/om-os",children:"Om os"}),d.jsx(_t,{to:"/kontakt",children:"Kontakt"}),d.jsx(_t,{to:"/privacy",children:"Privacy Policy"})]})]})})}const d2=()=>{};var iS={};const ww=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},f2=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],m=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,m=u?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,v=l>>2,_=(l&3)<<4|m>>4;let S=(m&15)<<2|g>>6,R=g&63;p||(R=64,u||(S=64)),s.push(n[v],n[_],n[S],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ww(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],m=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||m==null||g==null||_==null)throw new m2;const S=l<<2|m>>4;if(s.push(S),g!==64){const R=m<<4&240|g>>2;if(s.push(R),_!==64){const j=g<<6&192|_;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p2=function(t){const e=ww(t);return Aw.encodeByteArray(e,!0)},Md=function(t){return p2(t).replace(/\./g,"")},Rw=function(t){try{return Aw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const y2=()=>g2().__FIREBASE_DEFAULTS__,v2=()=>{if(typeof process>"u"||typeof iS>"u")return;const t=iS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rw(t[1]);return e&&JSON.parse(e)},yf=()=>{try{return d2()||y2()||v2()||_2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cw=t=>yf()?.emulatorHosts?.[t],T2=t=>{const e=Cw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Nw=()=>yf()?.config,Iw=t=>yf()?.[`_${t}`];class E2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dw(t){return(await fetch(t,{credentials:"include"})).ok}function S2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Md(JSON.stringify(n)),Md(JSON.stringify(u)),""].join(".")}const kc={};function b2(){const t={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?t.emulator.push(e):t.prod.push(e);return t}function x2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sS=!1;function jw(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||kc[t]===e||kc[t]||sS)return;kc[t]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=b2().prod.length>0;function u(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{sS=!0,u()},S}function v(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=x2(s),R=n("text"),j=document.getElementById(R)||document.createElement("span"),z=n("learnmore"),P=document.getElementById(z)||document.createElement("a"),O=n("preprendIcon"),G=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;m(q),v(P,z);const pe=g();p(G,O),q.append(G,j,P,pe),document.body.appendChild(q)}l?(j.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function A2(){const t=yf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D2(){return!A2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j2(){try{return typeof indexedDB=="object"}catch{return!1}}function M2(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const k2="FirebaseError";class er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=k2,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?P2(l,s):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new er(a,m,s)}}function P2(t,e){return t.replace(V2,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const V2=/\{\$([^}]+)}/g;function O2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ha(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(rS(l)&&rS(u)){if(!Ha(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function rS(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function L2(t,e){const n=new U2(t,e);return n.subscribe.bind(n)}class U2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");z2(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Jp),a.error===void 0&&(a.error=Jp),a.complete===void 0&&(a.complete=Jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jp(){}function xn(t){return t&&t._delegate?t._delegate:t}class Ga{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ma="[DEFAULT]";class B2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new E2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q2(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F2(t){return t===Ma?void 0:t}function q2(t){return t.instantiationMode==="EAGER"}class H2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const G2={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},K2=We.INFO,Y2={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},$2=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Y2[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vy{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=$2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const Q2=(t,e)=>e.some(n=>t instanceof n);let aS,oS;function X2(){return aS||(aS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W2(){return oS||(oS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mw=new WeakMap,kg=new WeakMap,kw=new WeakMap,eg=new WeakMap,Oy=new WeakMap;function Z2(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Fr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Mw.set(n,t)}).catch(()=>{}),Oy.set(e,t),e}function J2(t){if(kg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});kg.set(t,e)}let Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ej(t){Pg=t(Pg)}function tj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(tg(this),e,...n);return kw.set(s,e.sort?e.sort():[e]),Fr(s)}:W2().includes(t)?function(...e){return t.apply(tg(this),e),Fr(Mw.get(this))}:function(...e){return Fr(t.apply(tg(this),e))}}function nj(t){return typeof t=="function"?tj(t):(t instanceof IDBTransaction&&J2(t),Q2(t,X2())?new Proxy(t,Pg):t)}function Fr(t){if(t instanceof IDBRequest)return Z2(t);if(eg.has(t))return eg.get(t);const e=nj(t);return e!==t&&(eg.set(t,e),Oy.set(e,t)),e}const tg=t=>Oy.get(t);function ij(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),m=Fr(u);return s&&u.addEventListener("upgradeneeded",p=>{s(Fr(u.result),p.oldVersion,p.newVersion,Fr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const sj=["get","getKey","getAll","getAllKeys","count"],rj=["put","add","delete","clear"],ng=new Map;function lS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=rj.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||sj.includes(n)))return;const l=async function(u,...m){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),a&&p.done]))[0]};return ng.set(e,l),l}ej(t=>({...t,get:(e,n,s)=>lS(e,n)||t.get(e,n,s),has:(e,n)=>!!lS(e,n)||t.has(e,n)}));class aj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oj(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oj(t){return t.getComponent()?.type==="VERSION"}const Vg="@firebase/app",cS="0.14.6";const Ks=new Vy("@firebase/app"),lj="@firebase/app-compat",cj="@firebase/analytics-compat",uj="@firebase/analytics",hj="@firebase/app-check-compat",dj="@firebase/app-check",fj="@firebase/auth",mj="@firebase/auth-compat",pj="@firebase/database",gj="@firebase/data-connect",yj="@firebase/database-compat",vj="@firebase/functions",_j="@firebase/functions-compat",Tj="@firebase/installations",Ej="@firebase/installations-compat",Sj="@firebase/messaging",bj="@firebase/messaging-compat",xj="@firebase/performance",wj="@firebase/performance-compat",Aj="@firebase/remote-config",Rj="@firebase/remote-config-compat",Cj="@firebase/storage",Nj="@firebase/storage-compat",Ij="@firebase/firestore",Dj="@firebase/ai",jj="@firebase/firestore-compat",Mj="firebase",kj="12.6.0";const Og="[DEFAULT]",Pj={[Vg]:"fire-core",[lj]:"fire-core-compat",[uj]:"fire-analytics",[cj]:"fire-analytics-compat",[dj]:"fire-app-check",[hj]:"fire-app-check-compat",[fj]:"fire-auth",[mj]:"fire-auth-compat",[pj]:"fire-rtdb",[gj]:"fire-data-connect",[yj]:"fire-rtdb-compat",[vj]:"fire-fn",[_j]:"fire-fn-compat",[Tj]:"fire-iid",[Ej]:"fire-iid-compat",[Sj]:"fire-fcm",[bj]:"fire-fcm-compat",[xj]:"fire-perf",[wj]:"fire-perf-compat",[Aj]:"fire-rc",[Rj]:"fire-rc-compat",[Cj]:"fire-gcs",[Nj]:"fire-gcs-compat",[Ij]:"fire-fst",[jj]:"fire-fst-compat",[Dj]:"fire-vertex","fire-js":"fire-js",[Mj]:"fire-js-all"};const kd=new Map,Vj=new Map,Lg=new Map;function uS(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(Lg.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(const n of kd.values())uS(n,t);for(const n of Vj.values())uS(n,t);return!0}function Ly(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ls(t){return t==null?!1:t.settings!==void 0}const Oj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new hu("app","Firebase",Oj);class Lj{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const ml=kj;function Pw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Og,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw qr.create("bad-app-name",{appName:String(a)});if(n||(n=Nw()),!n)throw qr.create("no-options");const l=kd.get(a);if(l){if(Ha(n,l.options)&&Ha(s,l.config))return l;throw qr.create("duplicate-app",{appName:a})}const u=new H2(a);for(const p of Lg.values())u.addComponent(p);const m=new Lj(n,s,u);return kd.set(a,m),m}function Vw(t=Og){const e=kd.get(t);if(!e&&t===Og&&Nw())return Pw();if(!e)throw qr.create("no-app",{appName:t});return e}function Hr(t,e,n){let s=Pj[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(u.join(" "));return}el(new Ga(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Uj="firebase-heartbeat-database",zj=1,Kc="firebase-heartbeat-store";let ig=null;function Ow(){return ig||(ig=ij(Uj,zj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),ig}async function Bj(t){try{const n=(await Ow()).transaction(Kc),s=await n.objectStore(Kc).get(Lw(t));return await n.done,s}catch(e){if(e instanceof er)Ks.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(n.message)}}}async function hS(t,e){try{const s=(await Ow()).transaction(Kc,"readwrite");await s.objectStore(Kc).put(e,Lw(t)),await s.done}catch(n){if(n instanceof er)Ks.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n?.message});Ks.warn(s.message)}}}function Lw(t){return`${t.name}!${t.options.appId}`}const Fj=1024,qj=30;class Hj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kj(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qj){const a=Yj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dS(),{heartbeatsToSend:n,unsentEntries:s}=Gj(this._heartbeatsCache.heartbeats),a=Md(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ks.warn(e),""}}}function dS(){return new Date().toISOString().substring(0,10)}function Gj(t,e=Fj){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),fS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),fS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Kj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j2()?M2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fS(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}function Yj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function $j(t){el(new Ga("platform-logger",e=>new aj(e),"PRIVATE")),el(new Ga("heartbeat",e=>new Hj(e),"PRIVATE")),Hr(Vg,cS,t),Hr(Vg,cS,"esm2020"),Hr("fire-js","")}$j("");var mS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,Uw;(function(){var t;function e(N,A){function D(){}D.prototype=A.prototype,N.F=A.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(V,M,B){for(var k=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)k[Ue-2]=arguments[Ue];return A.prototype[M].apply(V,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,D){D||(D=0);const V=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)V[M]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(M=0;M<16;++M)V[M]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=N.g[0],D=N.g[1],M=N.g[2];let B=N.g[3],k;k=A+(B^D&(M^B))+V[0]+3614090360&4294967295,A=D+(k<<7&4294967295|k>>>25),k=B+(M^A&(D^M))+V[1]+3905402710&4294967295,B=A+(k<<12&4294967295|k>>>20),k=M+(D^B&(A^D))+V[2]+606105819&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(A^M&(B^A))+V[3]+3250441966&4294967295,D=M+(k<<22&4294967295|k>>>10),k=A+(B^D&(M^B))+V[4]+4118548399&4294967295,A=D+(k<<7&4294967295|k>>>25),k=B+(M^A&(D^M))+V[5]+1200080426&4294967295,B=A+(k<<12&4294967295|k>>>20),k=M+(D^B&(A^D))+V[6]+2821735955&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(A^M&(B^A))+V[7]+4249261313&4294967295,D=M+(k<<22&4294967295|k>>>10),k=A+(B^D&(M^B))+V[8]+1770035416&4294967295,A=D+(k<<7&4294967295|k>>>25),k=B+(M^A&(D^M))+V[9]+2336552879&4294967295,B=A+(k<<12&4294967295|k>>>20),k=M+(D^B&(A^D))+V[10]+4294925233&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(A^M&(B^A))+V[11]+2304563134&4294967295,D=M+(k<<22&4294967295|k>>>10),k=A+(B^D&(M^B))+V[12]+1804603682&4294967295,A=D+(k<<7&4294967295|k>>>25),k=B+(M^A&(D^M))+V[13]+4254626195&4294967295,B=A+(k<<12&4294967295|k>>>20),k=M+(D^B&(A^D))+V[14]+2792965006&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(A^M&(B^A))+V[15]+1236535329&4294967295,D=M+(k<<22&4294967295|k>>>10),k=A+(M^B&(D^M))+V[1]+4129170786&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(A^D))+V[6]+3225465664&4294967295,B=A+(k<<9&4294967295|k>>>23),k=M+(A^D&(B^A))+V[11]+643717713&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(M^B))+V[0]+3921069994&4294967295,D=M+(k<<20&4294967295|k>>>12),k=A+(M^B&(D^M))+V[5]+3593408605&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(A^D))+V[10]+38016083&4294967295,B=A+(k<<9&4294967295|k>>>23),k=M+(A^D&(B^A))+V[15]+3634488961&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(M^B))+V[4]+3889429448&4294967295,D=M+(k<<20&4294967295|k>>>12),k=A+(M^B&(D^M))+V[9]+568446438&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(A^D))+V[14]+3275163606&4294967295,B=A+(k<<9&4294967295|k>>>23),k=M+(A^D&(B^A))+V[3]+4107603335&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(M^B))+V[8]+1163531501&4294967295,D=M+(k<<20&4294967295|k>>>12),k=A+(M^B&(D^M))+V[13]+2850285829&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(A^D))+V[2]+4243563512&4294967295,B=A+(k<<9&4294967295|k>>>23),k=M+(A^D&(B^A))+V[7]+1735328473&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(M^B))+V[12]+2368359562&4294967295,D=M+(k<<20&4294967295|k>>>12),k=A+(D^M^B)+V[5]+4294588738&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^M)+V[8]+2272392833&4294967295,B=A+(k<<11&4294967295|k>>>21),k=M+(B^A^D)+V[11]+1839030562&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^A)+V[14]+4259657740&4294967295,D=M+(k<<23&4294967295|k>>>9),k=A+(D^M^B)+V[1]+2763975236&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^M)+V[4]+1272893353&4294967295,B=A+(k<<11&4294967295|k>>>21),k=M+(B^A^D)+V[7]+4139469664&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^A)+V[10]+3200236656&4294967295,D=M+(k<<23&4294967295|k>>>9),k=A+(D^M^B)+V[13]+681279174&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^M)+V[0]+3936430074&4294967295,B=A+(k<<11&4294967295|k>>>21),k=M+(B^A^D)+V[3]+3572445317&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^A)+V[6]+76029189&4294967295,D=M+(k<<23&4294967295|k>>>9),k=A+(D^M^B)+V[9]+3654602809&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^M)+V[12]+3873151461&4294967295,B=A+(k<<11&4294967295|k>>>21),k=M+(B^A^D)+V[15]+530742520&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^A)+V[2]+3299628645&4294967295,D=M+(k<<23&4294967295|k>>>9),k=A+(M^(D|~B))+V[0]+4096336452&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~M))+V[7]+1126891415&4294967295,B=A+(k<<10&4294967295|k>>>22),k=M+(A^(B|~D))+V[14]+2878612391&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~A))+V[5]+4237533241&4294967295,D=M+(k<<21&4294967295|k>>>11),k=A+(M^(D|~B))+V[12]+1700485571&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~M))+V[3]+2399980690&4294967295,B=A+(k<<10&4294967295|k>>>22),k=M+(A^(B|~D))+V[10]+4293915773&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~A))+V[1]+2240044497&4294967295,D=M+(k<<21&4294967295|k>>>11),k=A+(M^(D|~B))+V[8]+1873313359&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~M))+V[15]+4264355552&4294967295,B=A+(k<<10&4294967295|k>>>22),k=M+(A^(B|~D))+V[6]+2734768916&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~A))+V[13]+1309151649&4294967295,D=M+(k<<21&4294967295|k>>>11),k=A+(M^(D|~B))+V[4]+4149444226&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~M))+V[11]+3174756917&4294967295,B=A+(k<<10&4294967295|k>>>22),k=M+(A^(B|~D))+V[2]+718787259&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const D=A-this.blockSize,V=this.C;let M=this.h,B=0;for(;B<A;){if(M==0)for(;B<=D;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<A;)if(V[M++]=N.charCodeAt(B++),M==this.blockSize){a(this,V),M=0;break}}else for(;B<A;)if(V[M++]=N[B++],M==this.blockSize){a(this,V),M=0;break}}this.h=M,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)N[A++]=this.g[D]>>>V&255;return N};function l(N,A){var D=m;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=A(N)}function u(N,A){this.h=A;const D=[];let V=!0;for(let M=N.length-1;M>=0;M--){const B=N[M]|0;V&&B==A||(D[M]=B,V=!1)}this.g=D}var m={};function p(N){return-128<=N&&N<128?l(N,function(A){return new u([A|0],A<0?-1:0)}):new u([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return P(g(-N));const A=[];let D=1;for(let V=0;N>=D;V++)A[V]=N/D|0,D*=4294967296;return new u(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return P(v(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(A,8));let V=_;for(let B=0;B<N.length;B+=8){var M=Math.min(8,N.length-B);const k=parseInt(N.substring(B,B+M),A);M<8?(M=g(Math.pow(A,M)),V=V.j(M).add(g(k))):(V=V.j(D),V=V.add(g(k)))}return V}var _=p(0),S=p(1),R=p(16777216);t=u.prototype,t.m=function(){if(z(this))return-P(this).m();let N=0,A=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(z(this))return"-"+P(this).toString(N);const A=g(Math.pow(N,6));var D=this;let V="";for(;;){const M=pe(D,A).g;D=O(D,M.j(A));let B=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=M,j(D))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function z(N){return N.h==-1}t.l=function(N){return N=O(this,N),z(N)?-1:j(N)?0:1};function P(N){const A=N.g.length,D=[];for(let V=0;V<A;V++)D[V]=~N.g[V];return new u(D,~N.h).add(S)}t.abs=function(){return z(this)?P(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),D=[];let V=0;for(let M=0;M<=A;M++){let B=V+(this.i(M)&65535)+(N.i(M)&65535),k=(B>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=k>>>16,B&=65535,k&=65535,D[M]=k<<16|B}return new u(D,D[D.length-1]&-2147483648?-1:0)};function O(N,A){return N.add(P(A))}t.j=function(N){if(j(this)||j(N))return _;if(z(this))return z(N)?P(this).j(P(N)):P(P(this).j(N));if(z(N))return P(this.j(P(N)));if(this.l(R)<0&&N.l(R)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,D=[];for(var V=0;V<2*A;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<N.g.length;M++){const B=this.i(V)>>>16,k=this.i(V)&65535,Ue=N.i(M)>>>16,Ve=N.i(M)&65535;D[2*V+2*M]+=k*Ve,G(D,2*V+2*M),D[2*V+2*M+1]+=B*Ve,G(D,2*V+2*M+1),D[2*V+2*M+1]+=k*Ue,G(D,2*V+2*M+1),D[2*V+2*M+2]+=B*Ue,G(D,2*V+2*M+2)}for(N=0;N<A;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=A;N<2*A;N++)D[N]=0;return new u(D,0)};function G(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function q(N,A){this.g=N,this.h=A}function pe(N,A){if(j(A))throw Error("division by zero");if(j(N))return new q(_,_);if(z(N))return A=pe(P(N),A),new q(P(A.g),P(A.h));if(z(A))return A=pe(N,P(A)),new q(P(A.g),A.h);if(N.g.length>30){if(z(N)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var D=S,V=A;V.l(N)<=0;)D=se(D),V=se(V);var M=ae(D,1),B=ae(V,1);for(V=ae(V,2),D=ae(D,2);!j(V);){var k=B.add(V);k.l(N)<=0&&(M=M.add(D),B=k),V=ae(V,1),D=ae(D,1)}return A=O(N,M.j(A)),new q(M,A)}for(M=_;N.l(A)>=0;){for(D=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=g(D),k=B.j(A);z(k)||k.l(N)>0;)D-=V,B=g(D),k=B.j(A);j(B)&&(B=S),M=M.add(B),N=O(N,k)}return new q(M,N)}t.B=function(N){return pe(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)&N.i(V);return new u(D,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)|N.i(V);return new u(D,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)^N.i(V);return new u(D,this.h^N.h)};function se(N){const A=N.g.length+1,D=[];for(let V=0;V<A;V++)D[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(D,N.h)}function ae(N,A){const D=A>>5;A%=32;const V=N.g.length-D,M=[];for(let B=0;B<V;B++)M[B]=A>0?N.i(B+D)>>>A|N.i(B+D+1)<<32-A:N.i(B+D);return new u(M,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Uw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Gr=u}).apply(typeof mS<"u"?mS:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zw,Cc,Bw,yd,Ug,Fw,qw,Hw;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var T=0;T<h.length;++T){var b=h[T];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,T){if(T)e:{var b=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var $=h[C];if(!($ in b))break e;b=b[$]}h=h[h.length-1],C=b[h],T=T(C),T!=C&&T!=null&&e(b,h,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(T){var b=[],C;for(C in T)Object.prototype.hasOwnProperty.call(T,C)&&b.push([C,T[C]]);return b}});var l=l||{},u=this||self;function m(h){var T=typeof h;return T=="object"&&h!=null||T=="function"}function p(h,T,b){return h.call.apply(h.bind,arguments)}function g(h,T,b){return g=p,g.apply(null,arguments)}function v(h,T){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function _(h,T){function b(){}b.prototype=T.prototype,h.Z=T.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(C,$,ne){for(var Te=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Te[qe-2]=arguments[qe];return T.prototype[$].apply(C,Te)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const T=h.length;if(T>0){const b=Array(T);for(let C=0;C<T;C++)b[C]=h[C];return b}return[]}function j(h,T){for(let C=1;C<arguments.length;C++){const $=arguments[C];var b=typeof $;if(b=b!="object"?b:$?Array.isArray($)?"array":b:"null",b=="array"||b=="object"&&typeof $.length=="number"){b=h.length||0;const ne=$.length||0;h.length=b+ne;for(let Te=0;Te<ne;Te++)h[b+Te]=$[Te]}else h.push($)}}class z{constructor(T,b){this.i=T,this.j=b,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function P(h){u.setTimeout(()=>{throw h},0)}function O(){var h=N;let T=null;return h.g&&(T=h.g,h.g=h.g.next,h.g||(h.h=null),T.next=null),T}class G{constructor(){this.h=this.g=null}add(T,b){const C=q.get();C.set(T,b),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new z(()=>new pe,h=>h.reset());class pe{constructor(){this.next=this.g=this.h=null}set(T,b){this.h=T,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,N=new G,A=()=>{const h=Promise.resolve(void 0);se=()=>{h.then(D)}};function D(){for(var h;h=O();){try{h.h.call(h.g)}catch(b){P(b)}var T=q;T.j(h),T.h<100&&(T.h++,h.next=T.g,T.g=h)}ae=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,T){this.type=h,this.g=this.target=T,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,T=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,T),u.removeEventListener("test",b,T)}catch{}return h})();function k(h){return/^[\s\xa0]*$/.test(h)}function Ue(h,T){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,T)}_(Ue,M),Ue.prototype.init=function(h,T){const b=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=T,T=h.relatedTarget,T||(b=="mouseover"?T=h.fromElement:b=="mouseout"&&(T=h.toElement)),this.relatedTarget=T,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),ee=0;function fe(h,T,b,C,$){this.listener=h,this.proxy=null,this.src=T,this.type=b,this.capture=!!C,this.ha=$,this.key=++ee,this.da=this.fa=!1}function Ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,T,b){for(const C in h)T.call(b,h[C],C,h)}function H(h,T){for(const b in h)T.call(void 0,h[b],b,h)}function x(h){const T={};for(const b in h)T[b]=h[b];return T}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,T){let b,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(b in C)h[b]=C[b];for(let ne=0;ne<Y.length;ne++)b=Y[ne],Object.prototype.hasOwnProperty.call(C,b)&&(h[b]=C[b])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,T,b,C,$){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const Te=ve(h,T,C,$);return Te>-1?(T=h[Te],b||(T.fa=!1)):(T=new fe(T,this.src,ne,!!C,$),T.fa=b,h.push(T)),T};function ge(h,T){const b=T.type;if(b in h.g){var C=h.g[b],$=Array.prototype.indexOf.call(C,T,void 0),ne;(ne=$>=0)&&Array.prototype.splice.call(C,$,1),ne&&(Ee(T),h.g[b].length==0&&(delete h.g[b],h.h--))}}function ve(h,T,b,C){for(let $=0;$<h.length;++$){const ne=h[$];if(!ne.da&&ne.listener==T&&ne.capture==!!b&&ne.ha==C)return $}return-1}var U="closure_lm_"+(Math.random()*1e6|0),Q={};function te(h,T,b,C,$){if(Array.isArray(T)){for(let ne=0;ne<T.length;ne++)te(h,T[ne],b,C,$);return null}return b=Zt(b),h&&h[Ve]?h.J(T,b,m(C)?!!C.capture:!1,$):ye(h,T,b,!1,C,$)}function ye(h,T,b,C,$,ne){if(!T)throw Error("Invalid event type");const Te=m($)?!!$.capture:!!$;let qe=lt(h);if(qe||(h[U]=qe=new he(h)),b=qe.add(T,b,C,Te,ne),b.proxy)return b;if(C=xe(),b.proxy=C,C.src=h,C.listener=b,h.addEventListener)B||($=Te),$===void 0&&($=!1),h.addEventListener(T.toString(),C,$);else if(h.attachEvent)h.attachEvent(Ce(T.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function xe(){function h(b){return T.call(h.src,h.listener,b)}const T=Ke;return h}function we(h,T,b,C,$){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)we(h,T[ne],b,C,$);else C=m(C)?!!C.capture:!!C,b=Zt(b),h&&h[Ve]?(h=h.i,ne=String(T).toString(),ne in h.g&&(T=h.g[ne],b=ve(T,b,C,$),b>-1&&(Ee(T[b]),Array.prototype.splice.call(T,b,1),T.length==0&&(delete h.g[ne],h.h--)))):h&&(h=lt(h))&&(T=h.g[T.toString()],h=-1,T&&(h=ve(T,b,C,$)),(b=h>-1?T[h]:null)&&ke(b))}function ke(h){if(typeof h!="number"&&h&&!h.da){var T=h.src;if(T&&T[Ve])ge(T.i,h);else{var b=h.type,C=h.proxy;T.removeEventListener?T.removeEventListener(b,C,h.capture):T.detachEvent?T.detachEvent(Ce(b),C):T.addListener&&T.removeListener&&T.removeListener(C),(b=lt(T))?(ge(b,h),b.h==0&&(b.src=null,T[U]=null)):Ee(h)}}}function Ce(h){return h in Q?Q[h]:Q[h]="on"+h}function Ke(h,T){if(h.da)h=!0;else{T=new Ue(T,this);const b=h.listener,C=h.ha||h.src;h.fa&&ke(h),h=b.call(C,T)}return h}function lt(h){return h=h[U],h instanceof he?h:null}var Tt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zt(h){return typeof h=="function"?h:(h[Tt]||(h[Tt]=function(T){return h.handleEvent(T)}),h[Tt])}function nt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}_(nt,V),nt.prototype[Ve]=!0,nt.prototype.removeEventListener=function(h,T,b,C){we(this,h,T,b,C)};function it(h,T){var b,C=h.G;if(C)for(b=[];C;C=C.G)b.push(C);if(h=h.M,C=T.type||T,typeof T=="string")T=new M(T,h);else if(T instanceof M)T.target=T.target||h;else{var $=T;T=new M(C,h),re(T,$)}$=!0;let ne,Te;if(b)for(Te=b.length-1;Te>=0;Te--)ne=T.g=b[Te],$=ei(ne,C,!0,T)&&$;if(ne=T.g=h,$=ei(ne,C,!0,T)&&$,$=ei(ne,C,!1,T)&&$,b)for(Te=0;Te<b.length;Te++)ne=T.g=b[Te],$=ei(ne,C,!1,T)&&$}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var h=this.i;for(const T in h.g){const b=h.g[T];for(let C=0;C<b.length;C++)Ee(b[C]);delete h.g[T],h.h--}}this.G=null},nt.prototype.J=function(h,T,b,C){return this.i.add(String(h),T,!1,b,C)},nt.prototype.K=function(h,T,b,C){return this.i.add(String(h),T,!0,b,C)};function ei(h,T,b,C){if(T=h.i.g[String(T)],!T)return!0;T=T.concat();let $=!0;for(let ne=0;ne<T.length;++ne){const Te=T[ne];if(Te&&!Te.da&&Te.capture==b){const qe=Te.listener,Vt=Te.ha||Te.src;Te.fa&&ge(h.i,Te),$=qe.call(Vt,C)!==!1&&$}}return $&&!C.defaultPrevented}function X(h,T){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:u.setTimeout(h,T||0)}function le(h){h.g=X(()=>{h.g=null,h.i&&(h.i=!1,le(h))},h.l);const T=h.h;h.h=null,h.m.apply(null,T)}class _e extends V{constructor(T,b){super(),this.m=T,this.l=b,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(h){V.call(this),this.h=h,this.g={}}_(be,V);var Rt=[];function nr(h){De(h.g,function(T,b){this.g.hasOwnProperty(b)&&ke(T)},h),h.g={}}be.prototype.N=function(){be.Z.N.call(this),nr(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=u.JSON.stringify,Fn=u.JSON.parse,_s=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Si(){}function In(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){M.call(this,"d")}_(ln,M);function ti(){M.call(this,"c")}_(ti,M);var Pt={},Au=null;function Wa(){return Au=Au||new nt}Pt.Ia="serverreachability";function Ru(h){M.call(this,Pt.Ia,h)}_(Ru,M);function zi(h){const T=Wa();it(T,new Ru(T))}Pt.STAT_EVENT="statevent";function sa(h,T){M.call(this,Pt.STAT_EVENT,h),this.stat=T}_(sa,M);function zt(h){const T=Wa();it(T,new sa(T,h))}Pt.Ja="timingevent";function Bi(h,T){M.call(this,Pt.Ja,h),this.size=T}_(Bi,M);function Fi(h,T){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},T)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function Qf(h,T,b,C,$,ne){h.info(function(){if(h.g)if(ne){var Te="",qe=ne.split("&");for(let at=0;at<qe.length;at++){var Vt=qe[at].split("=");if(Vt.length>1){const wt=Vt[0];Vt=Vt[1];const ri=wt.split("_");Te=ri.length>=2&&ri[1]=="type"?Te+(wt+"="+Vt+"&"):Te+(wt+"=redacted&")}}}else Te=null;else Te=ne;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+T+`
`+b+`
`+Te})}function Cu(h,T,b,C,$,ne,Te){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+T+`
`+b+`
`+ne+" "+Te})}function qi(h,T,b,C){h.info(function(){return"XMLHTTP TEXT ("+T+"): "+Xf(h,b)+(C?" "+C:"")})}function ra(h,T){h.info(function(){return"TIMEOUT: "+T})}bi.prototype.info=function(){};function Xf(h,T){if(!h.g)return T;if(!T)return null;try{const ne=JSON.parse(T);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var b=ne[h];if(!(b.length<2)){var C=b[1];if(Array.isArray(C)&&!(C.length<1)){var $=C[0];if($!="noop"&&$!="stop"&&$!="close")for(let Te=1;Te<C.length;Te++)C[Te]=""}}}}return Ei(ne)}catch{return T}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function oa(){}_(oa,Si),oa.prototype.g=function(){return new XMLHttpRequest},Al=new oa;function Ts(h){return encodeURIComponent(String(h))}function Nu(h){var T=1;h=h.split(":");const b=[];for(;T>0&&h.length;)b.push(h.shift()),T--;return h.length&&b.push(h.join(":")),b}function xi(h,T,b,C){this.j=h,this.i=T,this.l=b,this.S=C||1,this.V=new be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Bt={},sn={};function Hi(h,T,b){h.M=1,h.A=la(qt(T)),h.u=b,h.R=!0,Za(h,null)}function Za(h,T){h.F=Date.now(),Gi(h),h.B=qt(h.A);var b=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),no(b.i,"t",C),h.C=0,b=h.j.L,h.h=new wi,h.g=Hu(h.j,b?T:null,!h.u),h.P>0&&(h.O=new _e(g(h.Y,h,h.g),h.P)),T=h.V,b=h.g,C=h.ba;var $="readystatechange";Array.isArray($)||($&&(Rt[0]=$.toString()),$=Rt);for(let ne=0;ne<$.length;ne++){const Te=te(b,$[ne],C||T.handleEvent,!1,T.h||T);if(!Te)break;T.g[Te.key]=Te}T=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,T)):(h.v="GET",h.g.ea(h.B,h.v,null,T)),zi(),Qf(h.i,h.v,h.B,h.l,h.S,h.u)}xi.prototype.ba=function(h){h=h.target;const T=this.O;T&&Ci(h)==3?T.j():this.Y(h)},xi.prototype.Y=function(h){try{if(h==this.g)e:{const qe=Ci(this.g),Vt=this.g.ya(),at=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||qe!=4||Vt==7||(Vt==8||at<=0?zi(3):zi(2)),Ki(this);var T=this.g.ca();this.X=T;var b=Wf(this);if(this.o=T==200,Cu(this.i,this.v,this.B,this.l,this.S,qe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var C,$=this.g;if((C=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(C)){var ne=C;break t}}ne=null}if(h=ne)qi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,h);else{this.o=!1,this.m=3,zt(12),Hn(this),ni(this);break e}}if(this.R){h=!0;let wt;for(;!this.K&&this.C<b.length;)if(wt=Du(this,b),wt==sn){qe==4&&(this.m=4,zt(14),h=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Bt){this.m=4,zt(15),qi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else qi(this.i,this.l,wt,null),Yi(this,wt);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||b.length!=0||this.h.h||(this.m=1,zt(16),h=!1),this.o=this.o&&h,!h)qi(this.i,this.l,b,"[Invalid Chunked Response]"),Hn(this),ni(this);else if(b.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bl(Te),Te.P=!0,zt(11))}}else qi(this.i,this.l,b,null),Yi(this,b);qe==4&&Hn(this),this.o&&!this.K&&(qe==4?zu(this.j,this):(this.o=!1,Gi(this)))}else Ss(this.g),T==400&&b.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Hn(this),ni(this)}}}catch{}finally{}};function Wf(h){if(!Iu(h))return h.g.la();const T=cn(h.g);if(T==="")return"";let b="";const C=T.length,$=Ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hn(h),ni(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<C;ne++)h.h.h=!0,b+=h.h.i.decode(T[ne],{stream:!($&&ne==C-1)});return T.length=0,h.h.g+=b,h.C=0,h.h.g}function Iu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Du(h,T){var b=h.C,C=T.indexOf(`
`,b);return C==-1?sn:(b=Number(T.substring(b,C)),isNaN(b)?Bt:(C+=1,C+b>T.length?sn:(T=T.slice(C,C+b),h.C=C+b,T)))}xi.prototype.cancel=function(){this.K=!0,Hn(this)};function Gi(h){h.T=Date.now()+h.H,Ja(h,h.H)}function Ja(h,T){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Fi(g(h.aa,h),T)}function Ki(h){h.D&&(u.clearTimeout(h.D),h.D=null)}xi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(zi(),zt(17)),Hn(this),this.m=2,ni(this)):Ja(this,this.T-h)};function ni(h){h.j.I==0||h.K||zu(h.j,h)}function Hn(h){Ki(h);var T=h.O;T&&typeof T.dispose=="function"&&T.dispose(),h.O=null,nr(h.V),h.g&&(T=h.g,h.g=null,T.abort(),T.dispose())}function Yi(h,T){try{var b=h.j;if(b.I!=0&&(b.g==h||Qi(b.h,h))){if(!h.L&&Qi(b.h,h)&&b.I==3){try{var C=b.Ba.g.parse(T)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)oo(b),ur(b);else break e;pa(b),zt(18)}}else b.xa=$[1],0<b.xa-b.K&&$[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Fi(g(b.Va,b),6e3));$i(b.h)<=1&&b.ta&&(b.ta=void 0)}else ts(b,11)}else if((h.L||b.g==h)&&oo(b),!k(T))for($=b.Ba.g.parse(T),T=0;T<$.length;T++){let at=$[T];const wt=at[0];if(!(wt<=b.K))if(b.K=wt,at=at[1],b.I==2)if(at[0]=="c"){b.M=at[1],b.ba=at[2];const ri=at[3];ri!=null&&(b.ka=ri,b.j.info("VER="+b.ka));const ns=at[4];ns!=null&&(b.za=ns,b.j.info("SVER="+b.za));const Ni=at[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(C=1.5*Ni,b.O=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const Ii=h.g;if(Ii){const ga=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var ne=C.h;ne.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Nl(ne,ne.h),ne.h=null))}if(C.G){const lo=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(C.wa=lo,ut(C.J,C.G,lo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),C=b;var Te=h;if(C.na=qu(C,C.L?C.ba:null,C.W),Te.L){Il(C.h,Te);var qe=Te,Vt=C.O;Vt&&(qe.H=Vt),qe.D&&(Ki(qe),Gi(qe)),C.g=Te}else Lu(C);b.i.length>0&&es(b)}else at[0]!="stop"&&at[0]!="close"||ts(b,7);else b.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ts(b,7):Ul(b):at[0]!="noop"&&b.l&&b.l.qa(at),b.A=0)}}zi(4)}catch{}}var Ft=class{constructor(h,T){this.g=h,this.map=T}};function Rl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $i(h){return h.h?1:h.g?h.g.size:0}function Qi(h,T){return h.h?h.h==T:h.g?h.g.has(T):!1}function Nl(h,T){h.g?h.g.add(T):h.h=T}function Il(h,T){h.h&&h.h==T?h.h=null:h.g&&h.g.has(T)&&h.g.delete(T)}Rl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Dl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let T=h.i;for(const b of h.g.values())T=T.concat(b.G);return T}return R(h.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(h,T){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const C=h[b].indexOf("=");let $,ne=null;C>=0?($=h[b].substring(0,C),ne=h[b].substring(C+1)):$=h[b],T($,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Gn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;h instanceof Gn?(this.l=h.l,rn(this,h.j),this.o=h.o,this.g=h.g,ir(this,h.u),this.h=h.h,jl(this,Vu(h.i)),this.m=h.m):h&&(T=String(h).match(ju))?(this.l=!1,rn(this,T[1]||"",!0),this.o=Xi(T[2]||""),this.g=Xi(T[3]||"",!0),ir(this,T[4]),this.h=Xi(T[5]||"",!0),jl(this,T[6]||"",!0),this.m=Xi(T[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}Gn.prototype.toString=function(){const h=[];var T=this.j;T&&h.push(ca(T,to,!0),":");var b=this.g;return(b||T=="file")&&(h.push("//"),(T=this.o)&&h.push(ca(T,to,!0),"@"),h.push(Ts(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ca(b,b.charAt(0)=="/"?Ml:Mu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ca(b,ku)),h.join("")},Gn.prototype.resolve=function(h){const T=qt(this);let b=!!h.j;b?rn(T,h.j):b=!!h.o,b?T.o=h.o:b=!!h.g,b?T.g=h.g:b=h.u!=null;var C=h.h;if(b)ir(T,h.u);else if(b=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var $=T.h.lastIndexOf("/");$!=-1&&(C=T.h.slice(0,$+1)+C)}if($=C,$==".."||$==".")C="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){C=$.lastIndexOf("/",0)==0,$=$.split("/");const ne=[];for(let Te=0;Te<$.length;){const qe=$[Te++];qe=="."?C&&Te==$.length&&ne.push(""):qe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),C&&Te==$.length&&ne.push("")):(ne.push(qe),C=!0)}C=ne.join("/")}else C=$}return b?T.h=C:b=h.i.toString()!=="",b?jl(T,Vu(h.i)):b=!!h.m,b&&(T.m=h.m),T};function qt(h){return new Gn(h)}function rn(h,T,b){h.j=b?Xi(T,!0):T,h.j&&(h.j=h.j.replace(/:$/,""))}function ir(h,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);h.u=T}else h.u=null}function jl(h,T,b){T instanceof rr?(h.i=T,io(h.i,h.l)):(b||(T=ca(T,sr)),h.i=new rr(T,h.l))}function ut(h,T,b){h.i.set(T,b)}function la(h){return ut(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Xi(h,T){return h?T?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ca(h,T,b){return typeof h=="string"?(h=encodeURI(h).replace(T,Dn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var to=/[#\/\?@]/g,Mu=/[#\?:]/g,Ml=/[#\?]/g,sr=/[#\?@]/g,ku=/#/g;function rr(h,T){this.h=this.g=null,this.i=h||null,this.j=!!T}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&eo(h.i,function(T,b){h.add(decodeURIComponent(T.replace(/\+/g," ")),b)}))}t=rr.prototype,t.add=function(h,T){jn(this),this.i=null,h=ar(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(T),this.h+=1,this};function Pu(h,T){jn(h),T=ar(h,T),h.g.has(T)&&(h.i=null,h.h-=h.g.get(T).length,h.g.delete(T))}function kl(h,T){return jn(h),T=ar(h,T),h.g.has(T)}t.forEach=function(h,T){jn(this),this.g.forEach(function(b,C){b.forEach(function($){h.call(T,$,C,this)},this)},this)};function Pl(h,T){jn(h);let b=[];if(typeof T=="string")kl(h,T)&&(b=b.concat(h.g.get(ar(h,T))));else for(h=Array.from(h.g.values()),T=0;T<h.length;T++)b=b.concat(h[T]);return b}t.set=function(h,T){return jn(this),this.i=null,h=ar(this,h),kl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[T]),this.h+=1,this},t.get=function(h,T){return h?(h=Pl(this,h),h.length>0?String(h[0]):T):T};function no(h,T,b){Pu(h,T),b.length>0&&(h.i=null,h.g.set(ar(h,T),R(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],T=Array.from(this.g.keys());for(let C=0;C<T.length;C++){var b=T[C];const $=Ts(b);b=Pl(this,b);for(let ne=0;ne<b.length;ne++){let Te=$;b[ne]!==""&&(Te+="="+Ts(b[ne])),h.push(Te)}}return this.i=h.join("&")};function Vu(h){const T=new rr;return T.i=h.i,h.g&&(T.g=new Map(h.g),T.h=h.h),T}function ar(h,T){return T=String(T),h.j&&(T=T.toLowerCase()),T}function io(h,T){T&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(b,C){const $=C.toLowerCase();C!=$&&(Pu(this,C),no(this,$,b))},h)),h.j=T}function Ai(h,T){const b=new bi;if(u.Image){const C=new Image;C.onload=v(ii,b,"TestLoadImage: loaded",!0,T,C),C.onerror=v(ii,b,"TestLoadImage: error",!1,T,C),C.onabort=v(ii,b,"TestLoadImage: abort",!1,T,C),C.ontimeout=v(ii,b,"TestLoadImage: timeout",!1,T,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else T(!1)}function Vl(h,T){const b=new bi,C=new AbortController,$=setTimeout(()=>{C.abort(),ii(b,"TestPingServer: timeout",!1,T)},1e4);fetch(h,{signal:C.signal}).then(ne=>{clearTimeout($),ne.ok?ii(b,"TestPingServer: ok",!0,T):ii(b,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout($),ii(b,"TestPingServer: error",!1,T)})}function ii(h,T,b,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(b)}catch{}}function or(){this.g=new _s}function Wi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Wi,Si),Wi.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,T){nt.call(this),this.H=h,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ua,nt),t=ua.prototype,t.open=function(h,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=T,this.readyState=1,Ri(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(T.body=h),(this.H||u).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;so(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function so(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var T=h.value?h.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!h.done}))&&(this.response=this.responseText+=T)}h.done?lr(this):Ri(this),this.readyState==3&&so(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,lr(this))},t.Na=function(h){this.g&&(this.response=h,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ri(h)}t.setRequestHeader=function(h,T){this.A.append(h,T)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],T=this.h.entries();for(var b=T.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=T.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function si(h){let T="";return De(h,function(b,C){T+=C,T+=":",T+=b,T+=`\r
`}),T}function ha(h,T,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=si(b),typeof h=="string"?b!=null&&Ts(b):ut(h,T,b))}function ft(h){nt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ft,nt);var Zi=/^https?$/i,Ol=["POST","PUT"];t=ft.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,T,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);T=T?T.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(T,String(h),!0),this.B=!1}catch(ne){da(this,ne);return}if(h=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)b.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ne of C.keys())b.set(ne,C.get(ne));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(ne=>ne.toLowerCase()=="content-type"),$=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Ol,T,void 0)>=0)||C||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Te]of b)this.g.setRequestHeader(ne,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){da(this,ne)}};function da(h,T){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=T,h.o=5,Ll(h),Es(h)}function Ll(h){h.A||(h.A=!0,it(h,"complete"),it(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,it(this,"complete"),it(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},t.Xa=function(){fa(this)};function fa(h){if(h.h&&typeof l<"u"){if(h.v&&Ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(it(h,"readystatechange"),Ci(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var b;if(!(b=T)){var C;if(C=ne===0){let Te=String(h.D).match(ju)[1]||null;!Te&&u.self&&u.self.location&&(Te=u.self.location.protocol.slice(0,-1)),C=!Zi.test(Te?Te.toLowerCase():"")}b=C}if(b)it(h,"complete"),it(h,"success");else{h.o=6;try{var $=Ci(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",Ll(h)}}finally{Es(h)}}}}function Es(h,T){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,T||it(h,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ci(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var T=this.g.responseText;return h&&T.indexOf(h)==0&&(T=T.substring(h.length)),Fn(T)}};function cn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(h){const T={};h=(h.g&&Ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(k(h[C]))continue;var b=Nu(h[C]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ne=T[$]||[];T[$]=ne,ne.push(b)}H(T,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(h,T,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||T}function cr(h){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,h),this.Za=Ji("retryDelaySeedMs",1e4,h),this.Ta=Ji("forwardChannelMaxRetries",2,h),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Rl(h&&h.concurrentRequestLimit),this.Ba=new or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cr.prototype,t.ka=8,t.I=1,t.connect=function(h,T,b,C){zt(0),this.W=h,this.H=T||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.J=qu(this,null,this.W),es(this)};function Ul(h){if(ro(h),h.I==3){var T=h.V++,b=qt(h.J);if(ut(b,"SID",h.M),ut(b,"RID",T),ut(b,"TYPE","terminate"),ma(h,b),T=new xi(h,h.j,T),T.M=2,T.A=la(qt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(T.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=T.A,b=!0),b||(T.g=Hu(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Gi(T)}Fu(h)}function ur(h){h.g&&(Bl(h),h.g.cancel(),h.g=null)}function ro(h){ur(h),h.v&&(u.clearTimeout(h.v),h.v=null),oo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function es(h){if(!Cl(h.h)&&!h.m){h.m=!0;var T=h.Ea;se||A(),ae||(se(),ae=!0),N.add(T,h),h.D=0}}function ao(h,T){return $i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=T.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Fi(g(h.Ea,h,T),Bu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new xi(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=x(ne),re(ne,this.U)):ne=this.U),this.u!==null||this.R||($.J=ne,ne=null),this.S)e:{for(var T=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(T+=C,T>4096){T=b;break e}if(T===4096||b===this.i.length-1){T=b+1;break e}}T=1e3}else T=1e3;T=Ou(this,$,T),b=qt(this.J),ut(b,"RID",h),ut(b,"CVER",22),this.G&&ut(b,"X-HTTP-Session-Id",this.G),ma(this,b),ne&&(this.R?T="headers="+Ts(si(ne))+"&"+T:this.u&&ha(b,this.u,ne)),Nl(this.h,$),this.Ra&&ut(b,"TYPE","init"),this.S?(ut(b,"$req",T),ut(b,"SID","null"),$.U=!0,Hi($,b,null)):Hi($,b,T),this.I=2}}else this.I==3&&(h?zl(this,h):this.i.length==0||Cl(this.h)||zl(this))};function zl(h,T){var b;T?b=T.l:b=h.V++;const C=qt(h.J);ut(C,"SID",h.M),ut(C,"RID",b),ut(C,"AID",h.K),ma(h,C),h.u&&h.o&&ha(C,h.u,h.o),b=new xi(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),T&&(h.i=T.G.concat(h.i)),T=Ou(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Nl(h.h,b),Hi(b,C,T)}function ma(h,T){h.H&&De(h.H,function(b,C){ut(T,C,b)}),h.l&&De({},function(b,C){ut(T,C,b)})}function Ou(h,T,b){b=Math.min(h.i.length,b);const C=h.l?g(h.l.Ka,h.l,h):null;e:{var $=h.i;let qe=-1;for(;;){const Vt=["count="+b];qe==-1?b>0?(qe=$[0].g,Vt.push("ofs="+qe)):qe=0:Vt.push("ofs="+qe);let at=!0;for(let wt=0;wt<b;wt++){var ne=$[wt].g;const ri=$[wt].map;if(ne-=qe,ne<0)qe=Math.max(0,$[wt].g-100),at=!1;else try{ne="req"+ne+"_"||"";try{var Te=ri instanceof Map?ri:Object.entries(ri);for(const[ns,Ni]of Te){let Ii=Ni;m(Ni)&&(Ii=Ei(Ni)),Vt.push(ne+ns+"="+encodeURIComponent(Ii))}}catch(ns){throw Vt.push(ne+"type="+encodeURIComponent("_badmap")),ns}}catch{C&&C(ri)}}if(at){Te=Vt.join("&");break e}}Te=void 0}return h=h.i.splice(0,b),T.G=h,Te}function Lu(h){if(!h.g&&!h.v){h.Y=1;var T=h.Da;se||A(),ae||(se(),ae=!0),N.add(T,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Fi(g(h.Da,h),Bu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Fi(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),ur(this),Uu(this))};function Bl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Uu(h){h.g=new xi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var T=qt(h.na);ut(T,"RID","rpc"),ut(T,"SID",h.M),ut(T,"AID",h.K),ut(T,"CI",h.F?"0":"1"),!h.F&&h.ia&&ut(T,"TO",h.ia),ut(T,"TYPE","xmlhttp"),ma(h,T),h.u&&h.o&&ha(T,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=la(qt(T)),b.u=null,b.R=!0,Za(b,h)}t.Va=function(){this.C!=null&&(this.C=null,ur(this),pa(this),zt(19))};function oo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function zu(h,T){var b=null;if(h.g==T){oo(h),Bl(h),h.g=null;var C=2}else if(Qi(h.h,T))b=T.G,Il(h.h,T),C=1;else return;if(h.I!=0){if(T.o)if(C==1){b=T.u?T.u.length:0,T=Date.now()-T.F;var $=h.D;C=Wa(),it(C,new Bi(C,b)),es(h)}else Lu(h);else if($=T.m,$==3||$==0&&T.X>0||!(C==1&&ao(h,T)||C==2&&pa(h)))switch(b&&b.length>0&&(T=h.h,T.i=T.i.concat(b)),$){case 1:ts(h,5);break;case 4:ts(h,10);break;case 3:ts(h,6);break;default:ts(h,2)}}}function Bu(h,T){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*T}function ts(h,T){if(h.j.info("Error code "+T),T==2){var b=g(h.bb,h),C=h.Ua;const $=!C;C=new Gn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rn(C,"https"),la(C),$?Ai(C.toString(),b):Vl(C.toString(),b)}else zt(2);h.I=0,h.l&&h.l.pa(T),Fu(h),ro(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Fu(h){if(h.I=0,h.ja=[],h.l){const T=Dl(h.h);(T.length!=0||h.i.length!=0)&&(j(h.ja,T),j(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function qu(h,T,b){var C=b instanceof Gn?qt(b):new Gn(b);if(C.g!="")T&&(C.g=T+"."+C.g),ir(C,C.u);else{var $=u.location;C=$.protocol,T=T?T+"."+$.hostname:$.hostname,$=+$.port;const ne=new Gn(null);C&&rn(ne,C),T&&(ne.g=T),$&&ir(ne,$),b&&(ne.h=b),C=ne}return b=h.G,T=h.wa,b&&T&&ut(C,b,T),ut(C,"VER",h.ka),ma(h,C),C}function Hu(h,T,b){if(T&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=h.Aa&&!h.ma?new ft(new Wi({ab:b})):new ft(h.ma),T.Fa(h.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}t=Gu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(h,T){return new wn(h,T)};function wn(h,T){nt.call(this),this.g=new cr(T),this.l=h,this.h=T&&T.messageUrlParams||null,h=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(h?h["X-WebChannel-Content-Type"]=T.messageContentType:h={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(h?h["X-WebChannel-Client-Profile"]=T.sa:h={"X-WebChannel-Client-Profile":T.sa}),this.g.U=h,(h=T&&T.Qb)&&!k(h)&&(this.g.u=h),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!k(T)&&(this.g.G=T,h=this.h,h!==null&&T in h&&(h=this.h,T in h&&delete h[T])),this.j=new bs(this)}_(wn,nt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ul(this.g)},wn.prototype.o=function(h){var T=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Ei(h),h=b);T.i.push(new Ft(T.Ya++,h)),T.I==3&&es(T)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,wn.Z.N.call(this)};function Ku(h){ln.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var T=h.__sm__;if(T){e:{for(const b in T){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,T=T!==null&&h in T?T[h]:void 0),this.data=T}else this.data=h}_(Ku,ln);function Yu(){ti.call(this),this.status=1}_(Yu,ti);function bs(h){this.g=h}_(bs,Gu),bs.prototype.ra=function(){it(this.g,"a")},bs.prototype.qa=function(h){it(this.g,new Ku(h))},bs.prototype.pa=function(h){it(this.g,new Yu)},bs.prototype.oa=function(){it(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Hw=function(){return new hr},qw=function(){return Wa()},Fw=Pt,Ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,yd=aa,wl.COMPLETE="complete",Bw=wl,In.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",nt.prototype.listen=nt.prototype.J,Cc=In,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,zw=ft}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const pS="@firebase/firestore",gS="4.9.3";class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let pl="12.7.0";const Ka=new Vy("@firebase/firestore");function Uo(){return Ka.logLevel}function Ae(t,...e){if(Ka.logLevel<=We.DEBUG){const n=e.map(Uy);Ka.debug(`Firestore (${pl}): ${t}`,...n)}}function Ys(t,...e){if(Ka.logLevel<=We.ERROR){const n=e.map(Uy);Ka.error(`Firestore (${pl}): ${t}`,...n)}}function tl(t,...e){if(Ka.logLevel<=We.WARN){const n=e.map(Uy);Ka.warn(`Firestore (${pl}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Gw(t,s,n)}function Gw(t,e,n){let s=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ys(s),new Error(s)}function ct(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Gw(e,a,s)}function Fe(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Kw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class Xj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Wj{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},m=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string",31837,{l:s}),new Kw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class Zj{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jj{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Zj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const s=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=tM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ze(t,e){return t<e?-1:t>e?1:0}function zg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return sg(a)===sg(l)?Ze(a,l):sg(a)?1:-1}return Ze(t.length,e.length)}const nM=55296,iM=57343;function sg(t){const e=t.charCodeAt(0);return e>=nM&&e<=iM}function nl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const vS="__name__";class os{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof os?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=os.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const s=os.isNumericId(e),a=os.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?os.extractNumericId(e).compare(os.extractNumericId(n)):zg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Et extends os{construct(e,n,s){return new Et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const sM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends os{construct(e,n,s){return new gn(e,n,s)}static isValidIdentifier(e){return sM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vS}static keyField(){return new gn([vS])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(s+=m,a++):(l(),a++)}if(l(),u)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Et.fromString(e))}static fromName(e){return new Me(Et.fromString(e).popFirst(5))}static empty(){return new Me(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Et(e.slice()))}}function Yw(t,e,n){if(!n)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rM(t,e,n,s){if(e===!0&&s===!0)throw new Se(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _S(t){if(!Me.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TS(t){if(Me.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $w(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(t);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function aM(t,e){if(e<=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function fu(t,e){if(!$w(t))throw new Se(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new Se(ue.INVALID_ARGUMENT,n);return!0}const ES=-62135596800,SS=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*SS);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ES)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SS}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ES;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Wt("string",yt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new yt(0,0))}static max(){return new ze(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yc=-1;function oM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new Yr(a,Me.empty(),e)}function lM(t){return new Yr(t.readTime,t.key,Yc)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(ze.min(),Me.empty(),Yc)}static max(){return new Yr(ze.max(),Me.empty(),Yc)}}function cM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}const uM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==uM)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,s)=>{n(e)}))}static reject(e){return new me(((n,s)=>{s(e)}))}static waitFor(e){return new me(((n,s)=>{let a=0,l=0,u=!1;e.forEach((m=>{++a,m.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const s of e)n=n.next((a=>a?me.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new me(((s,a)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((v=>{u[g]=v,++m,m===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new me(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function dM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;const By=-1;function Tf(t){return t==null}function Pd(t){return t===0&&1/t==-1/0}function fM(t){return typeof t=="number"&&Number.isInteger(t)&&!Pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Qw="";function mM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bS(e)),e=pM(t.get(n),e);return bS(e)}function pM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Qw:n+="";break;default:n+=l}}return n}function bS(t){return t+Qw+""}function xS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class It{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??pn.RED,this.left=a??pn.EMPTY,this.right=l??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new pn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wS(this.data.getIterator())}getIteratorFrom(e){return new wS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class wS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new tn(gn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ww("Invalid base64 string: "+l):l}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=gM.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}const Zw="server_timestamp",Jw="__type__",eA="__previous_value__",tA="__local_write_time__";function Fy(t){return(t?.mapValue?.fields||{})[Jw]?.stringValue===Zw}function Ef(t){const e=t.mapValue.fields[eA];return Fy(e)?Ef(e):e}function $c(t){const e=$r(t.mapValue.fields[tA].timestampValue);return new yt(e.seconds,e.nanos)}class yM{constructor(e,n,s,a,l,u,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Vd="(default)";class Qc{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}const nA="__type__",vM="__max__",ed={mapValue:{}},iA="__vector__",Od="value";function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fy(t)?4:TM(t)?9007199254740991:_M(t)?10:11:Oe(28295,{value:t})}function gs(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=$r(a.timestampValue),m=$r(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Qr(a.bytesValue).isEqual(Qr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ut(a.geoPointValue.latitude)===Ut(l.geoPointValue.latitude)&&Ut(a.geoPointValue.longitude)===Ut(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ut(a.integerValue)===Ut(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ut(a.doubleValue),m=Ut(l.doubleValue);return u===m?Pd(u)===Pd(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},m=l.mapValue.fields||{};if(xS(u)!==xS(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!gs(u[p],m[p])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Xc(t,e){return(t.values||[]).find((n=>gs(n,e)))!==void 0}function il(t,e){if(t===e)return 0;const n=Xr(t),s=Xr(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=Ut(l.integerValue||l.doubleValue),p=Ut(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(t,e);case 3:return AS(t.timestampValue,e.timestampValue);case 4:return AS($c(t),$c(e));case 5:return zg(t.stringValue,e.stringValue);case 6:return(function(l,u){const m=Qr(l),p=Qr(u);return m.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),p=u.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ze(m[g],p[g]);if(v!==0)return v}return Ze(m.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=Ze(Ut(l.latitude),Ut(u.latitude));return m!==0?m:Ze(Ut(l.longitude),Ut(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return RS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const m=l.fields||{},p=u.fields||{},g=m[Od]?.arrayValue,v=p[Od]?.arrayValue,_=Ze(g?.values?.length||0,v?.values?.length||0);return _!==0?_:RS(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ed.mapValue&&u===ed.mapValue)return 0;if(l===ed.mapValue)return 1;if(u===ed.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let _=0;_<p.length&&_<v.length;++_){const S=zg(p[_],v[_]);if(S!==0)return S;const R=il(m[p[_]],g[v[_]]);if(R!==0)return R}return Ze(p.length,v.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function AS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=$r(t),s=$r(e),a=Ze(n.seconds,s.seconds);return a!==0?a:Ze(n.nanos,s.nanos)}function RS(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=il(n[a],s[a]);if(l)return l}return Ze(n.length,s.length)}function sl(t){return Bg(t)}function Bg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Bg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Bg(n.fields[u])}`;return a+"}"})(t.mapValue):Oe(61005,{value:t})}function vd(t){switch(Xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(t);return e?16+vd(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+vd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return ta(s.fields,((l,u)=>{a+=l.length+vd(u)})),a})(t.mapValue);default:throw Oe(13486,{value:t})}}function CS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fg(t){return!!t&&"integerValue"in t}function qy(t){return!!t&&"arrayValue"in t}function NS(t){return!!t&&"nullValue"in t}function IS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _d(t){return!!t&&"mapValue"in t}function _M(t){return(t?.mapValue?.fields||{})[nA]?.stringValue===iA}function Pc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Pc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return{...t}}function TM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vM}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=gn.emptyPath(),s={},a=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=m.popLast()}u?s[m.lastSegment()]=Pc(u):a.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];_d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ta(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Un(Pc(this.value))}}function sA(t){const e=[];return ta(t.fields,((n,s)=>{const a=new gn([n]);if(_d(s)){const l=sA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Jn(e)}class En{constructor(e,n,s,a,l,u,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new En(e,0,ze.min(),ze.min(),ze.min(),Un.empty(),0)}static newFoundDocument(e,n,s,a){return new En(e,1,n,ze.min(),s,a,0)}static newNoDocument(e,n){return new En(e,2,n,ze.min(),ze.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,ze.min(),ze.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function DS(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Me.comparator(Me.fromName(u.referenceValue),n.key):s=il(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function jS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gs(t.position[n],e.position[n]))return!1;return!0}class Wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function EM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class rA{}class Xt extends rA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bM(e,n,s):n==="array-contains"?new AM(e,s):n==="in"?new RM(e,s):n==="not-in"?new CM(e,s):n==="array-contains-any"?new NM(e,s):new Xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xM(e,s):new wM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends rA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return aA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aA(t){return t.op==="and"}function oA(t){return SM(t)&&aA(t)}function SM(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function qg(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(oA(t))return t.filters.map((e=>qg(e))).join(",");{const e=t.filters.map((n=>qg(n))).join(",");return`${t.op}(${e})`}}function lA(t,e){return t instanceof Xt?(function(s,a){return a instanceof Xt&&s.op===a.op&&s.field.isEqual(a.field)&&gs(s.value,a.value)})(t,e):t instanceof Li?(function(s,a){return a instanceof Li&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,m)=>l&&lA(u,a.filters[m])),!0):!1})(t,e):void Oe(19439)}function cA(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`})(t):t instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(cA).join(" ,")+"}"})(t):"Filter"}class bM extends Xt{constructor(e,n,s){super(e,n,s),this.key=Me.fromName(s.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class xM extends Xt{constructor(e,n){super(e,"in",n),this.keys=uA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wM extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=uA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uA(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class AM extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qy(n)&&Xc(n.arrayValue,this.value)}}class RM extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class CM extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xc(this.value.arrayValue,n)}}class NM extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xc(this.value.arrayValue,s)))}}class IM{constructor(e,n=null,s=[],a=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function MS(t,e=null,n=[],s=[],a=null,l=null,u=null){return new IM(t,e,n,s,a,l,u)}function Hy(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>qg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>sl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>sl(s))).join(",")),e.Te=n}return e.Te}function Gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jS(t.startAt,e.startAt)&&jS(t.endAt,e.endAt)}function Hg(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class vl{constructor(e,n=null,s=[],a=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DM(t,e,n,s,a,l,u,m){return new vl(t,e,n,s,a,l,u,m)}function Sf(t){return new vl(t)}function kS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hA(t){return t.collectionGroup!==null}function Vc(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new tn(gn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wc(l,s))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new Wc(gn.keyField(),s))}return e.Ie}function cs(t){const e=Fe(t);return e.Ee||(e.Ee=jM(e,Vc(t))),e.Ee}function jM(t,e){if(t.limitType==="F")return MS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wc(a.field,l)}));const n=t.endAt?new Ld(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ld(t.startAt.position,t.startAt.inclusive):null;return MS(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Gg(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ud(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return Gy(cs(t),cs(e))&&t.limitType===e.limitType}function dA(t){return`${Hy(cs(t))}|lt:${t.limitType}`}function zo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>cA(a))).join(", ")}]`),Tf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>sl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>sl(a))).join(",")),`Target(${s})`})(cs(t))}; limitType=${t.limitType})`}function xf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Vc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,m,p){const g=DS(u,m,p);return u.inclusive?g<=0:g<0})(s.startAt,Vc(s),a)||s.endAt&&!(function(u,m,p){const g=DS(u,m,p);return u.inclusive?g>=0:g>0})(s.endAt,Vc(s),a))})(t,e)}function MM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fA(t){return(e,n)=>{let s=!1;for(const a of Vc(t)){const l=kM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function kM(t,e,n){const s=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,u,m){const p=u.data.field(l),g=m.data.field(l);return p!==null&&g!==null?il(p,g):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:t.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Xw(this.inner)}size(){return this.innerSize}}const PM=new It(Me.comparator);function $s(){return PM}const mA=new It(Me.comparator);function Nc(...t){let e=mA;for(const n of t)e=e.insert(n.key,n);return e}function pA(t){let e=mA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Va(){return Oc()}function gA(){return Oc()}function Oc(){return new Qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VM=new It(Me.comparator),OM=new tn(Me.comparator);function Je(...t){let e=OM;for(const n of t)e=e.add(n);return e}const LM=new tn(Ze);function UM(){return LM}function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(e)?"-0":e}}function yA(t){return{integerValue:""+t}}function zM(t,e){return fM(e)?yA(e):Ky(t,e)}class wf{constructor(){this._=void 0}}function BM(t,e,n){return t instanceof Zc?(function(a,l){const u={fields:{[Jw]:{stringValue:Zw},[tA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Fy(l)&&(l=Ef(l)),l&&(u.fields[eA]=l),{mapValue:u}})(n,e):t instanceof Jc?_A(t,e):t instanceof eu?TA(t,e):(function(a,l){const u=vA(a,l),m=PS(u)+PS(a.Ae);return Fg(u)&&Fg(a.Ae)?yA(m):Ky(a.serializer,m)})(t,e)}function FM(t,e,n){return t instanceof Jc?_A(t,e):t instanceof eu?TA(t,e):n}function vA(t,e){return t instanceof zd?(function(s){return Fg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zc extends wf{}class Jc extends wf{constructor(e){super(),this.elements=e}}function _A(t,e){const n=EA(e);for(const s of t.elements)n.some((a=>gs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends wf{constructor(e){super(),this.elements=e}}function TA(t,e){let n=EA(e);for(const s of t.elements)n=n.filter((a=>!gs(a,s)));return{arrayValue:{values:n}}}class zd extends wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PS(t){return Ut(t.integerValue||t.doubleValue)}function EA(t){return qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qM{constructor(e,n){this.field=e,this.transform=n}}function HM(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Jc&&a instanceof Jc||s instanceof eu&&a instanceof eu?nl(s.elements,a.elements,gs):s instanceof zd&&a instanceof zd?gs(s.Ae,a.Ae):s instanceof Zc&&a instanceof Zc})(t.transform,e.transform)}class GM{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Af{}function SA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yy(t.key,vi.none()):new mu(t.key,t.data,vi.none());{const n=t.data,s=Un.empty();let a=new tn(gn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new na(t.key,s,new Jn(a.toArray()),vi.none())}}function KM(t,e,n){t instanceof mu?(function(a,l,u){const m=a.value.clone(),p=OS(a.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):t instanceof na?(function(a,l,u){if(!Td(a.precondition,l))return void l.convertToUnknownDocument(u.version);const m=OS(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(bA(a)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Lc(t,e,n,s){return t instanceof mu?(function(l,u,m,p){if(!Td(l.precondition,u))return m;const g=l.value.clone(),v=LS(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof na?(function(l,u,m,p){if(!Td(l.precondition,u))return m;const g=LS(l.fieldTransforms,p,u),v=u.data;return v.setAll(bA(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,u,m){return Td(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,n)}function YM(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=vA(s.transform,a||null);l!=null&&(n===null&&(n=Un.empty()),n.set(s.field,l))}return n||null}function VS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&nl(s,a,((l,u)=>HM(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends Af{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class na extends Af{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function OS(t,e,n){const s=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,m=e.data.field(l.field);s.set(l.field,FM(u,m,n[a]))}return s}function LS(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,BM(l,u,e))}return s}class Yy extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $M extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&KM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Lc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Lc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=n.has(a.key)?null:m;const p=SA(u,m);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(ze.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,s)=>VS(n,s)))&&nl(this.baseMutations,e.baseMutations,((n,s)=>VS(n,s)))}}class $y{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ct(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return VM})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new $y(e,n,s,a)}}class XM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WM{constructor(e,n){this.count=e,this.unchangedNames=n}}var $t,tt;function ZM(t){switch(t){case ue.OK:return Oe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function xA(t){if(t===void 0)return Ys("GRPC error has no .code"),ue.UNKNOWN;switch(t){case $t.OK:return ue.OK;case $t.CANCELLED:return ue.CANCELLED;case $t.UNKNOWN:return ue.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ue.INTERNAL;case $t.UNAVAILABLE:return ue.UNAVAILABLE;case $t.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case $t.NOT_FOUND:return ue.NOT_FOUND;case $t.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case $t.ABORTED:return ue.ABORTED;case $t.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case $t.DATA_LOSS:return ue.DATA_LOSS;default:return Oe(39323,{code:t})}}(tt=$t||($t={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function JM(){return new TextEncoder}const ek=new Gr([4294967295,4294967295],0);function US(t){const e=JM().encode(t),n=new Uw;return n.update(e),new Uint8Array(n.digest())}function zS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([a,l],0)]}class Qy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(s<0)throw new Ic(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Gr.fromNumber(s)));return a.compare(ek)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=US(e),[s,a]=zS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Qy(l,a,n);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=US(e),[s,a]=zS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rf(ze.min(),a,new It(Ze),$s(),Je())}}class pu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Je(),Je(),Je())}}class Ed{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class wA{constructor(e,n){this.targetId=e,this.Ce=n}}class AA{constructor(e,n,s=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class BS{constructor(){this.ve=0,this.Fe=FS(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Oe(38017,{changeType:l})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=FS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tk{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=td(),this.He=td(),this.Ye=new It(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Hg(l))if(s===0){const u=new Me(l.path);this.et(n,u,En.newNoDocument(u,ze.min()))}else ct(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,m;try{u=Qr(s).toUint8Array()}catch(p){if(p instanceof Ww)return tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Qy(u,a,l)}catch(p){return tl(p instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const m=this.ot(u);if(m){if(l.current&&Hg(m.target)){const p=new Me(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,En.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Je();this.He.forEach(((l,u)=>{let m=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Rf(e,n,this.Ye,this.je,s);return this.je=$s(),this.Je=td(),this.He=td(),this.Ye=new It(Ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tn(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tn(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function td(){return new It(Me.comparator)}function FS(){return new It(Me.comparator)}const nk={asc:"ASCENDING",desc:"DESCENDING"},ik={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sk={and:"AND",or:"OR"};class rk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kg(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ak(t,e){return Bd(t,e.toTimestamp())}function us(t){return ct(!!t,49232),ze.fromTimestamp((function(n){const s=$r(n);return new yt(s.seconds,s.nanos)})(t))}function Xy(t,e){return Yg(t,e).canonicalString()}function Yg(t,e){const n=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function CA(t){const e=Et.fromString(t);return ct(MA(e),10190,{key:e.toString()}),e}function $g(t,e){return Xy(t.databaseId,e.path)}function rg(t,e){const n=CA(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(IA(n))}function NA(t,e){return Xy(t.databaseId,e)}function ok(t){const e=CA(t);return e.length===4?Et.emptyPath():IA(e)}function Qg(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qS(t,e,n){return{name:$g(t,e),fields:n.value.mapValue.fields}}function lk(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(ct(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const v=g.code===void 0?ue.UNKNOWN:xA(g.code);return new Se(v,g.message||"")})(u);n=new AA(s,a,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=rg(t,s.document.name),l=us(s.document.updateTime),u=s.document.createTime?us(s.document.createTime):ze.min(),m=new Un({mapValue:{fields:s.document.fields}}),p=En.newFoundDocument(a,l,u,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Ed(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=rg(t,s.document),l=s.readTime?us(s.readTime):ze.min(),u=En.newNoDocument(a,l),m=s.removedTargetIds||[];n=new Ed([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=rg(t,s.document),l=s.removedTargetIds||[];n=new Ed([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new WM(a,l),m=s.targetId;n=new wA(m,u)}}return n}function ck(t,e){let n;if(e instanceof mu)n={update:qS(t,e.key,e.value)};else if(e instanceof Yy)n={delete:$g(t,e.key)};else if(e instanceof na)n={update:qS(t,e.key,e.data),updateMask:vk(e.fieldMask)};else{if(!(e instanceof $M))return Oe(16599,{Vt:e.type});n={verify:$g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const m=u.transform;if(m instanceof Zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zd)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Oe(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ak(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(t,e.precondition)),n}function uk(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?us(a.updateTime):us(l);return u.isEqual(ze.min())&&(u=us(l)),new GM(u,a.transformResults||[])})(n,e)))):[]}function hk(t,e){return{documents:[NA(t,e.path)]}}function dk(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NA(t,a);const l=(function(g){if(g.length!==0)return jA(Li.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Bo(S.field),direction:pk(S.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Kg(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function fk(t){let e=ok(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ct(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const S=DA(_);return S instanceof Li&&oA(S)?S.getFilters():[S]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((S=>(function(j){return new Wc(Fo(j.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(_){let S;return S=typeof _=="object"?_.value:_,Tf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(_){const S=!!_.before,R=_.values||[];return new Ld(R,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const S=!_.before,R=_.values||[];return new Ld(R,S)})(n.endAt)),DM(e,a,u,l,m,"F",p,g)}function mk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fo(n.unaryFilter.field);return Xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fo(n.unaryFilter.field);return Xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(n.unaryFilter.field);return Xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(n.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(Fo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((s=>DA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function pk(t){return nk[t]}function gk(t){return ik[t]}function yk(t){return sk[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function Fo(t){return gn.fromServerFormat(t.fieldPath)}function jA(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(IS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(NS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(NS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:gk(n.op),value:n.value}}})(t):t instanceof Li?(function(n){const s=n.getFilters().map((a=>jA(a)));return s.length===1?s[0]:{compositeFilter:{op:yk(n.op),filters:s}}})(t):Oe(54877,{filter:t})}function vk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function MA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class zr{constructor(e,n,s,a,l=ze.min(),u=ze.min(),m=yn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _k{constructor(e){this.yt=e}}function Tk(t){const e=fk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ud(e,e.limit,"L"):e}class Ek{constructor(){this.Cn=new Sk}addToCollectionParentIndex(e,n){return this.Cn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(Yr.min())}updateCollectionGroup(e,n,s){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class Sk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new tn(Et.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new tn(Et.comparator)).toArray()}}const HS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(kA,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}const GS="LruGarbageCollector",bk=1048576;function KS([t,e],[n,s]){const a=Ze(t,n);return a===0?Ze(e,s):a}class xk{constructor(e){this.Ir=e,this.buffer=new tn(KS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(GS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?Ae(GS,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)}))}}class Ak{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(_f.ce);const s=new xk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(HS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,m=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),Uo()<=We.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Rk(t,e){return new Ak(t,e)}class Ck{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?me.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ik{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Lc(s.mutation,a,Jn.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const a=Va();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Nc();return l.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Va();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,s,a){let l=$s();const u=Oc(),m=(function(){return Oc()})();return n.forEach(((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof na)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Lc(v.mutation,g,v.mutation.getFieldMask(),yt.now())):u.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>m.set(g,new Nk(v,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Oc();let a=new It(((u,m)=>u-m)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Jn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const _=(a.get(m.batchId)||Je()).add(p);a=a.insert(m.batchId,_)}))})).next((()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,_=gA();v.forEach((S=>{if(!l.has(S)){const R=SA(n.get(S),s.get(S));R!==null&&_.set(S,R),l=l.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return me.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):me.resolve(Va());let m=Yc,p=l;return u.next((g=>me.forEach(g,((v,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),l.get(v)?me.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Je()))).next((v=>({batchId:m,changes:pA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((s=>{let a=Nc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Nc();return this.indexManager.getCollectionParents(e,l).next((m=>me.forEach(m,(p=>{const g=(function(_,S){return new vl(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((_,S)=>{u=u.insert(_,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,En.newInvalidDocument(v)))}));let m=Nc();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Lc(v.mutation,g,Jn.empty(),yt.now()),xf(n,g)&&(m=m.insert(p,g))})),m}))}}class Dk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return me.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:us(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Tk(a.bundledQuery),readTime:us(a.readTime)}})(n)),me.resolve()}}class jk{constructor(){this.overlays=new It(Me.comparator),this.qr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Va();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),me.resolve()}getOverlaysForCollection(e,n,s){const a=Va(),l=n.length+1,u=new Me(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new It(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Va(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Va(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=a)););return me.resolve(m)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new XM(n,s));let l=this.qr.get(n);l===void 0&&(l=Je(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class Mk{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class Wy{constructor(){this.Qr=new tn(on.$r),this.Ur=new tn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new on(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Me(new Et([])),s=new on(n,e),a=new on(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new Et([])),s=new on(n,e),a=new on(n,e+1);let l=Je();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new on(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}class kk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(on.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new QM(l,n,s,a);this.mutationQueue.push(u);for(const m of a)this.Zr=this.Zr.add(new on(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,n){return me.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?By:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const m=this.Xr(u.Yr);l.push(m)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new tn(Ze);return n.forEach((a=>{const l=new on(a,0),u=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(m=>{s=s.add(m.Yr)}))})),me.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Me.isDocumentKey(l)||(l=l.child(""));const u=new on(new Me(l),0);let m=new tn(Ze);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(m=m.add(p.Yr)),!0)}),u),me.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return me.forEach(n.mutations,(a=>{const l=new on(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new on(n,0),a=this.Zr.firstAfterOrEqual(s);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Pk{constructor(e){this.ri=e,this.docs=(function(){return new It(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return me.resolve(s?s.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let s=$s();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))})),me.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=$s();const u=n.path,m=new Me(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||cM(lM(v),s)<=0||(a.has(v.key)||xf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Oe(9500)}ii(e,n){return me.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Vk(this)}getSize(e){return me.resolve(this.size)}}class Vk extends Ck{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),me.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Ok{constructor(e){this.persistence=e,this.si=new Qa((n=>Hy(n)),Gy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Wy,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),me.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Pr(n),me.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return me.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),me.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return me.resolve(s)}containsKey(e,n){return me.resolve(this._i.containsKey(n))}}class PA{constructor(e,n){this.ui={},this.overlays={},this.ci=new _f(0),this.li=!1,this.li=!0,this.hi=new Mk,this.referenceDelegate=e(this),this.Pi=new Ok(this),this.indexManager=new Ek,this.remoteDocumentCache=(function(a){return new Pk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _k(n),this.Ii=new Dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new kk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ae("MemoryPersistence","Starting transaction:",e);const a=new Lk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return me.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Lk extends hM{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Ri=new Wy,this.Vi=null}static mi(e){return new Zy(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),me.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(s=>{const a=Me.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fd{constructor(e,n){this.persistence=e,this.pi=new Qa((s=>mM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Rk(this,n)}static mi(e,n){return new Fd(e,n)}Ei(){}di(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return me.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((m=>{m||(s++,l.removeEntry(u,ze.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vd(e.data.value)),n}br(e,n,s){return me.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return me.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Jy(e,n.fromCache,s,a)}}class Uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D2()?8:dM(bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Uk;return this.Ss(e,n,u).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Uo()<=We.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(Uo()<=We.DEBUG&&Ae("QueryEngine","Query:",zo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uo()<=We.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(n))):me.resolve())}ys(e,n){if(kS(n))return me.resolve(null);let s=cs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ud(n,null,"F"),s=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Je(...l);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,u,p.readTime)?this.ys(e,Ud(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,a){return kS(n)||a.isEqual(ze.min())?me.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?me.resolve(null):(Uo()<=We.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zo(n)),this.vs(e,u,n,oM(a,Yc)).next((m=>m)))}))}Ds(e,n){let s=new tn(fA(e));return n.forEach(((a,l)=>{xf(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Uo()<=We.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(e,n,Yr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const ev="LocalStore",Bk=3e8;class Fk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new It(Ze),this.xs=new Qa((l=>Hy(l)),Gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ik(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qk(t,e,n,s){return new Fk(t,e,n,s)}async function VA(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],m=[];let p=Je();for(const g of a){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function Hk(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const _=g.batch,S=_.keys();let R=me.resolve();return S.forEach((j=>{R=R.next((()=>v.getEntry(p,j))).next((z=>{const P=g.docVersions.get(j);ct(P!==null,48541),z.version.compareTo(P)<0&&(_.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function OA(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Gk(t,e){const n=Fe(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach(((v,_)=>{const S=a.get(_);if(!S)return;m.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let R=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(yn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(_,R),(function(z,P,O){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=Bk?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(S,R,v)&&m.push(n.Pi.updateTargetData(l,R))}));let p=$s(),g=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),m.push(Kk(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(ze.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(v)}return me.waitFor(m).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=a,l)))}function Kk(t,e,n){let s=Je(),a=Je();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=$s();return n.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(m)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):Ae(ev,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:a}}))}function Yk(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=By),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $k(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,me.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new zr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Xg(t,e,n){const s=Fe(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!yl(u))throw u;Ae(ev,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function YS(t,e,n){const s=Fe(t);let a=ze.min(),l=Je();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const _=Fe(p),S=_.xs.get(v);return S!==void 0?me.resolve(_.Ms.get(S)):_.Pi.getTargetData(g,v)})(s,u,cs(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,m.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:ze.min(),n?l:Je()))).next((m=>(Qk(s,MM(e),m),{documents:m,Qs:l})))))}function Qk(t,e,n){let s=t.Os.get(e)||ze.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class $S{constructor(){this.activeTargetIds=UM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xk{constructor(){this.Mo=new $S,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $S,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wk{Oo(e){}shutdown(){}}const QS="ConnectivityMonitor";class XS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(QS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(QS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nd=null;function Wg(){return nd===null?nd=(function(){return 268435456+Math.round(2147483648*Math.random())})():nd++,"0x"+nd.toString(16)}const ag="RestConnection",Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Vd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Wg(),m=this.zo(e,n.toUriEncodedString());Ae(ag,`Sending RPC '${e}' ${u}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(m),v=fl(g);return this.Jo(e,m,p,s,v).then((_=>(Ae(ag,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw tl(ag,`RPC '${e}' ${u} failed with error: `,_,"url: ",m,"request:",s),_}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=Zk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class eP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class tP extends Jk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Wg();return new Promise(((m,p)=>{const g=new zw;g.setWithCredentials(!0),g.listenOnce(Bw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yd.NO_ERROR:const _=g.getResponseJson();Ae(_n,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),m(_);break;case yd.TIMEOUT:Ae(_n,`RPC '${e}' ${u} timed out`),p(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const S=g.getStatus();if(Ae(_n,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const z=(function(O){const G=O.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(G)>=0?G:ue.UNKNOWN})(j.status);p(new Se(z,j.message))}else p(new Se(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ae(_n,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);Ae(_n,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=Wg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Hw(),m=qw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=l.join("");Ae(_n,`Creating RPC '${e}' stream ${a}: ${v}`,p);const _=u.createWebChannel(v,p);this.I_(_);let S=!1,R=!1;const j=new eP({Yo:P=>{R?Ae(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(S||(Ae(_n,`Opening RPC '${e}' stream ${a} transport.`),_.open(),S=!0),Ae(_n,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),z=(P,O,G)=>{P.listen(O,(q=>{try{G(q)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return z(_,Cc.EventType.OPEN,(()=>{R||(Ae(_n,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),z(_,Cc.EventType.CLOSE,(()=>{R||(R=!0,Ae(_n,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(_))})),z(_,Cc.EventType.ERROR,(P=>{R||(R=!0,tl(_n,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),j.a_(new Se(ue.UNAVAILABLE,"The operation could not be completed")))})),z(_,Cc.EventType.MESSAGE,(P=>{if(!R){const O=P.data[0];ct(!!O,16349);const G=O,q=G?.error||G[0]?.error;if(q){Ae(_n,`RPC '${e}' stream ${a} received error:`,q);const pe=q.status;let se=(function(A){const D=$t[A];if(D!==void 0)return xA(D)})(pe),ae=q.message;se===void 0&&(se=ue.INTERNAL,ae="Unknown error status: "+pe+" with message "+q.message),R=!0,j.a_(new Se(se,ae)),_.close()}else Ae(_n,`RPC '${e}' stream ${a} received:`,O),j.u_(O)}})),z(m,Fw.STAT_EVENT,(P=>{P.stat===Ug.PROXY?Ae(_n,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Ug.NOPROXY&&Ae(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function og(){return typeof document<"u"?document:null}function Cf(t){return new rk(t,!0)}class LA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WS="PersistentStream";class UA{constructor(e,n,s,a,l,u,m,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new Se(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(WS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(WS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nP extends UA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return ze.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?us(u.readTime):ze.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qg(this.serializer),n.addTarget=(function(l,u){let m;const p=u.target;if(m=Hg(p)?{documents:hk(l,p)}:{query:dk(l,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=RA(l,u.resumeToken);const g=Kg(l,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(ze.min())>0){m.readTime=Bd(l,u.snapshotVersion.toTimestamp());const g=Kg(l,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=mk(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qg(this.serializer),n.removeTarget=e,this.q_(n)}}class iP extends UA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uk(e.writeResults,e.commitTime),s=us(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ck(this.serializer,s)))};this.q_(n)}}class sP{}class rP extends sP{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Yg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ue.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Yg(n,s),a,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class oP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Xa(this)&&(Ae(Ya,"Restarting streams for network reachability change."),await(async function(p){const g=Fe(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Nf(g)})(this))}))})),this.Ra=new aP(s,a)}}async function Nf(t){if(Xa(t))for(const e of t.da)await e(!0)}async function gu(t){for(const e of t.da)await e(!1)}function zA(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sv(n)?iv(n):_l(n).O_()&&nv(n,e))}function tv(t,e){const n=Fe(t),s=_l(n);n.Ia.delete(e),s.O_()&&BA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xa(n)&&n.Ra.set("Unknown"))}function nv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Y_(e)}function BA(t,e){t.Va.Ue(e),_l(t).Z_(e)}function iv(t){t.Va=new tk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Ra.ua()}function sv(t){return Xa(t)&&!_l(t).x_()&&t.Ia.size>0}function Xa(t){return Fe(t).Ea.size===0}function FA(t){t.Va=void 0}async function lP(t){t.Ra.set("Online")}async function cP(t){t.Ia.forEach(((e,n)=>{nv(t,e)}))}async function uP(t,e){FA(t),sv(t)?(t.Ra.ha(e),iv(t)):t.Ra.set("Unknown")}async function hP(t,e,n){if(t.Ra.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const m of l.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.Ia.delete(m),a.Va.removeTarget(m))})(t,e)}catch(s){Ae(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qd(t,s)}else if(e instanceof Ed?t.Va.Ze(e):e instanceof wA?t.Va.st(e):t.Va.tt(e),!n.isEqual(ze.min()))try{const s=await OA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),BA(l,p);const _=new zr(v.target,p,g,v.sequenceNumber);nv(l,_)})),l.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(s){Ae(Ya,"Failed to raise snapshot:",s),await qd(t,s)}}async function qd(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await gu(t),t.Ra.set("Offline"),n||(n=()=>OA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(Ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nf(t)}))}function qA(t,e){return e().catch((n=>qd(t,n,e)))}async function If(t){const e=Fe(t),n=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:By;for(;dP(e);)try{const a=await Yk(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,fP(e,a)}catch(a){await qd(e,a)}HA(e)&&GA(e)}function dP(t){return Xa(t)&&t.Ta.length<10}function fP(t,e){t.Ta.push(e);const n=Wr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HA(t){return Xa(t)&&!Wr(t).x_()&&t.Ta.length>0}function GA(t){Wr(t).start()}async function mP(t){Wr(t).ra()}async function pP(t){const e=Wr(t);for(const n of t.Ta)e.ea(n.mutations)}async function gP(t,e,n){const s=t.Ta.shift(),a=$y.from(s,e,n);await qA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await If(t)}async function yP(t,e){e&&Wr(t).X_&&await(async function(s,a){if((function(u){return ZM(u)&&u!==ue.ABORTED})(a.code)){const l=s.Ta.shift();Wr(s).B_(),await qA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await If(s)}})(t,e),HA(t)&&GA(t)}async function ZS(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Ae(Ya,"RemoteStore received new credentials");const s=Xa(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nf(n)}async function vP(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Nf(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function _l(t){return t.ma||(t.ma=(function(n,s,a){const l=Fe(n);return l.sa(),new nP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:lP.bind(null,t),t_:cP.bind(null,t),r_:uP.bind(null,t),H_:hP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),sv(t)?iv(t):t.Ra.set("Unknown")):(await t.ma.stop(),FA(t))}))),t.ma}function Wr(t){return t.fa||(t.fa=(function(n,s,a){const l=Fe(n);return l.sa(),new iP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mP.bind(null,t),r_:yP.bind(null,t),ta:pP.bind(null,t),na:gP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await If(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(Ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class rv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,m=new rv(e,n,u,a,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),yl(t))return new Se(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Me.comparator(n.key,s.key):(n,s)=>Me.comparator(n.key,s.key),this.keyedMap=Nc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class JS{constructor(){this.ga=new It(Me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class al{constructor(e,n,s,a,l,u,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new al(e,n,Qo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class _P{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TP{constructor(){this.queries=eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Fe(n),l=a.queries;a.queries=eb(),l.forEach(((u,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new Se(ue.ABORTED,"Firestore shutting down"))}}function eb(){return new Qa((t=>dA(t)),bf)}async function ov(t,e){const n=Fe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new _P,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const m=av(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&cv(n)}async function lv(t,e){const n=Fe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EP(t,e){const n=Fe(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const m of u.Sa)m.Fa(a)&&(s=!0);u.wa=a}}s&&cv(n)}function SP(t,e,n){const s=Fe(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function cv(t){t.Ca.forEach((e=>{e.next()}))}var Zg,tb;(tb=Zg||(Zg={})).Ma="default",tb.Cache="cache";class uv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new al(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zg.Cache}}class KA{constructor(e){this.key=e}}class YA{constructor(e){this.key=e}}class bP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=fA(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new JS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,m=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const S=a.get(v),R=xf(this.query,_)?_:null,j=!!S&&this.mutatedKeys.has(S.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;S&&R?S.data.isEqual(R.data)?j!==z&&(s.track({type:3,doc:R}),P=!0):this.su(S,R)||(s.track({type:2,doc:R}),P=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(m=!0)):!S&&R?(s.track({type:0,doc:R}),P=!0):S&&!R&&(s.track({type:1,doc:S}),P=!0,(p||g)&&(m=!0)),P&&(R?(u=u.add(R),l=z?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(R,j){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:P})}};return z(R)-z(j)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const m=n&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new al(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new YA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new KA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hv="SyncEngine";class xP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wP{constructor(e){this.key=e,this.hu=!1}}class AP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Qa((m=>dA(m)),bf),this.Iu=new Map,this.Eu=new Set,this.du=new It(Me.comparator),this.Au=new Map,this.Ru=new Wy,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RP(t,e,n=!0){const s=JA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await $A(s,e,n,!0),a}async function CP(t,e){const n=JA(t);await $A(n,e,!0,!1)}async function $A(t,e,n,s){const a=await $k(t.localStore,cs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let m;return s&&(m=await NP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&zA(t.remoteStore,a),m}async function NP(t,e,n,s,a){t.pu=(_,S,R)=>(async function(z,P,O,G){let q=P.view.ru(O);q.Cs&&(q=await YS(z.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,q))));const pe=G&&G.targetChanges.get(P.targetId),se=G&&G.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(q,z.isPrimaryClient,pe,se);return ib(z,P.targetId,ae.au),ae.snapshot})(t,_,S,R);const l=await YS(t.localStore,e,!0),u=new bP(e,l.Qs),m=u.ru(l.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(m,t.isPrimaryClient,p);ib(t,n,g.au);const v=new xP(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function IP(t,e,n){const s=Fe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!bf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Xg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&tv(s.remoteStore,a.targetId),Jg(s,a.targetId)})).catch(gl)):(Jg(s,a.targetId),await Xg(s.localStore,a.targetId,!0))}async function DP(t,e){const n=Fe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tv(n.remoteStore,s.targetId))}async function jP(t,e,n){const s=UP(t);try{const a=await(function(u,m){const p=Fe(u),g=yt.now(),v=m.reduce(((R,j)=>R.add(j.key)),Je());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=$s(),z=Je();return p.Ns.getEntries(R,v).next((P=>{j=P,j.forEach(((O,G)=>{G.isValidDocument()||(z=z.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,j))).next((P=>{_=P;const O=[];for(const G of m){const q=YM(G,_.get(G.key).overlayedDocument);q!=null&&O.push(new na(G.key,q,sA(q.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,O,m)})).next((P=>{S=P;const O=P.applyToLocalDocumentSet(_,z);return p.documentOverlayCache.saveOverlays(R,P.batchId,O)}))})).then((()=>({batchId:S.batchId,changes:pA(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,m,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new It(Ze)),g=g.insert(m,p),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await yu(s,a.changes),await If(s.remoteStore)}catch(a){const l=av(a,"Failed to persist write");n.reject(l)}}async function QA(t,e){const n=Fe(t);try{const s=await Gk(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ct(u.hu,14607):a.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))})),await yu(n,s,e)}catch(s){await gl(s)}}function nb(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const m=u.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(u,m){const p=Fe(u);p.onlineState=m;let g=!1;p.queries.forEach(((v,_)=>{for(const S of _.Sa)S.va(m)&&(g=!0)})),g&&cv(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MP(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new It(Me.comparator);u=u.insert(l,En.newNoDocument(l,ze.min()));const m=Je().add(l),p=new Rf(ze.min(),new Map,new It(Ze),u,m);await QA(s,p),s.du=s.du.remove(l),s.Au.delete(e),dv(s)}else await Xg(s.localStore,e,!1).then((()=>Jg(s,e,n))).catch(gl)}async function kP(t,e){const n=Fe(t),s=e.batch.batchId;try{const a=await Hk(n.localStore,e);WA(n,s,null),XA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,a)}catch(a){await gl(a)}}async function PP(t,e,n){const s=Fe(t);try{const a=await(function(u,m){const p=Fe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((_=>(ct(_!==null,37113),v=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);WA(s,e,n),XA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,a)}catch(a){await gl(a)}}function XA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function WA(t,e,n){const s=Fe(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||ZA(t,s)}))}function ZA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(tv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dv(t))}function ib(t,e,n){for(const s of n)s instanceof KA?(t.Ru.addReference(s.key,e),VP(t,s)):s instanceof YA?(Ae(hv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||ZA(t,s.key)):Oe(19791,{wu:s})}function VP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Ae(hv,"New document in limbo: "+n),t.Eu.add(s),dv(t))}function dv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Et.fromString(e)),s=t.fu.next();t.Au.set(s,new wP(n)),t.du=t.du.insert(n,s),zA(t.remoteStore,new zr(cs(Sf(n.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function yu(t,e,n){const s=Fe(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{u.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Jy.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(p,g){const v=Fe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>me.forEach(g,(S=>me.forEach(S.Es,(R=>v.persistence.referenceDelegate.addReference(_,S.targetId,R))).next((()=>me.forEach(S.ds,(R=>v.persistence.referenceDelegate.removeReference(_,S.targetId,R)))))))))}catch(_){if(!yl(_))throw _;Ae(ev,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const R=v.Ms.get(S),j=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(S,z)}}})(s.localStore,l))}async function OP(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Ae(hv,"User change. New user:",e.toKey());const s=await VA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new Se(ue.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function LP(t,e){const n=Fe(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let a=Je();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const m=n.Tu.get(u);a=a.unionWith(m.view.nu)}return a}}function JA(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MP.bind(null,e),e.Pu.H_=EP.bind(null,e.eventManager),e.Pu.yu=SP.bind(null,e.eventManager),e}function UP(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PP.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qk(this.persistence,new zk,e.initialUser,this.serializer)}Cu(e){return new PA(Zy.mi,this.serializer)}Du(e){return new Xk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class zP extends Hd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Fd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new PA((s=>Fd.mi(s,n)),this.serializer)}}class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OP.bind(null,this.syncEngine),await vP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TP})()}createDatastore(e){const n=Cf(e.databaseInfo.databaseId),s=(function(l){return new tP(l)})(e.databaseInfo);return(function(l,u,m,p){return new rP(l,u,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,m){return new oP(s,a,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nb(this.syncEngine,n,0)),(function(){return XS.v()?new XS:new Wk})())}createSyncEngine(e,n){return(function(a,l,u,m,p,g,v){const _=new AP(a,l,u,m,p,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Fe(n);Ae(Ya,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ey.provider={build:()=>new ey};class fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Zr="FirestoreClient";class BP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{Ae(Zr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(Ae(Zr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=av(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await VA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FP(t);Ae(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>ZS(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>ZS(e.remoteStore,a))),t._onlineComponents=e}async function FP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Zr,"Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await lg(t,new Hd)}}else Ae(Zr,"Using default OfflineComponentProvider"),await lg(t,new zP(void 0));return t._offlineComponents}async function e1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Zr,"Using user provided OnlineComponentProvider"),await sb(t,t._uninitializedComponentsProvider._online)):(Ae(Zr,"Using default OnlineComponentProvider"),await sb(t,new ey))),t._onlineComponents}function qP(t){return e1(t).then((e=>e.syncEngine))}async function Gd(t){const e=await e1(t),n=e.eventManager;return n.onListen=RP.bind(null,e.syncEngine),n.onUnlisten=IP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DP.bind(null,e.syncEngine),n}function HP(t,e,n={}){const s=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new fv({next:S=>{v.Nu(),u.enqueueAndForget((()=>lv(l,_)));const R=S.docs.has(m);!R&&S.fromCache?g.reject(new Se(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new uv(Sf(m.path),v,{includeMetadataChanges:!0,qa:!0});return ov(l,_)})(await Gd(t),t.asyncQueue,e,n,s))),s.promise}function GP(t,e,n={}){const s=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new fv({next:S=>{v.Nu(),u.enqueueAndForget((()=>lv(l,_))),S.fromCache&&p.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new uv(m,v,{includeMetadataChanges:!0,qa:!0});return ov(l,_)})(await Gd(t),t.asyncQueue,e,n,s))),s.promise}function t1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const rb=new Map;const n1="firestore.googleapis.com",ab=!0;class ob{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n1,this.ssl=ab}else this.host=e.host,this.ssl=e.ssl??ab;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bk)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ob({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ob(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Qj;switch(s.type){case"firstParty":return new Jj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=rb.get(n);s&&(Ae("ComponentProvider","Removing Datastore"),rb.delete(n),s.terminate())})(this),Promise.resolve()}}function KP(t,e,n,s={}){t=zn(t,Df);const a=fl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;a&&(Dw(`https://${m}`),jw("Firestore",!0)),l.host!==n1&&l.host!==m&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:a,emulatorOptions:s};if(!Ha(p,u)&&(t._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Tn.MOCK_USER;else{g=S2(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Tn(_)}t._authCredentials=new Xj(new Kw(g,v))}}class tr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(fu(n,kt._jsonSchema))return new kt(e,s||null,new Me(Et.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Wt("string",kt._jsonSchemaVersion),referencePath:Wt("string")};class Kr extends tr{constructor(e,n,s){super(e,n,Sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Me(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Tl(t,e,...n){if(t=xn(t),Yw("collection","path",e),t instanceof Df){const s=Et.fromString(e,...n);return TS(s),new Kr(t,null,s)}{if(!(t instanceof kt||t instanceof Kr))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return TS(s),new Kr(t.firestore,null,s)}}function Bn(t,e,...n){if(t=xn(t),arguments.length===1&&(e=zy.newId()),Yw("doc","path",e),t instanceof Df){const s=Et.fromString(e,...n);return _S(s),new kt(t,null,new Me(s))}{if(!(t instanceof kt||t instanceof Kr))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return _S(s),new kt(t.firestore,t instanceof Kr?t.converter:null,new Me(s))}}const lb="AsyncQueue";class cb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LA(this,"async_queue_retry"),this._c=()=>{const s=og();s&&Ae(lb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;Ae(lb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",ub(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=rv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Oe(47125,{Pc:ub(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ub(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function hb(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Qs extends Df{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new cb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cb(e),this._firestoreClient=void 0,await e}}}function YP(t,e){const n=typeof t=="object"?t:Vw(),s=typeof t=="string"?t:Vd,a=Ly(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=T2("firestore");l&&KP(a,...l)}return a}function jf(t){if(t._terminated)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$P(t),t._firestoreClient}function $P(t){const e=t._freezeSettings(),n=(function(a,l,u,m){return new yM(a,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,t1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new BP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(yn.fromBase64String(e))}catch(n){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Wt("string",gi._jsonSchemaVersion),bytes:Wt("string")};class Mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kf{constructor(e){this._methodName=e}}class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(fu(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Wt("string",hs._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};class ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ds(e.vectorValues);throw new Se(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:Wt("string",ds._jsonSchemaVersion),vectorValues:Wt("object")};const QP=/^__.*__$/;class XP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class i1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class mv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(s1(this.Ac)&&QP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Cf(e)}Cc(e,n,s,a=!1){return new mv({Ac:e,methodName:n,Dc:s,path:gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(t){const e=t._freezeSettings(),n=Cf(t._databaseId);return new WP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r1(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);gv("Data must be an object, but it was:",u,s);const m=a1(s,u);let p,g;if(l.merge)p=new Jn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const S=ty(e,_,n);if(!u.contains(S))throw new Se(ue.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);l1(v,S)||v.push(S)}p=new Jn(v),g=u.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=u.fieldTransforms;return new XP(new Un(m),p,g)}class Vf extends kf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}class pv extends kf{_toFieldTransform(e){return new qM(e.path,new Zc)}isEqual(e){return e instanceof pv}}function ZP(t,e,n,s){const a=t.Cc(1,e,n);gv("Data must be an object, but it was:",a,s);const l=[],u=Un.empty();ta(s,((p,g)=>{const v=yv(e,p,n);g=xn(g);const _=a.yc(v);if(g instanceof Vf)l.push(v);else{const S=vu(g,_);S!=null&&(l.push(v),u.set(v,S))}}));const m=new Jn(l);return new i1(u,m,a.fieldTransforms)}function JP(t,e,n,s,a,l){const u=t.Cc(1,e,n),m=[ty(e,s,n)],p=[a];if(l.length%2!=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)m.push(ty(e,l[S])),p.push(l[S+1]);const g=[],v=Un.empty();for(let S=m.length-1;S>=0;--S)if(!l1(g,m[S])){const R=m[S];let j=p[S];j=xn(j);const z=u.yc(R);if(j instanceof Vf)g.push(R);else{const P=vu(j,z);P!=null&&(g.push(R),v.set(R,P))}}const _=new Jn(g);return new i1(v,_,u.fieldTransforms)}function eV(t,e,n,s=!1){return vu(n,t.Cc(s?4:3,e))}function vu(t,e){if(o1(t=xn(t)))return gv("Unsupported field value:",e,t),a1(t,e);if(t instanceof kf)return(function(s,a){if(!s1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const m of s){let p=vu(m,a.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:Bd(a.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bd(a.serializer,l)}}if(s instanceof hs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gi)return{bytesValue:RA(a.serializer,s._byteString)};if(s instanceof kt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Xy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ds)return(function(u,m){return{mapValue:{fields:{[nA]:{stringValue:iA},[Od]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ky(m.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${vf(s)}`)})(t,e)}function a1(t,e){const n={};return Xw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,((s,a)=>{const l=vu(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function o1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof hs||t instanceof gi||t instanceof kt||t instanceof kf||t instanceof ds)}function gv(t,e,n){if(!o1(n)||!$w(n)){const s=vf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ty(t,e,n){if((e=xn(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return yv(t,e);throw Kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const tV=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(tV)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mf(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new Se(ue.INVALID_ARGUMENT,m+t+p)}function l1(t,e){return t.some((n=>n.isEqual(e)))}class c1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Of("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nV extends c1{data(){return super.data()}}function Of(t,e){return typeof e=="string"?yv(t,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}function u1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vv{}class _v extends vv{}function qs(t,e,...n){let s=[];e instanceof vv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((p=>p instanceof Tv)).length,m=l.filter((p=>p instanceof Lf)).length;if(u>1||u>0&&m>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Lf extends _v{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Lf(e,n,s)}_apply(e){const n=this._parse(e);return d1(e._query,n),new tr(e.firestore,e.converter,Gg(e._query,n))}_parse(e){const n=Pf(e.firestore);return(function(l,u,m,p,g,v,_){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){fb(_,v);const j=[];for(const z of _)j.push(db(p,l,z));S={arrayValue:{values:j}}}else S=db(p,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||fb(_,v),S=eV(m,u,_,v==="in"||v==="not-in");return Xt.create(g,v,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function h1(t,e,n){const s=e,a=Of("where",t);return Lf._create(a,s,n)}class Tv extends vv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const m=l.getFlattenedFilters();for(const p of m)d1(u,p),u=Gg(u,p)})(e._query,n),new tr(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ev extends _v{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ev(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new Se(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Se(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wc(l,u)})(e._query,this._field,this._direction);return new tr(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new vl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Uf(t,e="asc"){const n=e,s=Of("orderBy",t);return Ev._create(s,n)}class Sv extends _v{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Sv(e,n,s)}_apply(e){return new tr(e.firestore,e.converter,Ud(e._query,this._limit,this._limitType))}}function iV(t){return aM("limit",t),Sv._create("limit",t,"F")}function db(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hA(e)&&n.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Et.fromString(n));if(!Me.isDocumentKey(s))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return CS(t,new Me(s))}if(n instanceof kt)return CS(t,n._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(n)}.`)}function fb(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d1(t,e){const n=(function(a,l){for(const u of a)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sV{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ta(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Od].arrayValue?.values?.map((s=>Ut(s.doubleValue)));return new ds(n)}convertGeoPoint(e){return new hs(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const n=$r(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Et.fromString(e);ct(MA(s),9688,{name:e});const a=new Qc(s.get(1),s.get(3)),l=new Me(s.popFirst(5));return a.isEqual(n)||Ys(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function f1(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends c1{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Of("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:Wt("string",Ua._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Sd extends Ua{data(e={}){return super.data(e)}}class za{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Dc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sd(this._firestore,this._userDataWriter,s.key,s,new Dc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((m=>{const p=new Sd(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Dc(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new Sd(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Dc(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:rV(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}function bv(t){t=zn(t,kt);const e=zn(t.firestore,Qs);return HP(jf(e),t._key).then((n=>y1(e,t,n)))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:Wt("string",za._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class xv extends sV{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function wv(t){t=zn(t,tr);const e=zn(t.firestore,Qs),n=jf(e),s=new xv(e);return u1(t._query),GP(n,t._query).then((a=>new za(e,s,t,a)))}function zf(t,e,n){t=zn(t,kt);const s=zn(t.firestore,Qs),a=f1(t.converter,e,n);return Bf(s,[r1(Pf(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,vi.none())])}function Av(t,e,n,...s){t=zn(t,kt);const a=zn(t.firestore,Qs),l=Pf(a);let u;return u=typeof(e=xn(e))=="string"||e instanceof Mf?JP(l,"updateDoc",t._key,e,n,s):ZP(l,"updateDoc",t._key,e),Bf(a,[u.toMutation(t._key,vi.exists(!0))])}function m1(t){return Bf(zn(t.firestore,Qs),[new Yy(t._key,vi.none())])}function p1(t,e){const n=zn(t.firestore,Qs),s=Bn(t),a=f1(t.converter,e);return Bf(n,[r1(Pf(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,vi.exists(!1))]).then((()=>s))}function g1(t,...e){t=xn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hb(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(hb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,u,m;if(t instanceof kt)u=zn(t.firestore,Qs),m=Sf(t._key.path),l={next:p=>{e[s]&&e[s](y1(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=zn(t,tr);u=zn(p.firestore,Qs),m=p._query;const g=new xv(u);l={next:v=>{e[s]&&e[s](new za(u,g,p,v))},error:e[s+1],complete:e[s+2]},u1(t._query)}return(function(g,v,_,S){const R=new fv(S),j=new uv(v,R,_);return g.asyncQueue.enqueueAndForget((async()=>ov(await Gd(g),j))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>lv(await Gd(g),j)))}})(jf(u),m,a,l)}function Bf(t,e){return(function(s,a){const l=new Fs;return s.asyncQueue.enqueueAndForget((async()=>jP(await qP(s),a,l))),l.promise})(jf(t),e)}function y1(t,e,n){const s=n.docs.get(e._key),a=new xv(t);return new Ua(t,a,e._key,s,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}function Yd(){return new pv("serverTimestamp")}(function(e,n=!0){(function(a){pl=a})(ml),el(new Ga("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),m=new Qs(new Wj(s.getProvider("auth-internal")),new eM(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),Hr(pS,gS,e),Hr(pS,gS,"esm2020")})();var aV="firebase",oV="12.7.0";Hr(aV,oV,"app");function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lV=v1,_1=new hu("auth","Firebase",v1());const $d=new Vy("@firebase/auth");function cV(t,...e){$d.logLevel<=We.WARN&&$d.warn(`Auth (${ml}): ${t}`,...e)}function bd(t,...e){$d.logLevel<=We.ERROR&&$d.error(`Auth (${ml}): ${t}`,...e)}function Xs(t,...e){throw Rv(t,...e)}function fs(t,...e){return Rv(t,...e)}function T1(t,e,n){const s={...lV(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:t.name})}function Ba(t){return T1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return _1.create(t,...e)}function Le(t,e,...n){if(!t)throw Rv(e,...n)}function Us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function Ws(t,e){t||Us(e)}function ny(){return typeof self<"u"&&self.location?.href||""}function uV(){return mb()==="http:"||mb()==="https:"}function mb(){return typeof self<"u"&&self.location?.protocol||null}function hV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uV()||C2()||"connection"in navigator)?navigator.onLine:!0}function dV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=w2()||N2()}get(){return hV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cv(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class E1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pV=new _u(3e4,6e4);function Nv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function El(t,e,n,s,a={}){return S1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const m=du({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return R2()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(g.credentials="include"),E1.fetch()(await b1(t,t.config.apiHost,n,m),g)})}async function S1(t,e,n){t._canInitEmulator=!1;const s={...fV,...e};try{const a=new yV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw id(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw id(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw id(t,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw T1(t,v,g);Xs(t,v)}}catch(a){if(a instanceof er)throw a;Xs(t,"network-request-failed",{message:String(a)})}}async function gV(t,e,n,s,a={}){const l=await El(t,e,n,s,a);return"mfaPendingCredential"in l&&Xs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function b1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Cv(t.config,a):`${t.config.apiScheme}://${a}`;return mV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class yV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fs(this.auth,"network-request-failed")),pV.get())})}}function id(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=fs(t,e,s);return a.customData._tokenResponse=n,a}async function vV(t,e){return El(t,"POST","/v1/accounts:delete",e)}async function Qd(t,e){return El(t,"POST","/v1/accounts:lookup",e)}function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _V(t,e=!1){const n=xn(t),s=await n.getIdToken(e),a=Iv(s);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Uc(cg(a.auth_time)),issuedAtTime:Uc(cg(a.iat)),expirationTime:Uc(cg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function cg(t){return Number(t)*1e3}function Iv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Rw(n);return a?JSON.parse(a):(bd("Failed to decode base64 JWT payload"),null)}catch(a){return bd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function pb(t){const e=Iv(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof er&&TV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function TV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class EV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xd(t){const e=t.auth,n=await t.getIdToken(),s=await tu(t,Qd(e,{idToken:n}));Le(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?x1(a.providerUserInfo):[],u=bV(t.providerData,l),m=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,g=m?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new iy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function SV(t){const e=xn(t);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function x1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function xV(t,e){const n=await S1(t,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await b1(t,a,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(p.credentials="include"),E1.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wV(t,e){return El(t,"POST","/v2/accounts:revokeToken",Nv(t,e))}class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=pb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await xV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Xo;return s&&(Le(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Le(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Us("not implemented")}}function kr(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new EV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new iy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _V(this,e)}reload(){return SV(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(Ba(this.auth));const e=await this.getIdToken();return await tu(this,vV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:R,providerData:j,stsTokenManager:z}=n;Le(_&&z,e,"internal-error");const P=Xo.fromJSON(this.name,z);Le(typeof _=="string",e,"internal-error"),kr(s,e.name),kr(a,e.name),Le(typeof S=="boolean",e,"internal-error"),Le(typeof R=="boolean",e,"internal-error"),kr(l,e.name),kr(u,e.name),kr(m,e.name),kr(p,e.name),kr(g,e.name),kr(v,e.name);const O=new Oi({uid:_,auth:e,email:a,emailVerified:S,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(O.providerData=j.map(G=>({...G}))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new Xo;a.updateFromServerResponse(n);const l=new Oi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Xd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?x1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,m=new Xo;m.updateFromIdToken(s);const p=new Oi({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new iy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const gb=new Map;function zs(t){Ws(t instanceof Function,"Expected a class definition");let e=gb.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gb.set(t,e),e)}class w1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w1.type="NONE";const yb=w1;function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=xd(this.userKey,a.apiKey,l),this.fullPersistenceKey=xd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qd(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wo(zs(yb),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||zs(yb);const u=xd(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(u);if(v){let _;if(typeof v=="string"){const S=await Qd(e,{idToken:v}).catch(()=>{});if(!S)break;_=await Oi._fromGetAccountInfoResponse(e,S,v)}else _=Oi._fromJSON(e,v);g!==l&&(m=_),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Wo(l,e,s):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Wo(l,e,s))}}function vb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D1(e))return"Blackberry";if(j1(e))return"Webos";if(R1(e))return"Safari";if((e.includes("chrome/")||C1(e))&&!e.includes("edge/"))return"Chrome";if(I1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function A1(t=bn()){return/firefox\//i.test(t)}function R1(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C1(t=bn()){return/crios\//i.test(t)}function N1(t=bn()){return/iemobile/i.test(t)}function I1(t=bn()){return/android/i.test(t)}function D1(t=bn()){return/blackberry/i.test(t)}function j1(t=bn()){return/webos/i.test(t)}function Dv(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AV(t=bn()){return Dv(t)&&!!window.navigator?.standalone}function RV(){return I2()&&document.documentMode===10}function M1(t=bn()){return Dv(t)||I1(t)||j1(t)||D1(t)||/windows phone/i.test(t)||N1(t)}function k1(t,e=[]){let n;switch(t){case"Browser":n=vb(bn());break;case"Worker":n=`${vb(bn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${s}`}class CV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function NV(t,e={}){return El(t,"GET","/v2/passwordPolicy",Nv(t,e))}const IV=6;class DV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class jV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _b(this),this.idTokenSubscription=new _b(this),this.beforeStateQueue=new CV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qd(this,{idToken:e}),s=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ls(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ls(this.app))return Promise.reject(Ba(this));const n=e?xn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ls(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ls(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NV(this),n=new DV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zs(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jv(t){return xn(t)}class _b{constructor(e){this.auth=e,this.observer=null,this.addObserver=L2(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MV(t){Mv=t}function kV(t){return Mv.loadJS(t)}function PV(){return Mv.gapiScript}function VV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function OV(t,e){const n=Ly(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ha(l,e??{}))return a;Xs(a,"already-initialized")}return n.initialize({options:e})}function LV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(zs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function UV(t,e,n){const s=jv(t);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=P1(e),{host:u,port:m}=zV(e),p=m===null?"":`:${m}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(Ha(g,s.config.emulator)&&Ha(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,fl(u)?(Dw(`${l}//${u}${p}`),jw("Auth",!0)):BV()}function P1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zV(t){const e=P1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Tb(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Tb(u)}}}function Tb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class V1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,n){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}async function Zo(t,e){return gV(t,"POST","/v1/accounts:signInWithIdp",Nv(t,e))}const FV="http://localhost";class $a extends V1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new $a(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Zo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Zo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zo(e,n)}buildRequest(){const e={requestUri:FV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}class O1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tu extends O1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vr extends Tu{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";class Or extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Or.credential(n,s)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";class Lr extends Tu{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Ur extends Tu{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Oi._fromIdTokenResponse(e,s,a),u=Eb(s);return new ol({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Eb(s);return new ol({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Wd extends er{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Wd(e,n,s,a)}}function L1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(t,l,e,s):l})}async function qV(t,e,n=!1){const s=await tu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ol._forOperation(t,"link",s)}async function HV(t,e,n=!1){const{auth:s}=t;if(ls(s.app))return Promise.reject(Ba(s));const a="reauthenticate";try{const l=await tu(t,L1(s,a,e,t),n);Le(l.idToken,s,"internal-error");const u=Iv(l.idToken);Le(u,s,"internal-error");const{sub:m}=u;return Le(t.uid===m,s,"user-mismatch"),ol._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Xs(s,"user-mismatch"),l}}async function GV(t,e,n=!1){if(ls(t.app))return Promise.reject(Ba(t));const s="signIn",a=await L1(t,s,e),l=await ol._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function KV(t,e,n,s){return xn(t).onIdTokenChanged(e,n,s)}function YV(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}const Zd="__sak";class U1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $V=1e3,QV=10;class z1 extends U1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);RV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z1.type="LOCAL";const XV=z1;class B1 extends U1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B1.type="SESSION";const F1=B1;function WV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Ff(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(u).map(async g=>g(n.origin,l)),p=await WV(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];function kv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class ZV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const g=kv("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ms(){return window}function JV(t){ms().location.href=t}function q1(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function eO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tO(){return navigator?.serviceWorker?.controller||null}function nO(){return q1()?self:null}const H1="firebaseLocalStorageDb",iO=1,Jd="firebaseLocalStorage",G1="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qf(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function sO(){const t=indexedDB.deleteDatabase(H1);return new Eu(t).toPromise()}function sy(){const t=indexedDB.open(H1,iO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Jd,{keyPath:G1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Jd)?e(s):(s.close(),await sO(),e(await sy()))})})}async function Sb(t,e,n){const s=qf(t,!0).put({[G1]:e,value:n});return new Eu(s).toPromise()}async function rO(t,e){const n=qf(t,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function bb(t,e){const n=qf(t,!0).delete(e);return new Eu(n).toPromise()}const aO=800,oO=3;class K1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(nO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eO(),!this.activeServiceWorker)return;this.sender=new ZV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await Sb(e,Zd,"1"),await bb(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Sb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>rO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=qf(a,!1).getAll();return new Eu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K1.type="LOCAL";const lO=K1;new _u(3e4,6e4);function cO(t,e){return e?zs(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Pv extends V1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uO(t){return GV(t.auth,new Pv(t),t.bypassAuthState)}function hO(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),HV(n,new Pv(t),t.bypassAuthState)}async function dO(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),qV(n,new Pv(t),t.bypassAuthState)}class Y1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uO;case"linkViaPopup":case"linkViaRedirect":return dO;case"reauthViaPopup":case"reauthViaRedirect":return hO;default:Xs(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fO=new _u(2e3,1e4);class qo extends Y1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fO.get())};e()}}qo.currentPopupAction=null;const mO="pendingRedirect",wd=new Map;class pO extends Y1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const s=await gO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gO(t,e){const n=_O(e),s=vO(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function yO(t,e){wd.set(t._key(),e)}function vO(t){return zs(t._redirectPersistence)}function _O(t){return xd(mO,t.config.apiKey,t.name)}async function TO(t,e,n=!1){if(ls(t.app))return Promise.reject(Ba(t));const s=jv(t),a=cO(s,e),u=await new pO(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const EO=600*1e3;class SO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EO&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function bO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $1(t);default:return!1}}async function xO(t,e={}){return El(t,"GET","/v1/projects",e)}const wO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AO=/^https?/;async function RO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xO(t);for(const n of e)try{if(CO(n))return}catch{}Xs(t,"unauthorized-domain")}function CO(t){const e=ny(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!AO.test(n))return!1;if(wO.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const NO=new _u(3e4,6e4);function wb(){const t=ms().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IO(t){return new Promise((e,n)=>{function s(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),n(fs(t,"network-request-failed"))},timeout:NO.get()})}if(ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ms().gapi?.load)s();else{const a=VV("iframefcb");return ms()[a]=()=>{gapi.load?s():n(fs(t,"network-request-failed"))},kV(`${PV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ad=null,e})}let Ad=null;function DO(t){return Ad=Ad||IO(t),Ad}const jO=new _u(5e3,15e3),MO="__/auth/iframe",kO="emulator/auth/iframe",PO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OO(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,kO):`https://${t.config.authDomain}/${MO}`,s={apiKey:e.apiKey,appName:t.name,v:ml},a=VO.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${du(s).slice(1)}`}async function LO(t){const e=await DO(t),n=ms().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:OO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=fs(t,"network-request-failed"),m=ms().setTimeout(()=>{l(u)},jO.get());function p(){ms().clearTimeout(m),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const UO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zO=500,BO=600,FO="_blank",qO="http://localhost";class Ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HO(t,e,n,s=zO,a=BO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...UO,width:s.toString(),height:a.toString(),top:l,left:u},g=bn().toLowerCase();n&&(m=C1(g)?FO:n),A1(g)&&(e=e||qO,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[R,j])=>`${S}${R}=${j},`,"");if(AV(g)&&m!=="_self")return GO(e||"",m),new Ab(null);const _=window.open(e||"",m,v);Le(_,t,"popup-blocked");try{_.focus()}catch{}return new Ab(_)}function GO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const KO="__/auth/handler",YO="emulator/auth/handler",$O=encodeURIComponent("fac");async function Rb(t,e,n,s,a,l){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ml,eventId:a};if(e instanceof O1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",O2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Tu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await t._getAppCheckToken(),g=p?`#${$O}=${encodeURIComponent(p)}`:"";return`${QO(t)}?${du(m).slice(1)}${g}`}function QO({config:t}){return t.emulator?Cv(t,YO):`https://${t.authDomain}/${KO}`}const ug="webStorageSupport";class XO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=TO,this._overrideRedirectResult=yO}async _openPopup(e,n,s,a){Ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Rb(e,n,s,ny(),a);return HO(e,l,kv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Rb(e,n,s,ny(),a);return JV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ws(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await LO(e),s=new SO(e);return n.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ug,{type:ug},a=>{const l=a?.[0]?.[ug];l!==void 0&&n(!!l),Xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||R1()||Dv()}}const WO=XO;var Cb="@firebase/auth",Nb="1.12.0";class ZO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function JO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eL(t){el(new Ga("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k1(t)},g=new jV(s,a,l,p);return LV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),el(new Ga("auth-internal",e=>{const n=jv(e.getProvider("auth").getImmediate());return(s=>new ZO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(Cb,Nb,JO(t)),Hr(Cb,Nb,"esm2020")}const tL=300,nL=Iw("authIdTokenMaxAge")||tL;let Ib=null;const iL=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>nL)return;const a=n?.token;Ib!==a&&(Ib=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sL(t=Vw()){const e=Ly(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OV(t,{popupRedirectResolver:WO,persistence:[lO,XV,F1]}),s=Iw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=iL(l.toString());YV(n,u,()=>u(n.currentUser)),KV(n,m=>u(m))}}const a=Cw("auth");return a&&UV(n,`http://${a}`),n}function rL(){return document.getElementsByTagName("head")?.[0]??document}MV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=fs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",rL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eL("Browser");const aL={apiKey:"AIzaSyBLudSWDzq8_frN8BRVTHXJKMih7QnHFN8",authDomain:"xantos-pizza-grill.firebaseapp.com",projectId:"xantos-pizza-grill",storageBucket:"xantos-pizza-grill.firebasestorage.app",messagingSenderId:"500986013090",appId:"1:500986013090:web:1664fe5fc1f014b62d3efb"},Q1=Pw(aL),nn=YP(Q1);sL(Q1);async function nu(){try{const t=qs(Tl(nn,"menuItems"),Uf("category"));return(await wv(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching menuItems:",t),t}}async function oL(t){try{const e=await p1(Tl(nn,"menuItems"),t);return await Vv(),e.id}catch(e){throw console.error("Error creating product:",e),e}}async function lL(t,e){try{const n=Bn(nn,"menuItems",t);await Av(n,e),await Vv()}catch(n){throw console.error("Error updating product:",n),n}}async function cL(t){try{const e=Bn(nn,"menuItems",t);await m1(e),await Vv()}catch(e){throw console.error("Error deleting product:",e),e}}async function Fa(){try{const t=Bn(nn,"metadata","menuItems"),e=await bv(t);if(e.exists()){const s=e.data().lastUpdated;if(s)return s.toDate?s.toDate():new Date(s)}return null}catch(t){return console.error("Error fetching menuItems metadata:",t),null}}async function Vv(){try{const t=Bn(nn,"metadata","menuItems");await zf(t,{lastUpdated:Yd()},{merge:!0})}catch(t){console.error("Error updating menuItems metadata:",t)}}async function Db(t){try{const e=Bn(nn,"metadata","menuItems");await zf(e,{mostPopularProductIds:t,mostPopularLastUpdated:Yd(),lastUpdated:Yd()},{merge:!0})}catch(e){throw console.error("Error setting most popular product IDs:",e),e}}async function ll(){try{const t=Bn(nn,"metadata","menuItems"),e=await bv(t);if(e.exists()){const n=e.data(),s=n.mostPopularProductIds||[];let a=null;const l=n.mostPopularLastUpdated;return l&&(l.toDate?a=l.toDate():a=new Date(l)),{lastUpdated:a,productIds:s}}return{lastUpdated:null,productIds:[]}}catch(t){return console.error("Error fetching most popular metadata and IDs:",t),{lastUpdated:null,productIds:[]}}}const uL=[{id:"p-margherita",category:"Pizza",name:"Margherita",description:"Tomato, mozzarella, basil",price:79,image:"margherita.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Basil",extraPrice:5},{name:"Garlic",extraPrice:5}]},{id:"p-pepperoni",category:"Pizza",name:"Pepperoni",description:"Spicy pepperoni, mozzarella",price:89,image:"pepperoni.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Chili flakes"},{name:"Garlic",extraPrice:5}]},{id:"p-hawaiian",category:"Pizza",name:"Hawaiian",description:"Tomato sauce, mozzarella, ham, pineapple",price:95,image:"hawaiian.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Pineapple",extraPrice:8},{name:"Ham",extraPrice:12}]},{id:"p-veggie",category:"Pizza",name:"Veggie Deluxe",description:"Mozzarella, peppers, mushrooms, onions, olives",price:92,image:"veggie.jpg",ingredients:[{name:"Extra cheese",extraPrice:10},{name:"Mushrooms",extraPrice:6},{name:"Olives",extraPrice:5}]},{id:"p-meatlover",category:"Pizza",name:"Meat Lover",description:"Pepperoni, minced beef, ham, bacon",price:109,image:"meatlover.jpg",ingredients:[{name:"Extra bacon",extraPrice:12},{name:"Extra cheese",extraPrice:10},{name:"Chili oil",extraPrice:5}]},{id:"g-chicken",category:"Grill",name:"Grilled Chicken",description:"Herb marinated chicken breast",price:99,image:"chicken.jpg",ingredients:[{name:"Extra sauce",extraPrice:8},{name:"Side salad",extraPrice:12}]},{id:"g-ribs",category:"Grill",name:"BBQ Ribs",description:"Slow-cooked pork ribs",price:129,image:"ribs.jpg",ingredients:[{name:"Extra BBQ sauce",extraPrice:8},{name:"Corn on the cob",extraPrice:10}]},{id:"g-steak",category:"Grill",name:"Beef Steak",description:"200g grilled steak with seasoning",price:149,image:"steak.jpg",ingredients:[{name:"Pepper sauce",extraPrice:10},{name:"Garlic butter",extraPrice:6}]},{id:"g-burger",category:"Grill",name:"Classic Burger",description:"Beef patty, cheddar, lettuce, tomato",price:89,image:"burger.jpg",ingredients:[{name:"Extra cheese",extraPrice:8},{name:"Bacon",extraPrice:10},{name:"Jalapeos",extraPrice:5}]},{id:"s-fries",category:"Sides",name:"Pommes Frites",description:"Crispy golden fries",price:29,image:"fries.jpg",ingredients:[{name:"Dip  Garlic",extraPrice:5},{name:"Dip  Chili Mayo",extraPrice:5}]},{id:"s-salad",category:"Sides",name:"Side Salad",description:"Fresh greens, cucumber, tomato",price:24,image:"salad.jpg",ingredients:[{name:"Feta",extraPrice:8},{name:"Olives",extraPrice:6}]},{id:"d-cola",category:"Drinks",name:"Coca-Cola",description:"330ml",price:19,image:"cocacola.jpg",ingredients:[]},{id:"d-water",category:"Drinks",name:"Mineral Water",description:"500ml",price:14,image:"water.jpg",ingredients:[]},{id:"d-fanta",category:"Drinks",name:"Fanta",description:"330ml",price:19,image:"fanta.jpg",ingredients:[]},{id:"d-sprite",category:"Drinks",name:"Sprite",description:"330ml",price:19,image:"sprite.jpg",ingredients:[]}],X1="xanthos_products",W1="xanthos_products_lastUpdated",Z1="xanthos_mostPopularProductIds",J1="xanthos_mostPopular_lastUpdated";function ef(){try{const t=localStorage.getItem(X1);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function tf(t){try{localStorage.setItem(X1,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function eR(){try{const t=localStorage.getItem(W1);if(t)return new Date(t)}catch(t){console.error("Error reading lastUpdated from localStorage:",t)}return null}function nf(t){try{localStorage.setItem(W1,t.toISOString())}catch(e){console.error("Error saving lastUpdated to localStorage:",e)}}function sf(){try{const t=localStorage.getItem(Z1);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function rf(t){try{localStorage.setItem(Z1,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function tR(){try{const t=localStorage.getItem(J1);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function af(t){try{localStorage.setItem(J1,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}const Ov=I.createContext({});function Hf(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const nR=typeof window<"u",Lv=nR?I.useLayoutEffect:I.useEffect,Gf=I.createContext(null);function Uv(t,e){t.indexOf(e)===-1&&t.push(e)}function zv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ys=(t,e,n)=>n>e?e:n<t?t:n;let Bv=()=>{};const Zs={},iR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sR(t){return typeof t=="object"&&t!==null}const rR=t=>/^0[^.\s]+$/u.test(t);function Fv(t){let e;return()=>(e===void 0&&(e=t()),e)}const _i=t=>t,hL=(t,e)=>n=>e(t(n)),Su=(...t)=>t.reduce(hL),iu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class qv{constructor(){this.subscriptions=[]}add(e){return Uv(this.subscriptions,e),()=>zv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hs=t=>t*1e3,yi=t=>t/1e3;function aR(t,e){return e?t*(1e3/e):0}const oR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dL=1e-7,fL=12;function mL(t,e,n,s,a){let l,u,m=0;do u=e+(n-e)/2,l=oR(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>dL&&++m<fL);return u}function bu(t,e,n,s){if(t===e&&n===s)return _i;const a=l=>mL(l,0,1,t,n);return l=>l===0||l===1?l:oR(a(l),e,s)}const lR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cR=t=>e=>1-t(1-e),uR=bu(.33,1.53,.69,.99),Hv=cR(uR),hR=lR(Hv),dR=t=>(t*=2)<1?.5*Hv(t):.5*(2-Math.pow(2,-10*(t-1))),Gv=t=>1-Math.sin(Math.acos(t)),fR=cR(Gv),mR=lR(Gv),pL=bu(.42,0,1,1),gL=bu(0,0,.58,1),pR=bu(.42,0,.58,1),yL=t=>Array.isArray(t)&&typeof t[0]!="number",gR=t=>Array.isArray(t)&&typeof t[0]=="number",vL={linear:_i,easeIn:pL,easeInOut:pR,easeOut:gL,circIn:Gv,circInOut:mR,circOut:fR,backIn:Hv,backInOut:hR,backOut:uR,anticipate:dR},_L=t=>typeof t=="string",jb=t=>{if(gR(t)){Bv(t.length===4);const[e,n,s,a]=t;return bu(e,n,s,a)}else if(_L(t))return vL[t];return t},sd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){u.has(v)&&(g.schedule(v),t()),v(m)}const g={schedule:(v,_=!1,S=!1)=>{const j=S&&a?n:s;return _&&u.add(v),j.has(v)||j.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(m=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const EL=40;function yR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=sd.reduce((q,pe)=>(q[pe]=TL(l),q),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:_,preRender:S,render:R,postRender:j}=u,z=()=>{const q=Zs.useManualTiming?a.timestamp:performance.now();n=!1,Zs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,EL),1)),a.timestamp=q,a.isProcessing=!0,m.process(a),p.process(a),g.process(a),v.process(a),_.process(a),S.process(a),R.process(a),j.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(z))},P=()=>{n=!0,s=!0,a.isProcessing||t(z)};return{schedule:sd.reduce((q,pe)=>{const se=u[pe];return q[pe]=(ae,N=!1,A=!1)=>(n||P(),se.schedule(ae,N,A)),q},{}),cancel:q=>{for(let pe=0;pe<sd.length;pe++)u[sd[pe]].cancel(q)},state:a,steps:u}}const{schedule:xt,cancel:Jr,state:mn,steps:hg}=yR(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0);let Rd;function SL(){Rd=void 0}const Cn={now:()=>(Rd===void 0&&Cn.set(mn.isProcessing||Zs.useManualTiming?mn.timestamp:performance.now()),Rd),set:t=>{Rd=t,queueMicrotask(SL)}},vR=t=>e=>typeof e=="string"&&e.startsWith(t),_R=vR("--"),bL=vR("var(--"),Kv=t=>bL(t)?xL.test(t.split("/*")[0].trim()):!1,xL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Mb(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},su={...Sl,transform:t=>ys(0,1,t)},rd={...Sl,default:1},zc=t=>Math.round(t*1e5)/1e5,Yv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wL(t){return t==null}const AL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$v=(t,e)=>n=>!!(typeof n=="string"&&AL.test(n)&&n.startsWith(t)||e&&!wL(n)&&Object.prototype.hasOwnProperty.call(n,e)),TR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,m]=s.match(Yv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},RL=t=>ys(0,255,t),dg={...Sl,transform:t=>Math.round(RL(t))},Oa={test:$v("rgb","red"),parse:TR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+dg.transform(t)+", "+dg.transform(e)+", "+dg.transform(n)+", "+zc(su.transform(s))+")"};function CL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ry={test:$v("#"),parse:CL,transform:Oa.transform},xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pr=xu("deg"),ps=xu("%"),Re=xu("px"),NL=xu("vh"),IL=xu("vw"),kb={...ps,parse:t=>ps.parse(t)/100,transform:t=>ps.transform(t*100)},Ho={test:$v("hsl","hue"),parse:TR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ps.transform(zc(e))+", "+ps.transform(zc(n))+", "+zc(su.transform(s))+")"},Qt={test:t=>Oa.test(t)||ry.test(t)||Ho.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Ho.test(t)?Ho.parse(t):ry.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Qt.parse(t);return e.alpha=0,Qt.transform(e)}},DL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jL(t){return isNaN(t)&&typeof t=="string"&&(t.match(Yv)?.length||0)+(t.match(DL)?.length||0)>0}const ER="number",SR="color",ML="var",kL="var(",Pb="${}",PL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ru(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const m=e.replace(PL,p=>(Qt.test(p)?(s.color.push(l),a.push(SR),n.push(Qt.parse(p))):p.startsWith(kL)?(s.var.push(l),a.push(ML),n.push(p)):(s.number.push(l),a.push(ER),n.push(parseFloat(p))),++l,Pb)).split(Pb);return{values:n,split:m,indexes:s,types:a}}function bR(t){return ru(t).values}function xR(t){const{split:e,types:n}=ru(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const m=n[u];m===ER?l+=zc(a[u]):m===SR?l+=Qt.transform(a[u]):l+=a[u]}return l}}const VL=t=>typeof t=="number"?0:Qt.test(t)?Qt.getAnimatableNone(t):t;function OL(t){const e=bR(t);return xR(t)(e.map(VL))}const ea={test:jL,parse:bR,createTransformer:xR,getAnimatableNone:OL};function fg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const m=n<.5?n*(1+e):n+e-n*e,p=2*n-m;a=fg(p,m,t+1/3),l=fg(p,m,t),u=fg(p,m,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function of(t,e){return n=>n>0?e:t}const Ct=(t,e,n)=>t+(e-t)*n,mg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},UL=[ry,Oa,Ho],zL=t=>UL.find(e=>e.test(t));function Vb(t){const e=zL(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=LL(n)),n}const Ob=(t,e)=>{const n=Vb(t),s=Vb(e);if(!n||!s)return of(t,e);const a={...n};return l=>(a.red=mg(n.red,s.red,l),a.green=mg(n.green,s.green,l),a.blue=mg(n.blue,s.blue,l),a.alpha=Ct(n.alpha,s.alpha,l),Oa.transform(a))},ay=new Set(["none","hidden"]);function BL(t,e){return ay.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FL(t,e){return n=>Ct(t,e,n)}function Qv(t){return typeof t=="number"?FL:typeof t=="string"?Kv(t)?of:Qt.test(t)?Ob:GL:Array.isArray(t)?wR:typeof t=="object"?Qt.test(t)?Ob:qL:of}function wR(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Qv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function qL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Qv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function HL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],m=t.values[u]??0;n[a]=m,s[l]++}return n}const GL=(t,e)=>{const n=ea.createTransformer(e),s=ru(t),a=ru(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ay.has(t)&&!a.values.length||ay.has(e)&&!s.values.length?BL(t,e):Su(wR(HL(s,a),a.values),n):of(t,e)};function AR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):Qv(t)(t,e)}const KL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>Jr(e),now:()=>mn.isProcessing?mn.timestamp:Cn.now()}},RR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},lf=2e4;function Xv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<lf;)e+=n,s=t.next(e);return e>=lf?1/0:e}function YL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Xv(s),lf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:yi(a)}}const $L=5;function CR(t,e,n){const s=Math.max(e-$L,0);return aR(n-t(s),e-s)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pg=.001;function QL({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:s=Mt.mass}){let a,l,u=1-e;u=ys(Mt.minDamping,Mt.maxDamping,u),t=ys(Mt.minDuration,Mt.maxDuration,yi(t)),u<1?(a=g=>{const v=g*u,_=v*t,S=v-n,R=oy(g,u),j=Math.exp(-_);return pg-S/R*j},l=g=>{const _=g*u*t,S=_*n+n,R=Math.pow(u,2)*Math.pow(g,2)*t,j=Math.exp(-_),z=oy(Math.pow(g,2),u);return(-a(g)+pg>0?-1:1)*((S-R)*j)/z}):(a=g=>{const v=Math.exp(-g*t),_=(g-n)*t+1;return-pg+v*_},l=g=>{const v=Math.exp(-g*t),_=(n-g)*(t*t);return v*_});const m=5/t,p=WL(a,l,m);if(t=Hs(t),isNaN(p))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const XL=12;function WL(t,e,n){let s=n;for(let a=1;a<XL;a++)s=s-t(s)/e(s);return s}function oy(t,e){return t*Math.sqrt(1-e*e)}const ZL=["duration","bounce"],JL=["stiffness","damping","mass"];function Lb(t,e){return e.some(n=>t[n]!==void 0)}function e4(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!Lb(t,JL)&&Lb(t,ZL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ys(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Mt.mass,stiffness:a,damping:l}}else{const n=QL(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function cf(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],m={done:!1,value:l},{stiffness:p,damping:g,mass:v,duration:_,velocity:S,isResolvedFromDuration:R}=e4({...n,velocity:-yi(n.velocity||0)}),j=S||0,z=g/(2*Math.sqrt(p*v)),P=u-l,O=yi(Math.sqrt(p/v)),G=Math.abs(P)<5;s||(s=G?Mt.restSpeed.granular:Mt.restSpeed.default),a||(a=G?Mt.restDelta.granular:Mt.restDelta.default);let q;if(z<1){const se=oy(O,z);q=ae=>{const N=Math.exp(-z*O*ae);return u-N*((j+z*O*P)/se*Math.sin(se*ae)+P*Math.cos(se*ae))}}else if(z===1)q=se=>u-Math.exp(-O*se)*(P+(j+O*P)*se);else{const se=O*Math.sqrt(z*z-1);q=ae=>{const N=Math.exp(-z*O*ae),A=Math.min(se*ae,300);return u-N*((j+z*O*P)*Math.sinh(A)+se*P*Math.cosh(A))/se}}const pe={calculatedDuration:R&&_||null,next:se=>{const ae=q(se);if(R)m.done=se>=_;else{let N=se===0?j:0;z<1&&(N=se===0?Hs(j):CR(q,se,ae));const A=Math.abs(N)<=s,D=Math.abs(u-ae)<=a;m.done=A&&D}return m.value=m.done?u:ae,m},toString:()=>{const se=Math.min(Xv(pe),lf),ae=RR(N=>pe.next(se*N).value,se,30);return se+"ms "+ae},toTransition:()=>{}};return pe}cf.applyToOptions=t=>{const e=YL(t,100,cf);return t.ease=e.ease,t.duration=Hs(e.duration),t.type="keyframes",t};function ly({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:m,max:p,restDelta:g=.5,restSpeed:v}){const _=t[0],S={done:!1,value:_},R=A=>m!==void 0&&A<m||p!==void 0&&A>p,j=A=>m===void 0?p:p===void 0||Math.abs(m-A)<Math.abs(p-A)?m:p;let z=n*e;const P=_+z,O=u===void 0?P:u(P);O!==P&&(z=O-_);const G=A=>-z*Math.exp(-A/s),q=A=>O+G(A),pe=A=>{const D=G(A),V=q(A);S.done=Math.abs(D)<=g,S.value=S.done?O:V};let se,ae;const N=A=>{R(S.value)&&(se=A,ae=cf({keyframes:[S.value,j(S.value)],velocity:CR(q,A,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return N(0),{calculatedDuration:null,next:A=>{let D=!1;return!ae&&se===void 0&&(D=!0,pe(A),N(A)),se!==void 0&&A>=se?ae.next(A-se):(!D&&pe(A),S)}}}function t4(t,e,n){const s=[],a=n||Zs.mix||AR,l=t.length-1;for(let u=0;u<l;u++){let m=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||_i:e;m=Su(p,m)}s.push(m)}return s}function n4(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Bv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=t4(e,s,a),p=m.length,g=v=>{if(u&&v<t[0])return e[0];let _=0;if(p>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const S=iu(t[_],t[_+1],v);return m[_](S)};return n?v=>g(ys(t[0],t[l-1],v)):g}function i4(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=iu(0,e,s);t.push(Ct(n,1,a))}}function s4(t){const e=[0];return i4(e,t.length-1),e}function r4(t,e){return t.map(n=>n*e)}function a4(t,e){return t.map(()=>e||pR).splice(0,t.length-1)}function Bc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=yL(s)?s.map(jb):jb(s),l={done:!1,value:e[0]},u=r4(n&&n.length===e.length?n:s4(e),t),m=n4(u,e,{ease:Array.isArray(a)?a:a4(e,a)});return{calculatedDuration:t,next:p=>(l.value=m(p),l.done=p>=t,l)}}const o4=t=>t!==null;function Wv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(o4),m=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!m||s===void 0?l[m]:s}const l4={decay:ly,inertia:ly,tween:Bc,keyframes:Bc,spring:cf};function NR(t){typeof t.type=="string"&&(t.type=l4[t.type])}class Zv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const c4=t=>t/100;class Jv extends Zv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NR(e);const{type:n=Bc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:m}=e;const p=n||Bc;p!==Bc&&typeof m[0]!="number"&&(this.mixKeyframes=Su(c4,AR(m[0],m[1])),m=[0,100]);const g=p({...e,keyframes:m});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...m].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Xv(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:_,repeatType:S,repeatDelay:R,type:j,onUpdate:z,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,pe=s;if(_){const A=Math.min(this.currentTime,a)/m;let D=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&D--,D=Math.min(D,_+1),!!(D%2)&&(S==="reverse"?(V=1-V,R&&(V-=R/m)):S==="mirror"&&(pe=u)),q=ys(0,1,V)*m}const se=G?{done:!1,value:v[0]}:pe.next(q);l&&(se.value=l(se.value));let{done:ae}=se;!G&&p!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return N&&j!==ly&&(se.value=Wv(v,this.options,P,this.speed)),z&&z(se.value),N&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return yi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yi(e)}get time(){return yi(this.currentTime)}set time(e){e=Hs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function u4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const La=t=>t*180/Math.PI,cy=t=>{const e=La(Math.atan2(t[1],t[0]));return uy(e)},h4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cy,rotateZ:cy,skewX:t=>La(Math.atan(t[1])),skewY:t=>La(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},uy=t=>(t=t%360,t<0&&(t+=360),t),Ub=cy,zb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Bb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zb,scaleY:Bb,scale:t=>(zb(t)+Bb(t))/2,rotateX:t=>uy(La(Math.atan2(t[6],t[5]))),rotateY:t=>uy(La(Math.atan2(-t[2],t[0]))),rotateZ:Ub,rotate:Ub,skewX:t=>La(Math.atan(t[4])),skewY:t=>La(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hy(t){return t.includes("scale")?1:0}function dy(t,e){if(!t||t==="none")return hy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=d4,a=n;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=h4,a=m}if(!a)return hy(e);const l=s[e],u=a[1].split(",").map(m4);return typeof l=="function"?l(u):u[l]}const f4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dy(n,e)};function m4(t){return parseFloat(t.trim())}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xl=new Set(bl),Fb=t=>t===Sl||t===Re,p4=new Set(["x","y","z"]),g4=bl.filter(t=>!p4.has(t));function y4(t){const e=[];return g4.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Br={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dy(e,"x"),y:(t,{transform:e})=>dy(e,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const qa=new Set;let fy=!1,my=!1,py=!1;function IR(){if(my){const t=Array.from(qa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=y4(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}my=!1,fy=!1,qa.forEach(t=>t.complete(py)),qa.clear()}function DR(){qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(my=!0)})}function v4(){py=!0,DR(),IR(),py=!1}class e_{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(qa.add(this),fy||(fy=!0,xt.read(DR),xt.resolveKeyframes(IR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const m=s.readValue(n,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}u4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qa.delete(this)}cancel(){this.state==="scheduled"&&(qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _4=t=>t.startsWith("--");function T4(t,e,n){_4(e)?t.style.setProperty(e,n):t.style[e]=n}const E4=Fv(()=>window.ScrollTimeline!==void 0),S4={};function b4(t,e){const n=Fv(t);return()=>S4[e]??n()}const jR=b4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,qb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jc([0,.65,.55,1]),circOut:jc([.55,0,1,.45]),backIn:jc([.31,.01,.66,-.59]),backOut:jc([.33,1.53,.69,.99])};function MR(t,e){if(t)return typeof t=="function"?jR()?RR(t,e):"ease-out":gR(t)?jc(t):Array.isArray(t)?t.map(n=>MR(n,e)||qb.easeOut):qb[t]}function x4(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[e]:n};p&&(v.offset=p);const _=MR(m,a);Array.isArray(_)&&(v.easing=_);const S={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),t.animate(v,S)}function kR(t){return typeof t=="function"&&"applyToOptions"in t}function w4({type:t,...e}){return kR(t)&&jR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A4 extends Zv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:m,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Bv(typeof e.type!="string");const g=w4(e);this.animation=x4(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Wv(a,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):T4(n,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return yi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yi(e)}get time(){return yi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&E4()?(this.animation.timeline=e,_i):n(this)}}const PR={anticipate:dR,backInOut:hR,circInOut:mR};function R4(t){return t in PR}function C4(t){typeof t.ease=="string"&&R4(t.ease)&&(t.ease=PR[t.ease])}const gg=10;class N4 extends A4{constructor(e){C4(e),NR(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new Jv({...u,autoplay:!1}),p=Math.max(gg,Cn.now()-this.startTime),g=ys(0,gg,p-gg);n.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const Hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ea.test(t)||t==="0")&&!t.startsWith("url("));function I4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function D4(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Hb(a,e),m=Hb(l,e);return!u||!m?!1:I4(t)||(n==="spring"||kR(n))&&s}function gy(t){t.duration=0,t.type="keyframes"}const j4=new Set(["opacity","clipPath","filter","transform"]),M4=Fv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k4(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return M4()&&n&&j4.has(n)&&(n!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const P4=40;class V4 extends Zv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:m,name:p,motionValue:g,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const S={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:g,element:v,..._},R=v?.KeyframeResolver||e_;this.keyframeResolver=new R(m,(j,z,P)=>this.onKeyframesResolved(j,z,S,!P),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:m,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Cn.now(),D4(e,l,u,m)||((Zs.instantAnimations||!p)&&v?.(Wv(e,s,n)),e[0]=e[e.length-1],gy(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>P4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!g&&k4(S)?new N4({...S,element:S.motionValue.owner.current}):new Jv(S);R.finished.then(()=>this.notifyFinished()).catch(_i),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const O4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L4(t){const e=O4.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function VR(t,e,n=1){const[s,a]=L4(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return iR(u)?parseFloat(u):u}return Kv(a)?VR(a,e,n+1):a}function t_(t,e){return t?.[e]??t?.default??t}const U4={type:"spring",stiffness:500,damping:25,restSpeed:10},z4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),B4={type:"keyframes",duration:.8},F4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q4=(t,{keyframes:e})=>e.length>2?B4:xl.has(t)?t.startsWith("scale")?z4(e[1]):U4:F4;function H4({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const G4=t=>t!==null;function K4(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(G4),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function OR(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,m=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:m-l*s}const n_=(t,e,n,s={},a,l)=>u=>{const m=t_(s,t)||{},p=m.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Hs(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-g,onUpdate:S=>{e.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:l?void 0:a};H4(m)||Object.assign(v,q4(t,v)),v.duration&&(v.duration=Hs(v.duration)),v.repeatDelay&&(v.repeatDelay=Hs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(gy(v),v.delay===0&&(_=!0)),(Zs.instantAnimations||Zs.skipAnimations)&&(_=!0,gy(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,_&&!l&&e.get()!==void 0){const S=K4(v.keyframes,m);if(S!==void 0){xt.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new Jv(v):new V4(v)},LR=new Set(["width","height","top","left","right","bottom",...bl]),Gb=30,Y4=t=>!isNaN(parseFloat(t));class $4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qv);const s=this.events[e].add(n);return e==="change"?()=>{s(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gb);return aR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cl(t,e){return new $4(t,e)}function Kb(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function i_(t,e,n,s){if(typeof e=="function"){const[a,l]=Kb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Kb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Jo(t,e,n){const s=t.getProps();return i_(s,e,n!==void 0?n:s.custom,t)}const yy=t=>Array.isArray(t);function Q4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cl(n))}function X4(t){return yy(t)?t[t.length-1]||0:t}function s_(t,e){const n=Jo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const m=X4(l[u]);Q4(t,u,m)}}const Sn=t=>!!(t&&t.getVelocity);function W4(t){return!!(Sn(t)&&t.add)}function vy(t,e){const n=t.getValue("willChange");if(W4(n))return n.add(e);if(!n&&Zs.WillChange){const s=new Zs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function r_(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Z4="framerAppearId",UR="data-"+r_(Z4);function zR(t){return t.props[UR]}function J4({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function BR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...m}=e;s&&(l=s);const p=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in m){const _=t.getValue(v,t.latestValues[v]??null),S=m[v];if(S===void 0||g&&J4(g,v))continue;const R={delay:n,...t_(l||{},v)},j=_.get();if(j!==void 0&&!_.isAnimating&&!Array.isArray(S)&&S===j&&!R.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const O=zR(t);if(O){const G=window.MotionHandoffAnimation(O,v,xt);G!==null&&(R.startTime=G,z=!0)}}vy(t,v),_.start(n_(v,_,S,t.shouldReduceMotion&&LR.has(v)?{type:!1}:R,t,z));const P=_.animation;P&&p.push(P)}return u&&Promise.all(p).then(()=>{xt.update(()=>{u&&s_(t,u)})}),p}function _y(t,e,n={}){const s=Jo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(BR(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=a;return e3(t,e,p,g,v,_,n)}:()=>Promise.resolve(),{when:m}=a;if(m){const[p,g]=m==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function e3(t,e,n=0,s=0,a=0,l=1,u){const m=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),m.push(_y(p,e,{...u,delay:n+(typeof s=="function"?0:s)+OR(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(m)}function FR(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>_y(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=_y(t,e,n);else{const a=typeof e=="function"?Jo(t,e,n.custom):e;s=Promise.all(BR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const t3={test:t=>t==="auto",parse:t=>t},qR=t=>e=>e.test(t),HR=[Sl,Re,ps,Pr,IL,NL,t3],Yb=t=>HR.find(qR(t));function n3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rR(t):!0}const i3=new Set(["brightness","contrast","saturate","opacity"]);function s3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Yv)||[];if(!s)return t;const a=n.replace(s,"");let l=i3.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const r3=/\b([a-z-]*)\(.*?\)/gu,Ty={...ea,getAnimatableNone:t=>{const e=t.match(r3);return e?e.map(s3).join(" "):t}},$b={...Sl,transform:Math.round},a3={rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scale:rd,scaleX:rd,scaleY:rd,scaleZ:rd,skew:Pr,skewX:Pr,skewY:Pr,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:su,originX:kb,originY:kb,originZ:Re},a_={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,inset:Re,insetBlock:Re,insetBlockStart:Re,insetBlockEnd:Re,insetInline:Re,insetInlineStart:Re,insetInlineEnd:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,paddingBlock:Re,paddingBlockStart:Re,paddingBlockEnd:Re,paddingInline:Re,paddingInlineStart:Re,paddingInlineEnd:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,marginBlock:Re,marginBlockStart:Re,marginBlockEnd:Re,marginInline:Re,marginInlineStart:Re,marginInlineEnd:Re,backgroundPositionX:Re,backgroundPositionY:Re,...a3,zIndex:$b,fillOpacity:su,strokeOpacity:su,numOctaves:$b},o3={...a_,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:Ty,WebkitFilter:Ty},GR=t=>o3[t];function KR(t,e){let n=GR(t);return n!==Ty&&(n=ea),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const l3=new Set(["auto","none","0"]);function c3(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!l3.has(l)&&ru(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=KR(n,a)}class u3 extends e_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let _=e[v];if(typeof _=="string"&&(_=_.trim(),Kv(_))){const S=VR(_,n.current);S!==void 0&&(e[v]=S),v===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!LR.has(s)||e.length!==2)return;const[a,l]=e,u=Yb(a),m=Yb(l),p=Mb(a),g=Mb(l);if(p!==g&&Br[s]){this.needsMeasurement=!0;return}if(u!==m)if(Fb(u)&&Fb(m))for(let v=0;v<e.length;v++){const _=e[v];typeof _=="string"&&(e[v]=parseFloat(_))}else Br[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||n3(e[a]))&&s.push(a);s.length&&c3(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Br[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function h3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const YR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $R(t){return sR(t)&&"offsetHeight"in t}const{schedule:o_}=yR(queueMicrotask,!1),Vi={x:!1,y:!1};function QR(){return Vi.x||Vi.y}function d3(t){return t==="x"||t==="y"?Vi[t]?null:(Vi[t]=!0,()=>{Vi[t]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function XR(t,e){const n=h3(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Qb(t){return!(t.pointerType==="touch"||QR())}function f3(t,e,n={}){const[s,a,l]=XR(t,n),u=m=>{if(!Qb(m))return;const{target:p}=m,g=e(p,m);if(typeof g!="function"||!p)return;const v=_=>{Qb(_)&&(g(_),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,a)};return s.forEach(m=>{m.addEventListener("pointerenter",u,a)}),l}const WR=(t,e)=>e?t===e?!0:WR(t,e.parentElement):!1,l_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZR(t){return m3.has(t.tagName)||t.isContentEditable===!0}const Cd=new WeakSet;function Xb(t){return e=>{e.key==="Enter"&&t(e)}}function yg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p3=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Xb(()=>{if(Cd.has(n))return;yg(n,"down");const a=Xb(()=>{yg(n,"up")}),l=()=>yg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Wb(t){return l_(t)&&!QR()}function g3(t,e,n={}){const[s,a,l]=XR(t,n),u=m=>{const p=m.currentTarget;if(!Wb(m))return;Cd.add(p);const g=e(p,m),v=(R,j)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),Cd.has(p)&&Cd.delete(p),Wb(R)&&typeof g=="function"&&g(R,{success:j})},_=R=>{v(R,p===window||p===document||n.useGlobalTarget||WR(p,R.target))},S=R=>{v(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",u,a),$R(m)&&(m.addEventListener("focus",g=>p3(g,a)),!ZR(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),l}function JR(t){return sR(t)&&"ownerSVGElement"in t}function y3(t){return JR(t)&&t.tagName==="svg"}const v3=[...HR,Qt,ea],_3=t=>v3.find(qR(t)),Zb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:Zb(),y:Zb()}),Jb=()=>({min:0,max:0}),en=()=>({x:Jb(),y:Jb()}),Ey={current:null},eC={current:!1},T3=typeof window<"u";function E3(){if(eC.current=!0,!!T3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const S3=new WeakMap;function Kf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function au(t){return typeof t=="string"||Array.isArray(t)}const c_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u_=["initial",...c_];function Yf(t){return Kf(t.animate)||u_.some(e=>au(t[e]))}function tC(t){return!!(Yf(t)||t.variants)}function b3(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Sn(a))t.addValue(s,a);else if(Sn(l))t.addValue(s,cl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,cl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ex=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let uf={};function nC(t){uf=t}function x3(){return uf}class w3{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Cn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,xt.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=m,this.blockInitialAnimation=!!l,this.isControllingVariants=Yf(n),this.isVariantNode=tC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const R=_[S];p[S]!==void 0&&Sn(R)&&R.set(p[S])}}mount(e){this.current=e,S3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(eC.current||E3(),this.shouldReduceMotion=Ey.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=xl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&xt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uf){const n=uf[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ex.length;s++){const a=ex[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=b3(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=cl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(iR(s)||rR(s))?s=parseFloat(s):!_3(s)&&ea.test(n)&&(s=KR(e,n)),this.setBaseTarget(e,Sn(s)?s.get():s)),Sn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=i_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){o_.render(this.render)}}class ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iC extends w3{constructor(){super(...arguments),this.KeyframeResolver=u3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function A3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function R3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function vg(t){return t===void 0||t===1}function Sy({scale:t,scaleX:e,scaleY:n}){return!vg(t)||!vg(e)||!vg(n)}function ka(t){return Sy(t)||rC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rC(t){return tx(t.x)||tx(t.y)}function tx(t){return t&&t!=="0%"}function hf(t,e,n){const s=t-n,a=e*s;return n+a}function nx(t,e,n,s,a){return a!==void 0&&(t=hf(t,a,s)),hf(t,n,s)+e}function by(t,e=0,n=1,s,a){t.min=nx(t.min,e,n,s,a),t.max=nx(t.max,e,n,s,a)}function aC(t,{x:e,y:n}){by(t.x,e.translate,e.scale,e.originPoint),by(t.y,n.translate,n.scale,n.originPoint)}const ix=.999999999999,sx=1.0000000000001;function C3(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let m=0;m<a;m++){l=n[m],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Yo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,aC(t,u)),s&&ka(l.latestValues)&&Yo(t,l.latestValues))}e.x<sx&&e.x>ix&&(e.x=1),e.y<sx&&e.y>ix&&(e.y=1)}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function rx(t,e,n,s,a=.5){const l=Ct(t.min,t.max,a);by(t,e,n,l,s)}function Yo(t,e){rx(t.x,e.x,e.scaleX,e.scale,e.originX),rx(t.y,e.y,e.scaleY,e.scale,e.originY)}function oC(t,e){return sC(R3(t.getBoundingClientRect(),e))}function N3(t,e,n){const s=oC(t,n),{scroll:a}=e;return a&&(Ko(s.x,a.offset.x),Ko(s.y,a.offset.y)),s}const I3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D3=bl.length;function j3(t,e,n){let s="",a=!0;for(let l=0;l<D3;l++){const u=bl[l],m=t[u];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(u.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||n){const g=YR(m,a_[u]);if(!p){a=!1;const v=I3[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function h_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,m=!1;for(const p in e){const g=e[p];if(xl.has(p)){u=!0;continue}else if(_R(p)){a[p]=g;continue}else{const v=YR(g,a_[p]);p.startsWith("origin")?(m=!0,l[p]=v):s[p]=v}}if(e.transform||(u||n?s.transform=j3(e,t.transform,n):s.transform&&(s.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${p} ${g} ${v}`}}function lC(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function ax(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=ax(t,e.target.x),s=ax(t,e.target.y);return`${n}% ${s}%`}},M3={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ea.parse(t);if(a.length>5)return s;const l=ea.createTransformer(t),u=typeof a[0]!="number"?1:0,m=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=m,a[1+u]/=p;const g=Ct(m,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},xy={borderRadius:{...Rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rc,borderTopRightRadius:Rc,borderBottomLeftRadius:Rc,borderBottomRightRadius:Rc,boxShadow:M3};function cC(t,{layout:e,layoutId:n}){return xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xy[t]||t==="opacity")}function d_(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Sn(s[u])||a&&Sn(a[u])||cC(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function k3(t){return window.getComputedStyle(t)}class P3 extends iC{constructor(){super(...arguments),this.type="html",this.renderInstance=lC}readValueFromInstance(e,n){if(xl.has(n))return this.projection?.isProjecting?hy(n):f4(e,n);{const s=k3(e),a=(_R(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oC(e,n)}build(e,n,s){h_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return d_(e,n,s)}}const V3={offset:"stroke-dashoffset",array:"stroke-dasharray"},O3={offset:"strokeDashoffset",array:"strokeDasharray"};function L3(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?V3:O3;t[l.offset]=Re.transform(-s);const u=Re.transform(e),m=Re.transform(n);t[l.array]=`${u} ${m}`}const U3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function uC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...m},p,g,v){if(h_(t,m,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:S}=t;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete _.transformBox);for(const R of U3)_[R]!==void 0&&(S[R]=_[R],delete _[R]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&L3(_,a,l,u,!1)}const hC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),dC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function z3(t,e,n,s){lC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(hC.has(a)?a:r_(a),e.attrs[a])}function fC(t,e,n){const s=d_(t,e,n);for(const a in t)if(Sn(t[a])||Sn(e[a])){const l=bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class B3 extends iC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xl.has(n)){const s=GR(n);return s&&s.default||0}return n=hC.has(n)?n:r_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return fC(e,n,s)}build(e,n,s){uC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){z3(e,n,s,a)}mount(e){this.isSVGTag=dC(e.tagName),super.mount(e)}}const F3=u_.length;function mC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<F3;n++){const s=u_[n],a=t.props[s];(au(a)||a===!1)&&(e[s]=a)}return e}function pC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const q3=[...c_].reverse(),H3=c_.length;function G3(t){return e=>Promise.all(e.map(({animation:n,options:s})=>FR(t,n,s)))}function K3(t){let e=G3(t),n=ox(),s=!0;const a=p=>(g,v)=>{const _=Jo(t,v,p==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:S,transitionEnd:R,...j}=_;g={...g,...j,...R}}return g};function l(p){e=p(t)}function u(p){const{props:g}=t,v=mC(t.parent)||{},_=[],S=new Set;let R={},j=1/0;for(let P=0;P<H3;P++){const O=q3[P],G=n[O],q=g[O]!==void 0?g[O]:v[O],pe=au(q),se=O===p?G.isActive:null;se===!1&&(j=P);let ae=q===v[O]&&q!==g[O]&&pe;if(ae&&s&&t.manuallyAnimateOnMount&&(ae=!1),G.protectedKeys={...R},!G.isActive&&se===null||!q&&!G.prevProp||Kf(q)||typeof q=="boolean")continue;const N=Y3(G.prevProp,q);let A=N||O===p&&G.isActive&&!ae&&pe||P>j&&pe,D=!1;const V=Array.isArray(q)?q:[q];let M=V.reduce(a(O),{});se===!1&&(M={});const{prevResolvedValues:B={}}=G,k={...B,...M},Ue=fe=>{A=!0,S.has(fe)&&(D=!0,S.delete(fe)),G.needsAnimating[fe]=!0;const Ee=t.getValue(fe);Ee&&(Ee.liveStyle=!1)};for(const fe in k){const Ee=M[fe],De=B[fe];if(R.hasOwnProperty(fe))continue;let H=!1;yy(Ee)&&yy(De)?H=!pC(Ee,De):H=Ee!==De,H?Ee!=null?Ue(fe):S.add(fe):Ee!==void 0&&S.has(fe)?Ue(fe):G.protectedKeys[fe]=!0}G.prevProp=q,G.prevResolvedValues=M,G.isActive&&(R={...R,...M}),s&&t.blockInitialAnimation&&(A=!1);const Ve=ae&&N;A&&(!Ve||D)&&_.push(...V.map(fe=>{const Ee={type:O};if(typeof fe=="string"&&s&&!Ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:De}=t,H=Jo(De,fe);if(De.enteringChildren&&H){const{delayChildren:x}=H.transition||{};Ee.delay=OR(De.enteringChildren,t,x)}}return{animation:fe,options:Ee}}))}if(S.size){const P={};if(typeof g.initial!="boolean"){const O=Jo(t,Array.isArray(g.initial)?g.initial[0]:g.initial);O&&O.transition&&(P.transition=O.transition)}S.forEach(O=>{const G=t.getBaseTarget(O),q=t.getValue(O);q&&(q.liveStyle=!0),P[O]=G??null}),_.push({animation:P})}let z=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(z=!1),s=!1,z?e(_):Promise.resolve()}function m(p,g){if(n[p].isActive===g)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(p,g)),n[p].isActive=g;const v=u(p);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:m,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ox()}}}function Y3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pC(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ox(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}const gC=1e-4,$3=1-gC,Q3=1+gC,yC=.01,X3=0-yC,W3=0+yC;function Nn(t){return t.max-t.min}function Z3(t,e,n){return Math.abs(t-e)<=n}function lx(t,e,n,s=.5){t.origin=s,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$3&&t.scale<=Q3||isNaN(t.scale))&&(t.scale=1),(t.translate>=X3&&t.translate<=W3||isNaN(t.translate))&&(t.translate=0)}function Fc(t,e,n,s){lx(t.x,e.x,n.x,s?s.originX:void 0),lx(t.y,e.y,n.y,s?s.originY:void 0)}function cx(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function J3(t,e,n){cx(t.x,e.x,n.x),cx(t.y,e.y,n.y)}function ux(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function df(t,e,n){ux(t.x,e.x,n.x),ux(t.y,e.y,n.y)}function hx(t,e,n,s,a){return t-=e,t=hf(t,1/n,s),a!==void 0&&(t=hf(t,1/a,s)),t}function eU(t,e=0,n=1,s=.5,a,l=t,u=t){if(ps.test(e)&&(e=parseFloat(e),e=Ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=Ct(l.min,l.max,s);t===l&&(m-=e),t.min=hx(t.min,e,n,m,a),t.max=hx(t.max,e,n,m,a)}function dx(t,e,[n,s,a],l,u){eU(t,e[n],e[s],e[a],e.scale,l,u)}const tU=["x","scaleX","originX"],nU=["y","scaleY","originY"];function fx(t,e,n,s){dx(t.x,e,tU,n?n.x:void 0,s?s.x:void 0),dx(t.y,e,nU,n?n.y:void 0,s?s.y:void 0)}function mx(t,e){t.min=e.min,t.max=e.max}function ki(t,e){mx(t.x,e.x),mx(t.y,e.y)}function px(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gx(t){return t.translate===0&&t.scale===1}function vC(t){return gx(t.x)&&gx(t.y)}function yx(t,e){return t.min===e.min&&t.max===e.max}function iU(t,e){return yx(t.x,e.x)&&yx(t.y,e.y)}function vx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _C(t,e){return vx(t.x,e.x)&&vx(t.y,e.y)}function _x(t){return Nn(t.x)/Nn(t.y)}function Tx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function pi(t){return[t("x"),t("y")]}function sU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:_,rotateY:S,skewX:R,skewY:j}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),S&&(s+=`rotateY(${S}deg) `),R&&(s+=`skewX(${R}deg) `),j&&(s+=`skewY(${j}deg) `)}const m=t.x.scale*e.x,p=t.y.scale*e.y;return(m!==1||p!==1)&&(s+=`scale(${m}, ${p})`),s||"none"}const TC=["TopLeft","TopRight","BottomLeft","BottomRight"],rU=TC.length,Ex=t=>typeof t=="string"?parseFloat(t):t,Sx=t=>typeof t=="number"||Re.test(t);function aU(t,e,n,s,a,l){a?(t.opacity=Ct(0,n.opacity??1,oU(s)),t.opacityExit=Ct(e.opacity??1,0,lU(s))):l&&(t.opacity=Ct(e.opacity??1,n.opacity??1,s));for(let u=0;u<rU;u++){const m=`border${TC[u]}Radius`;let p=bx(e,m),g=bx(n,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Sx(p)===Sx(g)?(t[m]=Math.max(Ct(Ex(p),Ex(g),s),0),(ps.test(g)||ps.test(p))&&(t[m]+="%")):t[m]=g}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,s))}function bx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oU=EC(0,.5,fR),lU=EC(.5,.95,_i);function EC(t,e,n){return s=>s<t?0:s>e?1:n(iu(t,e,s))}function cU(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Jr(s),t(l-e))};return xt.setup(s,!0),()=>Jr(s)}function ou(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Nd(t){return Sn(t)?t.get():t}function uU(t,e,n){const s=Sn(t)?t:cl(t);return s.start(n_("",s,e,n)),s.animation}const hU=(t,e)=>t.depth-e.depth;class dU{constructor(){this.children=[],this.isDirty=!1}add(e){Uv(this.children,e),this.isDirty=!0}remove(e){zv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hU),this.isDirty=!1,this.children.forEach(e)}}class fU{constructor(){this.members=[]}add(e){Uv(this.members,e),e.scheduleRender()}remove(e){if(zv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Id={hasAnimatedSinceResize:!0,hasEverUpdated:!1},_g=["","X","Y","Z"],mU=1e3;let pU=0;function Tg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function SC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&SC(s)}function bC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},m=e?.()){this.id=pU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vU),this.nodes.forEach(SU),this.nodes.forEach(bU),this.nodes.forEach(_U)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new dU)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new qv),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const p=this.eventHandlers.get(u);p&&p.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=JR(u)&&!y3(u),this.instance=u;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),t){let v,_=0;const S=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{_=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,v&&v(),v=cU(S,250),Id.hasAnimatedSinceResize&&(Id.hasAnimatedSinceResize=!1,this.nodes.forEach(Ax)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||CU,{onLayoutAnimationStart:z,onLayoutAnimationComplete:P}=g.getProps(),O=!this.targetLayout||!_C(this.targetLayout,R),G=!_&&S;if(this.options.layoutRoot||this.resumeFrom||G||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...t_(j,"layout"),onPlay:z,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,G)}else _||Ax(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EU),this.nodes.forEach(gU),this.nodes.forEach(yU)):this.nodes.forEach(wx),this.clearAllSnapshots();const m=Cn.now();mn.delta=ys(0,1e3/60,m-mn.timestamp),mn.timestamp=m,mn.isProcessing=!0,hg.update.process(mn),hg.preRender.process(mn),hg.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TU),this.sharedNodes.forEach(wU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!vC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(m||ka(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return u&&(p=this.removeTransform(p)),NU(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return en();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(IU))){const{scroll:g}=this.root;g&&(Ko(m.x,g.offset.x),Ko(m.y,g.offset.y))}return m}removeElementScroll(u){const m=en();if(ki(m,u),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&ki(m,u),Ko(m.x,v.offset.x),Ko(m.y,v.offset.y))}return m}applyTransform(u,m=!1){const p=en();ki(p,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Yo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ka(v.latestValues)&&Yo(p,v.latestValues)}return ka(this.latestValues)&&Yo(p,this.latestValues),p}removeTransform(u){const m=en();ki(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ka(g.latestValues))continue;Sy(g.latestValues)&&g.updateSnapshot();const v=en(),_=g.measurePageBox();ki(v,_),fx(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return ka(this.latestValues)&&fx(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=mn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),aC(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sy(this.parent.latestValues)||rC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),df(this.relativeTargetOrigin,m,p),ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ki(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;C3(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=en());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(px(this.prevProjectionDelta.x,this.projectionDelta.x),px(this.prevProjectionDelta.y,this.projectionDelta.y)),Fc(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!Tx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(u,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},_=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=en(),R=p?p.source:void 0,j=this.layout?this.layout.source:void 0,z=R!==j,P=this.getStack(),O=!P||P.members.length<=1,G=!!(z&&!O&&this.options.crossfade===!0&&!this.path.some(RU));this.animationProgress=0;let q;this.mixTargetDelta=pe=>{const se=pe/1e3;Rx(_.x,u.x,se),Rx(_.y,u.y,se),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(df(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AU(this.relativeTarget,this.relativeTargetOrigin,S,se),q&&iU(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=en()),ki(q,this.relativeTarget)),z&&(this.animationValues=v,aU(v,g,this.latestValues,se,G,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Id.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cl(0)),this.currentAnimation=uU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=u;if(!(!m||!p||!g)){if(this!==u&&this.layout&&g&&xC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||en();const _=Nn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+_;const S=Nn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+S}ki(m,p),Yo(m,v),Fc(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new fU),this.sharedNodes.get(u).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Tg("z",u,g,this.animationValues);for(let v=0;v<_g.length;v++)Tg(`rotate${_g[v]}`,u,g,this.animationValues),Tg(`skew${_g[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Nd(m?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Nd(m?.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=sU(this.projectionDeltaWithTransform,this.treeScale,v);p&&(_=p(v,_)),u.transform=_;const{x:S,y:R}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in xy){if(v[j]===void 0)continue;const{correct:z,applyTo:P,isCSSVariable:O}=xy[j],G=_==="none"?v[j]:z(v[j],g);if(P){const q=P.length;for(let pe=0;pe<q;pe++)u[P[pe]]=G}else O?this.options.visualElement.renderState.vars[j]=G:u[j]=G}this.options.layoutId&&(u.pointerEvents=g===this?Nd(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(xx),this.root.sharedNodes.clear()}}}function gU(t){t.updateLayout()}function yU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?pi(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],S=Nn(_);_.min=n[v].min,_.max=_.min+S}):xC(a,e.layoutBox,n)&&pi(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],S=Nn(n[v]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const u=Go();Fc(u,n,e.layoutBox);const m=Go();l?Fc(m,t.applyTransform(s,!0),e.measuredBox):Fc(m,n,e.layoutBox);const p=!vC(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:S}=v;if(_&&S){const R=en();df(R,e.layoutBox,_.layoutBox);const j=en();df(j,n,S.layoutBox),_C(R,j)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _U(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TU(t){t.clearSnapshot()}function xx(t){t.clearMeasurements()}function wx(t){t.isLayoutDirty=!1}function EU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ax(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SU(t){t.resolveTargetDelta()}function bU(t){t.calcProjection()}function xU(t){t.resetSkewAndRotation()}function wU(t){t.removeLeadSnapshot()}function Rx(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cx(t,e,n,s){t.min=Ct(e.min,n.min,s),t.max=Ct(e.max,n.max,s)}function AU(t,e,n,s){Cx(t.x,e.x,n.x,s),Cx(t.y,e.y,n.y,s)}function RU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CU={duration:.45,ease:[.4,0,.1,1]},Nx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ix=Nx("applewebkit/")&&!Nx("chrome/")?Math.round:_i;function Dx(t){t.min=Ix(t.min),t.max=Ix(t.max)}function NU(t){Dx(t.x),Dx(t.y)}function xC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Z3(_x(e),_x(n),.2)}function IU(t){return t!==t.root&&t.scroll?.wasRoot}const DU=bC({attachResizeListener:(t,e)=>ou(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},wC=bC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Eg.current){const t=new DU({});t.mount(window),t.setOptions({layoutScroll:!0}),Eg.current=t}return Eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),f_=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=jx(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():jx(t[a],null)}}}}function MU(...t){return I.useCallback(jU(...t),t)}class kU extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=$R(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PU({children:t,isPresent:e,anchorX:n,root:s}){const a=I.useId(),l=I.useRef(null),u=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=I.useContext(f_),p=t.props?.ref??t?.ref,g=MU(l,p);return I.useInsertionEffect(()=>{const{width:v,height:_,top:S,left:R,right:j}=u.current;if(e||!l.current||!v||!_)return;const z=n==="left"?`left: ${R}`:`right: ${j}`;l.current.dataset.motionPopId=a;const P=document.createElement("style");m&&(P.nonce=m);const O=s??document.head;return O.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${_}px !important;
            ${z}px !important;
            top: ${S}px !important;
          }
        `),()=>{O.contains(P)&&O.removeChild(P)}},[e]),d.jsx(kU,{isPresent:e,childRef:l,sizeRef:u,children:I.cloneElement(t,{ref:g})})}const VU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:m,root:p})=>{const g=Hf(OU),v=I.useId();let _=!0,S=I.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:R=>{g.set(R,!0);for(const j of g.values())if(!j)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[n,g,s]);return l&&_&&(S={...S}),I.useMemo(()=>{g.forEach((R,j)=>g.set(j,!1))},[n]),I.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=d.jsx(PU,{isPresent:n,anchorX:m,root:p,children:t})),d.jsx(Gf.Provider,{value:S,children:t})};function OU(){return new Map}function AC(t=!0){const e=I.useContext(Gf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const ad=t=>t.key||"";function Mx(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const LU=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:m="left",root:p})=>{const[g,v]=AC(u),_=I.useMemo(()=>Mx(t),[t]),S=u&&!g?[]:_.map(ad),R=I.useRef(!0),j=I.useRef(_),z=Hf(()=>new Map),P=I.useRef(new Set),[O,G]=I.useState(_),[q,pe]=I.useState(_);Lv(()=>{R.current=!1,j.current=_;for(let N=0;N<q.length;N++){const A=ad(q[N]);S.includes(A)?(z.delete(A),P.current.delete(A)):z.get(A)!==!0&&z.set(A,!1)}},[q,S.length,S.join("-")]);const se=[];if(_!==O){let N=[..._];for(let A=0;A<q.length;A++){const D=q[A],V=ad(D);S.includes(V)||(N.splice(A,0,D),se.push(D))}return l==="wait"&&se.length&&(N=se),pe(Mx(N)),G(_),null}const{forceRender:ae}=I.useContext(Ov);return d.jsx(d.Fragment,{children:q.map(N=>{const A=ad(N),D=u&&!g?!1:_===q||S.includes(A),V=()=>{if(P.current.has(A))return;if(P.current.add(A),z.has(A))z.set(A,!0);else return;let M=!0;z.forEach(B=>{B||(M=!1)}),M&&(ae?.(),pe(j.current),u&&v?.(),s&&s())};return d.jsx(VU,{isPresent:D,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:D?void 0:V,anchorX:m,children:N},A)})})},RC=I.createContext({strict:!1}),kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Px=!1;function UU(){if(Px)return;const t={};for(const e in kx)t[e]={isEnabled:n=>kx[e].some(s=>!!n[s])};nC(t),Px=!0}function CC(){return UU(),x3()}function zU(t){const e=CC();for(const n in t)e[n]={...e[n],...t[n]};nC(e)}const BU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BU.has(t)}let NC=t=>!ff(t);function FU(t){typeof t=="function"&&(NC=e=>e.startsWith("on")?!ff(e):t(e))}try{FU(require("@emotion/is-prop-valid").default)}catch{}function qU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(NC(a)||n===!0&&ff(a)||!e&&!ff(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const $f=I.createContext({});function HU(t,e){if(Yf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||au(n)?n:void 0,animate:au(s)?s:void 0}}return t.inherit!==!1?e:{}}function GU(t){const{initial:e,animate:n}=HU(t,I.useContext($f));return I.useMemo(()=>({initial:e,animate:n}),[Vx(e),Vx(n)])}function Vx(t){return Array.isArray(t)?t.join(" "):t}const m_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IC(t,e,n){for(const s in e)!Sn(e[s])&&!cC(s,n)&&(t[s]=e[s])}function KU({transformTemplate:t},e){return I.useMemo(()=>{const n=m_();return h_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function YU(t,e){const n=t.style||{},s={};return IC(s,n,t),Object.assign(s,KU(t,e)),s}function $U(t,e){const n={},s=YU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const DC=()=>({...m_(),attrs:{}});function QU(t,e,n,s){const a=I.useMemo(()=>{const l=DC();return uC(l,e,dC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};IC(l,t.style,t),a.style={...l,...a.style}}return a}const XU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p_(t){return typeof t!="string"||t.includes("-")?!1:!!(XU.indexOf(t)>-1||/[A-Z]/u.test(t))}function WU(t,e,n,{latestValues:s},a,l=!1,u){const p=(u??p_(t)?QU:$U)(e,s,a,t),g=qU(e,typeof t=="string",l),v=t!==I.Fragment?{...g,...p,ref:n}:{},{children:_}=e,S=I.useMemo(()=>Sn(_)?_.get():_,[_]);return I.createElement(t,{...v,children:S})}function ZU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:JU(n,s,a,t),renderState:e()}}function JU(t,e,n,s){const a={},l=s(t,{});for(const S in l)a[S]=Nd(l[S]);let{initial:u,animate:m}=t;const p=Yf(t),g=tC(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?m:u;if(_&&typeof _!="boolean"&&!Kf(_)){const S=Array.isArray(_)?_:[_];for(let R=0;R<S.length;R++){const j=i_(t,S[R]);if(j){const{transitionEnd:z,transition:P,...O}=j;for(const G in O){let q=O[G];if(Array.isArray(q)){const pe=v?q.length-1:0;q=q[pe]}q!==null&&(a[G]=q)}for(const G in z)a[G]=z[G]}}}return a}const jC=t=>(e,n)=>{const s=I.useContext($f),a=I.useContext(Gf),l=()=>ZU(t,e,s,a);return n?l():Hf(l)},e6=jC({scrapeMotionValuesFromProps:d_,createRenderState:m_}),t6=jC({scrapeMotionValuesFromProps:fC,createRenderState:DC}),n6=Symbol.for("motionComponentSymbol");function i6(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const a=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const m=u(l);typeof m=="function"&&(a.current=m)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const MC=I.createContext({});function Mc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function s6(t,e,n,s,a,l){const{visualElement:u}=I.useContext($f),m=I.useContext(RC),p=I.useContext(Gf),g=I.useContext(f_).reducedMotion,v=I.useRef(null);s=s||m.renderer,!v.current&&s&&(v.current=s(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:l}));const _=v.current,S=I.useContext(MC);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&r6(v.current,n,a,S);const R=I.useRef(!1);I.useInsertionEffect(()=>{_&&R.current&&_.update(n,p)});const j=n[UR],z=I.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return Lv(()=>{_&&(R.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),z.current&&_.animationState&&_.animationState.animateChanges())}),I.useEffect(()=>{_&&(!z.current&&_.animationState&&_.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),z.current=!1),_.enteringChildren=void 0)}),_}function r6(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||m&&Mc(m),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function kC(t){if(t)return t.options.allowProjection!==!1?t.projection:kC(t.parent)}function Sg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&zU(s);const l=n?n==="svg":p_(t),u=l?t6:e6;function m(g,v){let _;const S={...I.useContext(f_),...g,layoutId:a6(g)},{isStatic:R}=S,j=GU(g),z=u(g,R);if(!R&&nR){o6();const P=l6(S);_=P.MeasureLayout,j.visualElement=s6(t,z,S,a,P.ProjectionNode,l)}return d.jsxs($f.Provider,{value:j,children:[_&&j.visualElement?d.jsx(_,{visualElement:j.visualElement,...S}):null,WU(t,g,i6(z,j.visualElement,v),z,R,e,l)]})}m.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=I.forwardRef(m);return p[n6]=t,p}function a6({layoutId:t}){const e=I.useContext(Ov).id;return e&&t!==void 0?e+"-"+t:t}function o6(t,e){I.useContext(RC).strict}function l6(t){const e=CC(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function c6(t,e){if(typeof Proxy>"u")return Sg;const n=new Map,s=(l,u)=>Sg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Sg(u,void 0,t,e)),n.get(u))})}const u6=(t,e)=>e.isSVG??p_(t)?new B3(e):new P3(e,{allowProjection:t!==I.Fragment});class h6 extends ia{constructor(e){super(e),e.animationState||(e.animationState=K3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let d6=0;class f6 extends ia{constructor(){super(...arguments),this.id=d6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const m6={animation:{Feature:h6},exit:{Feature:f6}};function wu(t){return{point:{x:t.pageX,y:t.pageY}}}const p6=t=>e=>l_(e)&&t(e,wu(e));function qc(t,e,n,s){return ou(t,e,p6(n),s)}const PC=({current:t})=>t?t.ownerDocument.defaultView:null,Ox=(t,e)=>Math.abs(t-e);function g6(t,e){const n=Ox(t.x,e.x),s=Ox(t.y,e.y);return Math.sqrt(n**2+s**2)}const Lx=new Set(["auto","scroll"]);class VC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=xg(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,z=g6(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!z)return;const{point:P}=R,{timestamp:O}=mn;this.history.push({...P,timestamp:O});const{onStart:G,onMove:q}=this.handlers;j||(G&&G(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,R)},this.handlePointerMove=(R,j)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=bg(j,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(R,j)=>{this.end();const{onEnd:z,onSessionEnd:P,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=xg(R.type==="pointercancel"?this.lastMoveEventInfo:bg(j,this.transformPagePoint),this.history);this.startEvent&&z&&z(R,G),P&&P(R,G)},!l_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const p=wu(e),g=bg(p,this.transformPagePoint),{point:v}=g,{timestamp:_}=mn;this.history=[{...v,timestamp:_}];const{onSessionStart:S}=n;S&&S(e,xg(g,this.history)),this.removeListeners=Su(qc(this.contextWindow,"pointermove",this.handlePointerMove),qc(this.contextWindow,"pointerup",this.handlePointerUp),qc(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(Lx.has(s.overflowX)||Lx.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),xt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Jr(this.updatePoint)}}function bg(t,e){return e?{point:e(t.point)}:t}function Ux(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xg({point:t},e){return{point:t,delta:Ux(t,OC(e)),offset:Ux(t,y6(e)),velocity:v6(e,.1)}}function y6(t){return t[0]}function OC(t){return t[t.length-1]}function v6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=OC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Hs(e)));)n--;if(!s)return{x:0,y:0};const l=yi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function _6(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ct(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ct(n,t,s.max):Math.min(t,n)),t}function zx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T6(t,{top:e,left:n,bottom:s,right:a}){return{x:zx(t.x,n,a),y:zx(t.y,e,s)}}function Bx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function E6(t,e){return{x:Bx(t.x,e.x),y:Bx(t.y,e.y)}}function S6(t,e){let n=.5;const s=Nn(t),a=Nn(e);return a>s?n=iu(e.min,e.max-s,t.min):s>a&&(n=iu(t.min,t.max-a,e.min)),ys(0,1,n)}function b6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wy=.35;function x6(t=wy){return t===!1?t=0:t===!0&&(t=wy),{x:Fx(t,"left","right"),y:Fx(t,"top","bottom")}}function Fx(t,e,n){return{min:qx(t,e),max:qx(t,n)}}function qx(t,e){return typeof t=="number"?t:t[e]||0}const w6=new WeakMap;class A6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n?(this.stopAnimation(),this.snapToCursor(wu(_).point)):this.pauseAnimation()},u=(_,S)=>{this.stopAnimation();const{drag:R,dragPropagation:j,onDragStart:z}=this.getProps();if(R&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d3(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pi(O=>{let G=this.getAxisMotionValue(O).get()||0;if(ps.test(G)){const{projection:q}=this.visualElement;if(q&&q.layout){const pe=q.layout.layoutBox[O];pe&&(G=Nn(pe)*(parseFloat(G)/100))}}this.originPoint[O]=G}),z&&xt.postRender(()=>z(_,S)),vy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},m=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:R,dragDirectionLock:j,onDirectionLock:z,onDrag:P}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:O}=S;if(j&&this.currentDirection===null){this.currentDirection=R6(O),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",S.point,O),this.updateAxis("y",S.point,O),this.visualElement.render(),P&&P(_,S)},p=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>pi(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new VC(e,{onSessionStart:l,onStart:u,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:PC(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&xt.postRender(()=>m(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!od(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=_6(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Mc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=T6(s.layoutBox,e):this.constraints=!1,this.elastic=x6(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=b6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mc(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=N3(s,a.root,this.visualElement.getTransformPagePoint());let u=E6(a.layout.layoutBox,l);if(n){const m=n(A3(u));this.hasMutatedConstraints=!!m,m&&(u=sC(m))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=pi(v=>{if(!od(v,n,this.currentDirection))return;let _=p&&p[v]||{};u&&(_={min:0,max:0});const S=a?200:1e6,R=a?40:1e7,j={type:"inertia",velocity:s?e[v]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,j)});return Promise.all(g).then(m)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return vy(this.visualElement,e),s.start(n_(e,s,0,n,this.visualElement,!1))}stopAnimation(){pi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){pi(n=>{const{drag:s}=this.getProps();if(!od(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:m}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-Ct(u,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Mc(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};pi(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const p=m.get();a[u]=S6({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),pi(u=>{if(!od(u,e,null))return;const m=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];m.set(Ct(p,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;w6.set(this.visualElement,this);const e=this.visualElement.current,n=qc(e,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&!ZR(p.target)&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Mc(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),xt.read(s);const u=ou(window,"resize",()=>this.scalePositionWithinConstraints()),m=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(pi(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=p[v].translate,_.set(_.get()+p[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=wy,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:m}}}function od(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function R6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class C6 extends ia{constructor(e){super(e),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new A6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hx=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class N6 extends ia{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(e){this.session=new VC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Hx(e),onStart:Hx(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&xt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=qc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let wg=!1;class I6 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),wg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Id.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,wg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||xt.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),o_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;wg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LC(t){const[e,n]=AC(),s=I.useContext(Ov);return d.jsx(I6,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(MC),isPresent:e,safeToRemove:n})}const D6={pan:{Feature:N6},drag:{Feature:C6,ProjectionNode:wC,MeasureLayout:LC}};function Gx(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&xt.postRender(()=>l(e,wu(e)))}class j6 extends ia{mount(){const{current:e}=this.node;e&&(this.unmount=f3(e,(n,s)=>(Gx(this.node,s,"Start"),a=>Gx(this.node,a,"End"))))}unmount(){}}class M6 extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(ou(this.node.current,"focus",()=>this.onFocus()),ou(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kx(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&xt.postRender(()=>l(e,wu(e)))}class k6 extends ia{mount(){const{current:e}=this.node;e&&(this.unmount=g3(e,(n,s)=>(Kx(this.node,s,"Start"),(a,{success:l})=>Kx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ay=new WeakMap,Ag=new WeakMap,P6=t=>{const e=Ay.get(t.target);e&&e(t)},V6=t=>{t.forEach(P6)};function O6({root:t,...e}){const n=t||document;Ag.has(n)||Ag.set(n,{});const s=Ag.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(V6,{root:t,...e})),s[a]}function L6(t,e,n){const s=O6(e);return Ay.set(t,n),s.observe(t),()=>{Ay.delete(t),s.unobserve(t)}}const U6={some:0,all:1};class z6 extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:U6[a]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),S=g?v:_;S&&S(p)};return L6(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(B6(e,n))&&this.startObserver()}unmount(){}}function B6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const F6={inView:{Feature:z6},tap:{Feature:k6},focus:{Feature:M6},hover:{Feature:j6}},q6={layout:{ProjectionNode:wC,MeasureLayout:LC}},H6={...m6,...F6,...D6,...q6},UC=c6(H6,u6);function G6(t){t.values.forEach(e=>e.stop())}function Ry(t,e){[...e].reverse().forEach(s=>{const a=t.getVariant(s);a&&s_(t,a),t.variantChildren&&t.variantChildren.forEach(l=>{Ry(l,e)})})}function K6(t,e){if(Array.isArray(e))return Ry(t,e);if(typeof e=="string")return Ry(t,[e]);s_(t,e)}function Y6(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,s){const a=[];return t.forEach(l=>{a.push(FR(l,n,{transitionOverride:s}))}),Promise.all(a)},set(n){return t.forEach(s=>{K6(s,n)})},stop(){t.forEach(n=>{G6(n)})},mount(){return()=>{e.stop()}}};return e}function $6(){const t=Hf(Y6);return Lv(t.mount,[]),t}const Q6=$6;var Cy=new Map,ld=new WeakMap,Yx=0,X6;function W6(t){return t?(ld.has(t)||(Yx+=1,ld.set(t,Yx.toString())),ld.get(t)):"0"}function Z6(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?W6(t.root):t[e]}`).toString()}function J6(t){const e=Z6(t);let n=Cy.get(e);if(!n){const s=new Map;let a;const l=new IntersectionObserver(u=>{u.forEach(m=>{var p;const g=m.isIntersecting&&a.some(v=>m.intersectionRatio>=v);t.trackVisibility&&typeof m.isVisible>"u"&&(m.isVisible=g),(p=s.get(m.target))==null||p.forEach(v=>{v(g,m)})})},t);a=l.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:l,elements:s},Cy.set(e,n)}return n}function e5(t,e,n={},s=X6){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const p=t.getBoundingClientRect();return e(s,{isIntersecting:s,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:p,intersectionRect:p,rootBounds:p}),()=>{}}const{id:a,observer:l,elements:u}=J6(n),m=u.get(t)||[];return u.has(t)||u.set(t,m),m.push(e),l.observe(t),function(){m.splice(m.indexOf(e),1),m.length===0&&(u.delete(t),l.unobserve(t)),u.size===0&&(l.disconnect(),Cy.delete(a))}}function t5({threshold:t,delay:e,trackVisibility:n,rootMargin:s,root:a,triggerOnce:l,skip:u,initialInView:m,fallbackInView:p,onChange:g}={}){var v;const[_,S]=I.useState(null),R=I.useRef(g),j=I.useRef(m),[z,P]=I.useState({inView:!!m,entry:void 0});R.current=g,I.useEffect(()=>{if(j.current===void 0&&(j.current=m),u||!_)return;let pe;return pe=e5(_,(se,ae)=>{const N=j.current;j.current=se,!(N===void 0&&!se)&&(P({inView:se,entry:ae}),R.current&&R.current(se,ae),ae.isIntersecting&&l&&pe&&(pe(),pe=void 0))},{root:a,rootMargin:s,threshold:t,trackVisibility:n,delay:e},p),()=>{pe&&pe()}},[Array.isArray(t)?t.toString():t,_,a,s,l,u,n,p,e]);const O=(v=z.entry)==null?void 0:v.target,G=I.useRef(void 0);!_&&O&&!l&&!u&&G.current!==O&&(G.current=O,P({inView:!!m,entry:void 0}),j.current=m);const q=[S,z.inView,z.entry];return q.ref=q[0],q.inView=q[1],q.entry=q[2],q}const Rn=({children:t,delay:e=0})=>{const n=Q6(),{ref:s,inView:a}=t5({triggerOnce:!0,threshold:.15});return I.useEffect(()=>{a&&n.start("visible")},[a,n]),d.jsx(UC.div,{ref:s,initial:"hidden",animate:n,transition:{duration:.6,delay:e,ease:"easeOut"},variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},style:{width:"100%"},children:t})};function n5({item:t}){const{addItem:e,items:n,removeItem:s}=dl();return d.jsxs("div",{className:"menu-item-simple homePopularItemsDiv",children:[d.jsx("img",{src:`./assets/${t.image}`,alt:t.name,className:"menu-item-simple-img"}),d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:t.name}),d.jsx("p",{className:"menu-cart-item-description",children:t.description}),d.jsxs("p",{className:"menu-cart-item-price",style:{fontWeight:"bold"},children:["DKK ",t.price.toFixed(2)]})]}),n.some(a=>a.id===t.id)?d.jsx("div",{className:"menu-cart-controls",children:d.jsx("button",{onClick:a=>{a.stopPropagation(),s(t.id)},className:"menu-item-simple-add",children:d.jsx(Pa,{className:"cart-clear-icon"})})}):d.jsx(_t,{to:"/cart",className:"menu-cart-controls",children:d.jsx("button",{onClick:a=>{a.stopPropagation(),e({...t,qty:1})},className:"menu-item-simple-add",children:"+"})})]},t.id)}function i5({item:t,onClose:e,onConfirm:n}){const[s,a]=I.useState([]),[l,u]=I.useState(!1),[m,p]=I.useState(!1),[g,v]=I.useState(1),_=()=>v(O=>O+1),S=()=>v(O=>O>1?O-1:1),R=O=>{a(G=>G.includes(O)?G.filter(q=>q!==O):[...G,O])},j=()=>{u(!0),setTimeout(()=>{u(!1),n(s,g)},600)},z=()=>{m||(p(!0),setTimeout(()=>{e()},200))},P=s.reduce((O,G)=>O+(G.extraPrice||0),0);return I.useEffect(()=>{const O=G=>{G.key==="Escape"&&!m&&z()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[m]),d.jsx("div",{className:`modal-overlay ${m?"modal-closing":""}`,onClick:z,children:d.jsxs("div",{className:`modal-box ${m?"modal-closing":""}`,onClick:O=>O.stopPropagation(),children:[d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-image-wrapper",children:[d.jsx("img",{className:"modalImage",src:`./assets/${t.image}`,alt:t.image}),d.jsxs("div",{className:"modal-price-badge",children:[t.price.toFixed(2)," kr"]})]}),d.jsxs("div",{className:"modal-header-section",children:[d.jsxs("h3",{className:"modal-title-text",children:["Tilpas din ",t.name]}),t.description&&d.jsx("p",{className:"modal-item-desc",children:t.description})]}),t.ingredients&&t.ingredients.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-section-divider"}),d.jsx("p",{className:"modal-desc",children:"Vlg tilvalg:"}),d.jsx("div",{className:"modal-ingredients",children:t.ingredients.map(O=>d.jsxs("label",{className:"modal-ingredient",children:[d.jsx("input",{type:"checkbox",checked:s.includes(O),onChange:()=>R(O)}),d.jsx("span",{className:"custom-checkbox"}),d.jsxs("span",{className:"ingredient-label",children:[d.jsx("span",{className:"ingredient-name",children:O.name}),O.extraPrice?d.jsxs("span",{className:"ingredient-price",children:["+",O.extraPrice," kr"]}):null]})]},O.name))})]})]}),d.jsx("button",{onClick:z,className:"modal-cancel",children:d.jsx(xw,{width:20,height:20})}),d.jsxs("div",{className:"modal-buttons",children:[d.jsxs("div",{className:"modal-qty",children:[d.jsx("button",{onClick:S,disabled:g<=1,"aria-label":"Decrease quantity",children:""}),d.jsx("span",{children:g}),d.jsx("button",{onClick:_,"aria-label":"Increase quantity",children:"+"})]}),d.jsxs("div",{className:"modal-add-wrapper",children:[d.jsx("button",{onClick:j,className:"modal-confirm",children:d.jsxs("span",{children:["Tilfj til ",window.innerWidth<720?"":"kurv"," "," ",((t.price+P)*g).toFixed(2)," kr"]})}),l&&d.jsx("div",{className:"add-notify",children:"Tilfjet!"})]})]})]})})}function $x(){const[t,e]=I.useState(""),[n,s]=I.useState(!1),[a,l]=I.useState("Most Popular"),[u,m]=I.useState(null),[p,g]=I.useState([]),[v,_]=I.useState(!0),[S,R]=I.useState(null),[j,z]=I.useState(!1),[P,O]=I.useState([]),G=I.useRef({}),q=I.useRef(null),pe=I.useRef({}),{addItem:se,items:ae,updateQty:N,removeItem:A,clear:D,total:V}=dl(),[M,B]=I.useState(!1),k=I.useRef(null),Ue=I.useRef(ae.length),[Ve,ee]=I.useState(!1),fe=ae.reduce((U,Q)=>U+Q.qty,0);I.useEffect(()=>{if(fe===0)return;ee(!0);const U=setTimeout(()=>ee(!1),500);return()=>clearTimeout(U)},[fe]),I.useEffect(()=>{const U=window.innerWidth<720,Q=Ue.current,te=ae.length>Q,ye=sessionStorage.getItem("cart_drawer_opened_once");U&&te&&ae.length>0&&!ye&&(sessionStorage.setItem("cart_drawer_opened_once","true"),z(!0)),Ue.current=ae.length},[ae.length]),I.useEffect(()=>{j&&k.current&&requestAnimationFrame(()=>{k.current.scrollTo({top:k.current.scrollHeight,behavior:"smooth"})})},[j,ae.length]),I.useEffect(()=>{M&&k.current&&requestAnimationFrame(()=>{k.current.scrollTo({top:0,behavior:"smooth"})})},[M]),I.useEffect(()=>{async function U(){try{_(!0),R(null);const te=ef(),ye=eR();if(te&&te.length>0){const xe=te.map(ke=>({...ke,id:ke.id||""}));g(xe),_(!1);const we=await Fa();if(we&&(!ye||we.getTime()>ye.getTime())){const Ke=(await nu()).map(lt=>({...lt,id:lt.id||""}));g(Ke),tf(Ke),nf(we)}}else{const we=(await nu()).map(Ce=>({...Ce,id:Ce.id||""}));g(we),tf(we);const ke=await Fa();ke&&nf(ke)}}catch(te){console.error("Error loading products:",te),R("Kunne ikke indlse produkter. Prv venligst igen.");const ye=ef();if(ye&&ye.length>0){const xe=ye.map(we=>({...we,id:we.id||""}));g(xe)}}finally{_(!1)}}U();async function Q(){try{const te=sf(),ye=tR();if(te&&te.length>=0&&ye){O(te);const{lastUpdated:xe,productIds:we}=await ll();xe&&(!ye||xe.getTime()>ye.getTime())&&(O(we),rf(we),af(xe))}else{const{lastUpdated:xe,productIds:we}=await ll();O(we),rf(we),xe&&af(xe)}}catch(te){console.error("Error loading most popular product IDs:",te);const ye=sf();ye&&O(ye)}}Q()},[]);const Ee=P.length>0?["Most Popular",...new Set(p.map(U=>U.category))]:[...new Set(p.map(U=>U.category))],De=U=>{m(U)},H=()=>{m(null)},x=(U,Q,te)=>{se({...U,selectedIngredients:Q,qty:te}),m(null)};I.useEffect(()=>(u?(document.body.classList.add("modal-open"),document.querySelector(".menu-grid")?.classList.add("modal-open")):(document.body.classList.remove("modal-open"),document.querySelector(".menu-grid")?.classList.remove("modal-open")),()=>{document.body.classList.remove("modal-open"),document.querySelector(".menu-grid")?.classList.remove("modal-open")}),[u]),I.useEffect(()=>(j?document.body.classList.add("cart-drawer-open"):document.body.classList.remove("cart-drawer-open"),()=>{document.body.classList.remove("cart-drawer-open")}),[j]),I.useEffect(()=>(n?document.body.classList.add("modal-open-allergen"):document.body.classList.remove("modal-open-allergen"),()=>{document.body.classList.remove("modal-open-allergen")}),[n]),I.useEffect(()=>{const U=()=>{Object.values(pe.current).forEach(te=>{if(!te)return;const ye=te.getBoundingClientRect();ye.top<=0&&ye.bottom>0?te.classList.add("is-sticky"):te.classList.remove("is-sticky")})},Q=setTimeout(()=>{U()},100);return window.addEventListener("scroll",U,{passive:!0}),()=>{clearTimeout(Q),window.removeEventListener("scroll",U)}},[p]),I.useEffect(()=>{if(v||p.length===0)return;const U=()=>{const te=document.querySelector(".menu-filters")?.querySelector(".categoriesContainer"),ye=document.querySelector(".categoriesContainer-revealOnScroll");if(!te||!ye)return;te.getBoundingClientRect().top<=0?ye.classList.add("is-visible"):ye.classList.remove("is-visible")};return window.addEventListener("scroll",U,{passive:!0}),window.addEventListener("resize",U,{passive:!0}),()=>{window.removeEventListener("scroll",U),window.removeEventListener("resize",U)}},[v,p.length]);const Y=p.filter(U=>U.name.toLowerCase().includes(t.toLowerCase())||U.description.toLowerCase().includes(t.toLowerCase())||U.tags?.some(te=>te.toLowerCase().includes(t.toLowerCase()))||U.category.toLowerCase().includes(t.toLowerCase())),re=Y.filter(U=>U.id&&P.includes(U.id)),he=I.useRef(!1),ge=I.useRef(!1),ve=U=>{he.current=!0,l(U);const Q=U==="Most Popular"?q.current:G.current[U];Q&&Q.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{he.current=!1},1e3)};return I.useEffect(()=>{ge.current||v||p.length===0||window.scrollY>0||P.length>0&&re.length>0&&(a!=="Most Popular"?(ge.current=!0,l("Most Popular")):ge.current=!0)},[v,p.length,P.length,re.length,a]),I.useEffect(()=>{if(v||p.length===0||!a)return;const U=document.querySelector(".categoriesContainer-revealOnScroll");if(!U||!U.classList.contains("is-visible"))return;const Q=U.querySelectorAll("button");let te=null;if(Q.forEach(ye=>{ye.textContent?.trim()===a&&(te=ye)}),te&&U){const ye=U.getBoundingClientRect(),xe=te.getBoundingClientRect(),we=U.scrollLeft+(xe.left-ye.left)-ye.width/2+xe.width/2;U.scrollTo({left:we,behavior:"smooth"})}},[a,v,p.length]),I.useEffect(()=>{if(v||p.length===0)return;const U=()=>{if(he.current||!ge.current)return;const ye=window.scrollY||window.pageYOffset,we=window.innerHeight*.3;let ke=null,Ce=1/0;if(q.current){const Ke=q.current.getBoundingClientRect(),lt=Ke.top+ye,Tt=Math.abs(ye+we-lt);Ke.top<=we&&Ke.bottom>0&&Tt<Ce&&(Ce=Tt,ke="Most Popular")}Object.entries(G.current).forEach(([Ke,lt])=>{if(!lt)return;const Tt=lt.getBoundingClientRect(),Zt=Tt.top+ye,nt=Math.abs(ye+we-Zt);Tt.top<=we&&Tt.bottom>0&&nt<Ce&&(Ce=nt,ke=Ke)}),ke&&ke!==a&&l(ke)};let Q=!1;const te=()=>{Q||(window.requestAnimationFrame(()=>{U(),Q=!1}),Q=!0)};return window.addEventListener("scroll",te,{passive:!0}),window.addEventListener("resize",U,{passive:!0}),U(),()=>{window.removeEventListener("scroll",te),window.removeEventListener("resize",U)}},[v,p.length,a]),v?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsxs("div",{style:{textAlign:"center",padding:"4rem"},children:[d.jsx("p",{children:"Indlser menuen..."}),d.jsx("div",{className:"notification-spinner"})]})}):S?d.jsx("main",{className:"menuPageContainer max-w-6xl",children:d.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:d.jsx("p",{style:{color:"red"},children:S})})}):d.jsxs("main",{className:"menuPageContainer max-w-7xl",children:[d.jsxs("div",{className:"menu-header",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-subtitle",children:"Vlg en kategori for at se vores retter."}),d.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2 mb-0",children:[d.jsx("span",{role:"img","aria-label":"bestik",className:"menu-header-icon",children:""}),"Bestil takeaway"]})]}),d.jsxs("button",{className:"allergen-btn",onClick:()=>s(!0),children:[d.jsx("span",{className:"allergen-btn-text",children:"Allergener"}),d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2L2 20h20L12 2z"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),d.jsx("circle",{cx:"12",cy:"17",r:"1"})]})]})]}),n&&d.jsx("div",{className:"allergen-modal",onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>s(!1),400)},children:d.jsxs("div",{className:"max-w-6xl modal-content",onClick:U=>U.stopPropagation(),children:[d.jsx("div",{className:"modal-close-btn",children:d.jsx("button",{onClick:()=>{document.querySelector(".allergen-modal")?.classList.add("allergen-close-animation"),setTimeout(()=>s(!1),400)},"aria-label":"Close",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"custom-x-icon",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})}),d.jsx("h3",{className:"modal-title",children:"Allergener & Kontakt"}),d.jsx("p",{className:"modal-text",children:"Kontakt os hvis du har sprgsml om allergener, ingredienser eller bestilling."}),d.jsxs("div",{className:"contact-box",children:[d.jsx("p",{className:"contact-header",children:"Kontakt os direkte"}),d.jsx("a",{href:"tel:+4555376976",className:"contact-btn call",children:" Ring: 55 37 69 76"}),d.jsx("a",{href:"sms:+4555376976",className:"contact-btn sms",children:" Send SMS"}),d.jsx("a",{href:"https://wa.me/004555376976",className:"contact-btn whatsapp",target:"_blank",children:" WhatsApp"})]}),d.jsxs("div",{className:"allergen-box",children:[d.jsx("h4",{className:"allergen-title",children:"Almindelige allergener"}),d.jsxs("ul",{className:"allergen-list",children:[d.jsx("li",{children:" Gluten"}),d.jsx("li",{children:" Laktose"}),d.jsx("li",{children:" g"}),d.jsx("li",{children:" Ndder"}),d.jsx("li",{children:" Fisk"}),d.jsx("li",{children:" Skaldyr"}),d.jsx("li",{children:" Rejer"}),d.jsx("li",{children:" Sulfitter"})]}),d.jsx("p",{className:"modal-note",children:"Kontakt os for detaljer om specifikke retter."})]}),d.jsxs("div",{className:"hours-box",children:[d.jsx("h4",{className:"hours-title",children:"bningstider"}),d.jsx("div",{className:"hours-list",children:d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{children:"Mandag  Sndag"}),d.jsx("span",{className:"hours-time",children:"11:00  21:00"})]})})]})]})}),d.jsxs("div",{className:"menu-grid",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:U=>e(U.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]}),d.jsx("aside",{className:"menu-sidebar",children:d.jsx("div",{className:"categoriesContainer",children:Ee.map(U=>d.jsx("button",{className:U===a?"solid":"ghost",onClick:()=>ve(U),children:U},U))})}),d.jsx("div",{className:"categoriesContainer-revealOnScroll",children:Ee.map(U=>d.jsx("button",{className:U===a?"solid":"ghost",onClick:()=>ve(U),children:U},U))}),d.jsxs("section",{className:"menu-products",children:[d.jsxs("div",{className:"menu-filters",children:[d.jsx(Rn,{children:d.jsxs("div",{className:"search-container",children:[d.jsx("input",{type:"text",placeholder:"Sg efter pizza, grill, drikke...",value:t,onChange:U=>e(U.target.value),className:"menu-search"}),d.jsx("span",{className:"search-icon",children:""})]})}),d.jsx(Rn,{children:d.jsx("div",{className:"categoriesContainer",children:Ee.map(U=>d.jsx("button",{className:U===a?"solid":"ghost",onClick:()=>ve(U),children:U},U))})})]}),d.jsx(Rn,{children:P.length>0&&re.length>0&&d.jsxs("div",{className:"menu-category-block menu-popular-block",ref:U=>{q.current=U},children:[d.jsx("h3",{className:"menu-category-title",ref:U=>{pe.current["Most Popular"]=U},children:"Most Popular"}),d.jsx("div",{className:"menu-products-grid",children:re.map(U=>d.jsxs("div",{className:"menu-item-simple",onClick:Q=>{Q.stopPropagation(),U.ingredients&&U.ingredients.length>0&&De(U)},children:[d.jsx("img",{src:`./assets/${U.image}`,alt:U.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:U.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[U.price.toFixed(2)," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:U.description}),U.tags&&U.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:U.tags.slice(0,2).map(Q=>d.jsx("span",{className:"menu-item-simple-tag",children:Q},Q))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:Q=>{Q.stopPropagation(),U.ingredients&&U.ingredients.length>0?De(U):x(U,[],1)},children:"+"})]},U.id))})]})}),Array.from(new Set(p.map(U=>U.category))).map(U=>{const Q=Y.filter(te=>te.category===U);return Q.length===0?null:d.jsxs("div",{className:"menu-category-block",ref:te=>{G.current[U]=te},children:[d.jsx("h3",{className:"menu-category-title",ref:te=>{pe.current[U]=te},children:U}),d.jsx("div",{className:"menu-products-grid",children:Q.map(te=>d.jsxs("div",{className:"menu-item-simple",onClick:ye=>{ye.stopPropagation(),te.ingredients&&te.ingredients.length>0&&De(te)},children:[d.jsx("img",{src:`./assets/${te.image}`,alt:te.name,className:"menu-item-simple-img"}),d.jsxs("div",{className:"menu-item-simple-content",children:[d.jsxs("div",{className:"menu-item-simple-header",children:[d.jsx("h4",{className:"menu-item-simple-name",children:te.name}),d.jsxs("span",{className:"menu-item-simple-price",children:[te.price.toFixed(2)," kr"]})]}),d.jsx("p",{className:"menu-item-simple-desc",children:te.description}),te.tags&&te.tags.length>0&&d.jsx("div",{className:"menu-item-simple-tags",children:te.tags.slice(0,2).map(ye=>d.jsx("span",{className:"menu-item-simple-tag",children:ye},ye))})]}),d.jsx("button",{className:"menu-item-simple-add",onClick:ye=>{ye.stopPropagation(),te.ingredients&&te.ingredients.length>0?De(te):x(te,[],1)},children:"+"})]},te.id))})]},U)}),u&&d.jsx(i5,{item:u,onClose:H,onConfirm:(U,Q)=>x(u,U,Q)}),Y.length===0&&d.jsx("p",{className:"no-results",children:"Ingen resultater fundet "})]}),d.jsx("div",{className:`cart-drawer-overlay ${j?"cart-drawer-open":""}`,onClick:()=>z(!1),children:d.jsxs("div",{className:`cart-drawer ${j?"cart-drawer-open":""}`,onClick:U=>U.stopPropagation(),children:[d.jsxs("div",{className:"cart-drawer-header",children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("div",{className:"cart-drawer-header-actions",children:[ae.length>0&&d.jsxs("button",{className:`cart-clear-btn ${M?"active":""}`,onClick:()=>B(!0),"aria-label":"Tm kurv",children:[d.jsx(Pa,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]}),d.jsx("button",{className:"cart-drawer-close",onClick:()=>z(!1),"aria-label":"Luk kurv",children:d.jsx(xw,{width:24,height:24})})]})]}),ae.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"menu-cart-items",ref:k,children:[M&&d.jsxs("div",{className:"cart-confirm-box mb-0",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>B(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{D(),B(!1)},children:"Ja, tm kurv"})]})]}),ae.map(U=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:U.name}),U.selectedIngredients&&U.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:U.selectedIngredients.map((Q,te)=>d.jsxs("span",{children:[Q.name,Q.extraPrice?` (+${Q.extraPrice} kr)`:"",te<U.selectedIngredients.length-1?", ":""]},te))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(U.price*U.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>{U.qty==1?A(U.id):N(U.id,Math.max(1,U.qty-1))},"aria-label":"Fjern en",children:""}),d.jsx("span",{children:U.qty}),d.jsx("button",{onClick:()=>N(U.id,U.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>A(U.id),children:d.jsx(Pa,{className:"clear-cart-icon"})})]})]},U.id))]}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",V.toFixed(2)]})]}),d.jsx(_t,{to:"/checkout",className:"nav-cta menu-cart-cta",onClick:()=>z(!1),children:"G til checkout"})]})]})}),fe>0&&d.jsxs("button",{className:`mobile-cart-button ${Ve?"animate":""}`,onClick:()=>z(!0),children:[d.jsx(Gc,{}),d.jsx("span",{className:"mobile-cart-badge",children:fe})]}),d.jsxs("aside",{className:"menu-cart-panel",children:[d.jsxs("div",{className:"menu-cart-header",children:[d.jsxs("div",{children:[d.jsx("h3",{children:"Din kurv"}),d.jsxs("span",{className:"menu-cart-count",children:[ae.length," varer"]})]}),ae.length>0&&d.jsxs("button",{className:`cart-clear-btn ${M?"active":""}`,onClick:()=>B(!0),"aria-label":"Tm kurv",children:[d.jsx(Pa,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),ae.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"menu-cart-items",children:[M&&d.jsxs("div",{className:"cart-confirm-box mb-0",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>B(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{D(),B(!1)},children:"Ja, tm kurv"})]})]}),ae.map(U=>d.jsxs("div",{className:"menu-cart-item",children:[d.jsxs("div",{children:[d.jsx("p",{className:"menu-cart-item-name",children:U.name}),U.selectedIngredients&&U.selectedIngredients.length>0&&d.jsx("p",{className:"menu-cart-item-ingredients",children:U.selectedIngredients.map((Q,te)=>d.jsxs("span",{children:[Q.name,Q.extraPrice?` (+${Q.extraPrice} kr)`:"",te<U.selectedIngredients.length-1?", ":""]},te))}),d.jsxs("p",{className:"menu-cart-item-price",children:["DKK ",(U.price*U.qty).toFixed(2)]})]}),d.jsxs("div",{className:"menu-cart-controls",children:[d.jsx("button",{onClick:()=>{U.qty==1?A(U.id):N(U.id,Math.max(1,U.qty-1))},"aria-label":"Fjern en",children:""}),d.jsx("span",{children:U.qty}),d.jsx("button",{onClick:()=>N(U.id,U.qty+1),"aria-label":"Tilfj en",children:"+"}),d.jsx("button",{className:"menu-cart-remove",onClick:()=>A(U.id),children:d.jsx(Pa,{className:"clear-cart-icon"})})]})]},U.id))]}),d.jsxs("div",{className:"menu-cart-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:["DKK ",V.toFixed(2)]})]}),d.jsx(_t,{to:"/checkout",className:"nav-cta menu-cart-cta",children:"G til checkout"})]})]})]})]})}async function Ny(t,e=!1){try{let n=qs(Tl(nn,"reviews"),Uf("createdAt","desc"));t&&(n=qs(n,iV(t)));const a=(await wv(n)).docs.map(l=>{const u=l.data(),m=u.createdAt;return{id:l.id,...u,createdAt:m?.toDate?m.toDate():new Date(m)}});return e?a:a.filter(l=>l.approved!==!1)}catch(n){throw console.error("Error fetching reviews:",n),n}}async function Qx(t,e){try{const n=Bn(nn,"reviews",t);await Av(n,e),await zC()}catch(n){throw console.error("Error updating review:",n),n}}async function $o(){try{const t=Bn(nn,"metadata","reviews"),e=await bv(t);if(e.exists()){const s=e.data().lastUpdated;if(s)return s.toDate?s.toDate():new Date(s)}return null}catch(t){return console.error("Error fetching reviews metadata:",t),null}}async function zC(){try{const t=Bn(nn,"metadata","reviews");await zf(t,{lastUpdated:Yd()},{merge:!0})}catch(t){console.error("Error updating reviews metadata:",t)}}async function s5(t){try{const e=Bn(nn,"reviews",t);await m1(e),await zC()}catch(e){throw console.error("Error deleting review:",e),e}}const BC="xanthos_reviews",FC="xanthos_reviews_lastUpdated";function Xx(){try{const t=localStorage.getItem(BC);if(t)return JSON.parse(t).map(n=>({...n,createdAt:n.createdAt?new Date(n.createdAt):new Date}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function Wx(t){try{const e=t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt.toISOString():n.createdAt}));localStorage.setItem(BC,JSON.stringify(e))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function r5(){try{const t=localStorage.getItem(FC);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function Zx(t){try{localStorage.setItem(FC,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}const Jx=[{id:1,title:"BBQ Ribs Combo",description:"Saftiga ribs med vr hemlagade BBQ-ss + liten Cola",price:"159,-",image:"./assets/pepperoni.jpg"},{id:2,title:"Pepperoni Pizza Deal",description:"Stor pepperoni pizza + valgfri dip",price:"119,-",image:"./assets/pepperoni.jpg"},{id:3,title:"Mixed Grill Plate",description:"Kebabspyd, plser & pommes frites",price:"169,-",image:"./assets/pepperoni.jpg"}];function a5(){const t=new Date().getDate()%Jx.length,e=Jx[t],[n,s]=I.useState([]),[a,l]=I.useState(!0),[u,m]=I.useState(4.6),[p,g]=I.useState(500),[v,_]=I.useState([]),[S,R]=I.useState([]),[j,z]=I.useState([]),[P,O]=I.useState(!0),[G,q]=I.useState(null);I.useEffect(()=>{async function ae(){try{O(!0),q(null);const A=ef(),D=eR();if(A&&A.length>0){const V=A.map(B=>({...B,id:B.id||""}));_(V),O(!1);const M=await Fa();if(M&&(!D||M.getTime()>D.getTime())){const Ue=(await nu()).map(Ve=>({...Ve,id:Ve.id||""}));_(Ue),tf(Ue),nf(M)}}else{const M=(await nu()).map(k=>({...k,id:k.id||""}));_(M),tf(M);const B=await Fa();B&&nf(B)}}catch(A){console.error("Error loading products:",A),q("Kunne ikke indlse produkter. Prv venligst igen."),console.log(G);const D=ef();if(D&&D.length>0){const V=D.map(M=>({...M,id:M.id||""}));_(V)}}finally{O(!1)}}ae();async function N(){try{const A=sf(),D=tR();if(A&&A.length>=0&&D){R(A);const{lastUpdated:V,productIds:M}=await ll();V&&(!D||V.getTime()>D.getTime())&&(R(M),rf(M),af(V))}else{const{lastUpdated:V,productIds:M}=await ll();R(M),rf(M),V&&af(V)}}catch(A){console.error("Error loading most popular product IDs:",A);const D=sf();D&&R(D)}}N()},[]),I.useEffect(()=>{if(v.length===0||S.length===0)return;const ae=v.filter(N=>N.id&&S.includes(N.id));z(ae)},[v,S]);function pe(){const ae=new Date,N=ae.getHours(),A=ae.getMinutes(),D=N+A/60;return D>=11&&D<22}I.useEffect(()=>{async function ae(){try{l(!0);const N=Xx(),A=r5();if(N&&N.length>0){s(N);const D=N.reduce((M,B)=>M+B.rating,0)/N.length;m(Math.round(D*10)/10),g(N.length),l(!1);const V=await $o();if(V&&(!A||V.getTime()>A.getTime())){const B=await Ny(6);if(s(B),Wx(B),Zx(V),B.length>0){const k=B.reduce((Ue,Ve)=>Ue+Ve.rating,0)/B.length;m(Math.round(k*10)/10),g(B.length)}}}else{const D=await Ny(6);if(s(D),Wx(D),D.length>0){const M=D.reduce((B,k)=>B+k.rating,0)/D.length;m(Math.round(M*10)/10),g(D.length)}const V=await $o();V&&Zx(V)}}catch(N){console.error("Error loading reviews:",N);const A=Xx();if(A&&A.length>0){s(A);const D=A.reduce((V,M)=>V+M.rating,0)/A.length;m(Math.round(D*10)/10),g(A.length)}}finally{l(!1)}}ae()},[]);function se(ae){const N=Math.floor(ae),A=ae%1>=.5,D=5-N-(A?1:0);return d.jsxs(d.Fragment,{children:["".repeat(N),A&&"","".repeat(D)]})}return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"hero-section",children:[d.jsx("div",{className:"hero-overlay"}),d.jsxs("div",{className:"hero-container",children:[d.jsxs("div",{className:"hero-content",children:[d.jsxs("div",{className:"hero-badge",children:[d.jsx("span",{className:pe()?"open-dot":"closed-dot"}),pe()?"ben nu":"Lukket  bner kl. 11:00"]}),d.jsxs("h1",{className:"hero-title",children:[d.jsx(Mg,{className:"hero-title-pizza-icon"}),d.jsx("span",{children:"Velkommen til Xanthos Pizza & Grill"})]}),d.jsx("p",{className:"hero-subtitle",children:"Autentiske pizzor och grillfavoriter. Bestll enkelt online och hmta eller f hemleverans."}),d.jsxs("div",{className:"hero-features",children:[d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Pickup"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"Levering"]}),d.jsxs("span",{className:"hero-feature",children:[d.jsx("span",{className:"hero-icon",children:""}),"4.6/5 (500+ anmeldelser)"]})]}),d.jsxs("div",{className:"hero-cta",children:[d.jsxs(_t,{to:"/bestil",className:"btn-primary",children:["Bestil takeaway",d.jsx(jd,{})]}),d.jsx(_t,{to:"/menu",className:"btn-secondary",children:"Se menu"})]})]}),d.jsx(Rn,{children:d.jsx("div",{className:"hero-special",children:d.jsxs("div",{className:"special-card",children:[d.jsx("span",{className:"special-badge",children:"Dagens tilbud"}),d.jsx("div",{className:"special-image",children:d.jsx("img",{src:e.image,alt:e.title})}),d.jsx("h3",{className:"special-title",children:e.title}),d.jsx("p",{className:"special-desc",children:e.description}),d.jsx("p",{className:"special-price",children:e.price})]})})})]})]}),d.jsxs("main",{className:"home-main",children:[d.jsx("section",{className:"trust-section",children:d.jsxs("div",{className:"trust-grid",children:[d.jsx(Rn,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Levering"}),d.jsx("p",{children:"Hurtig & varm"})]})}),d.jsx(Rn,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Afhentning"}),d.jsx("p",{children:"Klar p 15 min"})]})}),d.jsx(Rn,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"Sikker betaling"}),d.jsx("p",{children:"Kort & MobilePay"})]})}),d.jsx(Rn,{children:d.jsxs("div",{className:"trust-card",children:[d.jsx("div",{className:"trust-icon",children:""}),d.jsx("h3",{children:"4.6 stjerner"}),d.jsx("p",{children:"500+ anmeldelser"})]})})]})}),d.jsxs("section",{className:"section about-section",children:[d.jsx(Rn,{children:d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title darkTitle",children:"Om os"}),d.jsx("p",{className:"section-subtitle",children:"Din lokale pizzabar og grill"})]})}),d.jsx(Rn,{children:d.jsxs("div",{className:"about-content",children:[d.jsxs("div",{className:"about-text",children:[d.jsx("p",{children:"Xanthos Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]}),d.jsx("div",{className:"about-image",children:d.jsx("div",{className:"about-image-placeholder",children:d.jsx(Mg,{})})})]})})]}),d.jsxs("section",{className:"section popular-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Populre retter"}),d.jsx("p",{className:"section-subtitle",children:"Kundernas favoriter just nu"})]}),d.jsx("div",{className:"popular-grid",children:P?d.jsx("div",{className:"popular-loading",children:"Indlser populre retter..."}):G?d.jsx("div",{className:"popular-error",children:G}):j.length===0?d.jsx("div",{className:"popular-empty",children:"Ingen populre retter fundet."}):j.slice(0,3).map(ae=>d.jsx(Rn,{children:d.jsx(n5,{item:ae})},ae.id))})]}),d.jsx("section",{className:"section info-section",children:d.jsxs("div",{className:"info-grid",children:[d.jsx(Rn,{children:d.jsxs("div",{className:"info-card hours-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"bningstider"})]}),d.jsxs("div",{className:"hours-list",children:[d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{className:"darkTitle",children:"Mandag  Torsdag"}),d.jsx("span",{className:"hours-time",children:"11:00  21:00"})]}),d.jsxs("div",{className:"hours-item",children:[d.jsx("span",{className:"darkTitle",children:"Fredag  Sndag"}),d.jsx("span",{className:"hours-time",children:"11:00  23:00"})]})]}),d.jsxs("div",{className:`hours-status ${pe()?"open":"closed"}`,children:[d.jsx("span",{className:"status-dot"}),pe()?"ben nu":"Lukket"]})]})}),d.jsx(Rn,{children:d.jsxs("div",{className:"info-card contact-card",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsx("span",{className:"info-icon",children:""}),d.jsx("h3",{children:"Kontakt os"})]}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("a",{href:"tel:70123456",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Telefon:"}),d.jsx("span",{className:"contact-value",children:"70 12 34 56"})]}),d.jsxs("a",{href:"mailto:info@pizza-grill.dk",className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"E-mail:"}),d.jsx("span",{className:"contact-value",children:"info@pizza-grill.dk"})]}),d.jsxs("div",{className:"contact-link",children:[d.jsx("span",{className:"contact-label",children:"Adresse:"}),d.jsx("span",{className:"contact-value",children:"Hovedgade 123, 1234 By"})]})]})]})})]})}),d.jsx(Rn,{children:d.jsxs("section",{className:"section reviews-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title darkTitle",children:"Hvad vores kunder siger"}),d.jsx("p",{className:"section-subtitle",children:"Anmeldelser fra vores glade kunder"})]}),a?d.jsx("div",{className:"reviews-loading",children:"Indlser anmeldelser..."}):n.length===0?d.jsx("div",{className:"reviews-empty",children:d.jsx("p",{children:"Ingen anmeldelser endnu. Vr den frste til at anmelde!"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"reviews-grid",children:n.slice(0,3).map(ae=>d.jsxs("div",{className:"review-card",children:[d.jsx("div",{className:"review-stars",children:se(ae.rating)}),d.jsxs("p",{className:"review-text",children:['"',ae.text,'"']}),d.jsxs("p",{className:"review-author darkTitle",children:[" ",ae.author]})]},ae.id))}),d.jsxs("p",{className:"reviews-average",children:[" ",u.toFixed(1)," gennemsnitlig vurdering fra"," ",p," anmeldelse",p!==1?"r":""]})]})]})}),d.jsx(Rn,{children:d.jsx("section",{className:"section cta-section",children:d.jsxs("div",{className:"cta-content",children:[d.jsx("h2",{className:"cta-title",children:"Klar til at bestille?"}),d.jsx("p",{className:"cta-subtitle",children:"Udforsk vores menu og bestil dine favoritter nu"}),d.jsx(_t,{to:"/bestil",className:"btn-primary btn-large darkTitle",children:"Bestil nu "})]})})})]})]})}function o5(){const t=pf(),{items:e,updateQty:n,removeItem:s,clear:a,total:l}=dl(),[u,m]=I.useState(!1),p=.25,g=Math.round(l*p/(1+p)),v=l-g,_=e.reduce((S,R)=>S+R.qty,0);return d.jsx("main",{className:"cart-page",children:d.jsxs("div",{className:"cart-page-container",children:[d.jsxs("div",{className:"cart-page-header",children:[d.jsxs("div",{className:"cart-page-title-section",children:[d.jsxs("h1",{className:"cart-page-title",children:[d.jsx(Gc,{className:"cart-page-icon"}),"Din kurv"]}),e.length>0&&d.jsxs("p",{className:"cart-page-subtitle",children:[_," ",_===1?"vare":"varer"]})]}),e.length>0&&d.jsxs("button",{className:`cart-clear-btn ${u?"active":""}`,onClick:()=>m(!0),"aria-label":"Tm kurv",children:[d.jsx(Pa,{className:"cart-clear-icon"}),d.jsx("span",{children:"Tm kurv"})]})]}),u&&d.jsxs("div",{className:"cart-confirm-box",children:[d.jsxs("div",{className:"cart-confirm-content",children:[d.jsx("div",{className:"cart-confirm-icon",children:""}),d.jsxs("div",{className:"cart-confirm-text",children:[d.jsx("h3",{className:"cart-confirm-title",children:"Tm kurven?"}),d.jsx("p",{className:"cart-confirm-desc",children:"Alle varer fjernes permanent. Denne handling kan ikke fortrydes."})]})]}),d.jsxs("div",{className:"cart-confirm-actions",children:[d.jsx("button",{className:"cart-confirm-cancel",onClick:()=>m(!1),children:"Annuller"}),d.jsx("button",{className:"cart-confirm-danger",onClick:()=>{a(),m(!1)},children:"Ja, tm kurv"})]})]}),e.length===0?d.jsxs("div",{className:"cart-empty-state",children:[d.jsx("div",{className:"cart-empty-icon",children:""}),d.jsx("h2",{className:"cart-empty-title",children:"Din kurv er tom"}),d.jsx("p",{className:"cart-empty-text",children:"Tilfj lkre retter fra menuen for at komme i gang"}),d.jsx(_t,{to:"/menu",className:"cart-empty-cta",children:"Se menu"})]}):d.jsxs("div",{className:"cart-content",children:[d.jsxs("div",{className:"cart-items-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Varer"}),d.jsx("div",{className:"cart-items-list",children:e.map(S=>{const R=S.selectedIngredients?.reduce((O,G)=>O+(G.extraPrice||0),0)||0,j=S.price-R,z=S.price,P=z*S.qty;return d.jsxs("div",{className:"cart-item-card",children:[d.jsx("div",{className:"cart-item-image-wrapper",children:S.image&&d.jsx("img",{src:`./assets/${S.image}`,alt:S.name,className:"cart-item-image",onError:O=>{O.target.src="./assets/pizza-placeholder.jpg"}})}),d.jsxs("div",{className:"cart-item-info",children:[d.jsxs("div",{className:"cart-item-header",children:[d.jsx("h3",{className:"cart-item-name",children:S.name}),d.jsx("button",{className:"cart-item-remove",onClick:()=>s(S.id),"aria-label":"Fjern vare",children:d.jsx(Pa,{})})]}),S.desc&&d.jsx("p",{className:"cart-item-description",children:S.desc}),d.jsxs("div",{className:"cart-item-pricing",children:[d.jsxs("div",{className:"cart-item-base-price",children:[d.jsx("span",{children:"Basispris:"}),d.jsxs("span",{children:[j.toFixed(2)," kr"]})]}),R>0&&d.jsxs("div",{className:"cart-item-extras-price",children:[d.jsx("span",{children:"Tilvalg:"}),d.jsxs("span",{children:["+",R.toFixed(2)," kr"]})]}),d.jsxs("div",{className:"cart-item-unit-price",children:[d.jsx("span",{children:"Pris pr. stk:"}),d.jsxs("strong",{children:[z.toFixed(2)," kr"]})]})]}),S.selectedIngredients&&S.selectedIngredients.length>0&&d.jsxs("div",{className:"cart-item-ingredients",children:[d.jsx("p",{className:"cart-ingredients-label",children:"Tilvalg:"}),d.jsx("div",{className:"cart-ingredients-list",children:S.selectedIngredients.map((O,G)=>d.jsxs("span",{className:"cart-ingredient-tag",children:[O.name,O.extraPrice&&d.jsxs("span",{className:"cart-ingredient-price",children:["+",O.extraPrice.toFixed(2)," kr"]})]},G))})]}),d.jsxs("div",{className:"cart-item-footer",children:[d.jsxs("div",{className:"cart-item-qty",children:[d.jsx("button",{className:"cart-qty-btn",onClick:()=>n(S.id,Math.max(1,S.qty-1)),disabled:S.qty<=1,"aria-label":"Reducer antal",children:""}),d.jsx("span",{className:"cart-qty-value",children:S.qty}),d.jsx("button",{className:"cart-qty-btn",onClick:()=>n(S.id,S.qty+1),"aria-label":"g antal",children:"+"})]}),d.jsxs("div",{className:"cart-item-total",children:[d.jsx("span",{className:"cart-item-total-label",children:"I alt:"}),d.jsxs("span",{className:"cart-item-total-price",children:[P.toFixed(2)," kr"]})]})]})]})]},S.id)})})]}),d.jsxs("div",{className:"cart-summary-section",children:[d.jsx("h2",{className:"cart-section-title",children:"Ordreoversigt"}),d.jsxs("div",{className:"cart-summary-card",children:[d.jsxs("div",{className:"cart-summary-details",children:[d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Antal varer"}),d.jsxs("span",{children:[_," ",_===1?"vare":"varer"]})]}),d.jsxs("div",{className:"cart-summary-row",children:[d.jsx("span",{children:"Subtotal (ekskl. moms)"}),d.jsxs("span",{children:[v.toFixed(2)," kr"]})]}),d.jsxs("div",{className:"cart-summary-row cart-summary-vat",children:[d.jsx("span",{children:"Moms (25%)"}),d.jsxs("span",{children:[g.toFixed(2)," kr"]})]}),d.jsx("div",{className:"cart-summary-divider"}),d.jsxs("div",{className:"cart-summary-total",children:[d.jsx("span",{children:"Total inkl. moms"}),d.jsxs("strong",{children:[l.toFixed(2)," kr"]})]})]}),d.jsxs("div",{className:"cart-summary-actions",children:[d.jsx(_t,{to:"/menu",className:"cart-continue-shopping",children:"Fortst shopping"}),d.jsxs("button",{onClick:()=>t("/checkout"),className:"cart-checkout-btn",children:["G til betaling",d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})]})]})})}async function l5(t){try{return(await p1(Tl(nn,"orders"),{...t,createdAt:yt.now()})).id}catch(e){throw console.error("Error creating order:",e),e}}async function ew(t=!1,e=!1){try{let n=qs(Tl(nn,"orders"));if(t){const l=new Date;l.setHours(0,0,0,0);const u=yt.fromDate(l);n=qs(n,h1("createdAt",">=",u))}n=qs(n,Uf("createdAt","desc"));let a=(await wv(n)).docs.map(l=>({id:l.id,...l.data(),createdAt:l.data().createdAt?.toDate()||new Date}));return e&&(a=a.filter(l=>l.status!=="ready")),a}catch(n){throw console.error("Error fetching orders:",n),n}}async function c5(t,e){try{const n=Bn(nn,"orders",t);await Av(n,{status:e})}catch(n){throw console.error("Error updating order status:",n),n}}function u5(t,e,n=!1,s=!1){try{let a=qs(Tl(nn,"orders"));if(n){const u=new Date;u.setHours(0,0,0,0);const m=yt.fromDate(u);a=qs(a,h1("createdAt",">=",m))}return a=qs(a,Uf("createdAt","desc")),g1(a,u=>{let m=u.docs.map(p=>({id:p.id,...p.data(),createdAt:p.data().createdAt?.toDate()||new Date}));s&&(m=m.filter(p=>p.status!=="ready")),t(m)},u=>{console.error("Error in orders subscription:",u),e&&e(u)})}catch(a){return console.error("Error setting up orders subscription:",a),e&&e(a),()=>{}}}const tw=30,cd=100,ud={lat:55.01206,lon:11.902388},nw=5;function iw(t,e,n,s){const l=(n-t)*(Math.PI/180),u=(s-e)*(Math.PI/180),m=Math.sin(l/2)*Math.sin(l/2)+Math.cos(t*(Math.PI/180))*Math.cos(n*(Math.PI/180))*Math.sin(u/2)*Math.sin(u/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function h5(){const{items:t,total:e,clear:n}=dl(),[s,a]=I.useState(""),[l,u]=I.useState(""),[m,p]=I.useState(""),[g,v]=I.useState(""),[_,S]=I.useState(!1),[R,j]=I.useState("pickup"),[z,P]=I.useState(""),[O,G]=I.useState("card"),[q,pe]=I.useState(!1),se=pf(),[ae]=ZD(),[N,A]=I.useState(!1),[D,V]=I.useState([]),[M,B]=I.useState(""),k=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,Ue=e<cd,[Ve,ee]=I.useState(null),fe=(Q,te="error")=>{ee({message:Q,type:te}),te!=="loading"&&setTimeout(()=>ee(null),4e3)},Ee=R==="delivery"?e+tw:e,De=.25,H=Math.round(e*De/(1+De)),x=e-H;I.useEffect(()=>{const Q=()=>{q&&(pe(!1),ee(null))},te=ye=>{ye.persisted&&q&&(Q(),fe("Bestillingen blev afbrudt. Du kan prve igen.","error"))};return window.addEventListener("popstate",Q),window.addEventListener("pageshow",te),()=>{window.removeEventListener("popstate",Q),window.removeEventListener("pageshow",te)}},[q]),I.useEffect(()=>{const Q=()=>{document.visibilityState==="visible"&&q&&setTimeout(()=>{new URLSearchParams(window.location.search).get("status")||(pe(!1),ee(null))},500)};return document.addEventListener("visibilitychange",Q),()=>document.removeEventListener("visibilitychange",Q)},[q]),I.useEffect(()=>{ae.get("status")==="cancelled"&&(pe(!1),ee(null),fe("Betalingen blev ikke gennemfrt. Du kan prve igen eller vlge en anden betalingsmetode.","error"),se("/checkout",{replace:!0}))},[ae]),I.useEffect(()=>{const Q=localStorage.getItem("checkout_draft");if(Q){const te=JSON.parse(Q);a(te.name||""),u(te.email||""),p(te.phone||""),v(te.address||""),S(te.isAddressValid||!1),j(te.method||"pickup"),P(te.note||"")}A(!0)},[]),I.useEffect(()=>{if(!N)return;const Q={name:s,email:l,phone:m,address:g,isAddressValid:_,method:R,note:z};localStorage.setItem("checkout_draft",JSON.stringify(Q))},[s,l,m,g,_,R,z,N]);async function Y(Q){if(v(Q),B(""),S(!1),Q.length>3){const ye=await(await fetch(`https://api.dataforsyningen.dk/adresser/autocomplete?q=${encodeURIComponent(Q)}`)).json();V(ye)}else V([])}async function re(Q){const te=Q.tekst;v(te),V([]);try{const xe=await(await fetch(`https://api.dataforsyningen.dk/adresser?q=${encodeURIComponent(te)}&per_side=1`)).json();if(xe&&xe.length>0){const we=xe[0],ke=we.adgangsadresse?.adgangspunkt?.koordinater?.[0],Ce=we.adgangsadresse?.adgangspunkt?.koordinater?.[1];if(ke&&Ce){const Ke=iw(ud.lat,ud.lon,Ce,ke);console.log("Calculated Distance:",Ke),Ke>nw?(B(`Beklager, vi leverer ikke til denne adresse (${Ke.toFixed(1)} km vk). Max 5 km.`),S(!1)):Ue?B(`Minimumskb for levering er ${cd} kr.`):(B(""),S(!0))}else console.error("Coordinates (x,y) not found in DAWA response")}}catch(ye){console.error("Error fetching coordinates:",ye)}}const he=Q=>Q.replace(/\D/g,"").slice(0,8).replace(/(\d{2})(?=\d)/g,"$1 ").trim();async function ge(Q){try{const ye=await(await fetch(`https://api.dataforsyningen.dk/adresser?q=${encodeURIComponent(Q)}&per_side=1`)).json();if(ye&&ye.length>0){const xe=ye[0],we=xe.adgangsadresse?.adgangspunkt?.koordinater?.[0]||xe.adgangsadresse?.adgangspunkt?.x,ke=xe.adgangsadresse?.adgangspunkt?.koordinater?.[1]||xe.adgangsadresse?.adgangspunkt?.y;if(we&&ke){const Ce=iw(ud.lat,ud.lon,ke,we);return Ce>nw?(B(`Beklager, vi leverer ikke til denne adresse (${Ce.toFixed(1)} km vk). Max 5 km.`),S(!1),!1):Ue?(B(`Minimumskb for levering er ${cd} kr.`),S(!1),!1):(B(""),S(!0),!0)}}return B("Vi kunne ikke finde adressen. Vlg venligst fra listen."),S(!1),!1}catch(te){return console.error("Validation error:",te),!1}}async function ve(Q,te){const ye=Bn(nn,"orders",Q);return await zf(ye,te,{merge:!0})}async function U(Q){if(Q.preventDefault(),m.replace(/\s/g,"").length!==8){fe("Telefonnummeret skal vre prcis 8 cifre.");return}const ye=l.trim();if(!k.test(ye)){fe("Indtast venligst en gyldig e-mailadresse (f.eks. navn@mail.dk).");return}if(R==="delivery"){let xe=_;if(xe||(ee({message:"Validerer adresse...",type:"loading"}),xe=await ge(g),ee(null)),!xe){fe("Indtast venligst en gyldig adresse inden for 5 km.");return}if(Ue){fe(`Minimumskb for levering er ${cd} kr.`);return}}ee({message:"Vi gr din betaling klar... Vent venligst.",type:"loading"}),pe(!0);try{const xe={items:t,total:Ee,name:s,phone:m,address:R==="delivery"?g:null,method:R,email:ye,note:z,paymentMethod:O,paymentStatus:"pending",status:"pending",createdAt:Date.now()};let we=sessionStorage.getItem("pending_order_id");if(we?(await ve(we,xe),console.log("Re-using existing order ID:",we)):(we=await l5(xe),sessionStorage.setItem("pending_order_id",we)),O==="card")try{const ke=await fetch("https://createcheckoutsession-vbrct6jg2a-ey.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartItems:t.map(Ke=>({price:Ke.stripePriceId,quantity:Ke.qty})),orderId:we,customerEmail:l.trim(),customerName:s.trim()})});if(!ke.ok)throw new Error("Stripe session failed");const Ce=await ke.json();if(Ce.url){window.location.href=Ce.url;return}}catch(ke){console.error("Stripe Error:",ke),fe("Betalingsfejl. Prv venligst igen."),pe(!1);return}else ee({message:"Ordre modtaget! Vi ringer hvis der er noget.",type:"success"}),sessionStorage.removeItem("pending_order_id"),n(),localStorage.removeItem("checkout_draft"),setTimeout(()=>{se("/confirmation/"+we)},2e3)}catch(xe){console.error("General Error:",xe),pe(!1),fe("Der opstod en fejl. Prv venligst igen.")}}return d.jsxs("main",{className:"checkout-page",children:[d.jsxs("div",{className:"checkout-container",children:[d.jsxs("h2",{className:"checkout-title",children:[d.jsx(Gc,{style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Gennemfr bestilling"]}),t.length===0?d.jsxs("div",{className:"checkout-empty",children:[d.jsx("p",{children:"Din kurv er tom "}),d.jsx(_t,{to:"/bestil",className:"checkout-link",children:"Se menuen"})]}):d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("aside",{className:"checkout-summary",children:[d.jsxs("div",{className:"summary-header",children:[d.jsx("h3",{children:"Din bestilling"}),d.jsxs("span",{className:"summary-count",children:[t.length," ",t.length===1?"vare":"varer"]})]}),d.jsx("div",{className:"summary-items",children:t.map(Q=>d.jsxs("div",{className:"summary-item",children:[d.jsx("img",{src:`./assets/${Q.image}`,alt:Q.name,className:"checkout-item-img"}),d.jsxs("div",{className:"summary-item-info",children:[d.jsx("span",{className:"summary-item-name",children:Q.name}),d.jsxs("span",{className:"summary-item-qty",children:["x",Q.qty]}),d.jsx("ul",{className:"summary-item-ingredients-list",children:Q.selectedIngredients?.map((te,ye)=>d.jsxs("li",{children:[te.name,ye!==(Q.selectedIngredients?.length??0)-1&&d.jsx("span",{className:"kommaTecken",children:","})]},ye))})]}),d.jsxs("span",{className:"summary-item-price",children:[(Q.price*Q.qty).toFixed(2)," DKK"]})]},Q.id))}),d.jsxs("div",{className:"summary-total",children:[d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:[x.toFixed(2)," DKK"]})]}),d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Moms (25%)"}),d.jsxs("span",{children:[H.toFixed(2)," DKK"]})]}),R==="delivery"&&d.jsxs("div",{className:"summary-total-row",children:[d.jsx("span",{children:"Leveringsgebyr"}),d.jsxs("span",{children:[tw.toFixed(2)," DKK"]})]}),d.jsxs("div",{className:"summary-total-row summary-total-final",children:[d.jsx("span",{children:"Total"}),d.jsxs("strong",{children:[Ee.toFixed(2)," DKK"]})]})]})]}),d.jsxs("form",{onSubmit:U,className:"checkout-form",children:[d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Kontaktoplysninger"}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[d.jsx(r2,{style:{marginRight:"0.35rem",verticalAlign:"middle"}})," ","Navn"]}),d.jsx("input",{type:"text",required:!0,value:s,onChange:Q=>a(Q.target.value),className:"form-input",placeholder:"Indtast dit navn"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[d.jsx(a2,{style:{marginRight:"0.35rem",verticalAlign:"middle"}})," ","E-mail"]}),d.jsx("input",{type:"email",required:!0,value:l,onChange:Q=>u(Q.target.value),className:"form-input",placeholder:"din@email.dk",onInvalid:Q=>Q.target.setCustomValidity("Indtast venligst en gyldig e-mail"),onInput:Q=>Q.target.setCustomValidity("")})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[d.jsx(jg,{style:{marginRight:"0.35rem",verticalAlign:"middle"}})," ","Telefonnummer"]}),d.jsx("input",{type:"tel",required:!0,value:m,onChange:Q=>p(he(Q.target.value)),className:"form-input",placeholder:"8 cifre (fx 12 34 56 78)",autoComplete:"tel"})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Afhentning eller levering"}),d.jsxs("div",{className:"method-selector",children:[d.jsxs("label",{className:`method-option ${R==="pickup"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"pickup",checked:R==="pickup",onChange:Q=>j(Q.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Afhentning"}),d.jsx("div",{className:"method-desc",children:"Hent selv i butikken"})]})]})]}),d.jsxs("label",{className:`method-option ${R==="delivery"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"method",value:"delivery",checked:R==="delivery",onChange:Q=>j(Q.target.value)}),d.jsxs("div",{className:"method-content",children:[d.jsx("span",{className:"method-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"method-title",children:"Levering"}),d.jsx("div",{className:"method-desc",children:"Vi bringer det til dig"})]})]})]})]}),R==="delivery"&&d.jsxs("div",{className:"form-group",style:{marginTop:"1rem",position:"relative"},children:[d.jsx("label",{className:"form-label",children:"Leveringsadresse"}),d.jsx("input",{type:"text",required:!0,value:g,onChange:Q=>Y(Q.target.value),onBlur:()=>{g.length>5&&!_&&ge(g)},className:"form-input",placeholder:"Sg din adresse...",autoComplete:"off"}),D.length>0&&d.jsx("ul",{className:"address-suggestions",children:D.map((Q,te)=>d.jsx("li",{onClick:()=>re(Q),children:Q.tekst},te))}),M&&d.jsxs("p",{className:"error-message",style:{color:"#ff4d4d",fontSize:"0.85rem",marginTop:"0.5rem",marginBottom:"0"},children:[" ",M]})]})]}),d.jsxs("section",{className:"checkout-section",children:[d.jsx("h3",{className:"checkout-section-title",children:"Betalingsmetode"}),d.jsxs("div",{className:"payment-methods",children:[d.jsxs("label",{className:`payment-method-option ${O==="card"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"card",checked:O==="card",onChange:Q=>G(Q.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"Kort"}),d.jsx("div",{className:"payment-method-desc",children:"Visa / Mastercard"})]})]})]}),d.jsxs("label",{className:`payment-method-option ${O==="cash"?"active":""}`,children:[d.jsx("input",{type:"radio",name:"payment",value:"cash",checked:O==="cash",onChange:Q=>G(Q.target.value)}),d.jsxs("div",{className:"payment-method-content",children:[d.jsx("span",{className:"payment-icon",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"payment-method-title",children:"Kontant"}),d.jsx("div",{className:"payment-method-desc",children:"Betal ved modtagelse"})]})]})]})]})]}),d.jsxs("div",{className:"checkout-actions",children:[d.jsx("button",{type:"button",onClick:()=>se("/cart"),className:"btn-secondary",disabled:q,children:"Tilbage"}),d.jsx("button",{type:"submit",className:"btn-primary",disabled:q,children:q?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"})," Behandler..."]}):d.jsxs(d.Fragment,{children:[" ",O==="card"?"Betal og placer ordre":"Placer ordre"," ",d.jsx(jd,{style:{marginLeft:"0.5rem",verticalAlign:"middle"}})]})})]})]})]})]}),Ve&&d.jsx("div",{className:`notification-overlay ${Ve.type}`,children:d.jsxs("div",{className:"notification-content",children:[d.jsx("div",{className:"notification-icon",children:Ve.type==="loading"?d.jsx("div",{className:"notification-spinner"}):Ve.type==="success"?"":""}),d.jsx("p",{children:Ve.message}),Ve.type!=="loading"&&d.jsx("button",{onClick:()=>ee(null),className:"notification-close",children:"Forstet"})]})})]})}var g_={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var H=new OffscreenCanvas(1,1),x=H.getContext("2d");x.fillRect(0,0,1,1);var Y=H.transferToImageBitmap();x.createPattern(Y,"no-repeat")}catch{return!1}return!0})();function p(){}function g(H){var x=n.exports.Promise,Y=x!==void 0?x:e.Promise;return typeof Y=="function"?new Y(H):(H(p,p),null)}var v=(function(H,x){return{transform:function(Y){if(H)return Y;if(x.has(Y))return x.get(Y);var re=new OffscreenCanvas(Y.width,Y.height),he=re.getContext("2d");return he.drawImage(Y,0,0),x.set(Y,re),re},clear:function(){x.clear()}}})(m,new Map),_=(function(){var H=Math.floor(16.666666666666668),x,Y,re={},he=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(ge){var ve=Math.random();return re[ve]=requestAnimationFrame(function U(Q){he===Q||he+H-1<Q?(he=Q,delete re[ve],ge()):re[ve]=requestAnimationFrame(U)}),ve},Y=function(ge){re[ge]&&cancelAnimationFrame(re[ge])}):(x=function(ge){return setTimeout(ge,H)},Y=function(ge){return clearTimeout(ge)}),{frame:x,cancel:Y}})(),S=(function(){var H,x,Y={};function re(he){function ge(ve,U){he.postMessage({options:ve||{},callback:U})}he.init=function(U){var Q=U.transferControlToOffscreen();he.postMessage({canvas:Q},[Q])},he.fire=function(U,Q,te){if(x)return ge(U,null),x;var ye=Math.random().toString(36).slice(2);return x=g(function(xe){function we(ke){ke.data.callback===ye&&(delete Y[ye],he.removeEventListener("message",we),x=null,v.clear(),te(),xe())}he.addEventListener("message",we),ge(U,ye),Y[ye]=we.bind(null,{data:{callback:ye}})}),x},he.reset=function(){he.postMessage({reset:!0});for(var U in Y)Y[U](),delete Y[U]}}return function(){if(H)return H;if(!s&&l){var he=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{H=new Worker(URL.createObjectURL(new Blob([he])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}re(H)}return H}})(),R={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(H,x){return x?x(H):H}function z(H){return H!=null}function P(H,x,Y){return j(H&&z(H[x])?H[x]:R[x],Y)}function O(H){return H<0?0:Math.floor(H)}function G(H,x){return Math.floor(Math.random()*(x-H))+H}function q(H){return parseInt(H,16)}function pe(H){return H.map(se)}function se(H){var x=String(H).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:q(x.substring(0,2)),g:q(x.substring(2,4)),b:q(x.substring(4,6))}}function ae(H){var x=P(H,"origin",Object);return x.x=P(x,"x",Number),x.y=P(x,"y",Number),x}function N(H){H.width=document.documentElement.clientWidth,H.height=document.documentElement.clientHeight}function A(H){var x=H.getBoundingClientRect();H.width=x.width,H.height=x.height}function D(H){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=H,x}function V(H,x,Y,re,he,ge,ve,U,Q){H.save(),H.translate(x,Y),H.rotate(ge),H.scale(re,he),H.arc(0,0,1,ve,U,Q),H.restore()}function M(H){var x=H.angle*(Math.PI/180),Y=H.spread*(Math.PI/180);return{x:H.x,y:H.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:H.startVelocity*.5+Math.random()*H.startVelocity,angle2D:-x+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:H.color,shape:H.shape,tick:0,totalTicks:H.ticks,decay:H.decay,drift:H.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:H.gravity*3,ovalScalar:.6,scalar:H.scalar,flat:H.flat}}function B(H,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var Y=x.tick++/x.totalTicks,re=x.x+x.random*x.tiltCos,he=x.y+x.random*x.tiltSin,ge=x.wobbleX+x.random*x.tiltCos,ve=x.wobbleY+x.random*x.tiltSin;if(H.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-Y)+")",H.beginPath(),u&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))H.fill(fe(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(ge-re)*.1,Math.abs(ve-he)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var U=Math.PI/10*x.wobble,Q=Math.abs(ge-re)*.1,te=Math.abs(ve-he)*.1,ye=x.shape.bitmap.width*x.scalar,xe=x.shape.bitmap.height*x.scalar,we=new DOMMatrix([Math.cos(U)*Q,Math.sin(U)*Q,-Math.sin(U)*te,Math.cos(U)*te,x.x,x.y]);we.multiplySelf(new DOMMatrix(x.shape.matrix));var ke=H.createPattern(v.transform(x.shape.bitmap),"no-repeat");ke.setTransform(we),H.globalAlpha=1-Y,H.fillStyle=ke,H.fillRect(x.x-ye/2,x.y-xe/2,ye,xe),H.globalAlpha=1}else if(x.shape==="circle")H.ellipse?H.ellipse(x.x,x.y,Math.abs(ge-re)*x.ovalScalar,Math.abs(ve-he)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):V(H,x.x,x.y,Math.abs(ge-re)*x.ovalScalar,Math.abs(ve-he)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var Ce=Math.PI/2*3,Ke=4*x.scalar,lt=8*x.scalar,Tt=x.x,Zt=x.y,nt=5,it=Math.PI/nt;nt--;)Tt=x.x+Math.cos(Ce)*lt,Zt=x.y+Math.sin(Ce)*lt,H.lineTo(Tt,Zt),Ce+=it,Tt=x.x+Math.cos(Ce)*Ke,Zt=x.y+Math.sin(Ce)*Ke,H.lineTo(Tt,Zt),Ce+=it;else H.moveTo(Math.floor(x.x),Math.floor(x.y)),H.lineTo(Math.floor(x.wobbleX),Math.floor(he)),H.lineTo(Math.floor(ge),Math.floor(ve)),H.lineTo(Math.floor(re),Math.floor(x.wobbleY));return H.closePath(),H.fill(),x.tick<x.totalTicks}function k(H,x,Y,re,he){var ge=x.slice(),ve=H.getContext("2d"),U,Q,te=g(function(ye){function xe(){U=Q=null,ve.clearRect(0,0,re.width,re.height),v.clear(),he(),ye()}function we(){s&&!(re.width===a.width&&re.height===a.height)&&(re.width=H.width=a.width,re.height=H.height=a.height),!re.width&&!re.height&&(Y(H),re.width=H.width,re.height=H.height),ve.clearRect(0,0,re.width,re.height),ge=ge.filter(function(ke){return B(ve,ke)}),ge.length?U=_.frame(we):xe()}U=_.frame(we),Q=xe});return{addFettis:function(ye){return ge=ge.concat(ye),te},canvas:H,promise:te,reset:function(){U&&_.cancel(U),Q&&Q()}}}function Ue(H,x){var Y=!H,re=!!P(x||{},"resize"),he=!1,ge=P(x,"disableForReducedMotion",Boolean),ve=l&&!!P(x||{},"useWorker"),U=ve?S():null,Q=Y?N:A,te=H&&U?!!H.__confetti_initialized:!1,ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,xe;function we(Ce,Ke,lt){for(var Tt=P(Ce,"particleCount",O),Zt=P(Ce,"angle",Number),nt=P(Ce,"spread",Number),it=P(Ce,"startVelocity",Number),ei=P(Ce,"decay",Number),X=P(Ce,"gravity",Number),le=P(Ce,"drift",Number),_e=P(Ce,"colors",pe),be=P(Ce,"ticks",Number),Rt=P(Ce,"shapes"),nr=P(Ce,"scalar"),Ei=!!P(Ce,"flat"),Fn=ae(Ce),_s=Tt,Si=[],In=H.width*Fn.x,qn=H.height*Fn.y;_s--;)Si.push(M({x:In,y:qn,angle:Zt,spread:nt,startVelocity:it,color:_e[_s%_e.length],shape:Rt[G(0,Rt.length)],ticks:be,decay:ei,gravity:X,drift:le,scalar:nr,flat:Ei}));return xe?xe.addFettis(Si):(xe=k(H,Si,Q,Ke,lt),xe.promise)}function ke(Ce){var Ke=ge||P(Ce,"disableForReducedMotion",Boolean),lt=P(Ce,"zIndex",Number);if(Ke&&ye)return g(function(it){it()});Y&&xe?H=xe.canvas:Y&&!H&&(H=D(lt),document.body.appendChild(H)),re&&!te&&Q(H);var Tt={width:H.width,height:H.height};U&&!te&&U.init(H),te=!0,U&&(H.__confetti_initialized=!0);function Zt(){if(U){var it={getBoundingClientRect:function(){if(!Y)return H.getBoundingClientRect()}};Q(it),U.postMessage({resize:{width:it.width,height:it.height}});return}Tt.width=Tt.height=null}function nt(){xe=null,re&&(he=!1,e.removeEventListener("resize",Zt)),Y&&H&&(document.body.contains(H)&&document.body.removeChild(H),H=null,te=!1)}return re&&!he&&(he=!0,e.addEventListener("resize",Zt,!1)),U?U.fire(Ce,Tt,nt):we(Ce,Tt,nt)}return ke.reset=function(){U&&U.reset(),xe&&xe.reset()},ke}var Ve;function ee(){return Ve||(Ve=Ue(null,{useWorker:!0,resize:!0})),Ve}function fe(H,x,Y,re,he,ge,ve){var U=new Path2D(H),Q=new Path2D;Q.addPath(U,new DOMMatrix(x));var te=new Path2D;return te.addPath(Q,new DOMMatrix([Math.cos(ve)*he,Math.sin(ve)*he,-Math.sin(ve)*ge,Math.cos(ve)*ge,Y,re])),te}function Ee(H){if(!u)throw new Error("path confetti are not supported in this browser");var x,Y;typeof H=="string"?x=H:(x=H.path,Y=H.matrix);var re=new Path2D(x),he=document.createElement("canvas"),ge=he.getContext("2d");if(!Y){for(var ve=1e3,U=ve,Q=ve,te=0,ye=0,xe,we,ke=0;ke<ve;ke+=2)for(var Ce=0;Ce<ve;Ce+=2)ge.isPointInPath(re,ke,Ce,"nonzero")&&(U=Math.min(U,ke),Q=Math.min(Q,Ce),te=Math.max(te,ke),ye=Math.max(ye,Ce));xe=te-U,we=ye-Q;var Ke=10,lt=Math.min(Ke/xe,Ke/we);Y=[lt,0,0,lt,-Math.round(xe/2+U)*lt,-Math.round(we/2+Q)*lt]}return{type:"path",path:x,matrix:Y}}function De(H){var x,Y=1,re="#000000",he='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof H=="string"?x=H:(x=H.text,Y="scalar"in H?H.scalar:Y,he="fontFamily"in H?H.fontFamily:he,re="color"in H?H.color:re);var ge=10*Y,ve=""+ge+"px "+he,U=new OffscreenCanvas(ge,ge),Q=U.getContext("2d");Q.font=ve;var te=Q.measureText(x),ye=Math.ceil(te.actualBoundingBoxRight+te.actualBoundingBoxLeft),xe=Math.ceil(te.actualBoundingBoxAscent+te.actualBoundingBoxDescent),we=2,ke=te.actualBoundingBoxLeft+we,Ce=te.actualBoundingBoxAscent+we;ye+=we+we,xe+=we+we,U=new OffscreenCanvas(ye,xe),Q=U.getContext("2d"),Q.font=ve,Q.fillStyle=re,Q.fillText(x,ke,Ce);var Ke=1/Y;return{type:"bitmap",bitmap:U.transferToImageBitmap(),matrix:[Ke,0,0,Ke,-ye*Ke/2,-xe*Ke/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=Ue,n.exports.shapeFromPath=Ee,n.exports.shapeFromText=De})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),g_,!1);const d5=g_.exports;g_.exports.create;function f5({orderId:t}){const[e,n]=I.useState(null),[s,a]=I.useState(!0),{clear:l}=dl();I.useEffect(()=>{if(!t)return;a(!0);const m=sessionStorage.getItem(`order:${t}`);m&&(n(JSON.parse(m)),a(!1));const p=Bn(nn,"orders",t),g=g1(p,v=>{if(v.exists()){const _={id:v.id,...v.data()};n(_),sessionStorage.setItem(`order:${t}`,JSON.stringify(_))}else console.error("Ordren blev ikke fundet i systemet.");a(!1)},v=>{console.error("Fejl ved lytning til ordre:",v),a(!1)});return()=>{g(),sessionStorage.removeItem(`order:${t}`)}},[t]);const u=I.useRef(!1);return I.useEffect(()=>{if(!s&&e?.paymentStatus==="paid"&&!u.current){const m=setTimeout(()=>{d5({particleCount:150,spread:70,origin:{y:.6},colors:["#e63946","#f1faee","#a8dadc","#457b9d"]}),u.current=!0,l(),localStorage.removeItem("checkout_draft")},300);return()=>clearTimeout(m)}},[e?.paymentStatus,s]),s?d.jsx("main",{className:"confirmation-page",children:d.jsxs("div",{className:"loader-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:"Henter din ordrebekrftelse..."})]})}):e?d.jsx("main",{className:"confirmation-page",children:d.jsxs("div",{className:"confirmation-card",children:[d.jsxs("header",{className:"confirmation-header",children:[e.paymentMethod==="card"&&(e.paymentStatus==="paid"?d.jsxs("div",{className:"payment-badge success",children:[d.jsx(c2,{className:"confirmation-icon"}),d.jsx("span",{children:"Betaling modtaget"})]}):d.jsx("div",{className:"payment-badge pending",children:" Afventer betaling..."})),(e.paymentMethod==="cash"||e.paymentMethod==="mobilepay")&&d.jsxs("div",{className:"payment-badge manual",children:[" Betales ved"," ",e.method==="delivery"?"levering":"afhentning"]}),d.jsx("h1",{className:"confirmation-title",children:e.paymentStatus==="paid"||e.paymentMethod!=="card"?"Tak! Vi er i gang med din ordre ":"Vi har modtaget din bestilling"}),d.jsxs("p",{className:"confirmation-order-id",children:["Ordrenummer #",e.id]})]}),d.jsxs("section",{className:"confirmation-content",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"confirmation-section-title",children:"Bestilte varer"}),d.jsx("ul",{className:"confirmation-items",children:e.items.map(m=>d.jsxs("li",{className:"confirmation-item",children:[d.jsxs("div",{className:"confirmation-item-details",children:[d.jsxs("span",{className:"confirmation-item-name",children:[m.qty,"  ",m.name]}),d.jsxs("span",{className:"confirmation-item-price",children:[(m.price*m.qty).toFixed(2),",-"]})]}),m.selectedIngredients&&m.selectedIngredients.length>0&&d.jsx("div",{className:"confirmation-item-ingredients",children:m.selectedIngredients.map((p,g)=>d.jsxs("li",{children:[d.jsx("span",{children:p.name}),d.jsx("span",{children:p.extraPrice?`${p.extraPrice.toFixed(2)},-`:""})]},g))})]},m.id))})]}),d.jsxs("div",{className:"confirmation-total",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:[e.total.toFixed(2),",-"]})]}),d.jsxs("div",{className:"confirmation-info",children:[e.method==="delivery"?d.jsxs("p",{children:[" Maden bliver leveret til: ",d.jsx("strong",{children:e.address})]}):d.jsx("p",{children:" Du kan hente din mad hos os om ca. 20 min."}),e.paymentMethod!=="card"&&d.jsxs("p",{className:"payment-reminder",children:["Husk at have ",d.jsxs("strong",{children:[e.total.toFixed(2),",-"]})," klar til"," ",e.paymentMethod==="mobilepay"?"MobilePay":"kontant betaling","."]})]}),d.jsxs("div",{className:"confirmation-actions",children:[d.jsx(_t,{to:"/",className:"confirmation-btn confirmation-btn-primary btn-secondary",children:"Tilbage til menu"}),d.jsx("button",{onClick:()=>window.print(),className:"confirmation-btn confirmation-btn-secondary",children:"Udskriv kvittering"})]})]})]})}):d.jsx("main",{className:"confirmation-page",children:d.jsx("div",{className:"confirmation-error",children:"Ordre ikke fundet."})})}async function m5(){try{console.log("Initializing products in Firebase...");for(const t of uL)await oL({category:t.category,name:t.name,description:t.description,price:t.price,image:t.image,ingredients:t.ingredients||[]}),console.log(`Created product: ${t.name}`);console.log("All products initialized successfully!")}catch(t){throw console.error("Error initializing products:",t),t}}const y_="admin_products",v_="admin_products_lastUpdated",qC="admin_reviews",HC="admin_reviews_lastUpdated",GC="xanthos_mostPopularProductIds",KC="xanthos_mostPopular_lastUpdated";function sw(){try{const t=localStorage.getItem(y_);if(t)return JSON.parse(t)}catch(t){console.error("Error reading products from localStorage:",t)}return null}function Rg(t){try{localStorage.setItem(y_,JSON.stringify(t))}catch(e){console.error("Error saving products to localStorage:",e)}}function p5(){try{const t=localStorage.getItem(v_);if(t)return new Date(t)}catch(t){console.error("Error reading products lastUpdated from localStorage:",t)}return null}function Cg(t){try{localStorage.setItem(v_,t.toISOString())}catch(e){console.error("Error saving products lastUpdated to localStorage:",e)}}function rw(){try{const t=localStorage.getItem(GC);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}}catch(t){console.error("Error reading most popular product IDs from localStorage:",t)}return null}function hd(t){try{localStorage.setItem(GC,JSON.stringify(t))}catch(e){console.error("Error saving most popular product IDs to localStorage:",e)}}function g5(){try{const t=localStorage.getItem(KC);if(t)return new Date(t)}catch(t){console.error("Error reading most popular lastUpdated from localStorage:",t)}return null}function dd(t){try{localStorage.setItem(KC,t.toISOString())}catch(e){console.error("Error saving most popular lastUpdated to localStorage:",e)}}function aw(){try{const t=localStorage.getItem(qC);if(t)return JSON.parse(t).map(n=>({...n,createdAt:new Date(n.createdAt)}))}catch(t){console.error("Error reading reviews from localStorage:",t)}return null}function fd(t){try{localStorage.setItem(qC,JSON.stringify(t))}catch(e){console.error("Error saving reviews to localStorage:",e)}}function y5(){try{const t=localStorage.getItem(HC);if(t)return new Date(t)}catch(t){console.error("Error reading reviews lastUpdated from localStorage:",t)}return null}function md(t){try{localStorage.setItem(HC,t.toISOString())}catch(e){console.error("Error saving reviews lastUpdated to localStorage:",e)}}function v5(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1e3,t.currentTime+.1),e.type="sine",n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}catch(t){console.error("Error playing notification sound:",t)}}function _5(){const[t,e]=I.useState("orders"),[n,s]=I.useState([]),[a,l]=I.useState(!0),[u,m]=I.useState(null),p=I.useRef(new Set),g=I.useRef(null),v=I.useRef(!0),[_,S]=I.useState([]),[R,j]=I.useState(!1),[z,P]=I.useState(!1),[O,G]=I.useState([]),[q,pe]=I.useState(!0),[se,ae]=I.useState(null),[N,A]=I.useState(""),[D,V]=I.useState(null),[M,B]=I.useState(!1),[k,Ue]=I.useState(!1),[Ve,ee]=I.useState([]),[fe,Ee]=I.useState(!1),[De,H]=I.useState([]),[x,Y]=I.useState(!0),[re,he]=I.useState(null),ge=()=>{try{const X=localStorage.getItem("admin_todays_orders");if(!X)return null;const le=JSON.parse(X),_e=new Date(le.date),be=new Date;return _e.getDate()!==be.getDate()||_e.getMonth()!==be.getMonth()||_e.getFullYear()!==be.getFullYear()?null:le.orders}catch(X){return console.error("Error reading today's orders from localStorage:",X),null}},ve=X=>{try{localStorage.setItem("admin_todays_orders",JSON.stringify({date:new Date().toISOString(),orders:X}))}catch(le){console.error("Error saving today's orders to localStorage:",le)}},U=(X,le)=>{try{const _e=ge();if(_e){const be=_e.map(Rt=>Rt.id===X?{...Rt,status:le}:Rt);ve(be),z&&S(be)}}catch(_e){console.error("Error updating stored order status:",_e)}};async function Q(X=!1){try{l(!0),m(null);const le=await ew(!0,!0);s(le),X&&p.current.clear(),le.forEach(_e=>{_e.id&&p.current.add(_e.id)})}catch(le){console.error("Error loading orders:",le),m("Kunne ikke indlse ordrer. Prv venligst igen.")}finally{l(!1)}}async function te(){try{j(!0);const X=ge();if(X&&X.length>0){S(X),j(!1);return}const le=await ew(!0,!1);S(le),ve(le)}catch(X){console.error("Error loading all today's orders:",X),alert("Kunne ikke indlse alle dagens ordrer. Prv venligst igen.")}finally{j(!1)}}async function ye(){try{pe(!0),ae(null);const X=await Fa(),le=p5(),_e=sw();if(_e&&le&&X&&Math.abs(X.getTime()-le.getTime())<1e3){console.log("Using cached products (metadata unchanged)"),G(_e),pe(!1),await xe();return}console.log("Fetching products from Firebase (metadata changed or no cache)");const be=await nu();G(be),Rg(be),X&&Cg(X),await xe()}catch(X){console.error("Error loading products:",X),ae("Kunne ikke indlse produkter. Prv venligst igen.");const le=sw();le&&(console.log("Using cached products as fallback"),G(le))}finally{pe(!1)}}async function xe(){try{const X=rw(),le=g5();if(X&&le){ee(X);const{lastUpdated:_e,productIds:be}=await ll();_e&&_e.getTime()>le.getTime()&&(ee(be),hd(be),dd(_e))}else{const{lastUpdated:_e,productIds:be}=await ll();ee(be),hd(be),_e&&dd(_e)}}catch(X){console.error("Error loading most popular product IDs:",X);const le=rw();le&&ee(le)}}async function we(X){try{Ee(!0);const _e=Ve.includes(X)?Ve.filter(be=>be!==X):[...Ve,X];await Db(_e),ee(_e),hd(_e),dd(new Date)}catch(le){console.error("Error updating most popular products:",le),alert("Kunne ikke opdatere mest populre produkter. Prv venligst igen.")}finally{Ee(!1)}}async function ke(){if(confirm("Er du sikker p, at du vil fjerne alle produkter fra 'Most Popular'?"))try{Ee(!0),await Db([]),ee([]),alert("Alle produkter fjernet fra 'Most Popular'!"),hd([]),dd(new Date)}catch(X){console.error("Error clearing most popular products:",X),alert("Kunne ikke fjerne produkter. Prv venligst igen.")}finally{Ee(!1)}}async function Ce(){try{Y(!0),he(null);const X=await $o(),le=y5(),_e=aw();if(_e&&le&&X&&Math.abs(X.getTime()-le.getTime())<1e3){console.log("Using cached reviews (metadata unchanged)"),H(_e),Y(!1);return}console.log("Fetching reviews from Firebase (metadata changed or no cache)");const be=await Ny(void 0,!0);H(be),fd(be),X&&md(X)}catch(X){console.error("Error loading reviews:",X),he("Kunne ikke indlse anmeldelser. Prv venligst igen.");const le=aw();le&&(console.log("Using cached reviews as fallback"),H(le))}finally{Y(!1)}}I.useEffect(()=>(t==="orders"?(Q(),v.current=!0,g.current=u5(X=>{if(v.current)s(X),X.forEach(le=>{le.id&&p.current.add(le.id)}),v.current=!1,l(!1);else{const le=p.current,_e=X.filter(be=>be.id&&!le.has(be.id));_e.length>0&&(document.hidden||v5(),s(be=>{const Rt=new Set(be.map(Fn=>Fn.id));return[..._e.filter(Fn=>Fn.id&&!Rt.has(Fn.id)),...be].sort((Fn,_s)=>{const Si=In=>In.createdAt instanceof Date?In.createdAt.getTime():In.createdAt&&typeof In.createdAt=="object"&&"toDate"in In.createdAt?In.createdAt.toDate().getTime():new Date(In.createdAt).getTime();return Si(_s)-Si(Fn)})}),_e.forEach(be=>{be.id&&p.current.add(be.id)}))}},X=>{console.error("Error in orders subscription:",X),m("Fejl ved real-time opdatering af ordrer.")},!0,!0)):t==="products"?ye():t==="reviews"&&Ce(),()=>{g.current&&(g.current(),g.current=null)}),[t]),I.useEffect(()=>()=>{g.current&&(g.current(),g.current=null)},[]);async function Ke(){if(confirm("Er du sikker p, at du vil initialisere alle produkter? Dette kan oprette dubletter hvis produkter allerede findes.")){B(!0),Ue(!1),ae(null);try{await m5(),Ue(!0),localStorage.removeItem(y_),localStorage.removeItem(v_),await ye(),setTimeout(()=>Ue(!1),5e3)}catch(X){console.error("Error initializing products:",X),ae("Kunne ikke initialisere produkter. Tjek konsollen for detaljer.")}finally{B(!1)}}}async function lt(X,le){try{await c5(X,le),s(le==="ready"?_e=>_e.filter(be=>be.id!==X):_e=>_e.map(be=>be.id===X?{...be,status:le}:be)),U(X,le),z&&S(_e=>_e.map(be=>be.id===X?{...be,status:le}:be))}catch(_e){console.error("Error updating order status:",_e),alert("Kunne ikke opdatere ordrestatus. Prv venligst igen.")}}async function Tt(X,le){try{await lL(X,le);const _e=O.map(Rt=>Rt.id===X?{...Rt,...le}:Rt);G(_e),Rg(_e);const be=await Fa();be&&Cg(be),V(null),alert("Produkt opdateret med succes!")}catch(_e){console.error("Error updating product:",_e),alert("Kunne ikke opdatere produkt. Prv venligst igen.")}}async function Zt(X){if(confirm("Er du sikker p, at du vil slette dette produkt?"))try{await cL(X);const le=O.filter(be=>be.id!==X);G(le),Rg(le);const _e=await Fa();_e&&Cg(_e),alert("Produkt slettet!")}catch(le){console.error("Error deleting product:",le),alert("Kunne ikke slette produkt. Prv venligst igen.")}}async function nt(X){try{await Qx(X,{approved:!0});const le=De.map(be=>be.id===X?{...be,approved:!0}:be);H(le),fd(le);const _e=await $o();_e&&md(_e),alert("Anmeldelse godkendt!")}catch(le){console.error("Error approving review:",le),alert("Kunne ikke godkende anmeldelse. Prv venligst igen.")}}async function it(X){if(confirm("Er du sikker p, at du vil afvise denne anmeldelse?"))try{await Qx(X,{approved:!1});const le=De.map(be=>be.id===X?{...be,approved:!1}:be);H(le),fd(le);const _e=await $o();_e&&md(_e),alert("Anmeldelse afvist!")}catch(le){console.error("Error rejecting review:",le),alert("Kunne ikke afvise anmeldelse. Prv venligst igen.")}}async function ei(X){if(confirm("Er du sikker p, at du vil slette denne anmeldelse?"))try{await s5(X);const le=De.filter(be=>be.id!==X);H(le),fd(le);const _e=await $o();_e&&md(_e),alert("Anmeldelse slettet!")}catch(le){console.error("Error deleting review:",le),alert("Kunne ikke slette anmeldelse. Prv venligst igen.")}}return d.jsx("main",{className:"admin-page",children:d.jsxs("div",{className:"admin-container",children:[d.jsx("h1",{className:"admin-title",children:"Admin Panel"}),d.jsxs("div",{className:"admin-tabs",children:[d.jsxs("button",{className:`admin-tab ${t==="orders"?"active":""}`,onClick:()=>e("orders"),children:[" Ordrer (",n.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="products"?"active":""}`,onClick:()=>e("products"),children:[" Produkter (",O.length,")"]}),d.jsxs("button",{className:`admin-tab ${t==="reviews"?"active":""}`,onClick:()=>e("reviews"),children:[" Anmeldelser (",De.length,")"]})]}),t==="orders"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Ordre Administration"}),d.jsx("button",{onClick:()=>Q(!0),className:"btn-refresh",disabled:a,children:a?"Indlser...":" Opdater"})]}),d.jsxs("div",{className:"todays-orders-subsection",children:[d.jsxs("div",{className:"todays-orders-header",children:[d.jsxs("h3",{className:"todays-orders-title",children:["Alle Dagens Ordrer (",_.length,")"]}),d.jsxs("div",{className:"todays-orders-actions",children:[z&&d.jsx("button",{onClick:()=>{localStorage.removeItem("admin_todays_orders"),te()},className:"btn-refresh btn-small",disabled:R,children:R?"Indlser...":" Opdater"}),d.jsx("button",{onClick:()=>{z?P(!1):(P(!0),te())},className:"btn-refresh btn-small",disabled:R,children:z?" Skjul":" Vis Alle Dagens Ordrer"})]})]}),z&&d.jsx("div",{children:R?d.jsx("div",{className:"loading-state",children:"Indlser alle dagens ordrer..."}):_.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer i dag endnu."}):d.jsx("div",{className:"orders-list",children:_.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("div",{className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:le=>lt(X.id,le.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{children:X.items.map(le=>d.jsxs("li",{children:[le.qty,"  ",le.name,"  DKK"," ",(le.price*le.qty).toFixed(2)]},le.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})})]}),u&&d.jsx("div",{className:"alert alert-error",children:u}),a?d.jsx("div",{className:"loading-state",children:"Indlser ordrer..."}):n.length===0?d.jsx("div",{className:"empty-state",children:"Ingen ordrer endnu."}):d.jsx("div",{className:"orders-list",children:n.map(X=>d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"order-name",children:X.name}),d.jsxs("div",{className:"order-meta",children:[X.method==="delivery"?" Levering":" Afhentning","  ",X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")]}),d.jsxs("a",{href:`tel:${X.phone}`,className:"order-phone",children:[" ",X.phone]}),X.address&&d.jsxs("div",{className:"order-address",children:[" ",X.address]})]}),d.jsxs("div",{className:"order-actions",children:[d.jsxs("div",{className:"order-total",children:["DKK ",X.total.toFixed(2)]}),d.jsxs("select",{value:X.status,onChange:le=>lt(X.id,le.target.value),className:"status-select",children:[d.jsx("option",{value:"pending",children:" Afventer"}),d.jsx("option",{value:"paid",children:" Betalt"}),d.jsx("option",{value:"making",children:" Tilbereder"}),d.jsx("option",{value:"ready",children:" Klar"}),d.jsx("option",{value:"collected",children:" Afhentet"})]})]})]}),d.jsxs("div",{className:"order-items",children:[d.jsx("strong",{children:"Varer:"}),d.jsx("ul",{className:"order-item-list",children:X.items.map(le=>d.jsxs("li",{children:[d.jsxs("div",{className:"order-item-list-header",children:[d.jsxs("p",{children:[le.qty,"  ",le.name]}),d.jsxs("p",{children:["DKK ",(le.price*le.qty).toFixed(2)]})]}),d.jsx("ul",{className:"item-ingredients-list",children:le.selectedIngredients.map((_e,be)=>d.jsx("li",{children:_e.name},be))})]},le.id))})]}),X.note&&d.jsxs("div",{className:"order-note",children:[d.jsx("strong",{children:"Bemrkning:"})," ",X.note]})]},X.id))})]}),t==="products"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Produkt Administration"}),d.jsx("div",{className:"section-actions",children:d.jsx("button",{onClick:ye,className:"btn-refresh",disabled:q,children:q?"Indlser...":" Opdater"})})]}),k&&d.jsx("div",{className:"alert alert-success",children:" Produkter blev initialiseret med succes!"}),se&&d.jsx("div",{className:"alert alert-error",children:se}),q?d.jsx("div",{className:"loading-state",children:"Indlser produkter..."}):O.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"Ingen produkter endnu."}),d.jsx("button",{onClick:Ke,className:"btn-init",disabled:M,children:M?"Initialiserer...":"Initialiser Produkter"})]}):d.jsxs(d.Fragment,{children:[D&&d.jsx(T5,{product:D,onSave:X=>Tt(D.id,X),onCancel:()=>V(null)}),d.jsxs("div",{className:"most-popular-selector",children:[d.jsxs("div",{className:"most-popular-header",children:[d.jsx("label",{className:"most-popular-label",children:" Mest Populre Produkter:"}),Ve.length>0&&d.jsxs("button",{onClick:ke,className:"btn-clear-popular",disabled:fe,title:"Fjern alle produkter fra Most Popular",children:[" Fjern Alle (",Ve.length,")"]})]}),fe&&d.jsx("div",{className:"saving-indicator",children:"Gemmer..."}),d.jsx("p",{className:"most-popular-info",children:'Vlg produkter der skal vises i "Most Popular" sektionen p menuen. Klik p et produkt for at tilfje/fjerne det.'}),d.jsx("div",{className:"most-popular-products-grid",children:O.map(X=>{const le=Ve.includes(X.id||"");return d.jsxs("div",{className:`most-popular-product-card ${le?"is-popular":""}`,onClick:()=>!fe&&we(X.id),children:[d.jsx("div",{className:"most-popular-product-checkbox",children:le?"":""}),d.jsx("img",{src:`./assets/${X.image}`,alt:X.name,className:"most-popular-product-image"}),d.jsxs("div",{className:"most-popular-product-info",children:[d.jsx("div",{className:"most-popular-product-name",children:X.name}),d.jsx("div",{className:"most-popular-product-category",children:X.category})]})]},X.id)})}),Ve.length>0&&d.jsxs("div",{className:"most-popular-summary",children:[d.jsx("strong",{children:Ve.length})," produkt",Ve.length!==1?"er":"",' valgt til "Most Popular"']})]}),d.jsxs("div",{className:"products-search-container",children:[d.jsx("input",{type:"text",placeholder:" Sg efter produkter (navn, kategori, beskrivelse, tags, ingredienser)...",value:N,onChange:X=>A(X.target.value),className:"products-search-input"}),N&&d.jsx("button",{onClick:()=>A(""),className:"products-search-clear",title:"Ryd sgning",children:""})]}),(()=>{const X=O.filter(le=>{if(!N.trim())return!0;const _e=N.toLowerCase();return[le.name,le.category,le.description,...le.tags||[],...le.ingredients?.map(Rt=>Rt.name)||[]].join(" ").toLowerCase().includes(_e)});return X.length===0&&N?d.jsxs("div",{className:"empty-state",children:[d.jsxs("p",{children:['Ingen produkter fundet for "',N,'"']}),d.jsx("button",{onClick:()=>A(""),className:"btn-refresh",children:"Ryd sgning"})]}):d.jsx("div",{className:"products-grid",children:X.map(le=>d.jsxs("div",{className:"product-card",children:[d.jsxs("div",{className:"product-header",children:[d.jsx("img",{src:`./assets/${le.image}`,alt:le.name}),d.jsxs("div",{children:[d.jsx("div",{className:"product-name",children:le.name}),d.jsx("div",{className:"product-category",children:le.category})]}),d.jsxs("div",{className:"product-price",children:["DKK ",le.price.toFixed(2)]})]}),d.jsx("div",{className:"product-desc",children:le.description}),le.ingredients&&le.ingredients.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tilvalg:"}),d.jsx("ul",{children:le.ingredients.map((_e,be)=>d.jsxs("li",{children:[_e.name,_e.extraPrice&&` (+DKK ${_e.extraPrice})`]},be))})]}),le.tags&&le.tags.length>0&&d.jsxs("div",{className:"product-ingredients",children:[d.jsx("strong",{children:"Tags:"}),d.jsx("ul",{children:le.tags.map((_e,be)=>d.jsx("li",{children:_e},be))})]}),d.jsxs("div",{className:"product-actions",children:[d.jsx("button",{onClick:()=>V(le),className:"btn-edit",children:" Rediger"}),d.jsx("button",{onClick:()=>Zt(le.id),className:"btn-delete",children:" Slet"})]})]},le.id))})})(),N&&d.jsxs("div",{className:"products-search-results-info",children:["Viser"," ",O.filter(X=>{const le=N.toLowerCase();return[X.name,X.category,X.description,...X.tags||[],...X.ingredients?.map(be=>be.name)||[]].join(" ").toLowerCase().includes(le)}).length," ","af ",O.length," produkter"]})]})]}),t==="reviews"&&d.jsxs("section",{className:"admin-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Anmeldelses Administration"}),d.jsx("button",{onClick:Ce,className:"btn-refresh",disabled:x,children:x?"Indlser...":" Opdater"})]}),re&&d.jsx("div",{className:"alert alert-error",children:re}),x?d.jsx("div",{className:"loading-state",children:"Indlser anmeldelser..."}):De.length===0?d.jsx("div",{className:"empty-state",children:"Ingen anmeldelser endnu."}):d.jsx("div",{className:"reviews-list",children:De.map(X=>d.jsxs("div",{className:`review-card-admin ${X.approved===!1?"review-rejected":X.approved===!0?"review-approved":"review-pending"}`,children:[d.jsxs("div",{className:"review-card-header",children:[d.jsxs("div",{className:"review-info",children:[d.jsx("div",{className:"review-author",children:X.author}),d.jsxs("div",{className:"review-rating",children:["".repeat(X.rating),"".repeat(5-X.rating)]}),d.jsx("div",{className:"review-date",children:X.createdAt instanceof Date?X.createdAt.toLocaleString("da-DK"):X.createdAt&&typeof X.createdAt=="object"&&"toDate"in X.createdAt?X.createdAt.toDate().toLocaleString("da-DK"):new Date(X.createdAt).toLocaleString("da-DK")})]}),d.jsx("div",{className:"review-status",children:X.approved===!0?d.jsx("span",{className:"status-badge status-approved",children:" Godkendt"}):X.approved===!1?d.jsx("span",{className:"status-badge status-rejected",children:" Afvist"}):d.jsx("span",{className:"status-badge status-pending",children:" Afventer"})})]}),d.jsxs("div",{className:"review-text-admin",children:['"',X.text,'"']}),d.jsxs("div",{className:"review-actions",children:[X.approved!==!0&&d.jsx("button",{onClick:()=>nt(X.id),className:"btn-approve",children:" Godkend"}),X.approved!==!1&&d.jsx("button",{onClick:()=>it(X.id),className:"btn-reject",children:" Afvis"}),d.jsx("button",{onClick:()=>ei(X.id),className:"btn-delete",children:" Slet"})]})]},X.id))})]})]})})}function T5({product:t,onSave:e,onCancel:n}){const[s,a]=I.useState(t.name),[l,u]=I.useState(t.description),[m,p]=I.useState(t.price.toString()),[g,v]=I.useState(t.category),[_,S]=I.useState(t.image),[R,j]=I.useState(t.tags||[]),[z,P]=I.useState(t.ingredients||[]);function O(se){se.preventDefault(),e({name:s,description:l,price:parseFloat(m),category:g,image:_,tags:R.length>0?R:[],ingredients:z.length>0?z:[]})}function G(){P([...z,{name:"",extraPrice:void 0}])}function q(se){P(z.filter((ae,N)=>N!==se))}function pe(se,ae,N){const A=[...z];A[se]={...A[se],[ae]:ae==="extraPrice"?N===""?void 0:Number(N):N},P(A)}return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-backdrop",onClick:n}),d.jsxs("div",{className:"product-edit-form",children:[d.jsx("h3",{children:"Rediger Produkt"}),d.jsxs("form",{onSubmit:O,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Navn"}),d.jsx("input",{type:"text",value:s,onChange:se=>a(se.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Kategori"}),d.jsxs("select",{value:g,onChange:se=>v(se.target.value),required:!0,children:[d.jsx("option",{value:"Pizza",children:"Pizza"}),d.jsx("option",{value:"Grill",children:"Grill"}),d.jsx("option",{value:"Sides",children:"Sides"}),d.jsx("option",{value:"Drinks",children:"Drinks"})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Beskrivelse"}),d.jsx("textarea",{value:l,onChange:se=>u(se.target.value),required:!0,rows:3})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("div",{className:"form-group-header",children:[d.jsx("label",{children:"Tilvalg (Ingredienser)"}),d.jsx("button",{type:"button",onClick:G,className:"btn-add-small",children:"+ Tilfj tilvalg"})]}),z.length===0?d.jsx("p",{className:"form-hint",children:'Ingen tilvalg tilfjet. Klik p "Tilfj tilvalg" for at tilfje.'}):d.jsx("div",{className:"ingredients-list",children:z.map((se,ae)=>d.jsxs("div",{className:"ingredient-item",children:[d.jsx("input",{type:"text",placeholder:"Navn p tilvalg",value:se.name,onChange:N=>pe(ae,"name",N.target.value),className:"ingredient-name"}),d.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ekstra pris (valgfrit)",value:se.extraPrice||"",onChange:N=>pe(ae,"extraPrice",N.target.value),className:"ingredient-price"}),d.jsx("button",{type:"button",onClick:()=>q(ae),className:"btn-remove",children:""})]},ae))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tags"}),d.jsx("div",{className:"tags-checkbox-group",children:[{value:"vegetarian",label:" Vegetar"},{value:"vegan",label:" Vegansk"},{value:"spicy",label:" Strk"},{value:"glutenfree",label:" Glutenfri"},{value:"halal",label:" Halal"},{value:"popular",label:" Populr"}].map(se=>d.jsxs("label",{className:"tag-checkbox-label",children:[d.jsx("input",{type:"checkbox",value:se.value,checked:R.includes(se.value),onChange:ae=>{ae.target.checked?j([...R,se.value]):j(R.filter(N=>N!==se.value))},className:"tag-checkbox"}),d.jsx("span",{className:"tag-checkbox-text",children:se.label})]},se.value))}),R.length>0&&d.jsxs("div",{className:"selected-tags",children:[d.jsx("strong",{children:"Valgte tags:"})," ",R.join(", ")]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Pris (DKK)"}),d.jsx("input",{type:"number",step:"0.01",value:m,onChange:se=>p(se.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Billede filnavn"}),d.jsx("input",{type:"text",value:_,onChange:se=>S(se.target.value),required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Gem"}),d.jsx("button",{type:"button",onClick:n,className:"btn-cancel",children:"Annuller"})]})]})]})]})}function E5(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Om os"}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Pizza & Grill er en lokal pizzabar og grill med fokus p gode rvarer, hurtig service og hyggelig stemning. Vi bager vores pizzaer i stenovn og griller kd p ben grill, s du fr maksimal smag hver gang."}),d.jsx("p",{className:"mb-3 text-gray-700",children:"Du kan bde spise hjemme, hente selv eller f leveret. Bestil online, og vi gr din mad klar, mens du er p vej  eller srger for hurtig udbringning i lokalomrdet."}),d.jsx("p",{className:"text-gray-700",children:"Har du nsker til allergener, vegetariske muligheder eller strre selskaber, er du altid velkommen til at kontakte os."})]})})}function S5(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Kontakt"}),d.jsx("p",{className:"mb-4 text-gray-700",children:"Har du sprgsml til allergener, levering, strre bestillinger eller bare lyst til at bestille over telefonen? Du er altid velkommen til at kontakte os."}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kontaktoplysninger"}),d.jsxs("p",{className:"text-gray-700",children:["Telefon: ",d.jsx("strong",{children:"70 12 34 56"})]}),d.jsxs("p",{className:"text-gray-700",children:["E-mail: ",d.jsx("strong",{children:"info@pizza-grill.dk"})]}),d.jsxs("p",{className:"text-gray-700",children:["Adresse: ",d.jsx("strong",{children:"Hovedgade 123, 1234 By"})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Skriv til os"}),d.jsxs("form",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Navn"}),d.jsx("input",{className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"E-mail"}),d.jsx("input",{type:"email",className:"w-full p-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-semibold mb-1",children:"Besked"}),d.jsx("textarea",{rows:4,className:"w-full p-2 border rounded"})]}),d.jsx("button",{type:"button",className:"bg-red-600 text-white px-4 py-2 rounded",children:"Send besked"})]})]})]})})}function b5(){return d.jsx("main",{className:"privacy-policy-page",children:d.jsxs("div",{className:"privacy-policy-container",children:[d.jsx("h1",{className:"privacy-policy-title",children:"Privatlivspolitik"}),d.jsxs("p",{className:"privacy-policy-updated",children:["Sidst opdateret: ",new Date().toLocaleDateString("da-DK",{year:"numeric",month:"long",day:"numeric"})]}),d.jsxs("div",{className:"privacy-policy-content",children:[d.jsx("section",{className:"privacy-section",children:d.jsx("p",{className:"privacy-intro",children:'Denne privatlivspolitik forklarer, hvordan Xanthos Pizza & Grill ("vi", "os" eller "vores") indsamler, bruger og beskytter dine personoplysninger, nr du bruger vores hjemmeside og bestiller gennem vores tjenester. Vi respekterer dit privatliv og er forpligtet til at beskytte dine personoplysninger i overensstemmelse med GDPR (Generel Dataforordning).'})}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"1. Hvilke oplysninger indsamler vi?"}),d.jsx("p",{children:"Vi indsamler kun de oplysninger, der er ndvendige for at behandle og levere din bestilling:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Kontaktoplysninger:"})," Navn, telefonnummer, e-mailadresse og leveringsadresse"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Bestillingsoplysninger:"})," Detaljer om dine bestilte produkter, antal og srlige instruktioner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsoplysninger:"})," Betalingsmetode (kort eller MobilePay) - betalingsoplysninger behandles sikkert af vores betalingsudbyder og gemmes aldrig p vores servere"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Tekniske oplysninger:"})," IP-adresse, browser-type og enhedsoplysninger (automatisk indsamlet)"]})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"2. Hvordan bruger vi dine oplysninger?"}),d.jsx("p",{children:"Vi bruger dine personoplysninger til flgende forml:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"At behandle og levere din bestilling"}),d.jsx("li",{children:"At kommunikere med dig vedrrende din bestilling (bekrftelse, opdateringer, problemer)"}),d.jsx("li",{children:"At hndtere betalinger gennem vores betalingsudbydere"}),d.jsx("li",{children:"At opfylde juridiske forpligtelser (f.eks. regnskabsfring)"}),d.jsx("li",{children:"At forbedre vores tjenester og brugeroplevelse"}),d.jsx("li",{children:"At hndtere klager og henvendelser"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"3. Cookies og lokal lagring"}),d.jsx("p",{children:"Vi bruger ikke tracking- eller marketingcookies. Vi bruger kun ndvendige cookies og lokal lagring for at sikre, at hjemmesiden fungerer korrekt:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Session cookies:"})," For at huske din indkbskurv under din besg"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Lokal lagring:"})," For at gemme din kurv, s den ikke forsvinder, hvis du lukker browseren"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Produktcache:"})," For at forbedre indlsningstiden ved at cache produktdata lokalt"]})]}),d.jsx("p",{children:"Du kan til enhver tid slette cookies og lokal lagring gennem dine browserindstillinger. Dette kan pvirke funktionaliteten af hjemmesiden."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"4. Deling af oplysninger"}),d.jsx("p",{children:"Vi deler kun dine oplysninger med:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Betalingsudbydere:"})," For at behandle betalinger (kortoplysninger behandles sikkert og gemmes ikke hos os)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Leveringspartnere:"})," Hvis du vlger levering, deler vi din adresse med vores leveringspartner"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Juridiske myndigheder:"})," Hvis det er pkrvet ved lov eller retslig ordre"]})]}),d.jsx("p",{children:"Vi slger eller udlejer aldrig dine personoplysninger til tredjeparter til markedsfringsforml."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"5. Databehandling og opbevaring"}),d.jsx("p",{children:"Vi opbevarer dine personoplysninger kun s lnge, det er ndvendigt for at:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Opfylde din bestilling og levere tjenesten"}),d.jsx("li",{children:"Opfylde juridiske forpligtelser (f.eks. regnskabsfring i 5 r)"}),d.jsx("li",{children:"Hndtere eventuelle klager eller retskrav"})]}),d.jsx("p",{children:"Efter opbevaringsperioden slettes eller anonymiseres dine personoplysninger sikkert."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"6. Dine rettigheder"}),d.jsx("p",{children:"I henhold til GDPR har du flgende rettigheder:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigt:"})," Du kan anmode om at se, hvilke personoplysninger vi har om dig"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til berigtigelse:"})," Du kan anmode om rettelse af forkerte eller ufuldstndige oplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til sletning:"})," Du kan anmode om sletning af dine personoplysninger (med visse undtagelser)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til dataportabilitet:"})," Du kan anmode om at modtage dine data i et struktureret format"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til indsigelse:"})," Du kan gre indsigelse mod behandling af dine personoplysninger"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Ret til begrnsning:"})," Du kan anmode om begrnsning af behandlingen af dine oplysninger"]})]}),d.jsxs("p",{children:["For at udve disse rettigheder, kontakt os p"," ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"7. Datasikkerhed"}),d.jsx("p",{children:"Vi implementerer passende tekniske og organisatoriske foranstaltninger for at beskytte dine personoplysninger mod uautoriseret adgang, tab, delggelse eller ndring:"}),d.jsxs("ul",{className:"privacy-list",children:[d.jsx("li",{children:"Krypteret datatransmission (HTTPS/SSL)"}),d.jsx("li",{children:"Sikker betalingsbehandling gennem certificerede betalingsudbydere"}),d.jsx("li",{children:"Begrnset adgang til personoplysninger (kun autoriseret personale)"}),d.jsx("li",{children:"Regelmssige sikkerhedsopdateringer og -revisioner"})]})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"8. Brns privatliv"}),d.jsx("p",{children:"Vores tjenester er ikke mlrettet brn under 18 r. Vi indsamler bevidst ikke personoplysninger fra brn. Hvis du er forlder eller vrge og opdager, at dit barn har givet os personoplysninger, kontakt os, s vi kan slette disse oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"9. ndringer i privatlivspolitikken"}),d.jsx("p",{children:"Vi kan opdatere denne privatlivspolitik fra tid til tid. Vsentlige ndringer vil blive meddelt p hjemmesiden eller via e-mail. Vi opfordrer dig til at gennemg denne side jvnligt for at holde dig informeret om, hvordan vi beskytter dine oplysninger."})]}),d.jsxs("section",{className:"privacy-section",children:[d.jsx("h2",{className:"privacy-section-title",children:"10. Kontakt os"}),d.jsx("p",{children:"Hvis du har sprgsml, bekymringer eller nsker at udve dine rettigheder vedrrende denne privatlivspolitik, kan du kontakte os:"}),d.jsxs("div",{className:"privacy-contact",children:[d.jsx("p",{children:d.jsx("strong",{children:"Xanthos Pizza & Grill"})}),d.jsxs("p",{children:["E-mail: ",d.jsx("a",{href:"mailto:info@xanthospizza.dk",className:"privacy-link",children:"info@xanthospizza.dk"})]}),d.jsxs("p",{children:["Telefon: ",d.jsx("a",{href:"tel:+4570123456",className:"privacy-link",children:"70 12 34 56"})]})]}),d.jsx("p",{children:"Du har ogs ret til at klage til Datatilsynet, hvis du mener, at vi behandler dine personoplysninger i strid med gldende lovgivning."})]})]})]})})}function x5(){const t=Ui();return I.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t.pathname]),null}const Pi=({children:t})=>{const e=Ui();return I.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e.pathname]),d.jsx(UC.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},style:{position:"relative",width:"100%"},children:t},e.pathname)};function w5(){const t=Ui();return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(u2,{}),d.jsxs("div",{className:"flex-1 app-bg",children:[d.jsx(x5,{}),d.jsx(LU,{mode:"wait",initial:!1,children:d.jsxs(bD,{location:t,children:[d.jsx(mi,{path:"/",element:d.jsx(Pi,{children:d.jsx(a5,{})})}),d.jsx(mi,{path:"/menu",element:d.jsx(Pi,{children:d.jsx($x,{})})}),d.jsx(mi,{path:"/bestil",element:d.jsx(Pi,{children:d.jsx($x,{})})}),d.jsx(mi,{path:"/om-os",element:d.jsx(Pi,{children:d.jsx(E5,{})})}),d.jsx(mi,{path:"/kontakt",element:d.jsx(Pi,{children:d.jsx(S5,{})})}),d.jsx(mi,{path:"/privacy",element:d.jsx(Pi,{children:d.jsx(b5,{})})}),d.jsx(mi,{path:"/cart",element:d.jsx(Pi,{children:d.jsx(o5,{})})}),d.jsx(mi,{path:"/checkout",element:d.jsx(Pi,{children:d.jsx(h5,{})})}),d.jsx(mi,{path:"/confirmation/:orderId",element:d.jsx(Pi,{children:d.jsx(R5,{})})}),d.jsx(mi,{path:"/admin",element:d.jsx(Pi,{children:d.jsx(_5,{})})}),d.jsx(mi,{path:"*",element:d.jsx(Pi,{children:d.jsx(C5,{})})})]},t.pathname)})]}),d.jsx(h2,{})]})}function A5(){return d.jsx(YD,{basename:"/xantos-pizza-grill/",children:d.jsx(s2,{children:d.jsx(w5,{})})})}function R5(){const t=window.location.pathname.split("/"),e=t[t.length-1];return d.jsx(f5,{orderId:e})}function C5(){return d.jsx("main",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow",children:["Page not found  ",d.jsx(_t,{to:"/",children:"Go home"})]})})}jI.createRoot(document.getElementById("root")).render(d.jsx(I.StrictMode,{children:d.jsx(A5,{})}));
